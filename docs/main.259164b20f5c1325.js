"use strict";(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[179],{2011:(bt,Ce,F)=>{F.d(Ce,{Dh:()=>Ue,GT:()=>ve,cc:()=>$e,on:()=>Re,pX:()=>se,xv:()=>pe});var l=F(4650),V=F(9260);bt=F.hmd(bt);const k=["ngOnDestroy"],se=(ee,Se,me,Ne={})=>new Proxy(ee,{get:(Ae,De)=>me.runOutsideAngular(()=>{var be;if(ee[De])return!(null===(be=Ne?.spy)||void 0===be)&&be.get&&Ne.spy.get(De,ee[De]),ee[De];if(k.indexOf(De)>-1)return()=>{};const Pe=Se.toPromise().then(K=>{const Q=K&&K[De];return"function"==typeof Q?Q.bind(K):Q&&Q.then?Q.then(he=>me.run(()=>he)):me.run(()=>Q)});return new Proxy(()=>{},{get:(K,Q)=>Pe[Q],apply:(K,Q,he)=>Pe.then(He=>{var Me;const St=He&&He(...he);return!(null===(Me=Ne?.spy)||void 0===Me)&&Me.apply&&Ne.spy.apply(De,he,St),St})})})}),ve=(ee,Se)=>{Se.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Ne=>{Object.defineProperty(ee.prototype,Ne,Object.getOwnPropertyDescriptor(me.prototype||me,Ne))})})};class oe{constructor(Se){return Se}}const Ue=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function Re(ee,Se,me){const Ae="object"==typeof me&&me||{};Ae.name=Ae.name||"string"==typeof me&&me||"[DEFAULT]";const be=V.Z.apps.filter(Pe=>Pe&&Pe.name===Ae.name)[0]||Se.runOutsideAngular(()=>V.Z.initializeApp(ee,Ae));try{JSON.stringify(ee)!==JSON.stringify(be.options)&&H("error",`${be.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(be)}const H=(ee,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Se)};function $e(ee,Se,me,Ne,Ae){const[,De,be]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===ee)||[];if(De)return function Oe(ee,Se){try{return ee.toString()===Se.toString()}catch{return ee===Se}}(Ae,be)||(at("error",`${Se} was already initialized on the ${me} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),at("warn",{is:Ae,was:be})),De;{const Pe=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ee,Pe,Ae]),Pe}}const ot=!!bt.hot,at=(ee,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2722:(bt,Ce,F)=>{F.d(Ce,{$:()=>jf,A:()=>j,B:()=>Oe,G:()=>Rf,H:()=>Nn,J:()=>zn,L:()=>U,M:()=>Pf,N:()=>sw,P:()=>Ew,Q:()=>s_,R:()=>Pd,T:()=>ow,U:()=>au,V:()=>Ja,W:()=>Lf,X:()=>Bf,Y:()=>Qr,Z:()=>vd,_:()=>fu,a:()=>rl,a0:()=>a_,a1:()=>Hf,a2:()=>Ft,a3:()=>uw,a4:()=>l_,a5:()=>Gf,a6:()=>u_,a7:()=>ue,a8:()=>c_,a9:()=>d_,aA:()=>B,aB:()=>Ud,aC:()=>$n,aD:()=>Au,aE:()=>pr,aI:()=>$s,aL:()=>Ka,aa:()=>ts,ab:()=>Wf,ac:()=>f_,af:()=>Xo,ag:()=>Vs,ah:()=>Zf,ak:()=>lw,al:()=>Jf,an:()=>gw,ao:()=>Td,ap:()=>he,aq:()=>_t,ar:()=>ct,as:()=>Ne,at:()=>Ts,au:()=>mp,av:()=>pn,aw:()=>Ae,ax:()=>K,ay:()=>$d,az:()=>Me,b:()=>Id,c:()=>Fd,d:()=>ca,e:()=>Iw,f:()=>Ou,g:()=>gp,h:()=>pp,i:()=>np,j:()=>Vd,k:()=>qd,l:()=>_o,m:()=>Sw,o:()=>pe,r:()=>Dw,s:()=>ww,u:()=>HI});var l=F(5861),V=F(2090),k=F(9681),se=F(1877),ve=F(655),oe=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new se.Yd("@firebase/auth");function me(b,...g){Se.logLevel<=se.in.ERROR&&Se.error(`Auth (${k.SDK_VERSION}): ${b}`,...g)}function Ne(b,...g){throw Pe(b,...g)}function Ae(b,...g){return Pe(b,...g)}function De(b,g,_){const w=Object.assign(Object.assign({},ot()),{[g]:_});return new V.LL("auth","Firebase",w).create(g,{appName:b.name})}function be(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ne(b,"argument-error"),De(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return at.create(b,...g)}function K(b,g,..._){if(!b)throw Pe(g,..._)}function Q(b){const g="INTERNAL ASSERTION FAILED: "+b;throw me(g),new Error(g)}function he(b,g){b||Q(g)}const He=new Map;function Me(b){he(b instanceof Function,"Expected a class definition");let g=He.get(b);return g?(he(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,He.set(b,g),g)}function ne(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ae(){return"http:"===ce()||"https:"===ce()}function ce(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Fe{constructor(g,_){this.shortDelay=g,this.longDelay=_,he(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(b,g){he(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Je{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Fe(3e4,6e4);function yt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function rt(b,g,_,w){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(b,g,_,w,S={}){return vn(b,S,(0,l.Z)(function*(){let x={},Z={};w&&("GET"===g?Z=w:x={body:JSON.stringify(w)});const ge=(0,V.xO)(Object.assign({key:b.config.apiKey},Z)).slice(1),Ke=yield b._getAdditionalHeaders();return Ke["Content-Type"]="application/json",b.languageCode&&(Ke["X-Firebase-Locale"]=b.languageCode),Je.fetch()(Zr(b,b.config.apiHost,_,ge),Object.assign({method:g,headers:Ke,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function vn(b,g,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},yn),g);try{const S=new ki(b),x=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const Z=yield x.json();if("needConfirmation"in Z)throw oi(b,"account-exists-with-different-credential",Z);if(x.ok&&!("errorMessage"in Z))return Z;{const ge=x.ok?Z.errorMessage:Z.error.message,[Ke,dt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw oi(b,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ke)throw oi(b,"email-already-in-use",Z);if("USER_DISABLED"===Ke)throw oi(b,"user-disabled",Z);const jt=w[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw De(b,jt,dt);Ne(b,jt)}}catch(S){if(S instanceof V.ZR)throw S;Ne(b,"network-request-failed")}})).apply(this,arguments)}function sn(b,g,_,w){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(b,g,_,w,S={}){const x=yield rt(b,g,_,w,S);return"mfaPendingCredential"in x&&Ne(b,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Zr(b,g,_,w){const S=`${g}${_}?${w}`;return b.config.emulator?Qe(b.config,S):`${b.config.apiScheme}://${S}`}class ki{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Ae(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=Ae(b,g,w);return S.customData._tokenResponse=_,S}function hs(){return(hs=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bn(b,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ut(b,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ei(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ti(){return(Ti=(0,l.Z)(function*(b,g=!1){const _=(0,V.m9)(b),w=yield _.getIdToken(g),S=mt(w);K(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,Z=x?.sign_in_provider;return{claims:S,token:w,authTime:Ei(At(S.auth_time)),issuedAtTime:Ei(At(S.iat)),expirationTime:Ei(At(S.exp)),signInProvider:Z||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function At(b){return 1e3*Number(b)}function mt(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return me("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(_);return S?JSON.parse(S):(me("Failed to decode base64 JWT payload"),null)}catch(S){return me("Caught error parsing JWT payload as JSON",S?.toString()),null}}function fn(b,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof V.ZR&&Ln(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Ln({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ii{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class fr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fi(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),S=yield fn(b,ut(_,{idToken:w}));K(S?.users.length,_,"internal-error");const x=S.users[0];b._notifyReloadListener(x);const Z=null!==(g=x.providerUserInfo)&&void 0!==g&&g.length?er(x.providerUserInfo):[],ge=ai(b.providerData,Z),jt=!!b.isAnonymous&&!(b.email&&x.passwordHash||ge?.length),dn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ge,metadata:new fr(x.createdAt,x.lastLoginAt),isAnonymous:jt};Object.assign(b,dn)})).apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(b){const g=(0,V.m9)(b);yield Fi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ai(b,g){return[...b.filter(w=>!g.some(S=>S.providerId===w.providerId)),...g]}function er(b){return b.map(g=>{var{providerId:_}=g,w=(0,ve._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function fe(){return(fe=(0,l.Z)(function*(b,g){const _=yield vn(b,{},(0,l.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:x}=b.config,Z=Zr(b,S,"/v1/token",`key=${x}`),ge=yield b._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(Z,{method:"POST",headers:ge,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){K(g.idToken,"internal-error"),K(typeof g.idToken<"u","internal-error"),K(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Tt(b){const g=mt(b);return K(g,"internal-error"),K(typeof g.exp<"u","internal-error"),K(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,l.Z)(function*(){return K(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:Z}=yield function Le(b,g){return fe.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(S,x,Number(Z))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:S,expirationTime:x}=_,Z=new Xe;return w&&(K("string"==typeof w,"internal-error",{appName:g}),Z.refreshToken=w),S&&(K("string"==typeof S,"internal-error",{appName:g}),Z.accessToken=S),x&&(K("number"==typeof x,"internal-error",{appName:g}),Z.expirationTime=x),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return Q("not implemented")}}function wt(b,g){K("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Nt{constructor(g){var{uid:_,auth:w,stsTokenManager:S}=g,x=(0,ve._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new fr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const w=yield fn(_,_.stsTokenManager.getToken(_.auth,g));return K(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function hr(b){return Ti.apply(this,arguments)}(this,g)}reload(){return function fs(b){return Ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(K(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Nt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,l.Z)(function*(){let S=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),S=!0),_&&(yield Fi(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield fn(g,function Pi(b,g){return hs.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,S,x,Z,ge,Ke,dt,jt;const dn=null!==(w=_.displayName)&&void 0!==w?w:void 0,Nr=null!==(S=_.email)&&void 0!==S?S:void 0,Gi=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,Ws=null!==(Z=_.photoURL)&&void 0!==Z?Z:void 0,Do=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,Eo=null!==(Ke=_._redirectEventId)&&void 0!==Ke?Ke:void 0,pa=null!==(dt=_.createdAt)&&void 0!==dt?dt:void 0,Kd=null!==(jt=_.lastLoginAt)&&void 0!==jt?jt:void 0,{uid:ga,emailVerified:wp,isAnonymous:Dp,providerData:Jd,stsTokenManager:fl}=_;K(ga&&fl,g,"internal-error");const M_=Xe.fromJSON(this.name,fl);K("string"==typeof ga,g,"internal-error"),wt(dn,g.name),wt(Nr,g.name),K("boolean"==typeof wp,g,"internal-error"),K("boolean"==typeof Dp,g,"internal-error"),wt(Gi,g.name),wt(Ws,g.name),wt(Do,g.name),wt(Eo,g.name),wt(pa,g.name),wt(Kd,g.name);const Qd=new Nt({uid:ga,auth:g,email:Nr,emailVerified:wp,displayName:dn,isAnonymous:Dp,photoURL:Ws,phoneNumber:Gi,tenantId:Do,stsTokenManager:M_,createdAt:pa,lastLoginAt:Kd});return Jd&&Array.isArray(Jd)&&(Qd.providerData=Jd.map(Ep=>Object.assign({},Ep))),Eo&&(Qd._redirectEventId=Eo),Qd}static _fromIdTokenResponse(g,_,w=!1){return(0,l.Z)(function*(){const S=new Xe;S.updateFromServerResponse(_);const x=new Nt({uid:_.localId,auth:g,stsTokenManager:S,isAnonymous:w});return yield Fi(x),x})()}}const U=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,l.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function B(b,g,_){return`firebase:${b}:${g}:${_}`}class z{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:S,name:x}=this.auth;this.fullUserKey=B(this.userKey,S.apiKey,x),this.fullPersistenceKey=B("persistence",S.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Nt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new z(Me(U),g,w);const S=(yield Promise.all(_.map(function(){var dt=(0,l.Z)(function*(jt){if(yield jt._isAvailable())return jt});return function(jt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let x=S[0]||Me(U);const Z=B(w,g.config.apiKey,g.name);let ge=null;for(const dt of _)try{const jt=yield dt._get(Z);if(jt){const dn=Nt._fromJSON(g,jt);dt!==x&&(ge=dn),x=dt;break}}catch{}const Ke=S.filter(dt=>dt._shouldAllowMigration);return x._shouldAllowMigration&&Ke.length?(x=Ke[0],ge&&(yield x._set(Z,ge.toJSON())),yield Promise.all(_.map(function(){var dt=(0,l.Z)(function*(jt){if(jt!==x)try{yield jt._remove(Z)}catch{}});return function(jt){return dt.apply(this,arguments)}}())),new z(x,g,w)):new z(x,g,w)})()}}function L(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ie(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(O(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(We(g))return"Blackberry";if(kt(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||X(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function O(b=(0,V.z$)()){return/firefox\//i.test(b)}function P(b=(0,V.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function X(b=(0,V.z$)()){return/crios\//i.test(b)}function Ie(b=(0,V.z$)()){return/iemobile/i.test(b)}function ct(b=(0,V.z$)()){return/android/i.test(b)}function We(b=(0,V.z$)()){return/blackberry/i.test(b)}function kt(b=(0,V.z$)()){return/webos/i.test(b)}function _t(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function pn(b=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Er(b=(0,V.z$)()){return _t(b)||ct(b)||kt(b)||We(b)||/windows phone/i.test(b)||Ie(b)}function Go(b,g=[]){let _;switch(b){case"Browser":_=L((0,V.z$)());break;case"Worker":_=`${L((0,V.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${w}`}class i_{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=x=>new Promise((Z,ge)=>{try{Z(g(x))}catch(Ke){ge(Ke)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const S of _.queue)yield S(g),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class xf{constructor(g,_,w){this.app=g,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zo(this),this.idTokenSubscription=new zo(this),this.beforeStateQueue=new i_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=Me(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,x;if(!w._deleted&&(w.persistenceManager=yield z.create(w,g),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let x=S,Z=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ge=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Ke=x?._redirectEventId,dt=yield _.tryRedirectSignIn(g);(!ge||ge===Ke)&&dt?.user&&(x=dt.user,Z=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(Z)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ge){x=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ge))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return K(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Fi(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const w=g?(0,V.m9)(g):null;return w&&K(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&K(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Me(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&Me(g)||_._popupRedirectResolver;K(w,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[Me(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,S){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return K(Z,this,"internal-error"),Z.then(()=>x(this.currentUser)),"function"==typeof _?g.addObserver(_,w,S):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function pr(b){return(0,V.m9)(b)}class zo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rf(b,g,_){const w=pr(b);K(w._canInitEmulator,w,"emulator-config-failed"),K(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,x=fd(g),{host:Z,port:ge}=function kf(b){const g=fd(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const x=S[1];return{host:x,port:Za(w.substr(x.length+1))}}{const[x,Z]=w.split(":");return{host:x,port:Za(Z)}}}(g);w.config.emulator={url:`${x}//${Z}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:ge,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Jt(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function fd(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Za(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Nn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Q("not implemented")}_getIdTokenResponse(g){return Q("not implemented")}_linkToIdToken(g,_){return Q("not implemented")}_getReauthenticationResolver(g){return Q("not implemented")}}function Tr(b,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:resetPassword",yt(b,g))})).apply(this,arguments)}function Br(b,g){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function it(b,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",yt(b,g))})).apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPassword",yt(b,g))})).apply(this,arguments)}function Li(b,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:sendOobCode",yt(b,g))})).apply(this,arguments)}function rr(b,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(b,g){return Li(b,g)})).apply(this,arguments)}function nu(b,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(b,g){return Li(b,g)})).apply(this,arguments)}function $t(b,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(b,g){return Li(b,g)})).apply(this,arguments)}function io(b,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(b,g){return Li(b,g)})).apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}class Kr extends Nn{constructor(g,_,w,S=null){super("password",w),this._email=g,this._password=_,this._tenantId=S}static _fromEmailAndPassword(g,_){return new Kr(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Kr(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function On(b,g){return Yr.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Zo(b,g){return ir.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Br(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ru(b,g){return ps.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Jr(b,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithIdp",yt(b,g))})).apply(this,arguments)}class zn extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new zn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ne("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S}=_,x=(0,ve._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new zn(w,S);return Z.idToken=x.idToken||void 0,Z.accessToken=x.accessToken||void 0,Z.secret=x.secret,Z.nonce=x.nonce,Z.pendingToken=x.pendingToken||null,Z}_getIdTokenResponse(g){return Jr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Jr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Jr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,V.xO)(_)}return g}}function pd(b,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:sendVerificationCode",yt(b,g))})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g))})).apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(b,g){const _=yield sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g));if(_.temporaryProof)throw oi(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const rw={USER_NOT_FOUND:"user-not-found"};function ci(){return(ci=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),rw)})).apply(this,arguments)}class gs extends Nn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new gs({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new gs({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function su(b,g){return Yo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function so(b,g){return gr.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ui(b,g){return ci.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:x}=g;return w||_||S||x?new gs({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:x}):null}}class mr{constructor(g){var _,w,S,x,Z,ge;const Ke=(0,V.zd)((0,V.pd)(g)),dt=null!==(_=Ke.apiKey)&&void 0!==_?_:null,jt=null!==(w=Ke.oobCode)&&void 0!==w?w:null,dn=function Ya(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ke.mode)&&void 0!==S?S:null);K(dt&&jt&&dn,"argument-error"),this.apiKey=dt,this.operation=dn,this.code=jt,this.continueUrl=null!==(x=Ke.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(Z=Ke.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ge=Ke.tenantId)&&void 0!==ge?ge:null}static parseLink(g){const _=function ou(b){const g=(0,V.zd)((0,V.pd)(b)).link,_=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(b)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||_||g||b}(g);try{return new mr(_)}catch{return null}}}let Pf=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Kr._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=mr.parseLink(w);return K(S,"argument-error"),Kr._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ms{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ko extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class au extends Ko{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return K("providerId"in _&&"signInMethod"in _,"argument-error"),zn._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return K(g.idToken||g.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return au.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return au.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:x,nonce:Z,providerId:ge}=g;if(!w&&!S&&!_&&!x||!ge)return null;try{return new au(ge)._credential({idToken:_,accessToken:w,nonce:Z,pendingToken:x})}catch{return null}}}let sw=(()=>{class b extends Ko{constructor(){super("facebook.com")}static credential(_){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),s_=(()=>{class b extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ow=(()=>{class b extends Ko{constructor(){super("github.com")}static credential(_){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ka extends Nn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Jr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Jr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Jr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S,pendingToken:x}=_;return w&&S&&x&&w===S?new Ka(w,x):null}static _create(g,_){return new Ka(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ja extends ms{constructor(g){K(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ja.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ja.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ka.fromJSON(g);return K(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Ka._create(w,_)}catch{return null}}}let Lf=(()=>{class b extends Ko{constructor(){super("twitter.com")}static credential(_,w){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function aw(b,g){return gd.apply(this,arguments)}function gd(){return(gd=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signUp",yt(b,g))})).apply(this,arguments)}class Si{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,S=!1){return(0,l.Z)(function*(){const x=yield Nt._fromIdTokenResponse(g,w,S),Z=md(w);return new Si({user:x,providerId:Z,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const S=md(w);return new Si({user:g,providerId:S,_tokenResponse:w,operationType:_})})()}}function md(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Bf(b){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,l.Z)(function*(b){var g;const _=pr(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Si({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield aw(_,{returnSecureToken:!0}),S=yield Si._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Bi extends V.ZR{constructor(g,_,w,S){var x;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Bi.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,S){return new Bi(g,_,w,S)}}function Uf(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Bi._fromErrorAndOperation(b,x,g,w):x})}function oo(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function lw(b,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b);yield Qa(!0,_,g);const{providerUserInfo:w}=yield bn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),S=oo(w||[]);return _.providerData=_.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function uu(b,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,l.Z)(function*(b,g,_=!1){const w=yield fn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Si._forOperation(b,"link",w)})).apply(this,arguments)}function Qa(b,g,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(b,g,_){yield Fi(g);const S=!1===b?"provider-already-linked":"no-such-provider";K(oo(g.providerData).has(_)===b,g.auth,S)})).apply(this,arguments)}function $f(b,g){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(b,g,_=!1){const{auth:w}=b,S="reauthenticate";try{const x=yield fn(b,Uf(w,S,g,b),_);K(x.idToken,w,"internal-error");const Z=mt(x.idToken);K(Z,w,"internal-error");const{sub:ge}=Z;return K(b.uid===ge,w,"user-mismatch"),Si._forOperation(b,S,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ne(w,"user-mismatch"),x}})).apply(this,arguments)}function yd(b,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(b,g,_=!1){const w="signIn",S=yield Uf(b,w,g),x=yield Si._fromIdTokenResponse(b,w,S);return _||(yield b._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Qr(b,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(b,g){return yd(pr(b),g)})).apply(this,arguments)}function vd(b,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b);return yield Qa(!1,_,g.providerId),uu(_,g)})).apply(this,arguments)}function fu(b,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(b,g){return $f((0,V.m9)(b),g)})).apply(this,arguments)}function Ir(b,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithCustomToken",yt(b,g))})).apply(this,arguments)}function jf(b,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,g){const _=pr(b),w=yield Ir(_,{token:g,returnSecureToken:!0}),S=yield Si._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Cr{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?wd._fromServerResponse(g,_):Ne(g,"internal-error")}}class wd extends Cr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new wd(_)}}function lo(b,g,_){var w;K((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),K(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(K(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(K(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function a_(b,g,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S={requestType:"PASSWORD_RESET",email:g};_&&lo(w,S,_),yield nu(w,S)})).apply(this,arguments)}function Hf(b,g,_){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(b,g,_){yield Tr((0,V.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Ft(b,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(b,g){yield it((0,V.m9)(b),{oobCode:g})})).apply(this,arguments)}function uw(b,g){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b),w=yield Tr(_,{oobCode:g}),S=w.requestType;switch(K(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(w.mfaInfo,_,"internal-error");default:K(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=Cr._fromServerResponse(pr(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function l_(b,g){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(b,g){const{data:_}=yield uw((0,V.m9)(b),g);return _.email})).apply(this,arguments)}function Gf(b,g,_){return zf.apply(this,arguments)}function zf(){return(zf=(0,l.Z)(function*(b,g,_){const w=pr(b),S=yield aw(w,{returnSecureToken:!0,email:g,password:_}),x=yield Si._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(x.user),x})).apply(this,arguments)}function u_(b,g,_){return Qr((0,V.m9)(b),Pf.credential(g,_))}function ue(b,g,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S={requestType:"EMAIL_SIGNIN",email:g};K(_.handleCodeInApp,w,"argument-error"),_&&lo(w,S,_),yield $t(w,S)})).apply(this,arguments)}function c_(b,g){return"EMAIL_SIGNIN"===mr.parseLink(g)?.operation}function d_(b,g,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S=Pf.credentialWithLink(g,_||ne());return K(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Qr(w,S)})).apply(this,arguments)}function h_(b,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:createAuthUri",yt(b,g))})).apply(this,arguments)}function ts(b,g){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(b,g){const w={identifier:g,continueUri:ae()?ne():"http://localhost"},{signinMethods:S}=yield h_((0,V.m9)(b),w);return S||[]})).apply(this,arguments)}function Wf(b,g){return qf.apply(this,arguments)}function qf(){return(qf=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&lo(_.auth,S,g);const{email:x}=yield rr(_.auth,S);x!==b.email&&(yield b.reload())})).apply(this,arguments)}function f_(b,g,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&lo(w.auth,x,_);const{email:Z}=yield io(w.auth,x);Z!==b.email&&(yield b.reload())})).apply(this,arguments)}function Vr(b,g){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xo(b,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,V.m9)(b),x={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Z=yield fn(w,Vr(w.auth,x));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const ge=w.providerData.find(({providerId:Ke})=>"password"===Ke);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Vs(b,g){return _u((0,V.m9)(b),g,null)}function Zf(b,g){return _u((0,V.m9)(b),null,g)}function _u(b,g,_){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,l.Z)(function*(b,g,_){const{auth:w}=b,x={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(x.email=g),_&&(x.password=_);const Z=yield fn(b,Br(w,x));yield b._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Us{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class tl extends Us{constructor(g,_,w,S){super(g,_,w),this.username=S}}class p_ extends Us{constructor(g,_){super(g,"facebook.com",_)}}class Kf extends tl{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class dw extends Us{constructor(g,_){super(g,"google.com",_)}}class g_ extends tl{constructor(g,_,w){super(g,"twitter.com",_,w)}}function Jf(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function cw(b){var g,_;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},x=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const Z=null===(_=null===(g=mt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Z)return new Us(x,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new p_(x,S);case"github.com":return new Kf(x,S);case"google.com":return new dw(x,S);case"twitter.com":return new g_(x,S,b.screenName||null);case"custom":case"anonymous":return new Us(x,null);default:return new Us(x,w,S)}}(_)}class cn{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new cn("enroll",g,_)}static _fromMfaPendingCredential(g){return new cn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return cn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return cn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Qf{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=pr(g),S=_.customData._serverResponse,x=(S.mfaInfo||[]).map(ge=>Cr._fromServerResponse(w,ge));K(S.mfaPendingCredential,w,"internal-error");const Z=cn._fromMfaPendingCredential(S.mfaPendingCredential);return new Qf(Z,x,function(){var ge=(0,l.Z)(function*(Ke){const dt=yield Ke._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const jt=Object.assign(Object.assign({},S),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(_.operationType){case"signIn":const dn=yield Si._fromIdTokenResponse(w,_.operationType,jt);return yield w._updateCurrentUser(dn.user),dn;case"reauthenticate":return K(_.user,w,"internal-error"),Si._forOperation(_.user,_.operationType,jt);default:Ne(w,"internal-error")}});return function(Ke){return ge.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function gw(b,g){var _;const w=(0,V.m9)(b),S=g;return K(g.customData.operationType,w,"argument-error"),K(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Qf._fromError(w,S)}function mw(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:start",yt(b,g))}class Xf{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Cr._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Xf(g)}getSession(){var g=this;return(0,l.Z)(function*(){return cn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,l.Z)(function*(){const S=g,x=yield w.getSession(),Z=yield fn(w.user,S._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,S=yield _.user.getIdToken();try{const x=yield fn(_.user,function yw(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(b,g))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Z})=>Z!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const nl=new WeakMap;function Td(b){const g=(0,V.m9)(b);return nl.has(g)||nl.set(g,Xf._fromUser(g)),nl.get(g)}const co="__sak";class ea{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(co,"1"),this.storage.removeItem(co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Id=(()=>{class b extends ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ta(){const b=(0,V.z$)();return P(b)||_t(b)}()&&function tu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Er(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),x=this.localCache[w];S!==x&&_(w,x,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ge,Ke,dt)=>{this.notifyListeners(ge,dt)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(S);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const x=()=>{const ge=this.storage.getItem(S);!w&&this.localCache[S]===ge||this.notifyListeners(S,ge)},Z=this.storage.getItem(S);!function Pt(){return(0,V.w1)()&&10===document.documentMode}()||Z===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,x=this;return(0,l.Z)(function*(){yield S().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const x=yield w().call(S,_);return S.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),rl=(()=>{class b extends ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let b_=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const S=_,{eventId:x,eventType:Z,data:ge}=S.data,Ke=w.handlersMap[Z];if(!Ke?.size)return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:Z});const dt=Array.from(Ke).map(function(){var dn=(0,l.Z)(function*(Nr){return Nr(S.origin,ge)});return function(Nr){return dn.apply(this,arguments)}}()),jt=yield function vw(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(dt);S.ports[0].postMessage({status:"done",eventId:x,eventType:Z,response:jt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function $s(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class Cd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var S=this;return(0,l.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let Z,ge;return new Promise((Ke,dt)=>{const jt=$s("",20);x.port1.start();const dn=setTimeout(()=>{dt(new Error("unsupported_event"))},w);ge={messageChannel:x,onMessage(Nr){const Gi=Nr;if(Gi.data.eventId===jt)switch(Gi.data.status){case"ack":clearTimeout(dn),Z=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ke(Gi.data.response);break;default:clearTimeout(dn),clearTimeout(Z),dt(new Error("invalid_response"))}}},S.handlers.add(ge),x.port1.addEventListener("message",ge.onMessage),S.target.postMessage({eventType:g,eventId:jt,data:_},[x.port2])}).finally(()=>{ge&&S.removeMessageHandler(ge)})})()}}function qn(){return window}function js(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function bs(){return(bs=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const na="firebaseLocalStorageDb",ho="firebaseLocalStorage",wu="fbase_key";class Hs{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function il(b,g){return b.transaction([ho],g?"readwrite":"readonly").objectStore(ho)}function ra(){const b=indexedDB.open(na,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(ho,{keyPath:wu})}catch(S){_(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(ho)?g(w):(w.close(),yield function Nd(){const b=indexedDB.deleteDatabase(na);return new Hs(b).toPromise()}(),g(yield ra()))}))})}function Du(b,g,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(b,g,_){const w=il(b,!0).put({[wu]:g,value:_});return new Hs(w).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(b,g){const _=il(b,!1).get(g),w=yield new Hs(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Eu(b,g){const _=il(b,!0).delete(g);return new Hs(_).toPromise()}const np=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ra()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(S++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return js()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=b_._getInstance(function Ad(){return js()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(S,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function Sd(){return bs.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cd(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(S=x[0])&&void 0!==S&&S.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function bu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ra();return yield Du(_,co,"1"),yield Eu(_,co),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(x=>Du(x,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(x=>function ep(b,g){return fo.apply(this,arguments)}(x,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>Eu(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(Z=>{const ge=il(Z,!1).getAll();return new Hs(ge).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:Z,value:ge}of w)x.add(Z),JSON.stringify(_.localCache[Z])!==JSON.stringify(ge)&&(_.notifyListeners(Z,ge),S.push(Z));for(const Z of Object.keys(_.localCache))_.localCache[Z]&&!x.has(Z)&&(_.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function rp(b,g){return rt(b,"POST","/v2/accounts/mfaSignIn:start",yt(b,g))}function xd(){return(xd=(0,l.Z)(function*(b){return(yield rt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ia(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=S=>{const x=Ae("internal-error");x.customData=S,_(x)},w.type="text/javascript",w.charset="UTF-8",function bw(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function po(b){return`__${b}${Math.floor(1e6*Math.random())}`}const sl=1e12;class go{constructor(g){this.auth=g,this.counter=sl,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new E_(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||sl;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||sl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(g||sl))||void 0===w||w.execute(),""})()}}class E_{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;K(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rd(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sa=po("rcb"),op=new Fe(3e4,6e4);class lp{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return K(function oa(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(qn().grecaptcha):new Promise((w,S)=>{const x=qn().setTimeout(()=>{S(Ae(g,"network-request-failed"))},op.get());qn()[sa]=()=>{qn().clearTimeout(x),delete qn()[sa];const ge=qn().grecaptcha;if(!ge)return void S(Ae(g,"internal-error"));const Ke=ge.render;ge.render=(dt,jt)=>{const dn=Ke(dt,jt);return this.counter++,dn},this.hostLanguage=_,w(ge)},ia(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:sa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),S(Ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=qn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ol{load(g){return(0,l.Z)(function*(){return new go(g)})()}clearedOneInstance(){}}const mo="recaptcha",kd={theme:"light",type:"image"};class Pd{constructor(g,_=Object.assign({},kd),w){this.parameters=_,this.type=mo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(w),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ol:new lp,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const Z=ge=>{ge&&(g.tokenChangeListeners.delete(Z),x(ge))};g.tokenChangeListeners.add(Z),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=qn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){K(ae()&&!js(),g.auth,"internal-error"),yield function aa(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Tu(b){return xd.apply(this,arguments)}(g.auth);K(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class T_{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=gs._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function ww(b,g,_){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(b,g,_){const w=pr(b),S=yield Cu(w,g,(0,V.m9)(_));return new T_(S,x=>Qr(w,x))})).apply(this,arguments)}function _o(b,g,_){return up.apply(this,arguments)}function up(){return(up=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);yield Qa(!1,w,"phone");const S=yield Cu(w.auth,g,(0,V.m9)(_));return new T_(S,x=>vd(w,x))})).apply(this,arguments)}function Dw(b,g,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S=yield Cu(w.auth,g,(0,V.m9)(_));return new T_(S,x=>fu(w,x))})).apply(this,arguments)}function Cu(b,g,_){return I_.apply(this,arguments)}function I_(){return(I_=(0,l.Z)(function*(b,g,_){var w;const S=yield _.verify();try{let x;if(K("string"==typeof S,b,"argument-error"),K(_.type===mo,b,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const Z=x.session;if("phoneNumber"in x)return K("enroll"===Z.type,b,"internal-error"),(yield mw(b,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===Z.type,b,"internal-error");const ge=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return K(ge,b,"missing-multi-factor-info"),(yield rp(b,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield pd(b,{phoneNumber:x.phoneNumber,recaptchaToken:S});return Z}}finally{_._reset()}})).apply(this,arguments)}function HI(b,g){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(b,g){yield uu((0,V.m9)(b),g)})).apply(this,arguments)}let Ew=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=pr(_)}verifyPhoneNumber(_,w){return Cu(this.auth,_,(0,V.m9)(w))}static credential(_,w){return gs._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?gs._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function al(b,g){return g?Me(g):(K(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Vn extends Nn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Jr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Jr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Jr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function cp(b){return yd(b.auth,new Vn(b),b.bypassAuthState)}function Su(b){const{auth:g,user:_}=b;return K(_,g,"internal-error"),$f(_,new Vn(b),b.bypassAuthState)}function Tw(b){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return K(_,g,"internal-error"),uu(_,new Vn(b),b.bypassAuthState)})).apply(this,arguments)}class yo{constructor(g,_,w,S,x=!1){this.auth=g,this.resolver=w,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(w,S){g.pendingPromise={resolve:w,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:x,tenantId:Z,error:ge,type:Ke}=g;if(ge)return void _.reject(ge);const dt={auth:_.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ke)(dt))}catch(jt){_.reject(jt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return cp;case"linkViaPopup":case"linkViaRedirect":return Tw;case"reauthViaPopup":case"reauthViaRedirect":return Su;default:Ne(this.auth,"internal-error")}}resolve(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const C_=new Fe(2e3,1e4);function Fd(b,g,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(b,g,_){const w=pr(b);be(b,g,ms);const S=al(w,_);return new Sr(w,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function Iw(b,g,_){return S_.apply(this,arguments)}function S_(){return(S_=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,ms);const S=al(w.auth,_);return new Sr(w.auth,"reauthViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}function ca(b,g,_){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,ms);const S=al(w.auth,_);return new Sr(w.auth,"linkViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}let Sr=(()=>{class b extends yo{constructor(_,w,S,x,Z){super(_,w,x,Z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return K(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const w=$s();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Ae(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,C_.get())};_()}}return b.currentPopupAction=null,b})();const Zt=new Map;class vo extends yo{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=Zt.get(_.auth._key());if(!w){try{const x=(yield function lt(b,g){return Yt.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(x)}catch(S){w=()=>Promise.reject(S)}Zt.set(_.auth._key(),w)}return _.bypassAuthState||Zt.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const S=yield w.auth._redirectUserForId(g.eventId);if(S)return w.user=S,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Yt(){return(Yt=(0,l.Z)(function*(b,g){const _=Nu(g),w=fp(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function Un(b,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(b,g){return fp(b)._set(Nu(g),"true")})).apply(this,arguments)}function Au(){Zt.clear()}function $n(b,g){Zt.set(b._key(),g)}function fp(b){return Me(b._redirectPersistence)}function Nu(b){return B("pendingRedirect",b.config.apiKey,b.name)}function Ou(b,g,_){return function Bd(b,g,_){return Gs.apply(this,arguments)}(b,g,_)}function Gs(){return(Gs=(0,l.Z)(function*(b,g,_){const w=pr(b);be(b,g,ms),yield w._initializationPromise;const S=al(w,_);return yield Un(S,w),S._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function pp(b,g,_){return function Vi(b,g,_){return Ye.apply(this,arguments)}(b,g,_)}function Ye(){return(Ye=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,ms),yield w.auth._initializationPromise;const S=al(w.auth,_);yield Un(S,w.auth);const x=yield da(w);return S._openRedirect(w.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function gp(b,g,_){return function ll(b,g,_){return zs.apply(this,arguments)}(b,g,_)}function zs(){return(zs=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,ms),yield w.auth._initializationPromise;const S=al(w.auth,_);yield Qa(!1,w,g.providerId),yield Un(S,w.auth);const x=yield da(w);return S._openRedirect(w.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function Vd(b,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(b,g){return yield pr(b)._initializationPromise,Ud(b,g,!1)})).apply(this,arguments)}function Ud(b,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(b,g,_=!1){const w=pr(b),S=al(w,g),Z=yield new vo(w,S,_).execute();return Z&&!_&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,g)),Z})).apply(this,arguments)}function da(b){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(b){const g=$s(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class $d{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ru(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ni(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Ni(g)){const S=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Ae(this.auth,S))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bo(g))}saveEventToCache(g){this.cachedEventUids.add(bo(g)),this.lastProcessedEventTime=Date.now()}}function bo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ni({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function mp(b){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(b,g={}){return rt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const ws=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$i=/^https?/;function Tn(){return(Tn=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield mp(b);for(const _ of g)try{if(_p(_))return}catch{}Ne(b,"unauthorized-domain")})).apply(this,arguments)}function _p(b){const g=ne(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const Z=new URL(b);return""===Z.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Z.hostname===w}if(!$i.test(_))return!1;if(ws.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const ku=new Fe(3e4,6e4);function mn(){const b=qn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ji=null;function on(b){return ji=ji||function hn(b){return new Promise((g,_)=>{var w,S,x;function Z(){mn(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{mn(),_(Ae(b,"network-request-failed"))},timeout:ku.get()})}if(null!==(S=null===(w=qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(x=qn().gapi)||void 0===x||!x.load){const ge=po("iframefcb");return qn()[ge]=()=>{gapi.load?Z():_(Ae(b,"network-request-failed"))},ia(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ke=>_(Ke))}Z()}}).catch(g=>{throw ji=null,g})}(b),ji}const Ar=new Fe(5e3,15e3),Cw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ds=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wo(b){const g=b.config;K(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Qe(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:k.SDK_VERSION},S=Ds.get(b.config.apiHost);S&&(w.eid=S);const x=b._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,V.xO)(w).slice(1)}`}function Es(){return Es=(0,l.Z)(function*(b){const g=yield on(b),_=qn().gapi;return K(_,b,"internal-error"),g.open({where:document.body,url:wo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cw,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(x,Z){yield w.restyle({setHideOnLeave:!1});const ge=Ae(b,"network-request-failed"),Ke=qn().setTimeout(()=>{Z(ge)},Ar.get());function dt(){qn().clearTimeout(Ke),x(w)}w.ping(dt).then(dt,()=>{Z(ge)})});return function(x,Z){return S.apply(this,arguments)}}()))}),Es.apply(this,arguments)}const A_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ts(b,g,_,w,S,x){K(b.config.authDomain,b,"auth-domain-config-required"),K(b.config.apiKey,b,"invalid-api-key");const Z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:k.SDK_VERSION,eventId:S};if(g instanceof ms){g.setDefaultLanguage(b.languageCode),Z.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(Z.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ke,dt]of Object.entries(x||{}))Z[Ke]=dt}if(g instanceof Ko){const Ke=g.getScopes().filter(dt=>""!==dt);Ke.length>0&&(Z.scopes=Ke.join(","))}b.tenantId&&(Z.tid=b.tenantId);const ge=Z;for(const Ke of Object.keys(ge))void 0===ge[Ke]&&delete ge[Ke];return`${function zd({config:b}){return b.emulator?Qe(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,V.xO)(ge).slice(1)}`}const Wd="webStorageSupport",qd=class ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rl,this._completeRedirectFn=Ud,this._overrideRedirectResult=$n}_openPopup(g,_,w,S){var x=this;return(0,l.Z)(function*(){var Z;he(null===(Z=x.eventManagers[g._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ge=Ts(g,_,w,ne(),S);return function Oi(b,g,_,w=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const Ke=Object.assign(Object.assign({},A_),{width:w.toString(),height:S.toString(),top:x,left:Z}),dt=(0,V.z$)().toLowerCase();_&&(ge=X(dt)?"_blank":_),O(dt)&&(g=g||"http://localhost",Ke.scrollbars="yes");const jt=Object.entries(Ke).reduce((Nr,[Gi,Ws])=>`${Nr}${Gi}=${Ws},`,"");if(function tr(b=(0,V.z$)()){var g;return _t(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(dt)&&"_self"!==ge)return function Lt(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ge),new cl(null);const dn=window.open(g||"",ge,jt);K(dn,b,"popup-blocked");try{dn.focus()}catch{}return new cl(dn)}(g,ge,$s())})()}_openRedirect(g,_,w,S){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(g),function vu(b){qn().location.href=b}(Ts(g,_,w,ne(),S)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:S,promise:x}=this.eventManagers[_];return S?Promise.resolve(S):(he(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const w=yield function Zn(b){return Es.apply(this,arguments)}(g),S=new $d(g);return w.register("authEvent",x=>(K(x?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:S},_.iframes[g._key()]=w,S})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Wd,{type:Wd},S=>{var x;const Z=null===(x=S?.[0])||void 0===x?void 0:x[Wd];void 0!==Z&&_(!!Z),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function jd(b){return Tn.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Er()||P()||_t()}};class Zd{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return Q("unexpected MultiFactorSessionType")}}}class Fu extends Zd{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Fu(g)}_finalizeEnroll(g,_,w){return function _w(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:finalize",yt(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ip(b,g){return rt(b,"POST","/v2/accounts/mfaSignIn:finalize",yt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sw=(()=>{class b{constructor(){}static assertion(_){return Fu._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var tn="@firebase/auth";class hl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function _r(b){(0,k._registerComponent)(new oe.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),{apiKey:x,authDomain:Z}=w.options;return((ge,Ke)=>{K(x&&!x.includes(":"),"invalid-api-key",{appName:ge.name}),K(!Z?.includes(":"),"argument-error",{appName:ge.name});const dt={apiKey:x,authDomain:Z,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Go(b)},jt=new xf(ge,Ke,dt);return function nt(b,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Me);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(jt,_),jt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new oe.wA("auth-internal",g=>{const _=pr(g.getProvider("auth").getImmediate());return new hl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(tn,"0.21.3",function Yd(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(tn,"0.21.3","esm2017")}("Browser")},2090:(bt,Ce,F)=>{F.d(Ce,{$s:()=>Xe,BH:()=>De,G6:()=>ce,L:()=>pe,LL:()=>yn,P0:()=>me,Pz:()=>Ae,Sg:()=>be,UG:()=>Q,US:()=>oe,ZB:()=>j,ZR:()=>Je,aH:()=>Ne,b$:()=>Me,eu:()=>ke,hl:()=>Ee,jU:()=>he,m9:()=>zt,ne:()=>Ti,pd:()=>dr,r3:()=>ki,ru:()=>He,tV:()=>Re,uI:()=>K,vZ:()=>bn,w1:()=>nt,xO:()=>Lr,xb:()=>Pi,z$:()=>Pe,zI:()=>Fe,zd:()=>Ei});const se=function(U){const B=[];let z=0;for(let L=0;L<U.length;L++){let O=U.charCodeAt(L);O<128?B[z++]=O:O<2048?(B[z++]=O>>6|192,B[z++]=63&O|128):55296==(64512&O)&&L+1<U.length&&56320==(64512&U.charCodeAt(L+1))?(O=65536+((1023&O)<<10)+(1023&U.charCodeAt(++L)),B[z++]=O>>18|240,B[z++]=O>>12&63|128,B[z++]=O>>6&63|128,B[z++]=63&O|128):(B[z++]=O>>12|224,B[z++]=O>>6&63|128,B[z++]=63&O|128)}return B},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,B){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let O=0;O<U.length;O+=3){const P=U[O],X=O+1<U.length,Ie=X?U[O+1]:0,ct=O+2<U.length,We=ct?U[O+2]:0;let pn=(15&Ie)<<2|We>>6,tr=63&We;ct||(tr=64,X||(pn=64)),L.push(z[P>>2],z[(3&P)<<4|Ie>>4],z[pn],z[tr])}return L.join("")},encodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(U):this.encodeByteArray(se(U),B)},decodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(U):function(U){const B=[];let z=0,L=0;for(;z<U.length;){const O=U[z++];if(O<128)B[L++]=String.fromCharCode(O);else if(O>191&&O<224){const P=U[z++];B[L++]=String.fromCharCode((31&O)<<6|63&P)}else if(O>239&&O<365){const ct=((7&O)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;B[L++]=String.fromCharCode(55296+(ct>>10)),B[L++]=String.fromCharCode(56320+(1023&ct))}else{const P=U[z++],X=U[z++];B[L++]=String.fromCharCode((15&O)<<12|(63&P)<<6|63&X)}}return B.join("")}(this.decodeStringToByteArray(U,B))},decodeStringToByteArray(U,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let O=0;O<U.length;){const P=z[U.charAt(O++)],Ie=O<U.length?z[U.charAt(O)]:0;++O;const We=O<U.length?z[U.charAt(O)]:64;++O;const _t=O<U.length?z[U.charAt(O)]:64;if(++O,null==P||null==Ie||null==We||null==_t)throw Error();L.push(P<<2|Ie>>4),64!==We&&(L.push(Ie<<4&240|We>>2),64!==_t&&L.push(We<<6&192|_t))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},pe=function(U){return function(U){const B=se(U);return oe.encodeByteArray(B,!0)}(U).replace(/\./g,"")},Re=function(U){try{return oe.decodeString(U,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function j(U,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!q(z)||(U[z]=j(U[z],B[z]));return U}function q(U){return"__proto__"!==U}const ee=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=U&&Re(U[1]);return B&&JSON.parse(B)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},me=U=>{const B=(U=>{var B,z;return null===(z=null===(B=ee())||void 0===B?void 0:B.emulatorHosts)||void 0===z?void 0:z[U]})(U);if(!B)return;const z=B.lastIndexOf(":");if(z<=0||z+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const L=parseInt(B.substring(z+1),10);return"["===B[0]?[B.substring(1,z-1),L]:[B.substring(0,z),L]},Ne=()=>{var U;return null===(U=ee())||void 0===U?void 0:U.config},Ae=U=>{var B;return null===(B=ee())||void 0===B?void 0:B[`_${U}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,L)=>{z?this.reject(z):this.resolve(L),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,L))}}}function be(U,B){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=B||"demo-project",O=U.iat||0,P=U.sub||U.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:O,exp:O+3600,auth_time:O,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},U);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(X)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Q(){var U;const B=null===(U=ee())||void 0===U?void 0:U.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function He(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const U=Pe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ce(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((U,B)=>{try{let z=!0;const L="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(L);O.onsuccess=()=>{O.result.close(),z||self.indexedDB.deleteDatabase(L),U(!0)},O.onupgradeneeded=()=>{z=!1},O.onerror=()=>{var P;B((null===(P=O.error)||void 0===P?void 0:P.message)||"")}}catch(z){B(z)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Je extends Error{constructor(B,z,L){super(z),this.code=B,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(B,z,L){this.service=B,this.serviceName=z,this.errors=L}create(B,...z){const L=z[0]||{},O=`${this.service}/${B}`,P=this.errors[B],X=P?function Dt(U,B){return U.replace(yt,(z,L)=>{const O=B[L];return null!=O?String(O):`<${L}?>`})}(P,L):"Error";return new Je(O,`${this.serviceName}: ${X} (${O}).`,L)}}const yt=/\{\$([^}]+)}/g;function ki(U,B){return Object.prototype.hasOwnProperty.call(U,B)}function Pi(U){for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B))return!1;return!0}function bn(U,B){if(U===B)return!0;const z=Object.keys(U),L=Object.keys(B);for(const O of z){if(!L.includes(O))return!1;const P=U[O],X=B[O];if(Fr(P)&&Fr(X)){if(!bn(P,X))return!1}else if(P!==X)return!1}for(const O of L)if(!z.includes(O))return!1;return!0}function Fr(U){return null!==U&&"object"==typeof U}function Lr(U){const B=[];for(const[z,L]of Object.entries(U))Array.isArray(L)?L.forEach(O=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(O))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(L));return B.length?"&"+B.join("&"):""}function Ei(U){const B={};return U.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[O,P]=L.split("=");B[decodeURIComponent(O)]=decodeURIComponent(P)}}),B}function dr(U){const B=U.indexOf("?");if(!B)return"";const z=U.indexOf("#",B);return U.substring(B,z>0?z:void 0)}function Ti(U,B){const z=new At(U,B);return z.subscribe.bind(z)}class At{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(L=>{this.error(L)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,L){let O;if(void 0===B&&void 0===z&&void 0===L)throw new Error("Missing Observer.");O=function Tt(U,B){if("object"!=typeof U||null===U)return!1;for(const z of B)if(z in U&&"function"==typeof U[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:L},void 0===O.next&&(O.next=fn),void 0===O.error&&(O.error=fn),void 0===O.complete&&(O.complete=fn);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),P}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function Xe(U,B=1e3,z=2){const L=B*Math.pow(z,U),O=Math.round(.5*L*(Math.random()-.5)*2);return Math.min(144e5,L+O)}function zt(U){return U&&U._delegate?U._delegate:U}},159:(bt,Ce,F)=>{var l=F(4650);let V=null;function k(){return V}class ve{}const oe=new l.OlP("DocumentToken");let Ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(H)}()},providedIn:"platform"}),n})();const Re=new l.OlP("Location Initialized");let H=(()=>{class n extends Ue{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function q(){return new H((0,l.LFG)(oe))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let at=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Se)},providedIn:"root"}),n})();const ee=new l.OlP("appBaseHref");let Se=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ot(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+ot(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+ot(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ue),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+ot(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+ot(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ue),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Pe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Oe(be(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ot(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ot,n.joinWithSlash=$e,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(l.LFG(at))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new Ne((0,l.LFG)(at))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),Me=(()=>((Me=Me||{})[Me.Narrow=0]="Narrow",Me[Me.Abbreviated=1]="Abbreviated",Me[Me.Wide=2]="Wide",Me[Me.Short=3]="Short",Me))(),St=(()=>((St=St||{})[St.Short=0]="Short",St[St.Medium=1]="Medium",St[St.Long=2]="Long",St[St.Full=3]="Full",St))(),nt=(()=>((nt=nt||{})[nt.Decimal=0]="Decimal",nt[nt.Group=1]="Group",nt[nt.List=2]="List",nt[nt.PercentSign=3]="PercentSign",nt[nt.PlusSign=4]="PlusSign",nt[nt.MinusSign=5]="MinusSign",nt[nt.Exponential=6]="Exponential",nt[nt.SuperscriptingExponent=7]="SuperscriptingExponent",nt[nt.PerMille=8]="PerMille",nt[nt.Infinity=9]="Infinity",nt[nt.NaN=10]="NaN",nt[nt.TimeSeparator=11]="TimeSeparator",nt[nt.CurrencyDecimal=12]="CurrencyDecimal",nt[nt.CurrencyGroup=13]="CurrencyGroup",nt))();function ce(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return bn(a,t)}function Ee(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return bn(a,t)}function ke(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return bn(a,t)}function yn(n,e){return bn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Dt(n,e){return bn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function yt(n,e){return bn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function rt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===nt.CurrencyDecimal)return t[l.wAp.NumberSymbols][nt.Decimal];if(e===nt.CurrencyGroup)return t[l.wAp.NumberSymbols][nt.Group]}return r}function ki(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Fr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hr={},Ti=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),Tt=(()=>((Tt=Tt||{})[Tt.DayPeriods=0]="DayPeriods",Tt[Tt.Days=1]="Days",Tt[Tt.Months=2]="Months",Tt[Tt.Eras=3]="Eras",Tt))();function fn(n,e,t,r){let i=function P(n){if(Ie(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return Xn(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(dr))return function X(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,m,v),e}(r)}const e=new Date(n);if(!Ie(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ln(t,e)||e;let f,c=[];for(;e;){if(f=Ti.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const E=c.pop();if(!E)break;e=E}}let m=i.getTimezoneOffset();r&&(m=z(r,m),i=function O(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function L(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(z(e,i)-i))}(i,r,!0));let v="";return c.forEach(E=>{const I=function B(n){if(U[n])return U[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ht(Tt.Eras,Me.Abbreviated);break;case"GGGG":e=Ht(Tt.Eras,Me.Wide);break;case"GGGGG":e=Ht(Tt.Eras,Me.Narrow);break;case"y":e=Ut(mt.FullYear,1,0,!1,!0);break;case"yy":e=Ut(mt.FullYear,2,0,!0,!0);break;case"yyy":e=Ut(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ut(mt.FullYear,4,0,!1,!0);break;case"Y":e=zt(1);break;case"YY":e=zt(2,!0);break;case"YYY":e=zt(3);break;case"YYYY":e=zt(4);break;case"M":case"L":e=Ut(mt.Month,1,1);break;case"MM":case"LL":e=Ut(mt.Month,2,1);break;case"MMM":e=Ht(Tt.Months,Me.Abbreviated);break;case"MMMM":e=Ht(Tt.Months,Me.Wide);break;case"MMMMM":e=Ht(Tt.Months,Me.Narrow);break;case"LLL":e=Ht(Tt.Months,Me.Abbreviated,He.Standalone);break;case"LLLL":e=Ht(Tt.Months,Me.Wide,He.Standalone);break;case"LLLLL":e=Ht(Tt.Months,Me.Narrow,He.Standalone);break;case"w":e=Nt(1);break;case"ww":e=Nt(2);break;case"W":e=Nt(1,!0);break;case"d":e=Ut(mt.Date,1);break;case"dd":e=Ut(mt.Date,2);break;case"c":case"cc":e=Ut(mt.Day,1);break;case"ccc":e=Ht(Tt.Days,Me.Abbreviated,He.Standalone);break;case"cccc":e=Ht(Tt.Days,Me.Wide,He.Standalone);break;case"ccccc":e=Ht(Tt.Days,Me.Narrow,He.Standalone);break;case"cccccc":e=Ht(Tt.Days,Me.Short,He.Standalone);break;case"E":case"EE":case"EEE":e=Ht(Tt.Days,Me.Abbreviated);break;case"EEEE":e=Ht(Tt.Days,Me.Wide);break;case"EEEEE":e=Ht(Tt.Days,Me.Narrow);break;case"EEEEEE":e=Ht(Tt.Days,Me.Short);break;case"a":case"aa":case"aaa":e=Ht(Tt.DayPeriods,Me.Abbreviated);break;case"aaaa":e=Ht(Tt.DayPeriods,Me.Wide);break;case"aaaaa":e=Ht(Tt.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=Ht(Tt.DayPeriods,Me.Abbreviated,He.Standalone,!0);break;case"bbbb":e=Ht(Tt.DayPeriods,Me.Wide,He.Standalone,!0);break;case"bbbbb":e=Ht(Tt.DayPeriods,Me.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ht(Tt.DayPeriods,Me.Abbreviated,He.Format,!0);break;case"BBBB":e=Ht(Tt.DayPeriods,Me.Wide,He.Format,!0);break;case"BBBBB":e=Ht(Tt.DayPeriods,Me.Narrow,He.Format,!0);break;case"h":e=Ut(mt.Hours,1,-12);break;case"hh":e=Ut(mt.Hours,2,-12);break;case"H":e=Ut(mt.Hours,1);break;case"HH":e=Ut(mt.Hours,2);break;case"m":e=Ut(mt.Minutes,1);break;case"mm":e=Ut(mt.Minutes,2);break;case"s":e=Ut(mt.Seconds,1);break;case"ss":e=Ut(mt.Seconds,2);break;case"S":e=Ut(mt.FractionalSeconds,1);break;case"SS":e=Ut(mt.FractionalSeconds,2);break;case"SSS":e=Ut(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=er(At.Short);break;case"ZZZZZ":e=er(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=er(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=er(At.Long);break;default:return null}return U[n]=e,e}(E);v+=I?I(i,t,m):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Xn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ln(n,e){const t=function ae(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(hr[t]=hr[t]||{},hr[t][e])return hr[t][e];let r="";switch(e){case"shortDate":r=yn(n,St.Short);break;case"mediumDate":r=yn(n,St.Medium);break;case"longDate":r=yn(n,St.Long);break;case"fullDate":r=yn(n,St.Full);break;case"shortTime":r=Dt(n,St.Short);break;case"mediumTime":r=Dt(n,St.Medium);break;case"longTime":r=Dt(n,St.Long);break;case"fullTime":r=Dt(n,St.Full);break;case"short":const i=Ln(n,"shortTime"),a=Ln(n,"shortDate");r=Ii(yt(n,St.Short),[i,a]);break;case"medium":const c=Ln(n,"mediumTime"),f=Ln(n,"mediumDate");r=Ii(yt(n,St.Medium),[c,f]);break;case"long":const m=Ln(n,"longTime"),v=Ln(n,"longDate");r=Ii(yt(n,St.Long),[m,v]);break;case"full":const E=Ln(n,"fullTime"),I=Ln(n,"fullDate");r=Ii(yt(n,St.Full),[E,I])}return r&&(hr[t][e]=r),r}function Ii(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function fr(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function Ut(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function fs(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===mt.Hours)0===f&&-12===t&&(f=12);else if(n===mt.FractionalSeconds)return function Fi(n,e){return fr(n,3).substring(0,e)}(f,e);const m=rt(c,nt.MinusSign);return fr(f,e,m,r,i)}}function Ht(n,e,t=He.Format,r=!1){return function(i,a){return function ai(n,e,t,r,i,a){switch(t){case Tt.Months:return ke(e,i,r)[n.getMonth()];case Tt.Days:return Ee(e,i,r)[n.getDay()];case Tt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const v=function oi(n){const e=(0,l.cg1)(n);return ki(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Fr(r):[Fr(r[0]),Fr(r[1])])}(e),E=function Pi(n,e,t){const r=(0,l.cg1)(n);ki(r);const a=bn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return bn(a,t)||[]}(e,i,r),I=v.findIndex(N=>{if(Array.isArray(N)){const[M,$]=N,Y=c>=M.hours&&f>=M.minutes,ie=c<$.hours||c===$.hours&&f<$.minutes;if(M.hours<$.hours){if(Y&&ie)return!0}else if(Y||ie)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==I)return E[I]}return ce(e,i,r)[c<12?0:1];case Tt.Eras:return function Fe(n,e){return bn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function er(n){return function(e,t,r){const i=-1*r,a=rt(t,nt.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case At.Short:return(i>=0?"+":"")+fr(c,2,a)+fr(Math.abs(i%60),2,a);case At.ShortGMT:return"GMT"+(i>=0?"+":"")+fr(c,1,a);case At.Long:return"GMT"+(i>=0?"+":"")+fr(c,2,a)+":"+fr(Math.abs(i%60),2,a);case At.Extended:return 0===r?"Z":(i>=0?"+":"")+fr(c,2,a)+":"+fr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function wt(n){return Xn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Nt(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=wt(t),c=function Xe(n){const e=Xn(n,0,1).getDay();return Xn(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return fr(i,n,rt(r,nt.MinusSign))}}function zt(n,e=!1){return function(t,r){return fr(wt(t).getFullYear(),n,rt(r,nt.MinusSign),e)}}const U={};function z(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ie(n){return n instanceof Date&&!isNaN(n.valueOf())}const ct=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Za(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Br(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}const li=/\s+/,it=[];let Mt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=it,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(li):it}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(li):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(li).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class nr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),wn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wn(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Wo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Jr=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),c=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ci=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function zn(n,e){return new l.vHH(2100,!1)}class pd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class iu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const su=new iu,Yo=new pd;let so=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return su;if((0,l.F4k)(t))return Yo;throw zn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ya=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ou=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let mr=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return fn(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw zn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Ya,24),l.Y36(ou,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),o_=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Ff(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function xf(n,e,t){return function Go(n,e,t,r,i,a,c=!1){let f="",m=!1;if(isFinite(n)){let v=function fd(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(v=function Rf(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let E=e.minInt,I=e.minFrac,N=e.maxFrac;if(a){const Te=a.match(ct);if(null===Te)throw new Error(`${a} is not a valid digit info`);const ze=Te[1],Ve=Te[3],Be=Te[5];null!=ze&&(E=Za(ze)),null!=Ve&&(I=Za(Ve)),null!=Be?N=Za(Be):null!=Ve&&I>N&&(N=I)}!function kf(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let I=c;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let I=1;I<c;I++)r[I]=0}if(f>=5)if(c-1<0){for(let I=0;I>c;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const v=e+n.integerLen,E=r.reduceRight(function(I,N,M,$){return $[M]=(N+=I)<10?N:N-10,m&&(0===$[M]&&M>=v?$.pop():m=!1),N>=10?1:0},0);E&&(r.unshift(E),n.integerLen++)}(v,I,N);let M=v.digits,$=v.integerLen;const Y=v.exponent;let ie=[];for(m=M.every(Te=>!Te);$<E;$++)M.unshift(0);for(;$<0;$++)M.unshift(0);$>0?ie=M.splice($,M.length):(ie=M,M=[0]);const le=[];for(M.length>=e.lgSize&&le.unshift(M.splice(-e.lgSize,M.length).join(""));M.length>e.gSize;)le.unshift(M.splice(-e.gSize,M.length).join(""));M.length&&le.unshift(M.join("")),f=le.join(rt(t,r)),ie.length&&(f+=rt(t,i)+ie.join("")),Y&&(f+=rt(t,nt.Exponential)+"+"+Y)}else f=rt(t,nt.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function zo(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let E=0;E<m.length;E++){const I=m.charAt(E);"0"===I?t.minFrac=t.maxFrac=E+1:"#"===I?t.maxFrac=E+1:t.posSuf+=I}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,a){const E=i.length-t.posPre.length-t.posSuf.length,I=a.indexOf("#");t.negPre=a.substring(0,I).replace(/'/g,""),t.negSuf=a.slice(I+E).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rn(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Q.Percent),rt(e,nt.MinusSign)),e,nt.Group,nt.Decimal,t,!0).replace(new RegExp("%","g"),rt(e,nt.PercentSign))}(function Ja(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw zn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Lf=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw zn();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Si="browser";function Bi(n){return n===Si}function Uf(n){return"server"===n}let uu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new _d((0,l.LFG)(oe),window)}),n})();class _d{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function cu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qa(this.window.history)||Qa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class du{}class co extends ve{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ea extends co{static makeCurrent(){!function se(n){V||(V=n)}(new ea)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function v_(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}();return null==t?null:function yu(n){vs=vs||document.createElement("a"),vs.setAttribute("href",n);const e=vs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Br(document.cookie,e)}}let vs,ta=null;const Id=new l.OlP("TRANSITION_ID"),rl=[{provide:l.ip1,useFactory:function jI(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Id,oe,l.zs3],multi:!0}];let b_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $s=new l.OlP("EventManagerPlugins");let Cd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($s),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class qn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends vu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Sd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Sd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Sd(n){k().remove(n)}const bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bu=/%COMP%/g;function il(n,e){return e.flat(100).map(t=>t.replace(bu,n))}function Nd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ra=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Du(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Eu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new tp(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=il(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cd),l.LFG(js),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Du{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(fo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=bs[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nd(r)):this.eventManager.addEventListener(e,t,Nd(r))}}function fo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Eu extends Du{constructor(e,t,r,i){super(e),this.component=r;const a=il(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function wu(n){return"_ngcontent-%COMP%".replace(bu,n)}(i+"-"+r.id),this.hostAttr=function Hs(n){return"_nghost-%COMP%".replace(bu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tp extends Du{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=il(i.id,i.styles);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Od=(()=>{class n extends qn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Md=["alt","control","meta","shift"],np={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ip=(()=>{class n extends qn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Md.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),c+=v+".")}),c+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=np[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Md.forEach(c=>{c!==i&&(0,rp[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const E_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Si},{provide:l.g9A,useValue:function D_(){ea.makeCurrent()},multi:!0},{provide:oe,useFactory:function sl(){return(0,l.RDi)(document),document},deps:[]}]),Rd=new l.OlP(""),sa=[{provide:l.rWj,useClass:class vw{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],op=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function sp(){return new l.qLn},deps:[]},{provide:$s,useClass:Od,multi:!0,deps:[oe,l.R0b,l.Lbi]},{provide:$s,useClass:ip,multi:!0,deps:[oe]},{provide:ra,useClass:ra,deps:[Cd,js,l.AFp]},{provide:l.FYo,useExisting:ra},{provide:vu,useExisting:js},{provide:js,useClass:js,deps:[oe]},{provide:Cd,useClass:Cd,deps:[$s,l.R0b]},{provide:du,useClass:b_,deps:[]},[]];let ap=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Id,useExisting:l.AFp},rl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rd,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...op,...sa],imports:[gd,l.hGG]}),n})(),kd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mo(){return new kd((0,l.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Sr),r},providedIn:"root"}),n})(),Sr=(()=>{class n extends ca{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function dp(n){return new Sr(n.get(oe))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Zt=F(8996),vo=F(3269);function lt(...n){const e=(0,vo.yG)(n);return(0,Zt.D)(n,e)}var Yt=F(7579);class Un extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Au=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var $n=F(9751);const{isArray:fp}=Array,{getPrototypeOf:Nu,prototype:Ou,keys:Bd}=Object;function Gs(n){if(1===n.length){const e=n[0];if(fp(e))return{args:e,keys:null};if(function pp(n){return n&&"object"==typeof n&&Nu(n)===Ou}(e)){const t=Bd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Vi=F(4671),Ye=F(4004);const{isArray:gp}=Array;function zs(n){return(0,Ye.U)(e=>function ll(n,e){return gp(e)?n(...e):n(e)}(n,e))}function Vd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var gn=F(5403),Ud=F(9672);function Ui(...n){const e=(0,vo.yG)(n),t=(0,vo.jO)(n),{args:r,keys:i}=Gs(n);if(0===r.length)return(0,Zt.D)([],e);const a=new $n.y(function da(n,e,t=Vi.y){return r=>{Mu(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)Mu(e,()=>{const v=(0,Zt.D)(n[m],e);let E=!1;v.subscribe((0,gn.x)(r,I=>{a[m]=I,E||(E=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Vd(i,c):Vi.y));return t?a.pipe(zs(t)):a}function Mu(n,e,t){n?(0,Ud.f)(t,n,e):e()}var xu=F(8189);function bo(...n){return function $d(){return(0,xu.J)(1)}()((0,Zt.D)(n,(0,vo.yG)(n)))}var Ni=F(8421);function Ru(n){return new $n.y(e=>{(0,Ni.Xf)(n()).subscribe(e)})}var mp=F(9635),Ur=F(576);function ws(n,e){const t=(0,Ur.m)(n)?n:()=>n,r=i=>i.error(t());return new $n.y(e?i=>e.schedule(r,0,i):r)}var $i=F(515),jd=F(727),Tn=F(4482);function _p(){return(0,Tn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ku extends $n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jd.w0.EMPTY)}return e}refCount(){return _p()(this)}}function mn(n,e){return(0,Tn.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,gn.x)(r,m=>{i?.unsubscribe();let v=0;const E=a++;(0,Ni.Xf)(n(m,E)).subscribe(i=(0,gn.x)(r,I=>r.next(e?e(m,I,E,v++):I),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function hn(n){return n<=0?()=>$i.E:(0,Tn.e)((e,t)=>{let r=0;e.subscribe((0,gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ji(...n){const e=(0,vo.yG)(n);return(0,Tn.e)((t,r)=>{(e?bo(n,t,e):bo(n,t)).subscribe(r)})}function on(n,e){return(0,Tn.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ar=F(5577);function Hd(n){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pu(n=Cw){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Cw(){return new Au}function Ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?on((i,a)=>n(i,a,r)):Vi.y,hn(1),t?Hd(e):Pu(()=>new Au))}function wo(n,e){return(0,Ur.m)(e)?(0,Ar.z)(n,e,1):(0,Ar.z)(n,1)}function Zn(n,e,t){const r=(0,Ur.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Tn.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,gn.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Vi.y}function Es(n){return(0,Tn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,c=>{a=(0,Ni.Xf)(n(c,Es(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function A_(n,e,t,r,i){return(a,c)=>{let f=t,m=e,v=0;a.subscribe((0,gn.x)(c,E=>{const I=v++;m=f?n(m,E,I):(f=!0,E),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function ha(n,e){return(0,Tn.e)(A_(n,e,arguments.length>=2,!0))}function ul(n){return n<=0?()=>$i.E:(0,Tn.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?on((i,a)=>n(i,a,r)):Vi.y,ul(1),t?Hd(e):Pu(()=>new Au))}function cl(n){return(0,Ye.U)(()=>n)}function Oi(n){return(0,Tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",dl=Symbol("RouteTitle");class N_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ts(n){return new N_(n)}function zd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!qd(n[i],e[i]))return!1;return!0}function qd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Zd(n){return Array.prototype.concat.apply([],n)}function Fu(n){return n.length>0?n[n.length-1]:null}function tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Zt.D)(Promise.resolve(n)):lt(n)}const hl=!1,Yd={exact:function Lu(n,e,t){if(!Z(n.segments,e.segments)||!g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Lu(n.children[r],e.children[r],t))return!1;return!0},subset:bp},_r={exact:function vp(n,e){return ns(n,e)},subset:function O_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qd(n[t],e[t]))},ignored:()=>!0};function fa(n,e,t){return Yd[t.paths](n.root,e.root,t.matrixParams)&&_r[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bp(n,e,t){return b(n,e,e.segments,t)}function b(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Z(i,t)||e.hasChildren()||!g(i,t,r))}if(n.segments.length===t.length){if(!Z(n.segments,t)||!g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!bp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Z(n.segments,i)&&g(n.segments,i,r)&&n.children[Lt])&&b(n.children[Lt],e,a,r)}}function g(n,e,t){return e.every((r,i)=>_r[t](n[i].parameters,r.parameters))}class _{constructor(e=new w([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class w{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ts(this.parameters)),this._parameterMap}toString(){return ga(this)}}function Z(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new dt},providedIn:"root"}),n})();class dt{parse(e){const t=new Aw(e);return new _(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nr(e.root,!0)}`,r=function Dp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ws(t)}=${Ws(i)}`).join("&"):`${Ws(t)}=${Ws(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Do(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jt=new dt;function dn(n){return n.segments.map(e=>ga(e)).join("/")}function Nr(n,e){if(!n.hasChildren())return dn(n);if(e){const t=n.children[Lt]?Nr(n.children[Lt],!1):"",r=[];return tn(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${Nr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ge(n,e){let t=[];return tn(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),tn(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[Nr(n.children[Lt],!1)]:[`${i}:${Nr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${dn(n)}/${t[0]}`:`${dn(n)}/(${t.join("//")})`}}function Gi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ws(n){return Gi(n).replace(/%3B/gi,";")}function Eo(n){return Gi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pa(n){return decodeURIComponent(n)}function Kd(n){return pa(n.replace(/\+/g,"%20"))}function ga(n){return`${Eo(n.path)}${function wp(n){return Object.keys(n).map(e=>`;${Eo(e)}=${Eo(n[e])}`).join("")}(n.parameters)}`}const Jd=/^[^\/()?;=#]+/;function fl(n){const e=n.match(Jd);return e?e[0]:""}const M_=/^[^=?&#]+/,Ep=/^[^&#]+/;class Aw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new w(e,t)),r}parseSegment(){const e=fl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,hl);return this.capture(e),new S(pa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=fl(this.remaining);i&&(r=i,this.capture(r))}e[pa(t)]=pa(r)}parseQueryParam(e){const t=function Qd(n){const e=n.match(M_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function x_(n){const e=n.match(Ep);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Kd(t),a=Kd(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,hl);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Lt]:new w([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,hl)}}function Xd(n){return n.segments.length>0?new w([],{[Lt]:n}):n}function Tp(n){const e={};for(const r of Object.keys(n.children)){const a=Tp(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function GI(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new w(n.segments.concat(e.segments),e.children)}return n}(new w(n.segments,e))}function ma(n){return n instanceof _}function zI(n,e,t,r,i){if(0===t.length)return Vu(e.root,e.root,e.root,r,i);const a=function P_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new k_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return tn(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new k_(t,e,r)}(t);return a.toRoot()?Vu(e.root,e.root,new w([],{}),r,i):function c(m){const v=function Sp(n,e,t,r){if(n.isAbsolute)return new ya(e.root,!0,0);if(-1===r)return new ya(t,t===e.root,0);return function eh(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new ya(r,!1,i-a)}(t,r+(Cp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),E=v.processChildren?va(v.segmentGroup,v.index,a.commands):th(v.segmentGroup,v.index,a.commands);return Vu(e.root,v.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function Cp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _a(n){return"object"==typeof n&&null!=n&&n.outlets}function Vu(n,e,t,r,i){let c,a={};r&&tn(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),c=n===e?t:R_(n,e,t);const f=Xd(Tp(c));return new _(f,a,i)}function R_(n,e,t){const r={};return tn(n.children,(i,a)=>{r[a]=i===e?t:R_(i,e,t)}),new w(n.segments,r)}class k_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cp(r[0]))throw new l.vHH(4003,!1);const i=r.find(_a);if(i&&i!==Fu(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ya{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function th(n,e,t){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return va(n,e,t);const r=function F_(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(_a(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Rw(m,v,c))return a;r+=2}else{if(!Rw(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new w(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new w(n.segments.slice(r.pathIndex),n.children),va(a,0,i)}return r.match&&0===i.length?new w(n.segments,{}):r.match&&!n.hasChildren()?pl(n,e,t):r.match?va(n,0,i):pl(n,e,t)}function va(n,e,t){if(0===t.length)return new w(n.segments,{});{const r=function xw(n){return _a(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return!r[Lt]&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length?va(n.children[Lt],e,t):(tn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=th(n.children[c],e,a))}),tn(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new w(n.segments,i))}}function pl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(_a(a)){const m=WI(a.outlets);return new w(r,m)}if(0===i&&Cp(t[0])){r.push(new S(n.segments[e].path,L_(t[0]))),i++;continue}const c=_a(a)?a.outlets[Lt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Cp(f)?(r.push(new S(c,L_(f))),i+=2):(r.push(new S(c,{})),i++)}return new w(r,{})}function WI(n){const e={};return tn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pl(new w([],{}),0,t))}),e}function L_(n){const e={};return tn(n,(t,r)=>e[r]=`${t}`),e}function Rw(n,e,t){return n==t.path&&ns(e,t.parameters)}const nh="imperative";class qs{constructor(e,t){this.id=e,this.url=t}}class Ap extends qs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ba extends qs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gl extends qs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Np extends qs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class wa extends qs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qI extends qs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZI extends qs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rx extends qs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YI extends qs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B_ extends qs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Op{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let JI=(()=>{class n{createUrlTree(t,r,i,a,c,f){return zI(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return JI.\u0275fac(e)},providedIn:"root"}),n})();class Lw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Is(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Is(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Da(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Da(e,this._root).map(t=>t.value)}}function Is(n,e){if(n===e.value)return e;for(const t of e.children){const r=Is(n,t);if(r)return r}return null}function Da(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Da(n,t);if(r.length)return r.unshift(e),r}return[]}class To{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bw extends Lw{constructor(e,t){super(e),this.snapshot=t,j_(this,e)}toString(){return this.snapshot.toString()}}function Vw(n,e){const t=function XI(n,e){const c=new Mp([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Uw("",new To(c,[]))}(n,e),r=new Un([new S("",{})]),i=new Un({}),a=new Un({}),c=new Un({}),f=new Un(""),m=new Io(r,i,c,f,a,Lt,e,t.root);return m.snapshot=t.root,new Bw(new To(m,[]),t)}class Io{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Ye.U)(v=>v[dl]))??lt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(e=>Ts(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(e=>Ts(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function eC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mp{get title(){return this.data?.[dl]}constructor(e,t,r,i,a,c,f,m,v,E,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uw extends Lw{constructor(e,t){super(t),this.url=e,j_(this,t)}toString(){return rh(this._root)}}function j_(n,e){e.value._routerState=n,e.children.forEach(t=>j_(n,t))}function rh(n){const e=n.children.length>0?` { ${n.children.map(rh).join(", ")} } `:"";return`${n.value}${e}`}function Cs(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ns(e.params,t.params)||n.params.next(t.params),function Wd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _l(n,e){const t=ns(n.params,e.params)&&function x(n,e){return Z(n,e)&&n.every((t,r)=>ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_l(n.parent,e.parent))}function $u(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function jw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $u(n,r,i);return $u(n,r)})}(n,e,t);return new To(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>$u(n,f)),c}}const r=function ox(n){return new Io(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>$u(n,a));return new To(r,i)}}const Hw="ngNavigationCancelingError";function tC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function xp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Hw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Rp(n){return nC(n)&&ma(n.url)}function nC(n){return n&&n[Hw]}class ax{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ax,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kp=!1;let H_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(ju),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,kp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,kp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,kp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,kp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new rC(t,f,i.injector);if(r&&function iC(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class rC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Io?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}let Pp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[H_],encapsulation:2}),n})();function ih(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function z_(n){const e=n.children&&n.children.map(z_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=Pp),t}function rs(n){return n.outlet||Lt}function Ww(n,e){const t=n.filter(r=>rs(r)===e);return t.push(...n.filter(r=>rs(r)!==e)),t}function sh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ux{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cs(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Uu(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),tn(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Uu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Uu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Uu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Fw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new V_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Cs(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Cs(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=sh(i.snapshot),m=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class aC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ea{constructor(e,t){this.component=e,this.route=t}}function W_(n,e,t){const r=n._root;return Hu(r,e?e._root:null,t,[r.value])}function yl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Uu(e);return n.children.forEach(c=>{(function lC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function uC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Z(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Z(n.url,e.url)||!ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_l(n,e)||!ns(n.queryParams,e.queryParams);default:return!_l(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new aC(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Hu(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ea(f.outlet.component,c))}else c&&Gu(e,f,i),i.canActivateChecks.push(new aC(r)),Hu(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),tn(a,(c,f)=>Gu(c,t.getContext(f),i)),i}function Gu(n,e,t){const r=Uu(n),i=n.value;tn(r,(a,c)=>{Gu(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ea(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zu(n){return"function"==typeof n}function K_(n){return n instanceof Au||"EmptyError"===n?.name}const Wu=Symbol("INITIAL_VALUE");function Co(){return mn(n=>Ui(n.map(e=>e.pipe(hn(1),ji(Wu)))).pipe((0,Ye.U)(e=>{for(const t of e)if(!0!==t){if(t===Wu)return Wu;if(!1===t||t instanceof _)return t}return!0}),on(e=>e!==Wu),hn(1)))}function wl(n){return(0,mp.z)(Zn(e=>{if(ma(e))throw tC(0,e)}),(0,Ye.U)(e=>!0===e))}const X_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qw(n,e,t,r,i){const a=oh(n,e,t);return a.matched?function gC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(c=>{const f=yl(c,n);return Hi(function Yw(n){return n&&zu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Co(),wl()):lt(!0)}(r=ih(e,r),e,t).pipe((0,Ye.U)(c=>!0===c?a:{...X_})):lt(a)}function oh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...X_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||zd)(t,n,e);if(!i)return{...X_};const a={};tn(i.posParams,(f,m)=>{a[m]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Bp(n,e,t,r){if(t.length>0&&function eD(n,e,t){return t.some(r=>Vp(n,e,r)&&rs(r)!==Lt)}(n,t,r)){const a=new w(e,function mC(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&rs(a)!==Lt){const c=new w([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[rs(a)]=c}return i}(n,e,r,new w(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function dx(n,e,t){return t.some(r=>Vp(n,e,r))}(n,t,r)){const a=new w(n.segments,function Xw(n,e,t,r,i){const a={};for(const c of r)if(Vp(n,t,c)&&!i[rs(c)]){const f=new w([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[rs(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new w(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qu(n,e,t,r){return!!(rs(n)===r||r!==Lt&&Vp(e,t,n))&&("**"===n.path||oh(e,n,t).matched)}function tD(n,e,t){return 0===e.length&&!n.children[t]}const So=!1;class Ta{constructor(e){this.segmentGroup=e||null}}class nD{constructor(e){this.urlTree=e}}function Zu(n){return ws(new Ta(n))}function rD(n){return ws(new nD(n))}class sD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Bp(this.urlTree.root,[],[],this.config).segmentGroup,t=new w(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Ye.U)(a=>this.createUrlTree(Tp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Es(a=>{if(a instanceof nD)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ta?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,Ye.U)(i=>this.createUrlTree(Tp(i),e.queryParams,e.fragment))).pipe(Es(i=>{throw i instanceof Ta?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,So)}createUrlTree(e,t,r){const i=Xd(e);return new _(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ye.U)(a=>new w([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Zt.D)(i).pipe(wo(a=>{const c=r.children[a],f=Ww(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Ye.U)(m=>({segment:m,outlet:a})))}),ha((a,c)=>(a[c.outlet]=c.segment,a),{}),Gd())}expandSegment(e,t,r,i,a,c){return(0,Zt.D)(r).pipe(wo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(Es(v=>{if(v instanceof Ta)return lt(null);throw v}))),Ds(f=>!!f),Es((f,m)=>{if(K_(f))return tD(t,i,a)?lt(new w([],{})):Zu(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return qu(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Zu(t):Zu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rD(a):this.lineralizeSegments(r,a).pipe((0,Ar.z)(c=>{const f=new w(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:E}=oh(t,i,a);if(!f)return Zu(t);const I=this.applyRedirectCommands(m,i.redirectTo,E);return i.redirectTo.startsWith("/")?rD(I):this.lineralizeSegments(i,I).pipe((0,Ar.z)(N=>this.expandSegment(e,t,r,N.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ih(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ye.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new w(i,{})))):lt(new w(i,{}))):Qw(t,r,i,e).pipe(mn(({matched:c,consumedSegments:f,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ar.z)(E=>{const I=E.injector??e,N=E.routes,{segmentGroup:M,slicedSegments:$}=Bp(t,f,m,N),Y=new w(M.segments,M.children);if(0===$.length&&Y.hasChildren())return this.expandChildren(I,N,Y).pipe((0,Ye.U)(ze=>new w(f,ze)));if(0===N.length&&0===$.length)return lt(new w(f,{}));const ie=rs(r)===a;return this.expandSegment(I,Y,N,$,ie?Lt:a,!0).pipe((0,Ye.U)(Te=>new w(f.concat(Te.segments),Te.children)))})):Zu(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Jw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(c=>{const f=yl(c,n);return Hi(function cx(n){return n&&zu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Co(),wl())}(e,t,r).pipe((0,Ar.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Zn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function yC(n){return ws(xp(So,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Lt])return ws(new l.vHH(4e3,So));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new _(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return tn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return tn(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new w(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,So);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vC{}class bC{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=Bp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Ye.U)(t=>{if(null===t)return null;const r=new Mp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new To(r,t),a=new Uw(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=$_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Zt.D)(Object.keys(r.children)).pipe(wo(i=>{const a=r.children[i],c=Ww(t,i);return this.processSegmentGroup(e,c,a,i)}),ha((i,a)=>i&&a?(i.push(...a),i):null),function yp(n,e=!1){return(0,Tn.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Hd(null),Gd(),(0,Ye.U)(i=>{if(null===i)return null;const a=oD(i);return function wC(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Zt.D)(t).pipe(wo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Ds(c=>!!c),Es(c=>{if(K_(c))return tD(r,i,a)?lt([]):lt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!qu(t,r,i,a))return lt(null);let c;if("**"===t.path){const f=i.length>0?Fu(i).parameters:{},m=Dl(r)+i.length;c=lt({snapshot:new Mp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),rs(t),t.component??t._loadedComponent??null,t,aD(r),m,uD(t)),consumedSegments:[],remainingSegments:[]})}else c=Qw(r,t,i,e).pipe((0,Ye.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:E})=>{if(!f)return null;const I=Dl(r)+m.length;return{snapshot:new Mp(m,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),rs(t),t.component??t._loadedComponent??null,t,aD(r),I,uD(t)),consumedSegments:m,remainingSegments:v}}));return c.pipe(mn(f=>{if(null===f)return lt(null);const{snapshot:m,consumedSegments:v,remainingSegments:E}=f;e=t._injector??e;const I=t._loadedInjector??e,N=function DC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:$}=Bp(r,v,E,N.filter(ie=>void 0===ie.redirectTo));if(0===$.length&&M.hasChildren())return this.processChildren(I,N,M).pipe((0,Ye.U)(ie=>null===ie?null:[new To(m,ie)]));if(0===N.length&&0===$.length)return lt([new To(m,[])]);const Y=rs(t)===a;return this.processSegment(I,N,M,$,Y?Lt:a).pipe((0,Ye.U)(ie=>null===ie?null:[new To(m,ie)]))}))}}function EC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oD(n){const e=[],t=new Set;for(const r of n){if(!EC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oD(r.children);e.push(new To(r.value,i))}return e.filter(r=>!t.has(r))}function aD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Dl(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function lD(n){return n.data||{}}function uD(n){return n.resolve||{}}function fD(n){return"string"==typeof n.title||null===n.title}function $p(n){return mn(e=>{const t=n(e);return t?(0,Zt.D)(t).pipe((0,Ye.U)(()=>e)):lt(e)})}const ti=new l.OlP("ROUTES");let ny=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe((0,Ye.U)(mD),Zn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Oi(()=>{this.componentLoaders.delete(t)})),i=new ku(r,()=>new Yt.x).pipe(_p());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ye.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,E=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=Zd(m.get(ti,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(z_),injector:m}}),Oi(()=>{this.childrenLoaders.delete(r)})),c=new ku(a,()=>new Yt.x).pipe(_p());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe((0,Ye.U)(mD),(0,Ar.z)(i=>i instanceof l.YKP||Array.isArray(i)?lt(i):(0,Zt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mD(n){return function gD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yt.x,this.configLoader=(0,l.f3M)(ny),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Ke),this.rootContexts=(0,l.f3M)(ju),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new kw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new KI(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(on(r=>0!==r.id),(0,Ye.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),mn(r=>{let i=!1,a=!1;return lt(r).pipe(Zn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mn(c=>{const f=t.browserUrlTree.toString(),m=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new Np(c.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),$i.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return _D(c.source)&&(t.browserUrlTree=c.extractedUrl),lt(c).pipe(mn(E=>{const I=this.transitions?.getValue();return this.events.next(new Ap(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),I!==this.transitions?.getValue()?$i.E:Promise.resolve(E)}),function ey(n,e,t,r){return mn(i=>function iD(n,e,t,r,i){return new sD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ye.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Zn(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function hx(n,e,t,r,i){return(0,Ar.z)(a=>function ah(n,e,t,r,i,a,c="emptyOnly"){return new bC(n,e,t,r,i,c,a).recognize().pipe(mn(f=>null===f?function ty(n){return new $n.y(e=>e.error(n))}(new vC):lt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,Ye.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Zn(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(N,E)}t.browserUrlTree=E.urlAfterRedirects}const I=new qI(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:I,source:N,restoredState:M,extras:$}=c,Y=new Ap(E,this.urlSerializer.serialize(I),N,M);this.events.next(Y);const ie=Vw(I,this.rootComponentType).snapshot;return lt(r={...c,targetSnapshot:ie,urlAfterRedirects:I,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Np(c.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),$i.E}}),Zn(c=>{const f=new ZI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Ye.U)(c=>r={...c,guards:W_(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function hC(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?lt({...t,guardsResult:!0}):function J_(n,e,t,r){return(0,Zt.D)(n).pipe((0,Ar.z)(i=>function pC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const m=sh(e)??i,v=yl(f,m);return Hi(function Y_(n){return n&&zu(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(Ds())})).pipe(Co()):lt(!0)}(i.component,i.route,t,e,r)),Ds(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ar.z)(f=>f&&function q_(n){return"boolean"==typeof n}(f)?function Lp(n,e,t,r){return(0,Zt.D)(e).pipe(wo(i=>bo(function Kw(n,e){return null!==n&&e&&e(new Op(n)),lt(!0)}(i.route.parent,r),function bl(n,e){return null!==n&&e&&e(new Pw(n)),lt(!0)}(i.route,r),function fC(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Zw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ru(()=>lt(c.guards.map(m=>{const v=sh(c.node)??t,E=yl(m,v);return Hi(function cC(n){return n&&zu(n.canActivateChild)}(E)?E.canActivateChild(r,n):v.runInContext(()=>E(r,n))).pipe(Ds())})).pipe(Co())));return lt(a).pipe(Co())}(n,i.path,t),function Q_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Ru(()=>{const c=sh(e)??t,f=yl(a,c);return Hi(function Z_(n){return n&&zu(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Ds())}));return lt(i).pipe(Co())}(n,i.route,t))),Ds(i=>!0!==i,!0))}(r,a,n,e):lt(f)),(0,Ye.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),Zn(c=>{if(r.guardsResult=c.guardsResult,ma(c.guardsResult))throw tC(0,c.guardsResult);const f=new rx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),on(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),$p(c=>{if(c.guards.canActivateChecks.length)return lt(c).pipe(Zn(f=>{const m=new YI(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),mn(f=>{let m=!1;return lt(f).pipe(function fx(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,Zt.D)(i).pipe(wo(c=>function cD(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!fD(i)&&(a[dl]=i.title),function px(n,e,t,r){const i=function dD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,Zt.D)(i).pipe((0,Ar.z)(c=>function hD(n,e,t,r){const i=sh(e)??r,a=yl(n,i);return Hi(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Ds(),Zn(f=>{a[c]=f}))),ul(1),cl(a),Es(c=>K_(c)?$i.E:ws(c)))}(a,n,e,r).pipe((0,Ye.U)(c=>(n._resolvedData=c,n.data=$_(n,t).resolve,i&&fD(i)&&(n.data[dl]=i.title),null)))}(c.route,r,n,e)),Zn(()=>a++),ul(1),(0,Ar.z)(c=>a===i.length?lt(t):$i.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Zn({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Zn(f=>{const m=new B_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),$p(c=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Zn(E=>{m.component=E}),(0,Ye.U)(()=>{})));for(const E of m.children)v.push(...f(E));return v};return Ui(f(c.targetSnapshot.root)).pipe(Hd(),hn(1))}),$p(()=>this.afterPreactivation()),(0,Ye.U)(c=>{const f=function $w(n,e,t){const r=$u(n,e._root,t?t._root:void 0);return new Bw(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),Zn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Ye.U)(r=>(new ux(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Zn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ba(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Oi(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Es(c=>{if(a=!0,nC(c)){Rp(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new gl(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),Rp(c)){const m=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||_D(r.source)};t.scheduleNavigation(m,nh,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new wa(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(m){r.reject(m)}}return $i.E}))}))}cancelNavigationTransition(t,r,i){const a=new gl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _D(n){return n!==nh}let ry=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[dl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(CC)},providedIn:"root"}),n})(),CC=(()=>{class n extends ry{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Vt)},providedIn:"root"}),n})();class AC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Vt=(()=>{class n extends AC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lh=new l.OlP("",{providedIn:"root",factory:()=>({})});let vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(NC)},providedIn:"root"}),n})(),NC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wD(n){throw n}function OC(n,e,t){return e.parse("/")}const DD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(lh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(vD),this.routeReuseStrategy=(0,l.f3M)(SC),this.urlCreationStrategy=(0,l.f3M)(QI),this.titleStrategy=(0,l.f3M)(ry),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Zd((0,l.f3M)(ti,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Hp),this.urlSerializer=(0,l.f3M)(Ke),this.location=(0,l.f3M)(Ne),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(z_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:c;let E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...a};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=a||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ma(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,nh,null,r)}navigate(t,r={skipLocationChange:!1}){return function gx(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...DD}:!1===r?{...MC}:r,ma(t))return fa(this.currentUrlTree,t,i);const a=this.parseUrl(t);return fa(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,m,v,E;return c?(f=c.resolve,m=c.reject,v=c.promise):v=new Promise((I,N)=>{f=I,m=N}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ao=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yt.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof ba&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zi),l.Y36(Io),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(at))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class TD{}let xC=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof ba),wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Zt.D)(i).pipe((0,xu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,Ar.z)(c=>null===c?lt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Zt.D)([a,c]).pipe((0,xu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(TD),l.LFG(ny))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SD=new l.OlP("");let RC=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ap?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ba&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof U_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new U_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Yu(n,e){return{\u0275kind:n,\u0275providers:e}}function ch(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(zi),i=n.get(AD);1===n.get(Gp)&&r.initialNavigation(),n.get(ND,null,l.XFs.Optional)?.setUpPreloading(),n.get(SD,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const AD=new l.OlP("",{factory:()=>new Yt.x}),Gp=new l.OlP("",{providedIn:"root",factory:()=>1});const ND=new l.OlP("");function BC(n){return Yu(0,[{provide:ND,useExisting:xC},{provide:TD,useExisting:n}])}const zp=new l.OlP("ROUTER_FORROOT_GUARD"),vx=[Ne,{provide:Ke,useClass:dt},zi,ju,{provide:Io,useFactory:function iy(n){return n.routerState.root},deps:[zi]},ny,[]];function oy(){return new l.PXZ("Router",zi)}let OD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vx,[],{provide:ti,multi:!0,useValue:t},{provide:zp,useFactory:$C,deps:[[zi,new l.FiY,new l.tp0]]},{provide:lh,useValue:r||{}},r?.useHash?{provide:at,useClass:me}:{provide:at,useClass:Se},{provide:SD,useFactory:()=>{const n=(0,l.f3M)(uu),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(lh),r=(0,l.f3M)(Hp),i=(0,l.f3M)(Ke);return t.scrollOffset&&n.setOffset(t.scrollOffset),new RC(i,r,n,e,t)}},r?.preloadingStrategy?BC(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:oy},r?.initialNavigation?xD(r):[],[{provide:RD,useFactory:ch},{provide:l.tb,multi:!0,useExisting:RD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ti,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zp,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pp]}),n})();function $C(n){return"guarded"}function xD(n){return["disabled"===n.initialNavigation?Yu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(zi);return()=>{e.setUpLocationChangeListener()}}},{provide:Gp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Yu(2,[{provide:Gp,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(zi),c=e.get(AD);(function r(i){e.get(zi).events.pipe(on(c=>c instanceof ba||c instanceof gl||c instanceof wa),(0,Ye.U)(c=>c instanceof ba||c instanceof gl&&(0===c.code||1===c.code)&&null),on(c=>null!==c),hn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Hp).afterPreactivation=()=>(i(!0),c.closed?lt(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const RD=new l.OlP("");class Xu extends jd.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const ec={setInterval(n,e,...t){const{delegate:r}=ec;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=ec;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var dh=F(8737);class Wp extends Xu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return ec.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&ec.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,dh.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tc={now:()=>(tc.delegate||Date).now(),delegate:void 0};class nc{constructor(e,t=nc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nc.now=tc.now;class qp extends nc{constructor(e,t=nc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const rc=new qp(Wp),ly=rc;var qt=F(9681);(0,qt.registerVersion)("firebase","9.17.1","app");var W=F(5861),pt=F(2090),Ss=F(4859),is=F(1877),Tl=F(8766);const kD="@firebase/installations",cy="0.6.3",dy=`w:${cy}`,PD="FIS_v2",No=new pt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fy(n){return n instanceof pt.ZR&&n.code.includes("request-failed")}function py({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function LD(n){return{token:n.token,requestStatus:2,expiresIn:Zs(n.expiresIn),creationTime:Date.now()}}function hh(n,e){return gy.apply(this,arguments)}function gy(){return(gy=(0,W.Z)(function*(n,e){const r=(yield e.json()).error;return No.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function BD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function VD(n,{refreshToken:e}){const t=BD(n);return t.append("Authorization",function yy(n){return`${PD} ${n}`}(e)),t}function my(n){return _y.apply(this,arguments)}function _y(){return(_y=(0,W.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Zs(n){return Number(n.replace("s","000"))}function WC(n,e){return vy.apply(this,arguments)}function vy(){return(vy=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=py(n),i=BD(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:PD,appId:n.appId,sdkVersion:dy})},m=yield my(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:LD(v.authToken)}}throw yield hh("Create Installation",m)})).apply(this,arguments)}function by(n){return new Promise(e=>{setTimeout(e,n)})}const ZC=/^[cdef][\w-]{21}$/;function Dy(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function YC(n){return function qC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ZC.test(t)?t:""}catch{return""}}function ic(n){return`${n.appName}!${n.appId}`}const Oo=new Map;function Zp(n,e){const t=ic(n);Kp(t,e),function Ex(n,e){const t=function Ey(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=n=>{Kp(n.data.key,n.data.fid)}),Ca}();t&&t.postMessage({key:n,fid:e}),function Ty(){0===Oo.size&&Ca&&(Ca.close(),Ca=null)}()}(t,e)}function Kp(n,e){const t=Oo.get(n);if(t)for(const r of t)r(e)}let Ca=null;const hi="firebase-installations-store";let sc=null;function oc(){return sc||(sc=(0,Tl.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(hi)}})),sc}function Sa(n,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,W.Z)(function*(n,e){const t=ic(n),i=(yield oc()).transaction(hi,"readwrite"),a=i.objectStore(hi),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&Zp(n,e.fid),e})).apply(this,arguments)}function Jp(n){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,W.Z)(function*(n){const e=ic(n),r=(yield oc()).transaction(hi,"readwrite");yield r.objectStore(hi).delete(e),yield r.done})).apply(this,arguments)}function fh(n,e){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,W.Z)(function*(n,e){const t=ic(n),i=(yield oc()).transaction(hi,"readwrite"),a=i.objectStore(hi),c=yield a.get(t),f=e(c);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&Zp(n,f.fid),f})).apply(this,arguments)}function Il(n){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,W.Z)(function*(n){let e;const t=yield fh(n.appConfig,r=>{const i=Tx(r),a=KC(n,i);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Tx(n){return jD(n||{fid:Dy(),registrationStatus:0})}function KC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(No.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function JC(n,e){return Ny.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:QC(n)}:{installationEntry:e}}function Ny(){return(Ny=(0,W.Z)(function*(n,e){try{const t=yield WC(n,e);return Sa(n.appConfig,t)}catch(t){throw fy(t)&&409===t.customData.serverCode?yield Jp(n.appConfig):yield Sa(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function QC(n){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,W.Z)(function*(n){let e=yield $D(n.appConfig);for(;1===e.registrationStatus;)yield by(100),e=yield $D(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Il(n);return r||t}return e})).apply(this,arguments)}function $D(n){return fh(n,e=>{if(!e)throw No.create("installation-not-found");return jD(e)})}function jD(n){return function HD(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function My(n,e){return xy.apply(this,arguments)}function xy(){return(xy=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Ry(n,t),i=VD(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dy,appId:n.appId}})},m=yield my(()=>fetch(r,f));if(m.ok)return LD(yield m.json());throw yield hh("Generate Auth Token",m)})).apply(this,arguments)}function Ry(n,{fid:e}){return`${py(n)}/${e}/authTokens:generate`}function ky(n){return Py.apply(this,arguments)}function Py(){return(Py=(0,W.Z)(function*(n,e=!1){let t;const r=yield fh(n.appConfig,a=>{if(!By(a))throw No.create("not-registered");const c=a.authToken;if(!e&&zD(c))return a;if(1===c.requestStatus)return t=XC(n,e),a;{if(!navigator.onLine)throw No.create("app-offline");const f=Ix(a);return t=eS(n,f),f}});return t?yield t:r.authToken})).apply(this,arguments)}function XC(n,e){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,W.Z)(function*(n,e){let t=yield GD(n.appConfig);for(;1===t.authToken.requestStatus;)yield by(100),t=yield GD(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ky(n,e):r})).apply(this,arguments)}function GD(n){return fh(n,e=>{if(!By(e))throw No.create("not-registered");return function WD(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function eS(n,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,W.Z)(function*(n,e){try{const t=yield My(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Sa(n.appConfig,r),t}catch(t){if(!fy(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Sa(n.appConfig,r)}else yield Jp(n.appConfig);throw t}})).apply(this,arguments)}function By(n){return void 0!==n&&2===n.registrationStatus}function zD(n){return 2===n.requestStatus&&!function tS(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Ix(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Mo(){return(Mo=(0,W.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Il(e);return r?r.catch(console.error):ky(e).catch(console.error),t.fid})).apply(this,arguments)}function ac(){return(ac=(0,W.Z)(function*(n,e=!1){const t=n;return yield nS(t),(yield ky(t,e)).token})).apply(this,arguments)}function nS(n){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,W.Z)(function*(n){const{registrationPromise:e}=yield Il(n);e&&(yield e)})).apply(this,arguments)}function ph(n){return No.create("missing-app-config-values",{valueName:n})}const Cl="installations",cc=n=>{const e=n.getProvider("app").getImmediate(),t=function ss(n){if(!n||!n.options)throw ph("App Configuration");if(!n.name)throw ph("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ph(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,qt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},dc=n=>{const e=n.getProvider("app").getImmediate(),t=(0,qt._getProvider)(e,Cl).getImmediate();return{getId:()=>function Xp(n){return Mo.apply(this,arguments)}(t),getToken:i=>function Cx(n){return ac.apply(this,arguments)}(t,i)}};(function hc(){(0,qt._registerComponent)(new Ss.wA(Cl,cc,"PUBLIC")),(0,qt._registerComponent)(new Ss.wA("installations-internal",dc,"PRIVATE"))})(),(0,qt.registerVersion)(kD,cy),(0,qt.registerVersion)(kD,cy,"esm2017");const Aa="@firebase/remote-config",fi=new pt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rg{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function ig(n=navigator){return n.languages&&n.languages[0]||n.language}class n1{constructor(e,t,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ig()},v={method:"POST",headers:f,body:JSON.stringify(m)},E=fetch(c,v),I=new Promise((le,Te)=>{e.signal.addEventListener(()=>{const ze=new Error("The operation was aborted.");ze.name="AbortError",Te(ze)})});let N;try{yield Promise.race([E,I]),N=yield E}catch(le){let Te="fetch-client-network";throw"AbortError"===le?.name&&(Te="fetch-timeout"),fi.create(Te,{originalErrorMessage:le?.message})}let M=N.status;const $=N.headers.get("ETag")||void 0;let Y,ie;if(200===N.status){let le;try{le=yield N.json()}catch(Te){throw fi.create("fetch-client-parse",{originalErrorMessage:Te?.message})}Y=le.entries,ie=le.state}if("INSTANCE_STATE_UNSPECIFIED"===ie?M=500:"NO_CHANGE"===ie?M=304:("NO_TEMPLATE"===ie||"EMPTY_CONFIG"===ie)&&(Y={}),304!==M&&200!==M)throw fi.create("fetch-status",{httpStatus:M});return{status:M,eTag:$,config:Y}})()}}class i1{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,W.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,W.Z)(function*(){yield function r1(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(fi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function Wy(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,pt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class o1{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sg(n,e){const t=n.target.error||void 0;return fi.create(e,{originalErrorMessage:t&&t?.message})}const Na="app_namespace_store";class aS{constructor(e,t,r,i=function u1(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(sg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Na,{keyPath:"compositeKey"})}}catch(t){e(fi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Na],"readonly").objectStore(Na),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=E=>{a(sg(E,"storage-get"))},v.onsuccess=E=>{const I=E.target.result;i(I?I.value:void 0)}}catch(v){a(fi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,W.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{const m=i.transaction([Na],"readwrite").objectStore(Na),v=r.createCompositeKey(e);try{const E=m.put({compositeKey:v,value:t});E.onerror=I=>{c(sg(I,"storage-set"))},E.onsuccess=()=>{a()}}catch(E){c(fi.create("storage-set",{originalErrorMessage:E?.message}))}})})()}delete(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Na],"readwrite").objectStore(Na),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=E=>{a(sg(E,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(fi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class c1{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,W.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function f1(){return og.apply(this,arguments)}function og(){return(og=(0,W.Z)(function*(){if(!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}!function d1(){(0,qt._registerComponent)(new Ss.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fi.create("registration-window");if(!(0,pt.hl)())throw fi.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:f}=r.options;if(!a)throw fi.create("registration-project-id");if(!c)throw fi.create("registration-api-key");if(!f)throw fi.create("registration-app-id");const m=new aS(f,r.name,t=t||"firebase"),v=new c1(m),E=new is.Yd(Aa);E.logLevel=is.in.ERROR;const I=new n1(i,qt.SDK_VERSION,t,a,c,f),N=new i1(I,m),M=new rg(N,m,v,E),$=new o1(r,M,v,m,E);return function QD(n){const e=(0,pt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}($),$},"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(Aa,"0.4.3"),(0,qt.registerVersion)(Aa,"0.4.3","esm2017")}();const p1="/firebase-messaging-sw.js",g1="/firebase-cloud-messaging-push-scope",Zy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yy="google.c.a.c_id",_1="google.c.a.c_l",ag="google.c.a.ts",Oa="google.c.a.e";var gc=(()=>{return(n=gc||(gc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",gc;var n})();function As(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ol(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const gh="fcm_token_details_db",lg="fcm_token_object_Store";function Nx(n){return y1.apply(this,arguments)}function y1(){return y1=(0,W.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(gh))return null;let e=null;return(yield(0,Tl.X3)(gh,5,{upgrade:(r=(0,W.Z)(function*(i,a,c,f){var m;if(a<2||!i.objectStoreNames.contains(lg))return;const v=f.objectStore(lg),E=yield v.index("fcmSenderId").get(n);if(yield v.clear(),E)if(2===a){const I=E;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(m=I.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:As(I.vapidKey)}}}else if(3===a){const I=E;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:As(I.auth),p256dh:As(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:As(I.vapidKey)}}}else if(4===a){const I=E;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:As(I.auth),p256dh:As(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:As(I.vapidKey)}}}}),function(a,c,f,m){return r.apply(this,arguments)})})).close(),yield(0,Tl.Lj)(gh),yield(0,Tl.Lj)("fcm_vapid_details_db"),yield(0,Tl.Lj)("undefined"),uS(e)?e:null;var r}),y1.apply(this,arguments)}function uS(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ml="firebase-messaging-store";let Yn=null;function ug(){return Yn||(Yn=(0,Tl.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ml)}})),Yn}function b1(n){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,W.Z)(function*(n){const e=Ma(n),r=yield(yield ug()).transaction(Ml).objectStore(Ml).get(e);if(r)return r;{const i=yield Nx(n.appConfig.senderId);if(i)return yield cg(n,i),i}})).apply(this,arguments)}function cg(n,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,W.Z)(function*(n,e){const t=Ma(n),i=(yield ug()).transaction(Ml,"readwrite");return yield i.objectStore(Ml).put(e,t),yield i.done,e})).apply(this,arguments)}function w1(n){return dg.apply(this,arguments)}function dg(){return(dg=(0,W.Z)(function*(n){const e=Ma(n),r=(yield ug()).transaction(Ml,"readwrite");yield r.objectStore(Ml).delete(e),yield r.done})).apply(this,arguments)}function Ma({appConfig:n}){return n.appId}const $r=new pt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function D1(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,W.Z)(function*(n,e){const t=yield Xy(n),r=Ns(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(os(n.appConfig),i)).json()}catch(c){throw $r.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw $r.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw $r.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function E1(n,e){return T1.apply(this,arguments)}function T1(){return(T1=(0,W.Z)(function*(n,e){const t=yield Xy(n),r=Ns(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${os(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw $r.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw $r.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw $r.create("token-update-no-token");return a.token})).apply(this,arguments)}function hg(n,e){return mh.apply(this,arguments)}function mh(){return(mh=(0,W.Z)(function*(n,e){const r={method:"DELETE",headers:yield Xy(n)};try{const a=yield(yield fetch(`${os(n.appConfig)}/${e}`,r)).json();if(a.error)throw $r.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw $r.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function os({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Xy(n){return fg.apply(this,arguments)}function fg(){return(fg=(0,W.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Ns({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Zy&&(i.web.applicationPubKey=r),i}const Os=6048e5;function Ms(n){return pg.apply(this,arguments)}function pg(){return(pg=(0,W.Z)(function*(n){const e=yield yh(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:As(e.getKey("auth")),p256dh:As(e.getKey("p256dh"))},r=yield b1(n.firebaseDependencies);if(r){if(C1(r.subscriptionOptions,t))return Date.now()>=r.createTime+Os?hS(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield hg(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return I1(n.firebaseDependencies,t)}return I1(n.firebaseDependencies,t)})).apply(this,arguments)}function ev(n){return tv.apply(this,arguments)}function tv(){return(tv=(0,W.Z)(function*(n){const e=yield b1(n.firebaseDependencies);e&&(yield hg(n.firebaseDependencies,e.token),yield w1(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function hS(n,e){return nv.apply(this,arguments)}function nv(){return(nv=(0,W.Z)(function*(n,e){try{const t=yield E1(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield cg(n.firebaseDependencies,r),t}catch(t){throw yield ev(n),t}})).apply(this,arguments)}function I1(n,e){return _h.apply(this,arguments)}function _h(){return(_h=(0,W.Z)(function*(n,e){const r={token:yield D1(n,e),createTime:Date.now(),subscriptionOptions:e};return yield cg(n,r),r.token})).apply(this,arguments)}function yh(n,e){return rv.apply(this,arguments)}function rv(){return(rv=(0,W.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ol(e)})})).apply(this,arguments)}function C1(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function S1(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function A1(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function N1(n,e){e.data&&(n.data=e.data)}(e,n),function gg(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function fS(n){return"object"==typeof n&&!!n&&Yy in n}function iv(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function vh(n){return $r.create("missing-app-config-values",{valueName:n})}iv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),iv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mg{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function O1(n){if(!n||!n.options)throw vh("App Configuration Object");if(!n.name)throw vh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw vh(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _g(n){return yg.apply(this,arguments)}function yg(){return(yg=(0,W.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(p1,{scope:g1}),n.swRegistration.update().catch(()=>{})}catch(e){throw $r.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function M1(n,e){return vg.apply(this,arguments)}function vg(){return(vg=(0,W.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield _g(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $r.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function x1(n,e){return bg.apply(this,arguments)}function bg(){return(bg=(0,W.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Zy)})).apply(this,arguments)}function wg(){return(wg=(0,W.Z)(function*(n,e){if(!navigator)throw $r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $r.create("permission-blocked");return yield x1(n,e?.vapidKey),yield M1(n,e?.serviceWorkerRegistration),Ms(n)})).apply(this,arguments)}function pS(n,e,t){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,W.Z)(function*(n,e,t){const r=gS(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Yy],message_name:t[_1],message_time:t[ag],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gS(n){switch(n){case gc.NOTIFICATION_CLICKED:return"notification_open";case gc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ov(){return(ov=(0,W.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===gc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(S1(t)):n.onMessageHandler.next(S1(t)));const r=t.data;fS(r)&&"1"===r[Oa]&&(yield pS(n,t.messageType,r))})).apply(this,arguments)}const R1="@firebase/messaging",_S=n=>{const e=new mg(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function mS(n,e){return ov.apply(this,arguments)}(e,t)),e},yS=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function sv(n,e){return wg.apply(this,arguments)}(e,r)}};function P1(){return av.apply(this,arguments)}function av(){return(av=(0,W.Z)(function*(){try{yield(0,pt.eu)()}catch{return!1}return typeof window<"u"&&(0,pt.hl)()&&(0,pt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vS(){(0,qt._registerComponent)(new Ss.wA("messaging",_S,"PUBLIC")),(0,qt._registerComponent)(new Ss.wA("messaging-internal",yS,"PRIVATE")),(0,qt.registerVersion)(R1,"0.12.3"),(0,qt.registerVersion)(R1,"0.12.3","esm2017")}();const bh="analytics",F1="firebase_id",V1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cv="https://www.googletagmanager.com/gtag/js",Mr=new is.Yd("@firebase/analytics");function Eg(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function U1(n,e){const t=document.createElement("script");t.src=`${cv}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function TS(n,e,t,r,i,a){return dv.apply(this,arguments)}function dv(){return(dv=(0,W.Z)(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const m=(yield Eg(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){Mr.error(f)}n("config",i,a)})).apply(this,arguments)}function mc(n,e,t,r,i){return $1.apply(this,arguments)}function $1(){return($1=(0,W.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield Eg(t);for(const m of c){const v=f.find(I=>I.measurementId===m),E=v&&e[v.appId];if(!E){a=[];break}a.push(E)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){Mr.error(a)}})).apply(this,arguments)}function j1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(cv)&&t.src.includes(n))return t;return null}const as=new pt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),G1=new class CS{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function _c(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function SS(n){return yc.apply(this,arguments)}function yc(){return(yc=(0,W.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:_c(r)},a=V1.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let f="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw as.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function Tg(n){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,W.Z)(function*(n,e=G1,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw as.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw as.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new W1;return setTimeout((0,W.Z)(function*(){f.abort()}),void 0!==t?t:6e4),AS({appId:r,apiKey:i,measurementId:a},c,f,e)})).apply(this,arguments)}function AS(n,e,t){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,W.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=G1){var a;const{appId:c,measurementId:f}=n;try{yield z1(r,e)}catch(m){if(f)return Mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=yield SS(n);return i.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!NS(v)){if(i.deleteThrottleMetadata(c),f)return Mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw m}const E=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,pt.$s)(t,i.intervalMillis,30):(0,pt.$s)(t,i.intervalMillis),I={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return i.setThrottleMetadata(c,I),Mr.debug(`Calling attemptFetch again in ${E} millis`),AS(n,I,r,i)}})).apply(this,arguments)}function z1(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(as.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NS(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class W1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Cg,Ag;function Sg(){return(Sg=(0,W.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function gv(n){Ag=n}function mv(n){Cg=n}function kS(){return kl.apply(this,arguments)}function kl(){return(kl=(0,W.Z)(function*(){if(!(0,pt.hl)())return Mr.warn(as.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pt.eu)()}catch(n){return Mr.warn(as.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function _v(){return(_v=(0,W.Z)(function*(n,e,t,r,i,a,c){var f;const m=Tg(n);m.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&Mr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Mr.error(M)),e.push(m);const v=kS().then(M=>{if(M)return r.getId()}),[E,I]=yield Promise.all([m,v]);j1(a)||U1(a,E.measurementId),Ag&&(i("consent","default",Ag),gv(void 0)),i("js",new Date);const N=null!==(f=c?.config)&&void 0!==f?f:{};return N.origin="firebase",N.update=!0,null!=I&&(N[F1]=I),i("config",E.measurementId,N),Cg&&(i("set",Cg),mv(void 0)),E.measurementId})).apply(this,arguments)}class PS{constructor(e){this.app=e}_delete(){return delete xo[this.app.options.appId],Promise.resolve()}}let xo={},yv=[];const vv={};let bv,Ro,Dh="dataLayer",wv=!1;function kx(n,e,t){!function Rx(){const n=[];if((0,pt.ru)()&&n.push("This is a browser extension environment."),(0,pt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=as.create("invalid-analytics-context",{errorInfo:e});Mr.warn(t.message)}}();const r=n.options.appId;if(!r)throw as.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw as.create("no-api-key");Mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xo[r])throw as.create("already-exists",{id:r});if(!wv){!function xl(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Dh);const{wrappedGtag:a,gtagCore:c}=function xx(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function hv(n,e,t,r){function a(){return(a=(0,W.Z)(function*(c,f,m){try{"event"===c?yield mc(n,e,t,f,m):"config"===c?yield TS(n,e,t,r,f,m):"consent"===c?n("consent","update",m):n("set",f)}catch(v){Mr.error(v)}})).apply(this,arguments)}return function i(c,f,m){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(xo,yv,vv,Dh,"gtag");Ro=a,bv=c,wv=!0}return xo[r]=function wh(n,e,t,r,i,a,c){return _v.apply(this,arguments)}(n,yv,vv,e,bv,Dh,t),new PS(n)}function Ng(){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,W.Z)(function*(){if((0,pt.ru)()||!(0,pt.zI)()||!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}const BS="@firebase/analytics";!function J1(){(0,qt._registerComponent)(new Ss.wA(bh,(e,{options:t})=>kx(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,qt._registerComponent)(new Ss.wA("analytics-internal",function n(e){try{const t=e.getProvider(bh).getImmediate();return{logEvent:(r,i,a)=>function LS(n,e,t,r){n=(0,pt.m9)(n),function q1(n,e,t,r,i){return Sg.apply(this,arguments)}(Ro,xo[n.app.options.appId],e,t,r).catch(i=>Mr.error(i))}(t,r,i,a)}}catch(t){throw as.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,qt.registerVersion)(BS,"0.9.3"),(0,qt.registerVersion)(BS,"0.9.3","esm2017")}();const Eh=new class US extends qp{}(class VS extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var bc=F(9468),wc=F(5363);const Th=new l.GfV("7.5.0"),Ev="__angularfire_symbol__analyticsIsSupportedValue",Mg="__angularfire_symbol__analyticsIsSupported",Tv="__angularfire_symbol__remoteConfigIsSupportedValue",Ih="__angularfire_symbol__remoteConfigIsSupported",Iv="__angularfire_symbol__messagingIsSupportedValue",xg="__angularfire_symbol__messagingIsSupported";globalThis[Mg]||(globalThis[Mg]=Ng().then(n=>globalThis[Ev]=n).catch(()=>globalThis[Ev]=!1)),globalThis[xg]||(globalThis[xg]=P1().then(n=>globalThis[Iv]=n).catch(()=>globalThis[Iv]=!1)),globalThis[Ih]||(globalThis[Ih]=f1().then(n=>globalThis[Tv]=n).catch(()=>globalThis[Tv]=!1));const Cv=(n,e)=>{const t=e?[e]:(0,qt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Pl(){}class Q1{constructor(e,t=Eh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class $S{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl)),t.pipe(Zn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kg=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Q1(Zone.current)),this.insideAngular=t.run(()=>new Q1(Zone.current,rc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function jS(n){return Fl().ngZone.runOutsideAngular(()=>n())}function Ll(n){return Fl().ngZone.run(()=>n())}function xi(n){return Fl(),function X1(n){return function(t){return(t=t.lift(new $S(n.ngZone))).pipe((0,bc.R)(n.outsideAngular),(0,wc.Q)(n.insideAngular))}}(Fl())(n)}const eE=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ll(()=>n.apply(void 0,r))},tE=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=Ll(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl)))),r[a]=eE(r[a],t));const i=jS(()=>n.apply(this,r));if(!e){if(i instanceof $n.y){const a=Fl();return i.pipe((0,bc.R)(a.outsideAngular),(0,wc.Q)(a.insideAngular))}return Ll(()=>i)}return i instanceof $n.y?i.pipe(xi):i instanceof Promise?Ll(()=>new Promise((a,c)=>i.then(f=>Ll(()=>a(f)),f=>Ll(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ll(()=>i)};function Sh(){return(0,Tn.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Dc(n,e=Vi.y){return n=n??HS,(0,Tn.e)((t,r)=>{let i,a=!0;t.subscribe((0,gn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function HS(n,e){return n===e}var gt,xs=F(2011),Sv=(F(9568),F(3942)),rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rs={},Av=Av||{},xt=rE||self;function Pg(){}function Ah(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ks(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nv="closure_uid_"+(1e9*Math.random()>>>0),zx=0;function sE(n,e,t){return n.call.apply(n.bind,arguments)}function Ov(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sE:Ov).apply(null,arguments)}function Ec(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function ko(){this.s=this.s,this.o=this.o}ko.prototype.s=!1,ko.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function iE(n){Object.prototype.hasOwnProperty.call(n,Nv)&&n[Nv]||(n[Nv]=++zx)}(this)},ko.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Rv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ah(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Hr.prototype.h=function(){this.defaultPrevented=!0};var GS=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",Pg,e),xt.removeEventListener("test",Pg,e)}catch{}return n}();function Lg(n){return/^[\s\xa0]*$/.test(n)}var oE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kv(n,e){return n<e?-1:n>e?1:0}function Nh(){var n=xt.navigator;return n&&(n=n.userAgent)?n:""}function Po(n){return-1!=Nh().indexOf(n)}function Bg(n){return Bg[" "](n),n}Bg[" "]=Pg;var Mh,n,WS=Po("Opera"),Oh=Po("Trident")||Po("MSIE"),aE=Po("Edge"),Pv=aE||Oh,Fv=Po("Gecko")&&!(-1!=Nh().toLowerCase().indexOf("webkit")&&!Po("Edge"))&&!(Po("Trident")||Po("MSIE"))&&!Po("Edge"),lE=-1!=Nh().toLowerCase().indexOf("webkit")&&!Po("Edge");function Lv(){var n=xt.document;return n?n.documentMode:void 0}e:{var Bv="",Vv=(n=Nh(),Fv?/rv:([^\);]+)(\)|;)/.exec(n):aE?/Edge\/([\d\.]+)/.exec(n):Oh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lE?/WebKit\/(\S+)/.exec(n):WS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vv&&(Bv=Vv?Vv[1]:""),Oh){var Uv=Lv();if(null!=Uv&&Uv>parseFloat(Bv)){Mh=String(Uv);break e}}Mh=Bv}var qS={};var uE=xt.document&&Oh&&(Lv()||parseInt(Mh,10))||void 0;function Ic(n,e){if(Hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fv){e:{try{Bg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ic.X.h.call(this)}}jr(Ic,Hr);var cE={2:"touch",3:"pen",4:"mouse"};Ic.prototype.h=function(){Ic.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),dE=0;function hE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++dE,this.ba=this.ea=!1}function Vg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function fE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jv(n){const e={};for(const t in n)e[t]=n[t];return e}const Hv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Hv.length;a++)t=Hv[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ug(n){this.src=n,this.g={},this.h=0}function zv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=xv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Vg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bl(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Ug.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Bl(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new hE(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var Wv="closure_lm_"+(1e6*Math.random()|0),xh={};function ks(n,e,t,r,i){if(r&&r.once)return Sc(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ks(n,e[a],t,r,i);return null}return t=Kv(t),n&&n[Cc]?n.N(e,t,Ks(r)?!!r.capture:!!r,i):pE(n,e,t,!1,r,i)}function pE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Ks(i)?!!i.capture:!!i,f=Ac(n);if(f||(n[Wv]=f=new Ug(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function qv(){const e=$g;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)GS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(mE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sc(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Sc(n,e[a],t,r,i);return null}return t=Kv(t),n&&n[Cc]?n.O(e,t,Ks(r)?!!r.capture:!!r,i):pE(n,e,t,!0,r,i)}function gE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)gE(n,e[a],t,r,i);else r=Ks(r)?!!r.capture:!!r,t=Kv(t),n&&n[Cc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bl(a=n.g[e],t,r,i))&&(Vg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ac(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bl(e,t,r,i)),(t=-1<n?e[n]:null)&&Zv(t))}function Zv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Cc])zv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(mE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ac(e))?(zv(t,n),0==t.h&&(t.src=null,e[Wv]=null)):Vg(n)}}}function mE(n){return n in xh?xh[n]:xh[n]="on"+n}function $g(n,e){if(n.ba)n=!0;else{e=new Ic(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Zv(n),n=t.call(r,e)}return n}function Ac(n){return(n=n[Wv])instanceof Ug?n:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kv(n){return"function"==typeof n?n:(n[Yv]||(n[Yv]=function(e){return n.handleEvent(e)}),n[Yv])}function yr(){ko.call(this),this.i=new Ug(this),this.P=this,this.I=null}function xr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Hr(e,n);else if(e instanceof Hr)e.target=e.target||n;else{var i=e;Gv(e=new Hr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Nc(c,r,!0,e)&&i}if(i=Nc(c=e.g=n,r,!0,e)&&i,i=Nc(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Nc(c=e.g=t[a],r,!1,e)&&i}function Nc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,m=c.ha||c.src;c.ea&&zv(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}jr(yr,ko),yr.prototype[Cc]=!0,yr.prototype.removeEventListener=function(n,e,t,r){gE(this,n,e,t,r)},yr.prototype.M=function(){if(yr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vg(t[r]);delete n.g[e],n.h--}}this.I=null},yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var jg=xt.JSON.stringify;function Jv(){var n=s0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var n0,Xv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new e0,n=>n.reset());class e0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function t0(n){xt.setTimeout(()=>{throw n},0)}function _E(n,e){n0||function YS(){var n=xt.Promise.resolve(void 0);n0=function(){n.then(o0)}}(),r0||(n0(),r0=!0),s0.add(n,e)}var r0=!1,s0=new class Qv{constructor(){this.h=this.g=null}add(e,t){const r=Xv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function o0(){for(var n;n=Jv();){try{n.h.call(n.g)}catch(t){t0(t)}var e=Xv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}r0=!1}function Rh(n,e){yr.call(this),this.h=n||1,this.g=e||xt,this.j=ni(this.lb,this),this.l=Date.now()}function Hg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Gg(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function a0(n){n.g=Gg(()=>{n.g=null,n.i&&(n.i=!1,a0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jr(Rh,yr),(gt=Rh.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xr(this,"tick"),this.ca&&(Hg(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Rh.X.M.call(this),Hg(this),delete this.g};class KS extends ko{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:a0(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(n){ko.call(this),this.h=n,this.g={}}jr(Oc,ko);var l0=[];function yE(n,e,t,r){Array.isArray(t)||(t&&(l0[0]=t.toString()),t=l0);for(var i=0;i<t.length;i++){var a=ks(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function u0(n){fE(n.g,function(e,t){this.g.hasOwnProperty(t)&&Zv(e)},n),n.g={}}function kh(){this.g=!0}function xc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wx(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return jg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Oc.prototype.M=function(){Oc.X.M.call(this),u0(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kh.prototype.Aa=function(){this.g=!1},kh.prototype.info=function(){};var Rc={},c0=null;function Ph(){return c0=c0||new yr}function kc(n){Hr.call(this,Rc.Pa,n)}function Fh(n){const e=Ph();xr(e,new kc(e))}function zg(n,e){Hr.call(this,Rc.STAT_EVENT,n),this.stat=e}function gi(n){const e=Ph();xr(e,new zg(e,n))}function d0(n,e){Hr.call(this,Rc.Qa,n),this.size=e}function Lh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}Rc.Pa="serverreachability",jr(kc,Hr),Rc.STAT_EVENT="statevent",jr(zg,Hr),Rc.Qa="timingevent",jr(d0,Hr);var Wg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Bh(){}function f0(){}Bh.prototype.h=null;var qg,xa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vh(){Hr.call(this,"d")}function bE(){Hr.call(this,"c")}function Zg(){}function Pc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Oc(this),this.O=QS,this.T=new Rh(n=Pv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}jr(Vh,Hr),jr(bE,Hr),jr(Zg,Bh),Zg.prototype.g=function(){return new XMLHttpRequest},Zg.prototype.i=function(){return{}},qg=new Zg;var QS=45e3,Yg={},Fc={};function wE(n,e,t){n.K=1,n.v=Gh(Js(e)),n.s=t,n.P=!0,DE(n,null)}function DE(n,e){n.F=Date.now(),Uh(n),n.A=Js(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),_0(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Vl,n.g=R0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new KS(ni(n.La,n,n.g),n.N)),yE(n.S,n.g,"readystatechange",n.ib),e=n.H?jv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Fh(),function pi(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var E=v[0];v=v[1];var I=E.split("_");c=2<=I.length&&"type"==I[1]?c+(E+"=")+v+"&":c+(E+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function XS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function EE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=eA(n,t),i==Fc){4==e&&(n.o=4,gi(14),r=!1),xc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Yg){n.o=4,gi(15),xc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xc(n.j,n.m,i,null),Kg(n,i)}XS(n)&&i!=Fc&&i!=Yg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),O0(e),e.K=!0,gi(11))):(xc(n.j,n.m,t,"[Invalid Chunked Response]"),Ra(n),jh(n))}function eA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fc:(t=Number(e.substring(t,r)),isNaN(t)?Yg:(r+=1)+t>e.length?Fc:(e=e.substr(r,t),n.C=r+t,e))}function Uh(n){n.V=Date.now()+n.O,p0(n,n.O)}function p0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Lh(ni(n.gb,n),e)}function $h(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function jh(n){0==n.l.G||n.I||BE(n.l,n)}function Ra(n){$h(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Hg(n.T),u0(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Kg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||SE(t.h,n)))if(!n.J&&SE(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;im(t),Zh(t)}FE(t),gi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Lh(ni(t.cb,t),6e3));if(1>=sA(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else $c(t,11)}else if((n.J||t.g==n)&&im(t),!Lg(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const E=v[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const I=v[4];null!=I&&(t.Ca=I,t.j.info("SVER="+t.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.J=r=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const M=n.g;if(M){const $=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.h;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(w0(a,a.h),a.h=null))}if(r.D){const Y=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.za=Y,xn(r.F,r.D,Y))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=VE(r,r.H?r.ka:null,r.V),c.J){AE(r.h,c);var f=c,m=r.J;m&&f.setTimeout(m),f.B&&($h(f),Uh(f)),r.g=c}else PE(r);0<t.i.length&&Uc(t)}else"stop"!=v[0]&&"close"!=v[0]||$c(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?$c(t,7):A0(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Fh()}catch{}}function g0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ah(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nA(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ah(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ah(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(gt=Pc.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==Ps(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const E=Ps(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Pv||this.g&&(this.h.h||this.g.fa()||T0(this.g)))){this.I||4!=E||7==e||Fh(),$h(this);var t=this.g.aa();this.Y=t;t:if(XS(this)){var r=T0(this.g);n="";var i=r.length,a=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ra(this),jh(this);var c="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function Mc(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lg(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,gi(12),Ra(this),jh(this);break e}xc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,t)}this.P?(EE(this,E,c),Pv&&this.i&&3==E&&(yE(this.S,this.T,"tick",this.hb),this.T.start())):(xc(this.j,this.m,c,null),Kg(this,c)),4==E&&Ra(this),this.i&&!this.I&&(4==E?BE(this.l,this):(this.i=!1,Uh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),Ra(this),jh(this)}}}catch{}},gt.hb=function(){if(this.g){var n=Ps(this.g),e=this.g.fa();this.C<e.length&&($h(this),EE(this,n,e),this.i&&4!=n&&Uh(this))}},gt.cancel=function(){this.I=!0,Ra(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function JS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fh(),gi(17)),Ra(this),this.o=2,jh(this)):p0(this,this.V-n)};var TE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ka){this.h=void 0!==e?e:n.h,Hh(this,n.j),this.s=n.s,this.g=n.g,Jg(this,n.m),this.l=n.l,e=n.i;var t=new Pa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),CE(this,t),this.o=n.o}else n&&(t=String(n).match(TE))?(this.h=!!e,Hh(this,t[1]||"",!0),this.s=Qg(t[2]||""),this.g=Qg(t[3]||"",!0),Jg(this,t[4]),this.l=Qg(t[5]||"",!0),CE(this,t[6]||"",!0),this.o=Qg(t[7]||"")):(this.h=!!e,this.i=new Pa(null,this.h))}function Js(n){return new ka(n)}function Hh(n,e,t){n.j=t?Qg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function CE(n,e,t){e instanceof Pa?(n.i=e,function Qx(n,e){e&&!n.j&&(Ul(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(m0(this,r),_0(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Xg(e,Kx)),n.i=new Pa(e,n.h))}function xn(n,e,t){n.i.set(e,t)}function Gh(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ka.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xg(e,rA,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xg(e,rA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xg(t,"/"==t.charAt(0)?Yx:Zx,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xg(t,Jx)),n.join("")};var rA=/[#\/\?@]/g,Zx=/[#\?:]/g,Yx=/[#\?]/g,Kx=/[#\?@]/g,Jx=/#/g;function Pa(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ul(n){n.g||(n.g=new Map,n.h=0,n.i&&function IE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function m0(n,e){Ul(n),e=$l(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zh(n,e){return Ul(n),e=$l(n,e),n.g.has(e)}function _0(n,e,t){m0(n,e),0<t.length&&(n.i=null,n.g.set($l(n,e),Fg(t)),n.h+=t.length)}function $l(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function v0(n){this.l=n||iA,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ga&&xt.g.Ga()&&xt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Pa.prototype).add=function(n,e){Ul(this),this.i=null,n=$l(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Ul(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){Ul(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},gt.W=function(n){Ul(this);let e=[];if("string"==typeof n)zh(this,n)&&(e=e.concat(this.g.get($l(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Ul(this),this.i=null,zh(this,n=$l(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var iA=10;function b0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sA(n){return n.h?1:n.g?n.g.size:0}function SE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function w0(n,e){n.g?n.g.add(e):n.h=e}function AE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Wh(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fg(n.i)}function D0(){}function Xx(){this.g=new D0}function eR(n,e,t){const r=t||"";try{g0(n,function(i,a){let c=i;Ks(i)&&(c=jg(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function em(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qh(n){this.l=n.ac||null,this.j=n.jb||!1}function tm(n,e){yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}v0.prototype.cancel=function(){if(this.i=Wh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},D0.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},D0.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},jr(qh,Bh),qh.prototype.g=function(){return new tm(this.l,this.j)},qh.prototype.i=function(n){return function(){return n}}({}),jr(tm,yr);var NE=0;function OE(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Lc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bc(n)}function Bc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=tm.prototype).open=function(n,e){if(this.readyState!=NE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bc(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lc(this)),this.readyState=NE},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OE(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lc(this):Bc(this),3==this.readyState&&OE(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,Lc(this))},gt.Ua=function(n){this.g&&(this.response=n,Lc(this))},gt.ga=function(){this.g&&Lc(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nR=xt.JSON.parse;function an(n){yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ME,this.K=this.L=!1}jr(an,yr);var ME="",E0=/^https?$/i,oA=["POST","PUT"];function Wi(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xE(n),rm(n)}function xE(n){n.D||(n.D=!0,xr(n,"complete"),xr(n,"error"))}function nm(n){if(n.h&&typeof Av<"u"&&(!n.C[1]||4!=Ps(n)||2!=n.aa()))if(n.v&&4==Ps(n))Gg(n.Ha,0,n);else if(xr(n,"readystatechange"),4==Ps(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(TE)[1]||null;if(!i&&xt.self&&xt.self.location){var a=xt.self.location.protocol;i=a.substr(0,a.length-1)}r=!E0.test(i?i.toLowerCase():"")}t=r}if(t)xr(n,"complete"),xr(n,"success");else{n.m=6;try{var c=2<Ps(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",xE(n)}}finally{rm(n)}}}function rm(n,e){if(n.g){RE(n);const t=n.g,r=n.C[0]?Pg:null;n.g=null,n.C=null,e||xr(n,"ready");try{t.onreadystatechange=r}catch{}}}function RE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function Ps(n){return n.g?n.g.readyState:0}function T0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ME:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function I0(n){let e="";return fE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function C0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=I0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function Vc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function S0(n){this.Ca=0,this.i=[],this.j=new kh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vc("baseRetryDelayMs",5e3,n),this.bb=Vc("retryDelaySeedMs",1e4,n),this.$a=Vc("forwardChannelMaxRetries",2,n),this.ta=Vc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new v0(n&&n.concurrentRequestLimit),this.Fa=new Xx,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function A0(n){if(kE(n),3==n.G){var e=n.U++,t=Js(n.F);xn(t,"SID",n.I),xn(t,"RID",e),xn(t,"TYPE","terminate"),jl(n,t),(e=new Pc(n,n.j,e,void 0)).K=2,e.v=Gh(Js(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=R0(e.l,null),e.g.da(e.v)),e.F=Date.now(),Uh(e)}x0(n)}function Zh(n){n.g&&(O0(n),n.g.cancel(),n.g=null)}function kE(n){Zh(n),n.u&&(xt.clearTimeout(n.u),n.u=null),im(n),n.h.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function Uc(n){b0(n.h)||n.m||(n.m=!0,_E(n.Ja,n),n.C=0)}function N0(n,e){var t;t=e?e.m:n.U++;const r=Js(n.F);xn(r,"SID",n.I),xn(r,"RID",t),xn(r,"AID",n.T),jl(n,r),n.o&&n.s&&C0(r,n.o,n.s),t=new Pc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Qs(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),w0(n.h,t),wE(t,r,e)}function jl(n,e){n.ia&&fE(n.ia,function(t,r){xn(e,r,t)}),n.l&&g0({},function(t,r){xn(e,r,t)})}function Qs(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ni(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const E=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),f=!1;else try{eR(E,c,"req"+v+"_")}catch{r&&r(E)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function PE(n){n.g||n.u||(n.Z=1,_E(n.Ia,n),n.A=0)}function FE(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Lh(ni(n.Ia,n),M0(n,n.A)),n.A++,0))}function O0(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function LE(n){n.g=new Pc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Js(n.sa);xn(e,"RID","rpc"),xn(e,"SID",n.I),xn(e,"CI",n.L?"0":"1"),xn(e,"AID",n.T),xn(e,"TYPE","xmlhttp"),jl(n,e),n.o&&n.s&&C0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Gh(Js(e)),t.s=null,t.P=!0,DE(t,n)}function im(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function BE(n,e){var t=null;if(n.g==e){im(n),O0(n),n.g=null;var r=2}else{if(!SE(n.h,e))return;t=e.D,AE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;xr(r=Ph(),new d0(r,t)),Uc(n)}else PE(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Fa(n,e){return!(sA(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Lh(ni(n.Ja,n,e),M0(n,n.C)),n.C++,0)))}(n,e)||2==r&&FE(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:$c(n,5);break;case 4:$c(n,10);break;case 3:$c(n,6);break;default:$c(n,2)}}function M0(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function $c(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ni(n.kb,n);t||(t=new ka("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Hh(t,"https"),Gh(t)),function tR(n,e){const t=new kh;if(xt.Image){const r=new Image;r.onload=Ec(em,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ec(em,t,r,"TestLoadImage: error",!1,e),r.onabort=Ec(em,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ec(em,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gi(2);n.G=0,n.l&&n.l.va(e),x0(n),kE(n)}function x0(n){if(n.G=0,n.la=[],n.l){const e=Wh(n.h);(0!=e.length||0!=n.i.length)&&(Rv(n.la,e),Rv(n.la,n.i),n.h.i.length=0,Fg(n.i),n.i.length=0),n.l.ua()}}function VE(n,e,t){var r=t instanceof ka?Js(t):new ka(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Jg(r,r.m);else{var i=xt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ka(null,void 0);r&&Hh(a,r),e&&(a.g=e),i&&Jg(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&xn(r,t,e),xn(r,"VER",n.ma),jl(n,r),r}function R0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(t&&n.Da&&!n.ra?new qh({jb:!0}):n.ra)).Ka(n.H),e}function aA(){}function jc(){if(Oh&&!(10<=Number(uE)))throw Error("Environmental error: no available transport.")}function Ri(n,e){yr.call(this),this.g=new S0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Lg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hl(this)}function k0(n){Vh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function P0(){bE.call(this),this.status=1}function Hl(n){this.g=n}(gt=an.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qg.g(),this.C=function h0(n){return n.h||(n.h=n.i())}(this.u?this.u:qg),this.g.onreadystatechange=ni(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Wi(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=xt.FormData&&n instanceof xt.FormData,!(0<=xv(oA,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RE(this),0<this.B&&((this.K=function rR(n){return Oh&&function ZS(){return function zS(n){var e=qS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=oE(String(Mh)).split("."),t=oE("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=kv(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||kv(0==i[2].length,0==a[2].length)||kv(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.qa,this)):this.A=Gg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Wi(this,a)}},gt.qa=function(){typeof Av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xr(this,"complete"),xr(this,"abort"),rm(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rm(this,!0)),an.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?nm(this):this.fb())},gt.fb=function(){nm(this)},gt.aa=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nR(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=S0.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Pc(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=jv(a),Gv(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qs(this,i,e),xn(t=Js(this.F),"RID",n),xn(t,"CVER",22),this.D&&xn(t,"X-HTTP-Session-Id",this.D),jl(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(I0(a)))+"&"+e:this.o&&C0(t,this.o,a)),w0(this.h,i),this.Ya&&xn(t,"TYPE","init"),this.O?(xn(t,"$req",e),xn(t,"SID","null"),i.Z=!0,wE(i,t,null)):wE(i,t,e),this.G=2}}else 3==this.G&&(n?N0(this,n):0==this.i.length||b0(this.h)||N0(this))},gt.Ia=function(){if(this.u=null,LE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Lh(ni(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gi(10),Zh(this),LE(this))},gt.cb=function(){null!=this.v&&(this.v=null,Zh(this),FE(this),gi(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),gi(2)):(this.j.info("Failed to ping google.com"),gi(1))},(gt=aA.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},jc.prototype.g=function(n,e){return new Ri(n,e)},jr(Ri,yr),Ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;gi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=VE(n,null,n.V),Uc(n)},Ri.prototype.close=function(){A0(this.g)},Ri.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=jg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Uc(e)},Ri.prototype.M=function(){this.g.l=null,delete this.j,A0(this.g),delete this.g,Ri.X.M.call(this)},jr(k0,Vh),jr(P0,bE),jr(Hl,aA),Hl.prototype.xa=function(){xr(this.g,"a")},Hl.prototype.wa=function(n){xr(this.g,new k0(n))},Hl.prototype.va=function(n){xr(this.g,new P0)},Hl.prototype.ua=function(){xr(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,Ri.prototype.send=Ri.prototype.u,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,Wg.NO_ERROR=0,Wg.TIMEOUT=8,Wg.HTTP_ERROR=6,vE.COMPLETE="complete",f0.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",yr.prototype.listen=yr.prototype.N,an.prototype.listenOnce=an.prototype.O,an.prototype.getLastError=an.prototype.Oa,an.prototype.getLastErrorCode=an.prototype.Ea,an.prototype.getStatus=an.prototype.aa,an.prototype.getResponseJson=an.prototype.Sa,an.prototype.getResponseText=an.prototype.fa,an.prototype.send=an.prototype.da,an.prototype.setWithCredentials=an.prototype.Ka;var UE=Rs.createWebChannelTransport=function(){return new jc},sm=Rs.getStatEventTarget=function(){return Ph()},Hc=Rs.ErrorCode=Wg,$E=Rs.EventType=vE,lA=Rs.Event=Rc,jE=Rs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},iR=Rs.FetchXmlHttpFactory=qh,F0=Rs.WebChannel=f0,sR=Rs.XhrIo=an;const L0="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let Gc="9.17.1";const La=new is.Yd("@firebase/firestore");function HE(){return La.logLevel}function xe(n,...e){if(La.logLevel<=is.in.DEBUG){const t=e.map(B0);La.debug(`Firestore (${Gc}): ${n}`,...t)}}function ar(n,...e){if(La.logLevel<=is.in.ERROR){const t=e.map(B0);La.error(`Firestore (${Gc}): ${n}`,...t)}}function zc(n,...e){if(La.logLevel<=is.in.WARN){const t=e.map(B0);La.warn(`Firestore (${Gc}): ${n}`,...t)}}function B0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function ft(n,e){n||st()}function qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class om{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class V0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U0{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kn,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,W.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kn)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new om(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Rr(e)}}class am{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class aR{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new am(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.A=t.token,new dA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GE(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function Wc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function WE(n){return n+"\0"}class In{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new In(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new In(0,0))}static max(){return new vt(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qc{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends qc{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const hA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends qc{construct(e,t,r){return new Rn(e,t,r)}static isValidIdentifier(e){return hA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}class $0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function lm(n){return n.fields.find(e=>2===e.kind)}function Fo(n){return n.fields.filter(e=>2!==e.kind)}$0.UNKNOWN_ID=-1;class um{constructor(e,t){this.fieldPath=e,this.kind=t}}class cm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cm(0,qi.min())}}function qE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(1e9===r?new In(t+1,0):new In(t,r));return new qi(i,Ge.empty(),e)}function ZE(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(vt.min(),Ge.empty(),-1)}static max(){return new qi(vt.max(),Ge.empty(),-1)}}function YE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gl(n){return KE.apply(this,arguments)}function KE(){return KE=(0,W.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==pA)throw n;xe("LocalStore","Unexpectedly lost primary lease")}),KE.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(E=>{c[v]=E,++f,f===a&&r(c)},E=>i(E))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class j0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Kn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new dm(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=u(r.target.error);this.P.reject(new dm(e,i))}}static open(e,t,r,i){try{return new j0(t,e.transaction(i,r))}catch(a){throw new dm(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dR(t)}}class Xs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Xs.D((0,pt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),s(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,pt.hl)())return!1;if(Xs.N())return!0;const e=(0,pt.z$)(),t=Xs.D(e),r=0<t&&t<10,i=Xs.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,W.Z)(function*(){return t.db||(xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new dm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new we(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new we(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new dm(e,f))},a.onupgradeneeded=c=>{xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,W.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const m=j0.open(a.db,e,c?"readonly":"readwrite",r),v=i(m).next(E=>(m.V(),E)).catch(E=>(m.abort(E),te.reject(E))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,E="FirebaseError"!==v.name&&f<3;if(xe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),a.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cR{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return s(this.q.delete())}}class dm extends we{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ba(n){return"IndexedDbTransactionError"===n.name}class dR{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),s(r)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),s(this.store.add(e))}get(e){return s(this.store.get(e)).next(t=>(void 0===t&&(t=null),xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),s(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),s(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new te((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new te((r,i)=>{t.onerror=a=>{const c=u(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new te((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new cR(f),v=t(f.primaryKey,f.value,m);if(v instanceof te){const E=v.catch(I=>(m.done(),te.reject(I)));r.push(E)}m.isDone?i():null===m.G?f.continue():f.continue(m.G)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function s(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=u(r.target.error);t(i)}})}let o=!1;function u(n){const e=Xs.D((0,pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o||(o=!0,setTimeout(()=>{throw r},0)),r}}return n}class d{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{xe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ba(r)?xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gl(r)}yield t.nt(6e4)}))}}class h{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return te.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return xe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(xe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=ZE(a);YE(c,r)>0&&(r=c)}),new qi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let p=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class y{constructor(e,t,r,i,a,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class D{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new D("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof D&&e.projectId===this.projectId&&e.database===this.database}}function T(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function C(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function R(n){return null==n}function G(n){return 0===n&&1/n==-1/0}function J(n){return"number"==typeof n&&Number.isInteger(n)&&!G(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class _e{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _e(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new _e(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_e.EMPTY_BYTE_STRING=new _e("");const Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function et(n){if(ft(!!n),"string"==typeof n){let e=0;const t=Ze.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ye(n){return"string"==typeof n?_e.fromBase64String(n):_e.fromUint8Array(n)}function Rt(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cn(n){const e=n.mapValue.fields.__previous_value__;return Rt(e)?Cn(e):e}function Sn(n){const e=et(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}const zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},JE={nullValue:"NULL_VALUE"};function Yh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rt(n)?4:gR(n)?9007199254740991:10:st()}function Va(n,e){if(n===e)return!0;const t=Yh(n);if(t!==Yh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sn(n).isEqual(Sn(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=et(r.timestampValue),c=et(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ye(n.bytesValue).isEqual(ye(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=tt(r.doubleValue),c=tt(i.doubleValue);return a===c?G(a)===G(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Wc(n.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(T(a)!==T(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Va(a[f],c[f])))return!1;return!0}(n,e);default:return st()}var i}function H0(n,e){return void 0!==(n.values||[]).find(t=>Va(t,e))}function Zc(n,e){if(n===e)return 0;const t=Yh(n),r=Yh(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=tt(i.integerValue||i.doubleValue),f=tt(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return hR(n.timestampValue,e.timestampValue);case 4:return hR(Sn(n),Sn(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=ye(i),f=ye(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=Bt(c[m],f[m]);if(0!==v)return v}return Bt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Bt(tt(i.latitude),tt(a.latitude));return 0!==c?c:Bt(tt(i.longitude),tt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const v=Zc(c[m],f[m]);if(v)return v}return Bt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===zl.mapValue&&a===zl.mapValue)return 0;if(i===zl.mapValue)return 1;if(a===zl.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const I=Bt(f[E],v[E]);if(0!==I)return I;const N=Zc(c[f[E]],m[v[E]]);if(0!==N)return N}return Bt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw st()}}function hR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=et(n),r=et(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function hm(n){return mA(n)}function mA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=et(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ye(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=mA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${mA(r.fields[f])}`;return a+"}"}(n.mapValue):st();var e}function Kh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _A(n){return!!n&&"integerValue"in n}function G0(n){return!!n&&"arrayValue"in n}function fR(n){return!!n&&"nullValue"in n}function pR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function QE(n){return!!n&&"mapValue"in n}function z0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return C(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=z0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=z0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function VV(n){return"nullValue"in n?JE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Kh(D.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function UV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Kh(D.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zl:st()}function mR(n,e){const t=Zc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _R(n,e){const t=Zc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yc{constructor(e,t){this.position=e,this.inclusive=t}}function yR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):Zc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Va(n.position[t],e.position[t]))return!1;return!0}class bR{}class Xt extends bR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $V(e,t,r):"array-contains"===t?new GV(e,r):"in"===t?new CR(e,r):"not-in"===t?new zV(e,r):"array-contains-any"===t?new WV(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new jV(e,r):new HV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zc(t,this.value)):null!==t&&Yh(this.value)===Yh(t)&&this.matchesComparison(Zc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends bR{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new _n(e,t)}matches(e){return fm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fm(n){return"and"===n.op}function yA(n){return"or"===n.op}function vA(n){return wR(n)&&fm(n)}function wR(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function bA(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+hm(n.value);if(vA(n))return n.filters.map(e=>bA(e)).join(",");{const e=n.filters.map(t=>bA(t)).join(",");return`${n.op}(${e})`}}function DR(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Va(t.value,r.value)):n instanceof _n?function(t,r){return r instanceof _n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&DR(a,r.filters[c]),!0)}(n,e):void st();var t,r}function ER(n,e){const t=n.filters.concat(e);return _n.create(t,n.op)}function TR(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${hm(e.value)}`:n instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(TR).join(" ,")+"}"}(n):"Filter";var e}class $V extends Xt{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class jV extends Xt{constructor(e,t){super(e,"in",t),this.keys=IR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HV extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=IR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class GV extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return G0(t)&&H0(t.arrayValue,this.value)}}class CR extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&H0(this.value.arrayValue,t)}}class zV extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(H0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!H0(this.value.arrayValue,t)}}class WV extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!G0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>H0(this.value.arrayValue,r))}}class pm{constructor(e,t="asc"){this.field=e,this.dir=t}}function qV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class lr{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new XE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new XE(this.root,e,this.comparator,!1)}getReverseIterator(){return new XE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new XE(this.root,e,this.comparator,!0)}}class XE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??mi.RED,this.left=i??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new mi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1,mi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SR(this.data.getIterator())}getIteratorFrom(e){return new SR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class SR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gm(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new ls([])}unionWith(e){let t=new En(Rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!QE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=z0(t)}setAll(e){let t=Rn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=z0(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());QE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];QE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){C(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _i(z0(this.value))}}function AR(n){const e=[];return C(n.fields,(t,r)=>{const i=new Rn([t]);if(QE(r)){const a=AR(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new ls(e)}class kn{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,vt.min(),vt.min(),vt.min(),_i.empty(),0)}static newFoundDocument(e,t,r,i){return new kn(e,1,t,vt.min(),r,i,0)}static newNoDocument(e,t){return new kn(e,2,t,vt.min(),vt.min(),_i.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,vt.min(),vt.min(),_i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZV{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ft=null}}function wA(n,e=null,t=[],r=[],i=null,a=null,c=null){return new ZV(n,e,t,r,i,a,c)}function Jh(n){const e=qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),R(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hm(r)).join(",")),e.ft=t}return e.ft}function W0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vR(n.startAt,e.startAt)&&vR(n.endAt,e.endAt)}function eT(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tT(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function NR(n,e,t){let r=JE,i=!0;for(const a of tT(n,e)){let c=JE,f=!0;switch(a.op){case"<":case"<=":c=VV(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=JE}mR({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];mR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function OR(n,e,t){let r=zl,i=!0;for(const a of tT(n,e)){let c=zl,f=!0;switch(a.op){case">=":case">":c=UV(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=zl}_R({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];_R({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Wl{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.dt=null,this._t=null}}function MR(n,e,t,r,i,a,c,f){return new Wl(n,e,t,r,i,a,c,f)}function mm(n){return new Wl(n)}function xR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function nT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function EA(n){return null!==n.collectionGroup}function Qh(n){const e=qe(n);if(null===e.dt){e.dt=[];const t=nT(e),r=DA(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new pm(t)),e.dt.push(new pm(Rn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pm(Rn.keyField(),a))}}}return e.dt}function Zi(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=wA(e.path,e.collectionGroup,Qh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Qh(e))t.push(new pm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Yc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yc(e.startAt.position,e.startAt.inclusive):null;e._t=wA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function TA(n,e){e.getFirstInequalityField(),nT(n);const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rT(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function q0(n,e){return W0(Zi(n),Zi(e))&&n.limitType===e.limitType}function RR(n){return`${Jh(Zi(n))}|lt:${n.limitType}`}function IA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>TR(r)).join(", ")}]`),R(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hm(r)).join(",")),`Target(${t})`}(Zi(n))}; limitType=${n.limitType})`}function Z0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Qh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=yR(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Qh(t),r)||t.endAt&&!function(i,a,c){const f=yR(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Qh(t),r)));var t,r}function kR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PR(n){return(e,t)=>{let r=!1;for(const i of Qh(n)){const a=YV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function YV(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?Zc(f,m):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function FR(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G(e)?"-0":e}}function LR(n){return{integerValue:""+n}}function BR(n,e){return J(e)?LR(e):FR(n,e)}class iT{constructor(){this._=void 0}}function KV(n,e,t){return n instanceof _m?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Xh?UR(n,e):n instanceof ef?$R(n,e):function(r,i){const a=VR(r,i),c=jR(a)+jR(r.gt);return _A(a)&&_A(r.gt)?LR(c):FR(r.yt,c)}(n,e)}function JV(n,e,t){return n instanceof Xh?UR(n,e):n instanceof ef?$R(n,e):t}function VR(n,e){return n instanceof ym?_A(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class _m extends iT{}class Xh extends iT{constructor(e){super(),this.elements=e}}function UR(n,e){const t=HR(e);for(const r of n.elements)t.some(i=>Va(i,r))||t.push(r);return{arrayValue:{values:t}}}class ef extends iT{constructor(e){super(),this.elements=e}}function $R(n,e){let t=HR(e);for(const r of n.elements)t=t.filter(i=>!Va(i,r));return{arrayValue:{values:t}}}class ym extends iT{constructor(e,t){super(),this.yt=e,this.gt=t}}function jR(n){return tt(n.integerValue||n.doubleValue)}function HR(n){return G0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Y0{constructor(e,t){this.field=e,this.transform=t}}class XV{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class oT{}function GR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bm(n.key,jn.none()):new vm(n.key,n.data,jn.none());{const t=n.data,r=_i.empty();let i=new En(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new ql(n.key,r,new ls(i.toArray()),jn.none())}}function eU(n,e,t){n instanceof vm?function(r,i,a){const c=r.value.clone(),f=qR(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ql?function(r,i,a){if(!sT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=qR(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(WR(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function K0(n,e,t,r){return n instanceof vm?function(i,a,c,f){if(!sT(i.precondition,a))return c;const m=i.value.clone(),v=ZR(i.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof ql?function(i,a,c,f){if(!sT(i.precondition,a))return c;const m=ZR(i.fieldTransforms,f,a),v=a.data;return v.setAll(WR(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(c=t,sT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function tU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=VR(r.transform,i||null);null!=a&&(null===t&&(t=_i.empty()),t.set(r.field,a))}return t||null}function zR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wc(t,r,(i,a)=>function QV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xh&&r instanceof Xh||t instanceof ef&&r instanceof ef?Wc(t.elements,r.elements,Va):t instanceof ym&&r instanceof ym?Va(t.gt,r.gt):t instanceof _m&&r instanceof _m);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vm extends oT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ql extends oT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qR(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,JV(c,f,t[i]))}return r}function ZR(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,KV(a,c,e))}return r}class bm extends oT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends oT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nU{constructor(e){this.count=e}}var kr,ln;function YR(n){switch(n){default:return st();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function KR(n){if(void 0===n)return ar("GRPC error has no .code"),re.UNKNOWN;switch(n){case kr.OK:return re.OK;case kr.CANCELLED:return re.CANCELLED;case kr.UNKNOWN:return re.UNKNOWN;case kr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case kr.INTERNAL:return re.INTERNAL;case kr.UNAVAILABLE:return re.UNAVAILABLE;case kr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case kr.NOT_FOUND:return re.NOT_FOUND;case kr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case kr.ABORTED:return re.ABORTED;case kr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case kr.DATA_LOSS:return re.DATA_LOSS;default:return st()}}(ln=kr||(kr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Kc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){C(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return A(this.inner)}size(){return this.innerSize}}const rU=new lr(Ge.comparator);function us(){return rU}const JR=new lr(Ge.comparator);function J0(...n){let e=JR;for(const t of n)e=e.insert(t.key,t);return e}function QR(n){let e=JR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ua(){return Q0()}function XR(){return Q0()}function Q0(){return new Kc(n=>n.toString(),(n,e)=>n.isEqual(e))}const iU=new lr(Ge.comparator),sU=new En(Ge.comparator);function Gt(...n){let e=sU;for(const t of n)e=e.add(t);return e}const oU=new En(Bt);function aT(){return oU}class X0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,eb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new X0(vt.min(),i,aT(),us(),Gt())}}class eb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new eb(r,t,Gt(),Gt(),Gt())}}class lT{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class ek{constructor(e,t){this.targetId=e,this.Et=t}}class tk{constructor(e,t,r=_e.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nk{constructor(){this.At=0,this.Rt=ik(),this.bt=_e.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Gt(),t=Gt(),r=Gt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new eb(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=ik()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class aU{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=us(),this.qt=rk(),this.Ut=new En(Bt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(eT(a))if(0===r){const c=new Ge(a.path);this.Qt(t,c,kn.newNoDocument(c,vt.min()))}else ft(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const f=this.Yt(c);if(f){if(a.current&&eT(f.target)){const m=new Ge(f.target.path);null!==this.Lt.get(m)||this.te(c,m)||this.Qt(c,m,kn.newNoDocument(m,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let r=Gt();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.Yt(m);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const i=new X0(e,t,this.Ut,this.Lt,r);return this.Lt=us(),this.qt=rk(),this.Ut=new En(Bt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new nk,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new En(Bt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||xe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new nk),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function rk(){return new lr(Ge.comparator)}function ik(){return new lr(Ge.comparator)}const lU={asc:"ASCENDING",desc:"DESCENDING"},uU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cU={and:"AND",or:"OR"};class dU{constructor(e,t){this.databaseId=e,this.wt=t}}function wm(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sk(n,e){return n.wt?e.toBase64():e.toUint8Array()}function hU(n,e){return wm(n,e.toTimestamp())}function vr(n){return ft(!!n),vt.fromTimestamp(function(e){const t=et(e);return new In(t.seconds,t.nanos)}(n))}function SA(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ok(n){const e=Qt.fromString(n);return ft(gk(e)),e}function tb(n,e){return SA(n.databaseId,e.path)}function $a(n,e){const t=ok(e);if(t.get(1)!==n.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(lk(t))}function AA(n,e){return SA(n.databaseId,e)}function ak(n){const e=ok(n);return 4===e.length?Qt.emptyPath():lk(e)}function nb(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lk(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uk(n,e,t){return{name:tb(n,e),fields:t.value.mapValue.fields}}function ck(n,e,t){const r=$a(n,e.name),i=vr(e.updateTime),a=e.createTime?vr(e.createTime):vt.min(),c=new _i({mapValue:{fields:e.fields}}),f=kn.newFoundDocument(r,i,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function rb(n,e){let t;if(e instanceof vm)t={update:uk(n,e.key,e.value)};else if(e instanceof bm)t={delete:tb(n,e.key)};else if(e instanceof ql)t={update:uk(n,e.key,e.data),updateMask:bU(e.fieldMask)};else{if(!(e instanceof CA))return st();t={verify:tb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof _m)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ef)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ym)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:hU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function NA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?jn.updateTime(vr(i.updateTime)):void 0!==i.exists?jn.exists(i.exists):jn.none():jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(ft("REQUEST_TIME"===c.setToServerValue),f=new _m):"appendMissingElements"in c?f=new Xh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new ef(c.removeAllFromArray.values||[]):"increment"in c?f=new ym(a,c.increment):st();const m=Rn.fromServerFormat(c.fieldPath);return new Y0(m,f)}(n,i)):[];var i;if(e.update){const i=$a(n,e.update.name),a=new _i({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ls((e.updateMask.fieldPaths||[]).map(v=>Rn.fromServerFormat(v)));return new ql(i,a,c,t,r)}return new vm(i,a,t,r)}if(e.delete){const i=$a(n,e.delete);return new bm(i,t)}if(e.verify){const i=$a(n,e.verify);return new CA(i,t)}return st()}function dk(n,e){return{documents:[AA(n,e.path)]}}function OA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=AA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=AA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return pk(_n.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Dm((E=v).field),direction:_U(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.wt||R(v)?v:{value:v});var v,f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function hk(n){let e=ak(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=function(E){const I=fk(E);return I instanceof _n&&vA(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new pm(Em((I=E).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(E){let I;return I="object"==typeof E?E.value:E,R(I)?null:I}(t.limit));let m=null;var E;t.startAt&&(m=new Yc((E=t.startAt).values||[],!!E.before));let v=null;return t.endAt&&(v=function(E){return new Yc(E.values||[],!E.before)}(t.endAt)),MR(e,i,c,a,f,"F",m,v)}function fk(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Em(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Em(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Em(e.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Em(e.unaryFilter.field);return Xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Xt.create(Em((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _n.create(e.compositeFilter.filters.map(t=>fk(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function _U(n){return lU[n]}function yU(n){return uU[n]}function vU(n){return cU[n]}function Dm(n){return{fieldPath:n.canonicalString()}}function Em(n){return Rn.fromServerFormat(n.fieldPath)}function pk(n){return n instanceof Xt?function(e){if("=="===e.op){if(pR(e.value))return{unaryFilter:{field:Dm(e.field),op:"IS_NAN"}};if(fR(e.value))return{unaryFilter:{field:Dm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pR(e.value))return{unaryFilter:{field:Dm(e.field),op:"IS_NOT_NAN"}};if(fR(e.value))return{unaryFilter:{field:Dm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dm(e.field),op:yU(e.op),value:e.value}}}(n):n instanceof _n?function(e){const t=e.getFilters().map(r=>pk(r));return 1===t.length?t[0]:{compositeFilter:{op:vU(e.op),filters:t}}}(n):st()}function bU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mk(e)),e=wU(n.get(t),e);return mk(e)}function wU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function mk(n){return n+"\x01\x01"}function ja(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:st()}a=c+2}return new Qt(r)}const _k=["userId","batchId"];function uT(n,e){return[n,Yi(e)]}function yk(n,e,t){return[n,Yi(e),t]}const DU={},EU=["prefixPath","collectionGroup","readTime","documentId"],TU=["prefixPath","collectionGroup","documentId"],IU=["collectionGroup","readTime","prefixPath","documentId"],CU=["canonicalId","targetId"],SU=["targetId","path"],AU=["path","targetId"],NU=["collectionId","parent"],OU=["indexId","uid"],MU=["uid","sequenceNumber"],xU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RU=["indexId","uid","orderedDocumentKey"],kU=["userId","collectionPath","documentId"],PU=["userId","collectionPath","largestBatchId"],FU=["userId","collectionGroup","largestBatchId"],vk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LU=[...vk,"documentOverlays"],bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wk=bk,BU=[...wk,"indexConfiguration","indexState","indexEntries"];class MA extends gA{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ri(n,e){const t=qe(n);return Xs.M(t.se,e)}class xA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eU(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XR();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const m=GR(c,f);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(t,r)=>zR(t,r))&&Wc(this.baseMutations,e.baseMutations,(t,r)=>zR(t,r))}}class RA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=iU;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new RA(e,t,r,i)}}class kA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jc{constructor(e,t,r,i,a=vt.min(),c=vt.min(),f=_e.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Dk{constructor(e){this.ie=e}}function Ek(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:tb(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:wm(i,a.version.toTimestamp()),createTime:wm(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tf(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:tf(e.version)}}var i,a;return r}function cT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nf(n){const e=new In(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function rf(n,e){const t=(e.baseMutations||[]).map(a=>NA(n.ie,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>NA(n.ie,a)),i=In.fromMillis(e.localWriteTimeMs);return new xA(e.batchId,i,t,r)}function ib(n){const e=nf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nf(n.lastLimboFreeSnapshotVersion):vt.min();let r;var i;return void 0!==n.query.documents?(ft(1===(i=n.query).documents.length),r=Zi(mm(ak(i.documents[0])))):r=Zi(hk(n.query)),new Jc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,_e.fromBase64String(n.resumeToken))}function Tk(n,e){const t=tf(e.snapshotVersion),r=tf(e.lastLimboFreeSnapshotVersion);let i;i=eT(e.target)?dk(n.ie,e.target):OA(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PA(n){const e=hk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rT(e,e.limit,"L"):e}function FA(n,e){return new kA(e.largestBatchId,NA(n.ie,e.overlayMutation))}function Ik(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}function Ck(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tf(r.readTime),documentKey:Yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class UU{getBundleMetadata(e,t){return Sk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:nf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Sk(e).put({bundleId:(r=t).id,createTime:tf(vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ak(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:PA(i.bundledQuery),readTime:nf(i.readTime)};var i})}saveNamedQuery(e,t){return Ak(e).put({name:(r=t).name,readTime:tf(vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Sk(n){return ri(n,"bundles")}function Ak(n){return ri(n,"namedQueries")}class dT{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new dT(e,t.uid||"")}getOverlay(e,t){return sb(e).get(Ik(this.userId,t)).next(r=>r?FA(this.yt,r):null)}getOverlays(e,t){const r=Ua();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new kA(t,c);i.push(this.oe(e,f))}),te.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Yi(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(sb(e).Y("collectionPathOverlayIndex",f))}),te.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ua(),a=Yi(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sb(e).W("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const v=FA(this.yt,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ua();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sb(e).Z({index:"collectionGroupOverlayIndex",range:f},(m,v,E)=>{const I=FA(this.yt,v);a.size()<i||I.largestBatchId===c?(a.set(I.getKey(),I),c=I.largestBatchId):E.done()}).next(()=>a)}oe(e,t){return sb(e).put(function(r,i,a){const[c,f,m]=Ik(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:rb(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function sb(n){return ri(n,"documentOverlays")}class sf{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),G(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ye(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?gR(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):st()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function $U(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Nk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=$U(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}sf.Ie=new sf;class jU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Nk(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Nk(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class HU{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class GU{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class ob{constructor(){this.$e=new jU,this.Be=new HU(this.$e),this.Le=new GU(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class af{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new af(this.indexId,this.documentKey,this.arrayValue,r)}}function Qc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ok(n.arrayValue,e.arrayValue),0!==t?t:(t=Ok(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function Ok(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zU{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ft(e.collectionGroup===this.collectionId);const t=lm(e);if(void 0!==t&&!this.We(t))return!1;const r=Fo(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Ke.length||!this.He(this.Ke[a++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Mk(n){var e,t;if(ft(n instanceof Xt||n instanceof _n),n instanceof Xt){if(n instanceof CR){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Xt.create(n.field,"==",a)))||[];return _n.create(i,"or")}return n}const r=n.filters.map(i=>Mk(i));return _n.create(r,n.op)}function WU(n){if(0===n.getFilters().length)return[];const e=VA(Mk(n));return ft(xk(e)),LA(e)||BA(e)?[e]:e.getFilters()}function LA(n){return n instanceof Xt}function BA(n){return n instanceof _n&&vA(n)}function xk(n){return LA(n)||BA(n)||function(e){if(e instanceof _n&&yA(e)){for(const t of e.getFilters())if(!LA(t)&&!BA(t))return!1;return!0}return!1}(n)}function VA(n){if(ft(n instanceof Xt||n instanceof _n),n instanceof Xt)return n;if(1===n.filters.length)return VA(n.filters[0]);const e=n.filters.map(r=>VA(r));let t=_n.create(e,n.op);return t=hT(t),xk(t)?t:(ft(t instanceof _n),ft(fm(t)),ft(t.filters.length>1),t.filters.reduce((r,i)=>UA(r,i)))}function UA(n,e){let t;return ft(n instanceof Xt||n instanceof _n),ft(e instanceof Xt||e instanceof _n),t=n instanceof Xt?e instanceof Xt?_n.create([n,e],"and"):Rk(n,e):e instanceof Xt?Rk(e,n):function(r,i){if(ft(r.filters.length>0&&i.filters.length>0),fm(r)&&fm(i))return ER(r,i.getFilters());const a=yA(r)?r:i,c=yA(r)?i:r,f=a.filters.map(m=>UA(m,c));return _n.create(f,"or")}(n,e),hT(t)}function Rk(n,e){if(fm(e))return ER(e,n.getFilters());{const t=e.filters.map(r=>UA(n,r));return _n.create(t,"or")}}function hT(n){if(ft(n instanceof Xt||n instanceof _n),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return hT(e[0]);if(wR(n))return n;const t=e.map(i=>hT(i)),r=[];return t.forEach(i=>{i instanceof Xt?r.push(i):i instanceof _n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:_n.create(r,n.op)}class qU{constructor(){this.Je=new $A}addToCollectionParentIndex(e,t){return this.Je.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(qi.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class $A{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Qt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Qt.comparator)).toArray()}}const fT=new Uint8Array(0);class ZU{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new $A,this.Xe=new Kc(r=>Jh(r),(r,i)=>W0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:Yi(i)};return kk(e).put(a)}return te.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[WE(t),""],!1,!0);return kk(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(ja(c.parent))}return r})}addFieldIndex(e,t){const r=pT(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=lb(e);return a.next(f=>{c.put(Ck(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=pT(e),i=lb(e),a=ab(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ab(e);let i=!0;const a=new Map;return te.forEach(this.Ze(t),c=>this.tn(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Gt();const f=[];return te.forEach(a,(m,v)=>{var E;xe("IndexedDbIndexManager",`Using index ${E=m,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Jh(t)}`);const I=function(ze,Ve){const Be=lm(Ve);if(void 0===Be)return null;for(const je of tT(ze,Be.fieldPath))switch(je.op){case"array-contains-any":return je.value.arrayValue.values||[];case"array-contains":return[je.value]}return null}(v,m),N=function(ze,Ve){const Be=new Map;for(const je of Fo(Ve))for(const Ct of tT(ze,je.fieldPath))switch(Ct.op){case"==":case"in":Be.set(je.fieldPath.canonicalString(),Ct.value);break;case"not-in":case"!=":return Be.set(je.fieldPath.canonicalString(),Ct.value),Array.from(Be.values())}return null}(v,m),M=function(ze,Ve){const Be=[];let je=!0;for(const Ct of Fo(Ve)){const Kt=0===Ct.kind?NR(ze,Ct.fieldPath,ze.startAt):OR(ze,Ct.fieldPath,ze.startAt);Be.push(Kt.value),je&&(je=Kt.inclusive)}return new Yc(Be,je)}(v,m),$=function(ze,Ve){const Be=[];let je=!0;for(const Ct of Fo(Ve)){const Kt=0===Ct.kind?OR(ze,Ct.fieldPath,ze.endAt):NR(ze,Ct.fieldPath,ze.endAt);Be.push(Kt.value),je&&(je=Kt.inclusive)}return new Yc(Be,je)}(v,m),Y=this.en(m,v,M),ie=this.en(m,v,$),le=this.nn(m,v,N),Te=this.sn(m.indexId,I,Y,M.inclusive,ie,$.inclusive,le);return te.forEach(Te,ze=>r.J(ze,t.limit).next(Ve=>{Ve.forEach(Be=>{const je=Ge.fromSegments(Be.documentKey);c.has(je)||(c=c.add(je),f.push(je))})}))}).next(()=>f)}return te.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:WU(_n.create(e.filters,"and")).map(r=>wA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,c,f){const m=(null!=t?t.length:1)*Math.max(r.length,a.length),v=m/(null!=t?t.length:1),E=[];for(let I=0;I<m;++I){const N=t?this.rn(t[I/v]):fT,M=this.on(e,N,r[I%v],i),$=this.un(e,N,a[I%v],c),Y=f.map(ie=>this.on(e,N,ie,!0));E.push(...this.createRange(M,$,Y))}return E}on(e,t,r,i){const a=new af(e,Ge.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new af(e,Ge.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new zU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.je(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return te.forEach(i,a=>this.tn(e,a).next(c=>{c?0!==r&&c.fields.length<function(f){let m=new En(Rn.comparator),v=!1;for(const E of f.filters)for(const I of E.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const E of f.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new ob;for(const i of Fo(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);sf.Ie.ue(a,c)}return r.Fe()}rn(e){const t=new ob;return sf.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new ob;return sf.Ie.ue(Kh(this.databaseId,t),r.qe(function(i){const a=Fo(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new ob);let a=0;for(const c of Fo(e)){const f=r[a++];for(const m of i)if(this.hn(t,c.fieldPath)&&G0(f))i=this.ln(i,c,f);else{const v=m.qe(c.kind);sf.Ie.ue(f,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new ob;m.seed(f.Fe()),sf.Ie.ue(c,m.qe(t.kind)),a.push(m)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=pT(e),i=lb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return te.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(v,E){const I=E?new cm(E.sequenceNumber,new qi(nf(E.readTime),new Ge(ja(E.documentKey)),E.largestBatchId)):cm.empty(),N=v.fields.map(([M,$])=>new um(Rn.fromServerFormat(M),$));return new $0(v.indexId,v.collectionGroup,N,I)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=pT(e),a=lb(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>te.forEach(f,m=>a.put(Ck(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?te.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),te.forEach(f,m=>this._n(e,i,m).next(v=>{const E=this.wn(a,m);return v.isEqual(E)?te.resolve():this.mn(e,a,m,v,E)}))))})}gn(e,t,r,i){return ab(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return ab(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=ab(e);let a=new En(Qc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,f)=>{a=a.add(new af(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let r=new En(Qc);const i=this.cn(t,e);if(null==i)return r;const a=lm(t);if(null!=a){const c=e.data.field(a.fieldPath);if(G0(c))for(const f of c.arrayValue.values||[])r=r.add(new af(t.indexId,e.key,this.rn(f),i))}else r=r.add(new af(t.indexId,e.key,fT,i));return r}mn(e,t,r,i,a){xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,v,E,I){const N=f.getIterator(),M=m.getIterator();let $=gm(N),Y=gm(M);for(;$||Y;){let ie=!1,le=!1;if($&&Y){const Te=v($,Y);Te<0?le=!0:Te>0&&(ie=!0)}else null!=$?le=!0:ie=!0;ie?(E(Y),Y=gm(M)):le?(I($),$=gm(N)):($=gm(N),Y=gm(M))}}(i,a,Qc,f=>{c.push(this.gn(e,t,r,f))},f=>{c.push(this.yn(e,t,r,f))}),te.waitFor(c)}dn(e){let t=1;return lb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Qc(c,f)).filter((c,f,m)=>!f||0!==Qc(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=Qc(c,e),m=Qc(c,t);if(0===f)i[0]=e.Ue();else if(f>0&&m<0)i.push(c),i.push(c.Ue());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,fT,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,fT,[]]))}return a}pn(e,t){return Qc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pk)}getMinOffset(e,t){return te.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||st())).next(Pk)}}function kk(n){return ri(n,"collectionParents")}function ab(n){return ri(n,"indexEntries")}function pT(n){return ri(n,"indexConfiguration")}function lb(n){return ri(n,"indexState")}function Pk(n){ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;YE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new qi(e.readTime,e.documentKey,t)}const Fk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lk(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.Z({range:c},(E,I,N)=>(f++,N.delete()));a.push(m.next(()=>{ft(1===f)}));const v=[];for(const E of t.mutations){const I=yk(e,E.key.path,t.batchId);a.push(i.delete(I)),v.push(E.key)}return te.waitFor(a).next(()=>v)}function gT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class mT{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new mT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Tm(e),c=Xc(e);return c.add({}).next(f=>{ft("number"==typeof f);const m=new xA(f,t,r,i),v=function(N,M,$){const Y=$.baseMutations.map(le=>rb(N.ie,le)),ie=$.mutations.map(le=>rb(N.ie,le));return{userId:M,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:Y,mutations:ie}}(this.yt,this.userId,m),E=[];let I=new En((N,M)=>Bt(N.canonicalString(),M.canonicalString()));for(const N of i){const M=yk(this.userId,N.key.path,f);I=I.add(N.key.path.popLast()),E.push(c.put(v)),E.push(a.put(M,DU))}return I.forEach(N=>{E.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.In[f]=m.keys()}),te.waitFor(E).next(()=>m)})}lookupMutationBatch(e,t){return Xc(e).get(t).next(r=>r?(ft(r.userId===this.userId),rf(this.yt,r)):null)}Tn(e,t){return this.In[t]?te.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Xc(e).Z({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(ft(f.batchId>=r),a=rf(this.yt,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).W("userMutationsIndex",t).next(r=>r.map(i=>rf(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=uT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Tm(e).Z({range:i},(c,f,m)=>{const[v,E,I]=c,N=ja(E);if(v===this.userId&&t.path.isEqual(N))return Xc(e).get(I).next(M=>{if(!M)throw st();ft(M.userId===this.userId),a.push(rf(this.yt,M))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Bt);const i=[];return t.forEach(a=>{const c=uT(this.userId,a.path),f=IDBKeyRange.lowerBound(c),m=Tm(e).Z({range:f},(v,E,I)=>{const[N,M,$]=v,Y=ja(M);N===this.userId&&a.path.isEqual(Y)?r=r.add($):I.done()});i.push(m)}),te.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=uT(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new En(Bt);return Tm(e).Z({range:c},(m,v,E)=>{const[I,N,M]=m,$=ja(N);I===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(M)):E.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Xc(e).get(a).next(c=>{if(null===c)throw st();ft(c.userId===this.userId),r.push(rf(this.yt,c))}))}),te.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Lk(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),te.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Tm(e).Z({range:r},(a,c,f)=>{if(a[0]===this.userId){const m=ja(a[1]);i.push(m)}else f.done()}).next(()=>{ft(0===i.length)})})}containsKey(e,t){return Bk(e,this.userId,t)}Rn(e){return Vk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bk(n,e,t){const r=uT(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Tm(n).Z({range:a,X:!0},(f,m,v)=>{const[E,I,N]=f;E===e&&I===i&&(c=!0),v.done()}).next(()=>c)}function Xc(n){return ri(n,"mutations")}function Tm(n){return ri(n,"documentMutations")}function Vk(n){return ri(n,"mutationQueues")}class lf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lf(0)}static vn(){return new lf(-1)}}class YU{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new lf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>vt.fromTimestamp(new In(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Im(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Im(e).Z((c,f)=>{const m=ib(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>te.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Im(e).Z((r,i)=>{const a=ib(i);t(a)})}Vn(e){return Uk(e).get("targetGlobalKey").next(t=>(ft(null!==t),t))}Sn(e,t){return Uk(e).put("targetGlobalKey",t)}Dn(e,t){return Im(e).put(Tk(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Jh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Im(e).Z({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const v=ib(f);W0(t,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=ed(e);return t.forEach(c=>{const f=Yi(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),te.waitFor(i)}removeMatchingKeys(e,t,r){const i=ed(e);return te.forEach(t,a=>{const c=Yi(a.path);return te.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=ed(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ed(e);let a=Gt();return i.Z({range:r,X:!0},(c,f,m)=>{const v=ja(c[1]),E=new Ge(v);a=a.add(E)}).next(()=>a)}containsKey(e,t){const r=Yi(t.path),i=IDBKeyRange.bound([r],[WE(r)],!1,!0);let a=0;return ed(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],m,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}ne(e,t){return Im(e).get(t).next(r=>r?ib(r):null)}}function Im(n){return ri(n,"targets")}function Uk(n){return ri(n,"targetGlobal")}function ed(n){return ri(n,"targetDocuments")}function $k([n,e],[t,r]){const i=Bt(n,t);return 0===i?Bt(e,r):i}class KU{constructor(e){this.xn=e,this.buffer=new En($k),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$k(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ba(r)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gl(r)}yield t.Fn(3e5)}))}}class QU{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(p.at);const r=new KU(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Fk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fk):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,c,f,m,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,c=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,f=Date.now(),this.removeTargets(e,r,t))).next(I=>(a=I,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),HE()<=is.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:I})))}}class XU{constructor(e,t){this.db=e,this.garbageCollector=new QU(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return _T(e,r)}removeReference(e,t,r){return _T(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return _T(e,t)}Gn(e,t){return function(r,i){let a=!1;return Vk(r).tt(c=>Bk(r,c,i).next(f=>(f&&(a=!0),te.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const m=this.Gn(e,c).next(v=>{if(!v)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,vt.min()),ed(e).delete([0,Yi(c.path)])))});i.push(m)}}).next(()=>te.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return _T(e,t)}Kn(e,t){const r=ed(e);let i,a=p.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:v})=>{0===c?(a!==p.at&&t(new Ge(ja(i)),a),a=v,i=m):a=p.at}).next(()=>{a!==p.at&&t(new Ge(ja(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _T(n,e){return ed(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class jk{constructor(){this.changes=new Kc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e${constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return uf(e).put(r)}removeEntry(e,t,r){return uf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],cT(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=kn.newInvalidDocument(t);return uf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ub(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:kn.newInvalidDocument(t)};return uf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ub(t))},(i,a)=>{r={document:this.jn(t,a),size:gT(a)}}).next(()=>r)}getEntries(e,t){let r=us();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=us(),i=new lr(Ge.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);r=r.insert(a,f),i=i.insert(a,gT(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return te.resolve();let i=new En(Wk);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(ub(i.first()),ub(i.last())),c=i.getIterator();let f=c.getNext();return uf(e).Z({index:"documentKeyIndex",range:a},(m,v,E)=>{const I=Ge.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&Wk(f,I)<0;)r(f,null),f=c.getNext();f&&f.isEqual(I)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?E.j(ub(f)):E.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),cT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uf(e).W(IDBKeyRange.bound(c,f,!0)).next(m=>{let v=us();for(const E of m){const I=this.jn(Ge.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);I.isFoundDocument()&&(Z0(t,I)||i.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=us();const c=zk(t,r),f=zk(t,qi.max());return uf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,v,E)=>{const I=this.jn(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(I.key,I),a.size===i&&E.done()}).next(()=>a)}newChangeBuffer(e){return new t$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gk(e).get("remoteDocumentGlobalKey").next(t=>(ft(!!t),t))}Qn(e,t){return Gk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function VU(n,e){let t;if(e.document)t=ck(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=nf(e.noDocument.readTime);t=kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Ge.fromSegments(e.unknownDocument.path),i=nf(e.unknownDocument.version);t=kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new In(r[0],r[1]);return vt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return kn.newInvalidDocument(e)}}function Hk(n){return new e$(n)}class t$ extends jk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Kc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new En((a,c)=>Bt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const m=Ek(this.Yn.yt,c);i=i.add(a.path.popLast());const v=gT(m);r+=v-f.size,t.push(this.Yn.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=Ek(this.Yn.yt,c.convertToNoDocument(vt.min()));t.push(this.Yn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function Gk(n){return ri(n,"remoteDocumentGlobal")}function uf(n){return ri(n,"remoteDocumentsV14")}function ub(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zk(n,e){const t=e.documentKey.path.toArray();return[n,cT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wk(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Bt(t[a],r[a]),i)return i;return i=Bt(t.length,r.length),i||(i=Bt(t[t.length-2],r[r.length-2]),i||Bt(t[t.length-1],r[r.length-1]))}class n${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&K0(r.mutation,i,ls.empty(),In.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=Ua();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=J0();return a.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=us();const c=Q0(),f=Q0();return t.forEach((m,v)=>{const E=r.get(v.key);i.has(v.key)&&(void 0===E||E.mutation instanceof ql)?a=a.insert(v.key,v):void 0!==E?(c.set(v.key,E.mutation.getFieldMask()),K0(E.mutation,v,E.mutation.getFieldMask(),In.now())):c.set(v.key,ls.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,E)=>c.set(v,E)),t.forEach((v,E)=>{var I;return f.set(v,new n$(E,null!==(I=c.get(v))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Q0();let i=new lr((c,f)=>c-f),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let E=r.get(m)||ls.empty();E=f.applyToLocalView(v,E),r.set(m,E);const I=(i.get(f.batchId)||Gt()).add(m);i=i.insert(f.batchId,I)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,E=m.value,I=XR();E.forEach(N=>{if(!a.has(N)){const M=GR(t.get(N),r.get(N));null!==M&&I.set(N,M),a=a.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,I))}return te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(Ua());let f=-1,m=a;return c.next(v=>te.forEach(v,(E,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),a.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(N=>{m=m.insert(E,N)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,Gt())).next(E=>({batchId:f,changes:QR(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=J0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=J0();return this.indexManager.getCollectionParents(e,i).next(c=>te.forEach(c,f=>{const m=(v=t,E=f.child(i),new Wl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((E,I)=>{a=a.insert(E,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,kn.newInvalidDocument(v)))});let c=J0();return a.forEach((f,m)=>{const v=i.get(f);void 0!==v&&K0(v.mutation,m,ls.empty(),In.now()),Z0(t,m)&&(c=c.insert(f,m))}),c})}}class r${constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return te.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:vr(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:PA(r.bundledQuery),readTime:vr(r.readTime)}),te.resolve();var r}}class i${constructor(){this.overlays=new lr(Ge.comparator),this.es=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ua();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Ua(),a=t.length+1,c=new Ge(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new lr((v,E)=>v-E);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let E=a.get(v.largestBatchId);null===E&&(E=Ua(),a=a.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=Ua(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=i)););return te.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new kA(t,r));let a=this.es.get(t);void 0===a&&(a=Gt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class jA{constructor(){this.ns=new En(ii.ss),this.rs=new En(ii.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ii(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ii(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Qt([])),r=new ii(t,e),i=new ii(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Qt([])),r=new ii(t,e),i=new ii(t,e+1);let a=Gt();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ii(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ii{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Bt(e._s,t._s)}static os(e,t){return Bt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class s${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(ii.ss)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new xA(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new ii(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ii(t,0),i=new ii(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Bt);return t.forEach(i=>{const a=new ii(i,0),c=new ii(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{r=r.add(f._s)})}),te.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const c=new ii(new Ge(a),0);let f=new En(Bt);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m._s)),!0)},c),te.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return te.forEach(t.mutations,i=>{const a=new ii(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ii(t,0),i=this.gs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o${constructor(e){this.Es=e,this.docs=new lr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=us();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():kn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=us();const c=t.path,f=new Ge(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:E}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||YE(ZE(E),r)<=0||(i.has(E.key)||Z0(t,E))&&(a=a.insert(E.key,E.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a$(this)}getSize(e){return te.resolve(this.size)}}class a$ extends jk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class l${constructor(e){this.persistence=e,this.Rs=new Kc(t=>Jh(t),W0),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jA,this.targetCount=0,this.vs=lf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),te.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Dn(t),te.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Ps.containsKey(t))}}class Zk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new p(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new l$(this),this.indexManager=new qU,this.remoteDocumentCache=new o$(r=>this.referenceDelegate.xs(r)),this.yt=new Dk(t),this.Ns=new r$(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new s$(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const i=new u$(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return te.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class u$ extends gA{constructor(e){super(),this.currentSequenceNumber=e}}class yT{constructor(e){this.persistence=e,this.Fs=new jA,this.$s=null}static Bs(e){return new yT(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),te.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,vt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return te.or([()=>te.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class c${constructor(e){this.yt=e}$(e,t,r,i){const a=new j0("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_k,{unique:!0}),f.createObjectStore("documentMutations"),Yk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=te.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Yk(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_k,{unique:!0});const E=m.store("mutations"),I=v.map(N=>E.put(N));return te.waitFor(I)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:kU});m.createIndex("collectionPathOverlayIndex",PU,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",FU,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:EU});m.createIndex("documentKeyIndex",TU),m.createIndex("collectionGroupIndex",IU)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:OU}).createIndex("sequenceNumberIndex",MU,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:xU}).createIndex("documentKeyIndex",RU,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=gT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>te.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>te.forEach(f,m=>{ft(m.userId===a.userId);const v=rf(this.yt,m);return Lk(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,f)=>{const m=new Qt(c),v=[0,Yi(m)];a.push(t.get(v).next(E=>E?te.resolve():t.put({targetId:0,path:Yi(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>te.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:NU});const r=t.store("collectionParents"),i=new $A,a=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Yi(m)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const m=new Qt(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,m],v)=>{const E=ja(f);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=ib(i),c=Tk(this.yt,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),m=(v=c,v.document?new Ge(Qt.fromString(v.document.name).popFirst(5)):v.noDocument?Ge.fromSegments(v.noDocument.path):v.unknownDocument?Ge.fromSegments(v.unknownDocument.path):st()).path.toArray();var v;const E={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(E))}).next(()=>te.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Hk(this.yt),a=new Zk(yT.Bs,this.yt.ie);return r.W().next(c=>{const f=new Map;return c.forEach(m=>{var v;let E=null!==(v=f.get(m.userId))&&void 0!==v?v:Gt();rf(this.yt,m).keys().forEach(I=>E=E.add(I)),f.set(m.userId,E)}),te.forEach(f,(m,v)=>{const E=new Rr(v),I=dT.re(this.yt,E),N=a.getIndexManager(E),M=mT.re(E,this.yt,N,a.referenceDelegate);return new qk(i,M,I,N).recalculateAndSaveOverlaysForDocumentKeys(new MA(t,p.at),m).next()})})}}function Yk(n){n.createObjectStore("targetDocuments",{keyPath:SU}).createIndex("documentTargetsIndex",AU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CU,{unique:!0}),n.createObjectStore("targetGlobal")}const HA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GA{constructor(e,t,r,i,a,c,f,m,v,E,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=f,this.Js=v,this.Ys=E,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!GA.C())throw new we(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XU(this,i),this.ii=t+"main",this.yt=new Dk(m),this.ri=new Xs(this.ii,this.Xs,new c$(this.yt)),this.Cs=new YU(this.referenceDelegate,this.yt),this.remoteDocumentCache=Hk(this.yt),this.Ns=new UU,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,HA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new p(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,W.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,W.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ba(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return cb(e).get("owner").next(t=>te.resolve(this.mi(t)))}gi(e){return vT(e).delete(this.clientId)}yi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ri(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(m=>-1===c.indexOf(m));return te.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?te.resolve(!0):cb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,HA);return!1}}return!(!this.networkEnabled||!this.inForeground)||vT(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new MA(t,p.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>vT(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return mT.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZU(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return dT.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){xe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?BU:14===c?wk:13===c?bk:12===c?LU:11===c?vk:void st();var c;let f;return this.ri.runTransaction(e,i,a,m=>(f=new MA(m,this.Ss?this.Ss.next():p.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new we(re.FAILED_PRECONDITION,pA);return r(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Vi(e){return cb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(re.FAILED_PRECONDITION,HA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cb(e).put("owner",t)}static C(){return Xs.C()}_i(e){const t=cb(e);return t.get("owner").next(r=>this.mi(r)?(xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cb(n){return ri(n,"owner")}function vT(n){return ri(n,"clientMetadata")}function zA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Gt(),i=Gt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new WA(e,t.fromCache,r,i)}}class Kk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(xR(t))return te.resolve(null);let r=Zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=rT(t,null,"F"),r=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Gt(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Fi(t,f);return this.$i(t,v,c,m.readTime)?this.ki(e,rT(t,null,"F")):this.Bi(e,v,t,m)}))})))}Oi(e,t,r,i){return xR(t)||i.isEqual(vt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(HE()<=is.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IA(t)),this.Bi(e,c,t,qE(i,-1)))})}Fi(e,t){let r=new En(PR(e));return t.forEach((i,a)=>{Z0(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return HE()<=is.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",IA(t)),this.Ni.getDocumentsMatchingQuery(e,t,qi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class d${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new lr(Bt),this.Ui=new Kc(a=>Jh(a),W0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Jk(n,e,t,r){return new d$(n,e,t,r)}function Qk(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,W.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=Gt();for(const v of i){c.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}for(const v of a){f.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(r,m).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:f}))})})}),qA.apply(this,arguments)}function h$(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,v){const E=m.batch,I=E.keys();let N=te.resolve();return I.forEach(M=>{N=N.next(()=>v.getEntry(f,M)).next($=>{const Y=m.docVersions.get(M);ft(null!==Y),$.version.compareTo(Y)<0&&(E.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),v.addEntry($)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Gt();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Xk(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function f$(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((E,I)=>{const N=i.get(I);if(!N)return;f.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,I).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,I)));let M=N.withSequenceNumber(a.currentSequenceNumber);var $,Y,ie;e.targetMismatches.has(I)?M=M.withResumeToken(_e.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,r)),i=i.insert(I,M),Y=M,ie=E,(0===($=N).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,M))});let m=us(),v=Gt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(eP(a,c,e.documentUpdates).next(E=>{m=E.Wi,v=E.zi})),!r.isEqual(vt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(I=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(E)}return te.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.qi=i,a))}function eP(n,e,t){let r=Gt(),i=Gt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=us();return t.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(vt.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):xe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{Wi:c,zi:i}})}function p$(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cm(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Jc(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Sm(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,W.Z)(function*(n,e,t){const r=qe(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ba(c))throw c;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),ZA.apply(this,arguments)}function bT(n,e,t){const r=qe(n);let i=vt.min(),a=Gt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,v){const E=qe(f),I=E.Ui.get(v);return void 0!==I?te.resolve(E.qi.get(I)):E.Cs.getTargetData(m,v)}(r,c,Zi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:vt.min(),t?a:Gt())).next(f=>(rP(r,kR(e),f),{documents:f,Hi:a})))}function tP(n,e){const t=qe(n),r=qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(c=>c?c.target:null))}function nP(n,e){const t=qe(n),r=t.Ki.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,qE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rP(t,e,i),i))}function rP(n,e,t){let r=n.Ki.get(e)||vt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function YA(){return YA=(0,W.Z)(function*(n,e,t,r){const i=qe(n);let a=Gt(),c=us();for(const v of t){const E=e.Ji(v.metadata.name);v.document&&(a=a.add(E));const I=e.Yi(v);I.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(E,I)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),m=yield Cm(i,(v=r,Zi(mm(Qt.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>eP(v,f,c).next(E=>(f.apply(v),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Cs.addMatchingKeys(v,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,E.Wi,E.zi)).next(()=>E.Wi)))}),YA.apply(this,arguments)}function m$(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,W.Z)(function*(n,e,t=Gt()){const r=yield Cm(n,Zi(PA(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=vr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(_e.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),KA.apply(this,arguments)}function iP(n,e){return`firestore_clients_${n}_${e}`}function sP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JA(n,e){return`firestore_targets_${n}_${e}`}class wT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new we(i.error.code,i.error.message))),c?new wT(e,t,i.state,a):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class db{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new we(r.error.code,r.error.message))),a?new db(e,r.state,i):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class DT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=aT();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=J(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new DT(e,a):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class QA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QA(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class XA{constructor(){this.activeTargetIds=aT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new lr(Bt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=iP(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new XA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(iP(e.persistenceKey,i));if(a){const c=DT.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JA(this.persistenceKey,e));if(r){const i=db.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xe("SharedClientState","READ",e,t),t}setItem(e,t){xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=p.at;if(null!=a)try{const f=JSON.parse(a);ft("number"==typeof f),c=f}catch(f){ar("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==p.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new wT(this.currentUser,e,t,r),a=sP(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=sP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=JA(this.persistenceKey,e),a=new db(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return DT.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return wT.Zi(new Rr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return db.Zi(i,t)}yr(e){return QA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],f=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=aT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class oP{constructor(){this.Lr=new XA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new XA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _${Ur(e){}shutdown(){}}class aP{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class b$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);xe("RestConnection","Sending: ",c,r);const f={};return this.lo(f,i,a),this.fo(e,c,f,r).then(m=>(xe("RestConnection","Received: ",m),m),m=>{throw zc("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${y$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const f=new sR;f.setWithCredentials(!0),f.listenOnce($E.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Hc.NO_ERROR:const v=f.getResponseJson();xe("Connection","XHR received:",JSON.stringify(v)),a(v);break;case Hc.TIMEOUT:xe("Connection",'RPC "'+e+'" timed out'),c(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const E=f.getStatus();if(xe("Connection",'RPC "'+e+'" failed with status:',E,"response text:",f.getResponseText()),E>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const M=function($){const Y=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Y)>=0?Y:re.UNKNOWN}(N.status);c(new we(M,N.message))}else c(new we(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new we(re.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{xe("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);f.send(t,"POST",m,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=UE(),c=sm(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new iR({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=i.join("");xe("Connection","Creating WebChannel: "+m,f);const v=a.createWebChannel(m,f);let E=!1,I=!1;const N=new v$({Hr:$=>{I?xe("Connection","Not sending because WebChannel is closed:",$):(E||(xe("Connection","Opening WebChannel transport."),v.open(),E=!0),xe("Connection","WebChannel sending:",$),v.send($))},Jr:()=>v.close()}),M=($,Y,ie)=>{$.listen(Y,le=>{try{ie(le)}catch(Te){setTimeout(()=>{throw Te},0)}})};return M(v,F0.EventType.OPEN,()=>{I||xe("Connection","WebChannel transport opened.")}),M(v,F0.EventType.CLOSE,()=>{I||(I=!0,xe("Connection","WebChannel transport closed"),N.io())}),M(v,F0.EventType.ERROR,$=>{I||(I=!0,zc("Connection","WebChannel transport errored:",$),N.io(new we(re.UNAVAILABLE,"The operation could not be completed")))}),M(v,F0.EventType.MESSAGE,$=>{var Y;if(!I){const ie=$.data[0];ft(!!ie);const Te=ie.error||(null===(Y=ie[0])||void 0===Y?void 0:Y.error);if(Te){xe("Connection","WebChannel received error:",Te);const ze=Te.status;let Ve=function(je){const Ct=kr[je];if(void 0!==Ct)return KR(Ct)}(ze),Be=Te.message;void 0===Ve&&(Ve=re.INTERNAL,Be="Unknown error status: "+ze+" with message "+Te.message),I=!0,N.io(new we(Ve,Be)),v.close()}else xe("Connection","WebChannel received:",ie),N.ro(ie)}}),M(c,lA.STAT_EVENT,$=>{$.stat===jE.PROXY?xe("Connection","Detected buffering proxy"):$.stat===jE.NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function lP(){return typeof window<"u"?window:null}function ET(){return typeof document<"u"?document:null}function hb(n){return new dU(n,!0)}class tN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uP{constructor(e,t,r,i,a,c,f,m){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new tN(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,W.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,W.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,W.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,W.Z)(function*(){e.state=0,e.start()}))}Qo(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w$ extends uP{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function pU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:st(),i=e.targetChange.targetIds||[],a=function(m,v){return m.wt?(ft(void 0===v||"string"==typeof v),_e.fromBase64String(v||"")):(ft(void 0===v||v instanceof Uint8Array),_e.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=void 0===m.code?re.UNKNOWN:KR(m.code);return new we(v,m.message||"")}(c);t=new tk(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=$a(n,r.document.name),a=vr(r.document.updateTime),c=r.document.createTime?vr(r.document.createTime):vt.min(),f=new _i({mapValue:{fields:r.document.fields}}),m=kn.newFoundDocument(i,a,c,f);t=new lT(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=$a(n,r.document),a=r.readTime?vr(r.readTime):vt.min(),c=kn.newNoDocument(i,a);t=new lT([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=$a(n,r.document);t=new lT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,a=new nU(r.count||0);t=new ek(r.targetId,a)}}var m;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return vt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?vt.min():a.readTime?vr(a.readTime):vt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=nb(this.yt),t.addTarget=function(i,a){let c;const f=a.target;return c=eT(f)?{documents:dk(i,f)}:{query:OA(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=sk(i,a.resumeToken):a.snapshotVersion.compareTo(vt.min())>0&&(c.readTime=wm(i,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function mU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=nb(this.yt),t.removeTarget=e,this.Bo(t)}}class D$ extends uP{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function gU(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,i){let a=vr(r.updateTime?r.updateTime:i);return a.isEqual(vt.min())&&(a=vr(i)),new XV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.Zo(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=nb(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rb(this.yt,r))};this.Bo(t)}}class E$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(re.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class I${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):xe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class C${constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{r.enqueueAndForget((0,W.Z)(function*(){var m;Zl(c)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,W.Z)(function*(v){const E=qe(v);E._u.add(4),yield Am(E),E.gu.set("Unknown"),E._u.delete(4),yield fb(E)}),function(v){return m.apply(this,arguments)})(c))}))}),this.gu=new I$(r,i)}}function fb(n){return rN.apply(this,arguments)}function rN(){return rN=(0,W.Z)(function*(n){if(Zl(n))for(const e of n.wu)yield e(!0)}),rN.apply(this,arguments)}function Am(n){return iN.apply(this,arguments)}function iN(){return iN=(0,W.Z)(function*(n){for(const e of n.wu)yield e(!1)}),iN.apply(this,arguments)}function TT(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),aN(t)?oN(t):Om(t).ko()&&sN(t,e))}function pb(n,e){const t=qe(n),r=Om(t);t.du.delete(e),r.ko()&&cP(t,e),0===t.du.size&&(r.ko()?r.Fo():Zl(t)&&t.gu.set("Unknown"))}function sN(n,e){n.yu.Ot(e.targetId),Om(n).zo(e)}function cP(n,e){n.yu.Ot(e),Om(n).Ho(e)}function oN(n){n.yu=new aU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Om(n).start(),n.gu.uu()}function aN(n){return Zl(n)&&!Om(n).No()&&n.du.size>0}function Zl(n){return 0===qe(n)._u.size}function dP(n){n.yu=void 0}function S$(n){return lN.apply(this,arguments)}function lN(){return lN=(0,W.Z)(function*(n){n.du.forEach((e,t)=>{sN(n,e)})}),lN.apply(this,arguments)}function A$(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,W.Z)(function*(n,e){dP(n),aN(n)?(n.gu.hu(e),oN(n)):n.gu.set("Unknown")}),uN.apply(this,arguments)}function N$(n,e,t){return cN.apply(this,arguments)}function cN(){return cN=(0,W.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof tk&&2===e.state&&e.cause)try{yield(r=(0,W.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield IT(n,r)}else if(e instanceof lT?n.yu.Kt(e):e instanceof ek?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(vt.min()))try{const r=yield Xk(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.Zt(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.du.get(m);v&&i.du.set(m,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const m=i.du.get(f);if(!m)return;i.du.set(f,m.withResumeToken(_e.EMPTY_BYTE_STRING,m.snapshotVersion)),cP(i,f);const v=new Jc(m.target,f,1,m.sequenceNumber);sN(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),yield IT(n,r)}var r}),cN.apply(this,arguments)}function IT(n,e,t){return dN.apply(this,arguments)}function dN(){return dN=(0,W.Z)(function*(n,e,t){if(!Ba(e))throw e;n._u.add(1),yield Am(n),n.gu.set("Offline"),t||(t=()=>Xk(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield fb(n)}))}),dN.apply(this,arguments)}function hP(n,e){return e().catch(t=>IT(n,t,e))}function Nm(n){return hN.apply(this,arguments)}function hN(){return hN=(0,W.Z)(function*(n){const e=qe(n),t=td(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;O$(e);)try{const i=yield p$(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,M$(e,i)}catch(i){yield IT(e,i)}fP(e)&&pP(e)}),hN.apply(this,arguments)}function O$(n){return Zl(n)&&n.fu.length<10}function M$(n,e){n.fu.push(e);const t=td(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function fP(n){return Zl(n)&&!td(n).No()&&n.fu.length>0}function pP(n){td(n).start()}function x$(n){return fN.apply(this,arguments)}function fN(){return fN=(0,W.Z)(function*(n){td(n).eu()}),fN.apply(this,arguments)}function R$(n){return pN.apply(this,arguments)}function pN(){return pN=(0,W.Z)(function*(n){const e=td(n);for(const t of n.fu)e.Xo(t.mutations)}),pN.apply(this,arguments)}function k$(n,e,t){return gN.apply(this,arguments)}function gN(){return gN=(0,W.Z)(function*(n,e,t){const r=n.fu.shift(),i=RA.from(r,e,t);yield hP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nm(n)}),gN.apply(this,arguments)}function P$(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,W.Z)(function*(n,e){var t;e&&td(n).Yo&&(yield(t=(0,W.Z)(function*(r,i){if(YR(a=i.code)&&a!==re.ABORTED){const c=r.fu.shift();td(r).Mo(),yield hP(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Nm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),fP(n)&&pP(n)}),mN.apply(this,arguments)}function gP(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,W.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=Zl(t);t._u.add(3),yield Am(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield fb(t)}),_N.apply(this,arguments)}function yN(n,e){return vN.apply(this,arguments)}function vN(){return vN=(0,W.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield fb(t)):e||(t._u.add(2),yield Am(t),t.gu.set("Unknown"))}),vN.apply(this,arguments)}function Om(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new w$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:S$.bind(null,n),Zr:A$.bind(null,n),Wo:N$.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.pu.Mo(),aN(n)?oN(n):n.gu.set("Unknown")):(yield n.pu.stop(),dP(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function td(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new D$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:x$.bind(null,n),Zr:P$.bind(null,n),tu:R$.bind(null,n),Zo:k$.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.Iu.Mo(),yield Nm(n)):(yield n.Iu.stop(),n.fu.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class bN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new bN(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Ba(n))return new we(re.UNAVAILABLE,`${e}: ${n}`);throw n}class xm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=J0(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new xm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mP{constructor(){this.Tu=new lr(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rm{constructor(e,t,r,i,a,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Rm(e,t,xm.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class F${constructor(){this.Au=void 0,this.listeners=[]}}class L${constructor(){this.queries=new Kc(e=>RR(e),q0),this.onlineState="Unknown",this.Ru=new Set}}function wN(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,W.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new F$),i)try{a.Au=yield t.onListen(r)}catch(c){const f=Mm(c,`Initialization of query '${IA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&IN(t)}),DN.apply(this,arguments)}function EN(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,W.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TN.apply(this,arguments)}function B$(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Pu(i)&&(r=!0);c.Au=i}}r&&IN(t)}function V$(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function IN(n){n.Ru.forEach(e=>{e.next()})}class CN{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Rm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class U${constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class _P{constructor(e){this.yt=e}Ji(e){return $a(this.yt,e)}Yi(e){return e.metadata.exists?ck(this.yt,e.document,!1):kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vr(e)}}class $${constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Qt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new _P(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Gt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,W.Z)(function*(){const t=yield function g$(n,e,t,r){return YA.apply(this,arguments)}(e.localStore,new _P(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield m$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function yP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class vP{constructor(e){this.key=e}}class bP{constructor(e){this.key=e}}class wP{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=PR(e),this.Qu=new xm(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new mP,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,I)=>{const N=i.get(E),M=Z0(this.query,I)?I:null,$=!!N&&this.mutatedKeys.has(N.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let ie=!1;N&&M?N.data.isEqual(M.data)?$!==Y&&(r.track({type:3,doc:M}),ie=!0):this.Hu(N,M)||(r.track({type:2,doc:M}),ie=!0,(m&&this.Gu(M,m)>0||v&&this.Gu(M,v)<0)&&(f=!0)):!N&&M?(r.track({type:0,doc:M}),ie=!0):N&&!M&&(r.track({type:1,doc:N}),ie=!0,(m||v)&&(f=!0)),ie&&(M?(c=c.add(M),a=Y?a.add(E):a.delete(E)):(c=c.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Qu:c,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,E)=>function(I,N){const M=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return M(I)-M(N)}(v.type,E.type)||this.Gu(v.doc,E.doc)),this.Ju(r);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,m=f!==this.Uu;return this.Uu=f,0!==a.length||m?{snapshot:new Rm(this.query,e.Qu,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Gt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new bP(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new vP(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Gt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Rm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class j${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class H${constructor(e){this.key=e,this.nc=!1}}class G${constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Kc(f=>RR(f),q0),this.rc=new Map,this.oc=new Set,this.uc=new lr(Ge.comparator),this.cc=new Map,this.ac=new jA,this.hc={},this.lc=new Map,this.fc=lf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function z$(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,W.Z)(function*(n,e){const t=KN(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield Cm(t.localStore,Zi(e));t.isPrimaryClient&&TT(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield AN(t,e,r,"current"===f,c.resumeToken)}return i}),SN.apply(this,arguments)}function AN(n,e,t,r,i){return NN.apply(this,arguments)}function NN(){return NN=(0,W.Z)(function*(n,e,t,r,i){n._c=(I,N,M)=>{return($=(0,W.Z)(function*(Y,ie,le,Te){let ze=ie.view.Wu(le);ze.$i&&(ze=yield bT(Y.localStore,ie.query,!1).then(({documents:je})=>ie.view.Wu(je,ze)));const Ve=Te&&Te.targetChanges.get(ie.targetId),Be=ie.view.applyChanges(ze,Y.isPrimaryClient,Ve);return VN(Y,ie.targetId,Be.Xu),Be.snapshot}),function(Y,ie,le,Te){return $.apply(this,arguments)})(n,I,N,M);var $};const a=yield bT(n.localStore,e,!0),c=new wP(e,a.Hi),f=c.Wu(a.documents),m=eb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,m);VN(n,t,v.Xu);const E=new j$(e,t,c);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),NN.apply(this,arguments)}function W$(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,W.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!q0(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),pb(t.remoteStore,r.targetId),km(t,r.targetId)}).catch(Gl))):(km(t,r.targetId),yield Sm(t.localStore,r.targetId,!0))}),ON.apply(this,arguments)}function MN(){return MN=(0,W.Z)(function*(n,e,t){const r=JN(n);try{const i=yield function(a,c){const f=qe(a),m=In.now(),v=c.reduce((N,M)=>N.add(M.key),Gt());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=us(),$=Gt();return f.Gi.getEntries(N,v).next(Y=>{M=Y,M.forEach((ie,le)=>{le.isValidDocument()||($=$.add(ie))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,M)).next(Y=>{E=Y;const ie=[];for(const le of c){const Te=tU(le,E.get(le.key).overlayedDocument);null!=Te&&ie.push(new ql(le.key,Te,AR(Te.value.mapValue),jn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,m,ie,c)}).next(Y=>{I=Y;const ie=Y.applyToLocalDocumentSet(E,$);return f.documentOverlayCache.saveOverlays(N,Y.batchId,ie)})}).then(()=>({batchId:I.batchId,changes:QR(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.hc[a.currentUser.toKey()];m||(m=new lr(Bt)),m=m.insert(c,f),a.hc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Yl(r,i.changes),yield Nm(r.remoteStore)}catch(i){const a=Mm(i,"Failed to persist write");t.reject(a)}}),MN.apply(this,arguments)}function DP(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,W.Z)(function*(n,e){const t=qe(n);try{const r=yield f$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?ft(c.nc):i.removedDocuments.size>0&&(ft(c.nc),c.nc=!1))}),yield Yl(t,r,e)}catch(r){yield Gl(r)}}),xN.apply(this,arguments)}function EP(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=qe(a);f.onlineState=c;let m=!1;f.queries.forEach((v,E)=>{for(const I of E.listeners)I.bu(c)&&(m=!0)}),m&&IN(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Z$(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,W.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new lr(Ge.comparator);c=c.insert(a,kn.newNoDocument(a,vt.min()));const f=Gt().add(a),m=new X0(vt.min(),new Map,new En(Bt),c,f);yield DP(r,m),r.uc=r.uc.remove(a),r.cc.delete(e),UN(r)}else yield Sm(r.localStore,e,!1).then(()=>km(r,e,t)).catch(Gl)}),RN.apply(this,arguments)}function Y$(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,W.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield h$(t.localStore,e);BN(t,r,null),LN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yl(t,i)}catch(i){yield Gl(i)}}),kN.apply(this,arguments)}function K$(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,W.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(a,c){const f=qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next(E=>(ft(null!==E),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);BN(r,e,t),LN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yl(r,i)}catch(i){yield Gl(i)}}),PN.apply(this,arguments)}function FN(){return FN=(0,W.Z)(function*(n,e){const t=qe(n);Zl(t.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=qe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Mm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),FN.apply(this,arguments)}function LN(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function BN(n,e,t){const r=qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||TP(n,r)})}function TP(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(pb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),UN(n))}function VN(n,e,t){for(const r of t)r instanceof vP?(n.ac.addReference(r.key,e),Q$(n,r)):r instanceof bP?(xe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||TP(n,r.key)):st()}function Q$(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(xe("SyncEngine","New document in limbo: "+t),n.oc.add(r),UN(n))}function UN(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(Qt.fromString(e)),r=n.fc.next();n.cc.set(r,new H$(t)),n.uc=n.uc.insert(t,r),TT(n.remoteStore,new Jc(Zi(mm(t.path)),r,2,p.at))}}function Yl(n,e,t){return $N.apply(this,arguments)}function $N(){return $N=(0,W.Z)(function*(n,e,t){const r=qe(n),i=[],a=[],c=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,m)=>{c.push(r._c(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const E=WA.Ci(m.targetId,v);a.push(E)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(f=(0,W.Z)(function*(m,v){const E=qe(m);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>te.forEach(v,N=>te.forEach(N.Si,M=>E.persistence.referenceDelegate.addReference(I,N.targetId,M)).next(()=>te.forEach(N.Di,M=>E.persistence.referenceDelegate.removeReference(I,N.targetId,M)))))}catch(I){if(!Ba(I))throw I;xe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const N=I.targetId;if(!I.fromCache){const M=E.qi.get(N),Y=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);E.qi=E.qi.insert(N,Y)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),$N.apply(this,arguments)}function X$(n,e){return jN.apply(this,arguments)}function jN(){return jN=(0,W.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=yield Qk(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new we(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yl(t,r.ji)}var i}),jN.apply(this,arguments)}function ej(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return Gt().add(r.key);{let i=Gt();const a=t.rc.get(e);if(!a)return i;for(const c of a){const f=t.ic.get(c);i=i.unionWith(f.view.ju)}return i}}function tj(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,W.Z)(function*(n,e){const t=qe(n),r=yield bT(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&VN(t,e.targetId,i.Xu),i}),HN.apply(this,arguments)}function nj(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,W.Z)(function*(n,e){const t=qe(n);return nP(t.localStore,e).then(r=>Yl(t,r))}),GN.apply(this,arguments)}function rj(n,e,t,r){return zN.apply(this,arguments)}function zN(){return zN=(0,W.Z)(function*(n,e,t,r){const i=qe(n),a=yield function(c,f){const m=qe(c),v=qe(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Tn(E,f).next(I=>I?m.localDocuments.getDocuments(E,I):te.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Nm(i.remoteStore):"acknowledged"===t||"rejected"===t?(BN(i,e,r||null),LN(i,e),f=e,qe(qe(i.localStore).mutationQueue).An(f)):st(),yield Yl(i,a)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),zN.apply(this,arguments)}function WN(){return WN=(0,W.Z)(function*(n,e){const t=qe(n);if(KN(t),JN(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield IP(t,r.toArray());t.dc=!0,yield yN(t.remoteStore,!0);for(const a of i)TT(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(km(t,c),Sm(t.localStore,c,!0))),pb(t.remoteStore,c)}),yield i,yield IP(t,r),function(a){const c=qe(a);c.cc.forEach((f,m)=>{pb(c.remoteStore,m)}),c.ac.fs(),c.cc=new Map,c.uc=new lr(Ge.comparator)}(t),t.dc=!1,yield yN(t.remoteStore,!1)}}),WN.apply(this,arguments)}function IP(n,e,t){return qN.apply(this,arguments)}function qN(){return qN=(0,W.Z)(function*(n,e,t){const r=qe(n),i=[],a=[];for(const c of e){let f;const m=r.rc.get(c);if(m&&0!==m.length){f=yield Cm(r.localStore,Zi(m[0]));for(const v of m){const E=r.ic.get(v),I=yield tj(r,E);I.snapshot&&a.push(I.snapshot)}}else{const v=yield tP(r.localStore,c);f=yield Cm(r.localStore,v),yield AN(r,CP(v),c,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(a),i}),qN.apply(this,arguments)}function CP(n){return MR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sj(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function oj(n,e,t,r){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,W.Z)(function*(n,e,t,r){const i=qe(n);if(i.dc)return void xe("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield nP(i.localStore,kR(a[0])),f=X0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_e.EMPTY_BYTE_STRING);yield Yl(i,c,f);break}case"rejected":yield Sm(i.localStore,e,!0),km(i,e,r);break;default:st()}}),ZN.apply(this,arguments)}function aj(n,e,t){return YN.apply(this,arguments)}function YN(){return YN=(0,W.Z)(function*(n,e,t){const r=KN(n);if(r.dc){for(const i of e){if(r.rc.has(i)){xe("SyncEngine","Adding an already active target "+i);continue}const a=yield tP(r.localStore,i),c=yield Cm(r.localStore,a);yield AN(r,CP(a),c.targetId,!1,c.resumeToken),TT(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield Sm(r.localStore,i,!1).then(()=>{pb(r.remoteStore,i),km(r,i)}).catch(Gl))}}),YN.apply(this,arguments)}function KN(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z$.bind(null,e),e.sc.Wo=B$.bind(null,e.eventManager),e.sc.wc=V$.bind(null,e.eventManager),e}function JN(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K$.bind(null,e),e}class SP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.yt=hb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Jk(this.persistence,new Kk,e.initialUser,this.yt)}yc(e){return new Zk(yT.Bs,this.yt)}gc(e){return new oP}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class AP extends SP{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield JN(r.Ac.syncEngine),yield Nm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Jk(this.persistence,new Kk,e.initialUser,this.yt)}Tc(e,t){return new JU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new h(t,this.persistence);return new d(e.asyncQueue,r)}yc(e){const t=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new GA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lP(),ET(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new oP}}class uj extends AP{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof eN&&(r.sharedClientState.syncEngine={Fr:rj.bind(null,i),$r:oj.bind(null,i),Br:aj.bind(null,i),vi:sj.bind(null,i),Mr:nj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,W.Z)(function*(c){yield function ij(n,e){return WN.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=lP();if(!eN.C(t))throw new we(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class QN{initialize(e,t){var r=this;return(0,W.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=X$.bind(null,r.syncEngine),yield yN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L$}createDatastore(e){const t=hb(e.databaseInfo.databaseId),r=new b$(e.databaseInfo);return new E$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>EP(this.syncEngine,f,0),c=aP.C()?new aP:new _$,new C$(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,v){const E=new G$(r,i,a,c,f,m);return v&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const r=qe(t);xe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Am(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XN(n,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NP(n,e,t,r){if(!0===e&&!0===r)throw new we(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OP(n){if(!Ge.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MP(n){if(Ge.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CT(n);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xP(n,e){if(e<=0)throw new we(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const RP=new Map;class kP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,NP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cA;switch(t.type){case"gapi":return new aR(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RP.get(e);t&&(xe("ComponentProvider","Removing Datastore"),RP.delete(e),t.terminate())}(this),Promise.resolve()}}function PP(n,e,t,r={}){var i;const a=(n=en(n,gb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&zc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Rr.MOCK_USER;else{c=(0,pt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rr(m)}n._authCredentials=new V0(new om(c,f))}}class Pn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class Ha extends yi{constructor(e,t,r){super(e,t,mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ge(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function FP(n,e,...t){if(n=(0,pt.m9)(n),XN("collection","path",e),n instanceof gb){const r=Qt.fromString(e,...t);return MP(r),new Ha(n,null,r)}{if(!(n instanceof Pn||n instanceof Ha))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return MP(r),new Ha(n.firestore,null,r)}}function ST(n,e,...t){if(n=(0,pt.m9)(n),1===arguments.length&&(e=zE.R()),XN("doc","path",e),n instanceof gb){const r=Qt.fromString(e,...t);return OP(r),new Pn(n,null,new Ge(r))}{if(!(n instanceof Pn||n instanceof Ha))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return OP(r),new Pn(n.firestore,n instanceof Ha?n.converter:null,new Ge(r))}}function LP(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),(n instanceof Pn||n instanceof Ha)&&(e instanceof Pn||e instanceof Ha)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eO(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),n instanceof yi&&e instanceof yi&&n.firestore===e.firestore&&q0(n._query,e._query)&&n.converter===e.converter}function BP(n,e=10240){let t=0;return{read:()=>(0,W.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dj{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Kn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new U$(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,W.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,W.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class pj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,W.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new we(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,W.Z)(function*(a,c){const f=qe(a),m=nb(f.yt)+"/documents",v={documents:c.map(M=>tb(f.yt,M))},E=yield f._o("BatchGetDocuments",m,v,c.length),I=new Map;E.forEach(M=>{const $=function fU(n,e){return"found"in e?function(t,r){ft(!!r.found);const i=$a(t,r.found.name),a=vr(r.found.updateTime),c=r.found.createTime?vr(r.found.createTime):vt.min(),f=new _i({mapValue:{fields:r.found.fields}});return kn.newFoundDocument(i,a,c,f)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const i=$a(t,r.missing),a=vr(r.readTime);return kn.newNoDocument(i,a)}(n,e):st()}(f.yt,M);I.set($.key.toString(),$)});const N=[];return c.forEach(M=>{const $=I.get(M.toString());ft(!!$),N.push($)}),N}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ge.fromPath(i);e.mutations.push(new CA(a,e.precondition(a)))}),yield(r=(0,W.Z)(function*(i,a){const c=qe(i),f=nb(c.yt)+"/documents",m={writes:a.map(v=>rb(c.yt,v))};yield c.ao("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new we(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?jn.exists(!1):jn.updateTime(t):jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new we(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new tN(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,W.Z)(function*(){const t=new pj(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!R(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!YR(t)}return!1}}class mj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=zE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,W.Z)(function*(f){xe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(xe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Mm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function VP(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,W.Z)(function*(a){r.isEqual(a)||(yield Qk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tO.apply(this,arguments)}function UP(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rO(n);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>gP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>gP(e.remoteStore,a)),n.onlineComponents=e}),nO.apply(this,arguments)}function rO(n){return iO.apply(this,arguments)}function iO(){return iO=(0,W.Z)(function*(n){return n.offlineComponents||(xe("FirestoreClient","Using default OfflineComponentProvider"),yield VP(n,new SP)),n.offlineComponents}),iO.apply(this,arguments)}function NT(n){return sO.apply(this,arguments)}function sO(){return sO=(0,W.Z)(function*(n){return n.onlineComponents||(xe("FirestoreClient","Using default OnlineComponentProvider"),yield UP(n,new QN)),n.onlineComponents}),sO.apply(this,arguments)}function $P(n){return rO(n).then(e=>e.persistence)}function OT(n){return rO(n).then(e=>e.localStore)}function oO(n){return NT(n).then(e=>e.remoteStore)}function aO(n){return NT(n).then(e=>e.syncEngine)}function Pm(n){return lO.apply(this,arguments)}function lO(){return lO=(0,W.Z)(function*(n){const e=yield NT(n),t=e.eventManager;return t.onListen=z$.bind(null,e.syncEngine),t.onUnlisten=W$.bind(null,e.syncEngine),t}),lO.apply(this,arguments)}function HP(n,e,t={}){const r=new Kn;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,c,f,m){const v=new AT({next:I=>{a.enqueueAndForget(()=>EN(i,E));const N=I.docs.has(c);!N&&I.fromCache?m.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&f&&"server"===f.source?m.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new CN(mm(c.path),v,{includeMetadataChanges:!0,Nu:!0});return wN(i,E)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}function GP(n,e,t={}){const r=new Kn;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,c,f,m){const v=new AT({next:I=>{a.enqueueAndForget(()=>EN(i,E)),I.fromCache&&"server"===f.source?m.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new CN(c,v,{includeMetadataChanges:!0,Nu:!0});return wN(i,E)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}class Tj{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new tN(this,"async_queue_retry"),this.Wc=()=>{const t=ET();t&&xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ET();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ET();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Kn;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,W.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ba(t))throw t;xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=bN.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function uO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ij{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fn extends gb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tj,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zP(this),this._firestoreClient.terminate()}}function Sj(n,e){const t="object"==typeof n?n:(0,qt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,qt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,pt.P0)("firestore");a&&PP(i,...a)}return i}function br(n){return n._firestoreClient||zP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zP(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new y(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new mj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function WP(n,e,t){const r=new Kn;return n.asyncQueue.enqueue((0,W.Z)(function*(){try{yield VP(n,t),yield UP(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===re.FAILED_PRECONDITION||c.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;zc("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function qP(n){if(n._initialized||n._terminated)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(_e.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(_e.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cf{constructor(e){this._methodName=e}}class MT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const Fj=/^__.*__$/;class Lj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ql(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class ZP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ql(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class xT{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new xT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return PT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(YP(this.sa)&&Fj.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Bj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||hb(e)}da(e,t,r,i=!1){return new xT({sa:e,methodName:t,fa:r,path:Rn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function df(n){const e=n._freezeSettings(),t=hb(n._databaseId);return new Bj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RT(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);fO("Data must be an object, but it was:",c,r);const f=QP(r,c);let m,v;if(a.merge)m=new ls(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const E=[];for(const I of a.mergeFields){const N=pO(e,I,t);if(!c.contains(N))throw new we(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);eF(E,N)||E.push(N)}m=new ls(E),v=c.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=c.fieldTransforms;return new Lj(new _i(f),m,v)}class mb extends cf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mb}}function KP(n,e,t){return new xT({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class cO extends cf{_toFieldTransform(e){return new Y0(e.path,new _m)}isEqual(e){return e instanceof cO}}class Vj extends cf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KP(this,e,!0),r=this._a.map(a=>hf(a,t)),i=new Xh(r);return new Y0(e.path,i)}isEqual(e){return this===e}}class Uj extends cf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KP(this,e,!0),r=this._a.map(a=>hf(a,t)),i=new ef(r);return new Y0(e.path,i)}isEqual(e){return this===e}}class $j extends cf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ym(e.yt,BR(e.yt,this.wa));return new Y0(e.path,t)}isEqual(e){return this===e}}function dO(n,e,t,r){const i=n.da(1,e,t);fO("Data must be an object, but it was:",i,r);const a=[],c=_i.empty();C(r,(m,v)=>{const E=kT(e,m,t);v=(0,pt.m9)(v);const I=i.ca(E);if(v instanceof mb)a.push(E);else{const N=hf(v,I);null!=N&&(a.push(E),c.set(E,N))}});const f=new ls(a);return new ZP(c,f,i.fieldTransforms)}function hO(n,e,t,r,i,a){const c=n.da(1,e,t),f=[pO(e,r,t)],m=[i];if(a.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(pO(e,a[N])),m.push(a[N+1]);const v=[],E=_i.empty();for(let N=f.length-1;N>=0;--N)if(!eF(v,f[N])){const M=f[N];let $=m[N];$=(0,pt.m9)($);const Y=c.ca(M);if($ instanceof mb)v.push(M);else{const ie=hf($,Y);null!=ie&&(v.push(M),E.set(M,ie))}}const I=new ls(v);return new ZP(E,I,c.fieldTransforms)}function JP(n,e,t,r=!1){return hf(t,n.da(r?4:3,e))}function hf(n,e){if(XP(n=(0,pt.m9)(n)))return fO("Unsupported field value:",e,n),QP(n,e);if(n instanceof cf)return function(t,r){if(!YP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=hf(c,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BR(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=In.fromDate(t);return{timestampValue:wm(r.yt,i)}}if(t instanceof In){const i=new In(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wm(r.yt,i)}}if(t instanceof MT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:sk(r.yt,t._byteString)};if(t instanceof Pn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:SA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${CT(t)}`)}(n,e)}function QP(n,e){const t={};return A(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):C(n,(r,i)=>{const a=hf(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function XP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof In||n instanceof MT||n instanceof Ga||n instanceof Pn||n instanceof cf)}function fO(n,e,t){if(!XP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CT(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function pO(n,e,t){if((e=(0,pt.m9)(e))instanceof Kl)return e._internalPath;if("string"==typeof e)return kT(n,e);throw PT("Field path arguments must be of type string or ",n,!1,void 0,t)}const jj=new RegExp("[~\\*/\\[\\]]");function kT(n,e,t){if(e.search(jj)>=0)throw PT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kl(...e.split("."))._internalPath}catch{throw PT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PT(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new we(re.INVALID_ARGUMENT,f+n+m)}function eF(n,e){return n.some(t=>t.isEqual(e))}class _b{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hj extends _b{data(){return super.data()}}function FT(n,e){return"string"==typeof e?kT(n,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}function tF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gO{}class yb extends gO{}function nd(n,e,...t){let r=[];e instanceof gO&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Fm).length,c=i.filter(f=>f instanceof vb).length;if(a>1||a>0&&c>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vb extends yb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vb(e,t,r)}_apply(e){const t=this._parse(e);return sF(e._query,t),new yi(e.firestore,e.converter,TA(e._query,t))}_parse(e){const t=df(e.firestore);return function(i,a,c,f,m,v,E){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){iF(E,v);const N=[];for(const M of E)N.push(rF(f,i,M));I={arrayValue:{values:N}}}else I=rF(f,i,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||iF(E,v),I=JP(c,"where",E,"in"===v||"not-in"===v);return Xt.create(m,v,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends gO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)sF(a,f),a=TA(a,f)}(e._query,t),new yi(e.firestore,e.converter,TA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mO extends yb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mO(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new we(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new we(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new pm(i,a);return function(f,m){if(null===DA(f)){const v=nT(f);null!==v&&oF(0,v,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Wl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class LT extends yb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new LT(e,t,r)}_apply(e){return new yi(e.firestore,e.converter,rT(e._query,this._limit,this._limitType))}}class BT extends yb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new BT(e,t,r)}_apply(e){const t=nF(e,this.type,this._docOrFields,this._inclusive);return new yi(e.firestore,e.converter,(i=t,new Wl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class VT extends yb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new VT(e,t,r)}_apply(e){const t=nF(e,this.type,this._docOrFields,this._inclusive);return new yi(e.firestore,e.converter,(i=t,new Wl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function nF(n,e,t,r){if(t[0]=(0,pt.m9)(t[0]),t[0]instanceof _b)return function(i,a,c,f,m){if(!f)throw new we(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const E of Qh(i))if(E.field.isKeyField())v.push(Kh(a,f.key));else{const I=f.data.field(E.field);if(Rt(I))throw new we(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=E.field.canonicalString();throw new we(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(I)}return new Yc(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=df(n.firestore);return function(a,c,f,m,v,E){const I=a.explicitOrderBy;if(v.length>I.length)throw new we(re.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let M=0;M<v.length;M++){const $=v[M];if(I[M].field.isKeyField()){if("string"!=typeof $)throw new we(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!EA(a)&&-1!==$.indexOf("/"))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const Y=a.path.child(Qt.fromString($));if(!Ge.isDocumentKey(Y))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const ie=new Ge(Y);N.push(Kh(c,ie))}else{const Y=JP(f,m,$);N.push(Y)}}return new Yc(N,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rF(n,e,t){if("string"==typeof(t=(0,pt.m9)(t))){if(""===t)throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&-1!==t.indexOf("/"))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Ge.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kh(n,new Ge(r))}if(t instanceof Pn)return Kh(n,t._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CT(t)}.`)}function iF(n,e){if(!Array.isArray(n)||0===n.length)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new we(re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sF(n,e){if(e.isInequality()){const r=nT(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new we(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=DA(n);null!==a&&oF(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new we(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function oF(n,e,t){if(!t.isEqual(e))throw new we(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _O{convertValue(e,t="none"){switch(Yh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ye(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return C(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new MT(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cn(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sn(e));default:return null}}convertTimestamp(e){const t=et(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);ft(gk(r));const i=new D(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return i.isEqual(t)||ar(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function UT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Qj extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}class ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends _b{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(FT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bb extends Jl{data(e={}){return super.data(e)}}class rd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bb(this._firestore,this._userDataWriter,r.key,r,new ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new bb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ff(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new bb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ff(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:Xj(c.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function lF(n,e){return n instanceof Jl&&e instanceof Jl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rd&&e instanceof rd&&n._firestore===e._firestore&&eO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class id extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function uF(n,e,t){n=en(n,Pn);const r=en(n.firestore,Fn),i=UT(n.converter,e,t);return Lm(r,[RT(df(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,jn.none())])}function cF(n,e,t,...r){n=en(n,Pn);const i=en(n.firestore,Fn),a=df(i);let c;return c="string"==typeof(e=(0,pt.m9)(e))||e instanceof Kl?hO(a,"updateDoc",n._key,e,t,r):dO(a,"updateDoc",n._key,e),Lm(i,[c.toMutation(n._key,jn.exists(!0))])}function dF(n,...e){var t,r,i;n=(0,pt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||uO(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(uO(e[c])){const I=e[c];e[c]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[c+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[c+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let m,v,E;if(n instanceof Pn)v=en(n.firestore,Fn),E=mm(n._key.path),m={next:I=>{e[c]&&e[c](yO(v,n,I))},error:e[c+1],complete:e[c+2]};else{const I=en(n,yi);v=en(I.firestore,Fn),E=I._query;const N=new id(v);m={next:M=>{e[c]&&e[c](new rd(v,N,I,M))},error:e[c+1],complete:e[c+2]},tF(n._query)}return function(I,N,M,$){const Y=new AT($),ie=new CN(N,Y,M);return I.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return wN(yield Pm(I),ie)})),()=>{Y.bc(),I.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return EN(yield Pm(I),ie)}))}}(br(v),E,f,m)}function Lm(n,e){return function(t,r){const i=new Kn;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function q$(n,e,t){return MN.apply(this,arguments)}(yield aO(t),r,i)})),i.promise}(br(n),e)}function yO(n,e,t){const r=t.docs.get(e._key),i=new id(n);return new Jl(n,i,e._key,r,new ff(t.hasPendingWrites,t.fromCache),e.converter)}const uH={maxAttempts:5};class hF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=df(e)}set(e,t,r){this._verifyNotCommitted();const i=sd(e,this._firestore),a=UT(i.converter,t,r),c=RT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,jn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=sd(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof Kl?hO(this._dataReader,"WriteBatch.update",a._key,t,r,i):dO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sd(e,this._firestore);return this._mutations=this._mutations.concat(new bm(t._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sd(n,e){if((n=(0,pt.m9)(n)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=df(e)}get(e){const t=sd(e,this._firestore),r=new Qj(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const a=i[0];if(a.isFoundDocument())return new _b(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new _b(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=sd(e,this._firestore),a=UT(i.converter,t,r),c=RT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=sd(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof Kl?hO(this._dataReader,"Transaction.update",a._key,t,r,i):dO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=sd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sd(e,this._firestore),r=new id(this._firestore);return super.get(e).then(i=>new Jl(this._firestore,r,t._key,i._document,new ff(!1,!1),t.converter))}}function vO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function pF(){if(typeof Uint8Array>"u")throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function gF(){if(!function de(){return typeof atob<"u"}())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Gc=qt.SDK_VERSION,(0,qt._registerComponent)(new Ss.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Fn(new U0(t.getProvider("auth-internal")),new lR(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new D(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(L0,"3.8.3",n),(0,qt.registerVersion)(L0,"3.8.3","esm2017")}();class wb{constructor(e){this._delegate=e}static fromBase64String(e){return gF(),new wb(Ga.fromBase64String(e))}static fromUint8Array(e){return pF(),new wb(Ga.fromUint8Array(e))}toBase64(){return gF(),this._delegate.toBase64()}toUint8Array(){return pF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bO(n){return function vH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bH{enableIndexedDbPersistence(e,t){return function Aj(n,e){qP(n=en(n,Fn));const t=br(n),r=n._freezeSettings(),i=new QN;return WP(t,i,new AP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Nj(n){qP(n=en(n,Fn));const e=br(n),t=n._freezeSettings(),r=new QN;return WP(e,r,new uj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Oj(n){if(n._initialized&&!n._terminated)throw new we(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(t=(0,W.Z)(function*(r){if(!Xs.C())return Promise.resolve();const i=r+"main";yield Xs.delete(i)}),function(r){return t.apply(this,arguments)})(zA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof D||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){PP(this._delegate,e,t,r)}enableNetwork(){return function xj(n){return function _j(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield $P(n),t=yield oO(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),fb(i)}(t)}))}(br(n=en(n,Fn)))}(this._delegate)}disableNetwork(){return function Rj(n){return function yj(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield $P(n),t=yield oO(n);return e.setNetworkEnabled(!1),(r=(0,W.Z)(function*(i){const a=qe(i);a._u.add(0),yield Am(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(br(n=en(n,Fn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,NP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Mj(n){return function(e){const t=new Kn;return e.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function J$(n,e){return FN.apply(this,arguments)}(yield aO(e),t)})),t.promise}(br(n=en(n,Fn)))}(this._delegate)}onSnapshotsInSync(e){return function lH(n,e){return function wj(n,e){const t=new AT(e);return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Pm(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Pm(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}(br(n=en(n,Fn)),uO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bm(this,FP(this._delegate,e))}catch(t){throw Ki(t,"collection()","Firestore.collection()")}}doc(e){try{return new eo(this,ST(this._delegate,e))}catch(t){throw Ki(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ji(this,function cj(n,e){if(n=en(n,gb),XN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yi(n,null,(t=e,new Wl(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ki(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dH(n,e,t){n=en(n,Fn);const r=Object.assign(Object.assign({},uH),t);return function(i){if(i.maxAttempts<1)throw new we(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new Kn;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const m=yield function jP(n){return NT(n).then(e=>e.datastore)}(i);new gj(i.asyncQueue,m,c,a,f).run()})),f.promise}(br(n),i=>e(new cH(n,i)),r)}(this._delegate,t=>e(new _F(this,t)))}batch(){return br(this._delegate),new yF(new hF(this._delegate,e=>Lm(this._delegate,e)))}loadBundle(e){return function kj(n,e){const t=br(n=en(n,Fn)),r=new Ij;return function Dj(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return BP(m,v);if(m instanceof ArrayBuffer)return BP(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new dj(m,c);var m}(t,hb(e));n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function lj(n,e,t){const r=qe(n);var i;(i=(0,W.Z)(function*(a,c,f){try{const m=yield c.getMetadata();if(yield function(N,M){const $=qe(N),Y=vr(M.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",ie=>$.Ns.getBundleMetadata(ie,M.id)).then(ie=>!!ie&&ie.createTime.compareTo(Y)>=0)}(a.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=m).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(yP(m));const v=new $$(m,a.localStore,c.yt);let E=yield c.mc();for(;E;){const N=yield v.Fu(E);N&&f._updateProgress(N),E=yield c.mc()}const I=yield v.complete();return yield Yl(a,I.Lu,void 0),yield function(N,M){const $=qe(N);return $.persistence.runTransaction("Save bundle","readwrite",Y=>$.Ns.saveBundleMetadata(Y,M))}(a.localStore,m),f._completeWith(I.progress),Promise.resolve(I.Bu)}catch(m){return zc("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var N}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield aO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Pj(n,e){return function Ej(n,e){return n.asyncQueue.enqueue((0,W.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield OT(n),e)}))}(br(n=en(n,Fn)),e).then(t=>t?new yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ji(this,t):null)}}class $T extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new wb(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return eo.forKey(t,this.firestore,null)}}class _F{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}get(e){const t=gf(e);return this._delegate.get(t).then(r=>new Db(this._firestore,new Jl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=gf(e);return r?(vO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=gf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=gf(e);return this._delegate.delete(t),this}}class yF{constructor(e){this._delegate=e}set(e,t,r){const i=gf(e);return r?(vO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=gf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=gf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Eb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new pf(e,new $T(e),t),i.set(t,a)),a}}pf.INSTANCES=new WeakMap;class eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}static forPath(e,t,r){if(e.length%2!=0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new eo(t,new Pn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new eo(t,new Pn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Bm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bm(this.firestore,FP(this._delegate,e))}catch(t){throw Ki(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pt.m9)(e))instanceof Pn&&LP(this._delegate,e)}set(e,t){t=vO("DocumentReference.set",t);try{return t?uF(this._delegate,e,t):uF(this._delegate,e)}catch(r){throw Ki(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?cF(this._delegate,e):cF(this._delegate,e,t,...r)}catch(i){throw Ki(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oH(n){return Lm(en(n.firestore,Fn),[new bm(n._key,jn.none())])}(this._delegate)}onSnapshot(...e){const t=vF(e),r=bF(e,i=>new Db(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return dF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function tH(n){n=en(n,Pn);const e=en(n.firestore,Fn),t=br(e),r=new id(e);return function vj(n,e){const t=new Kn;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,c){try{const f=yield function(m,v){const E=qe(m);return E.persistence.runTransaction("read document","readonly",I=>E.localDocuments.getDocument(I,v))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new we(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Mm(f,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield OT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Jl(e,r,n._key,i,new ff(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function nH(n){n=en(n,Pn);const e=en(n.firestore,Fn);return HP(br(e),n._key,{source:"server"}).then(t=>yO(e,n,t))}(this._delegate):function eH(n){n=en(n,Pn);const e=en(n.firestore,Fn);return HP(br(e),n._key).then(t=>yO(e,n,t))}(this._delegate),t.then(r=>new Db(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new eo(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}function Ki(n,e,t){return n.message=n.message.replace(e,t),n}function vF(n){for(const e of n)if("object"==typeof e&&!bO(e))return e;return{}}function bF(n,e){var t,r;let i;return i=bO(n[0])?n[0]:bO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Db{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new eo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lF(this._delegate,e._delegate)}}class Eb extends Db{data(e){const t=this._delegate.data(e);return function uA(n,e){n||st()}(void 0!==t),t}}class Ji{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}where(e,t,r){try{return new Ji(this.firestore,nd(this._delegate,function Gj(n,e,t){const r=e,i=FT("where",n);return vb._create(i,r,t)}(e,t,r)))}catch(i){throw Ki(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ji(this.firestore,nd(this._delegate,function zj(n,e="asc"){const t=e,r=FT("orderBy",n);return mO._create(r,t)}(e,t)))}catch(r){throw Ki(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ji(this.firestore,nd(this._delegate,function Wj(n){return xP("limit",n),LT._create("limit",n,"F")}(e)))}catch(t){throw Ki(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ji(this.firestore,nd(this._delegate,function qj(n){return xP("limitToLast",n),LT._create("limitToLast",n,"L")}(e)))}catch(t){throw Ki(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ji(this.firestore,nd(this._delegate,function Zj(...n){return BT._create("startAt",n,!0)}(...e)))}catch(t){throw Ki(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ji(this.firestore,nd(this._delegate,function Yj(...n){return BT._create("startAfter",n,!1)}(...e)))}catch(t){throw Ki(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ji(this.firestore,nd(this._delegate,function Kj(...n){return VT._create("endBefore",n,!1)}(...e)))}catch(t){throw Ki(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ji(this.firestore,nd(this._delegate,function Jj(...n){return VT._create("endAt",n,!0)}(...e)))}catch(t){throw Ki(t,"endAt()","Query.endAt()")}}isEqual(e){return eO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iH(n){n=en(n,yi);const e=en(n.firestore,Fn),t=br(e),r=new id(e);return function bj(n,e){const t=new Kn;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,c){try{const f=yield bT(i,a,!0),m=new wP(a,f.Hi),v=m.Wu(f.documents),E=m.applyChanges(v,!1);c.resolve(E.snapshot)}catch(f){const m=Mm(f,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield OT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new rd(e,r,n,i))}(this._delegate):"server"===e?.source?function sH(n){n=en(n,yi);const e=en(n.firestore,Fn),t=br(e),r=new id(e);return GP(t,n._query,{source:"server"}).then(i=>new rd(e,r,n,i))}(this._delegate):function rH(n){n=en(n,yi);const e=en(n.firestore,Fn),t=br(e),r=new id(e);return tF(n._query),GP(t,n._query).then(i=>new rd(e,r,n,i))}(this._delegate),t.then(r=>new wO(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=vF(e),r=bF(e,i=>new wO(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return dF(this._delegate,t,r)}withConverter(e){return new Ji(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}class DH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Eb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ji(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Eb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Eb(this._firestore,r))})}isEqual(e){return lF(this._delegate,e._delegate)}}class Bm extends Ji{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new eo(this.firestore,e):null}doc(e){try{return new eo(this.firestore,void 0===e?ST(this._delegate):ST(this._delegate,e))}catch(t){throw Ki(t,"doc()","CollectionReference.doc()")}}add(e){return function aH(n,e){const t=en(n.firestore,Fn),r=ST(n),i=UT(n.converter,e);return Lm(t,[RT(df(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new eo(this.firestore,t))}isEqual(e){return LP(this._delegate,e._delegate)}withConverter(e){return new Bm(this.firestore,this._delegate.withConverter(e?pf.getInstance(this.firestore,e):null))}}function gf(n){return en(n,Pn)}class DO{constructor(...e){this._delegate=new Kl(...e)}static documentId(){return new DO(Rn.keyField().canonicalString())}isEqual(e){return(e=(0,pt.m9)(e))instanceof Kl&&this._delegate._internalPath.isEqual(e._internalPath)}}class mf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fH(){return new cO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mf(e)}static delete(){const e=function hH(){return new mb("deleteField")}();return e._methodName="FieldValue.delete",new mf(e)}static arrayUnion(...e){const t=function pH(...n){return new Vj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mf(t)}static arrayRemove(...e){const t=function gH(...n){return new Uj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mf(t)}static increment(e){const t=function mH(n){return new $j("increment",n)}(e);return t._methodName="FieldValue.increment",new mf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EH={Firestore:mF,GeoPoint:MT,Timestamp:In,Blob:wb,Transaction:_F,WriteBatch:yF,DocumentReference:eo,DocumentSnapshot:Db,Query:Ji,QueryDocumentSnapshot:Eb,QuerySnapshot:wO,CollectionReference:Bm,FieldPath:DO,FieldValue:mf,setLogLevel:function wH(n){!function oR(n){La.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IH(n){(function TH(n,e){n.INTERNAL.registerComponent(new Ss.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EH)))})(n,(e,t)=>new mF(e,t,new bH)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Sv.Z);var Tb=F(6451);class CH extends Yt.x{constructor(e=1/0,t=1/0,r=tc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var SH=F(3099);function EO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,SH.B)({connector:()=>new CH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function wF(n,e){return(0,Ur.m)(e)?mn(()=>n,e):mn(()=>n)}class Vm{constructor(e){return e}}class DF{constructor(){return(0,qt.getApps)()}}const TO=new l.OlP("angularfire2._apps"),NH={provide:Vm,useFactory:function AH(n){return n&&1===n.length?n[0]:new Vm((0,qt.getApp)())},deps:[[new l.FiY,TO]]},OH={provide:DF,deps:[[new l.FiY,TO]]};function MH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Vm(r)}}let xH=(()=>{class n{constructor(t){(0,qt.registerVersion)("angularfire",Th.full,"core"),(0,qt.registerVersion)("angularfire",Th.full,"app"),(0,qt.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[NH,OH]}),n})();const kH=tE(qt.initializeApp,!0),IO=new Map,EF={activated:!1,tokenObservers:[]},PH={initialized:!1,enabled:!1};function vi(n){return IO.get(n)||Object.assign({},EF)}function jT(){return PH}class $H{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new pt.BH,yield function jH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IF(n){if(!vi(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function AO(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,W.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(I){throw Qi.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==c.status)throw Qi.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(I){throw Qi.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),E=Date.now();return{token:f.token,expireTimeMillis:E+v,issuedAtTimeMillis:E}}),NO.apply(this,arguments)}function WH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ib="firebase-app-check-store";let zT=null;function SF(){return zT||(zT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ib,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t?.message}))}}),zT)}function OO(){return OO=(0,W.Z)(function*(n,e){const r=(yield SF()).transaction(Ib,"readwrite"),a=r.objectStore(Ib).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var v;f(Qi.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),OO.apply(this,arguments)}const Cb=new is.Yd("@firebase/app-check");function RO(n,e){return(0,pt.hl)()?function KH(n,e){return function AF(n,e){return OO.apply(this,arguments)}(function OF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Cb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MF(){return jT().enabled}function xF(){return PO.apply(this,arguments)}function PO(){return PO=(0,W.Z)(function*(){const n=jT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PO.apply(this,arguments)}const nG={error:"UNKNOWN_ERROR"};function rG(n){return pt.US.encodeString(JSON.stringify(n),!1)}function WT(n){return FO.apply(this,arguments)}function FO(){return FO=(0,W.Z)(function*(n,e=!1){const t=n.app;IF(t);const r=vi(t);let a,i=r.token;if(i&&!Um(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Um(m)?i=m:yield RO(t,void 0))}if(!e&&i&&Um(i))return{token:i.token};let f,c=!1;if(MF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=AO(WH(t,yield xF()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield RO(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield vi(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Cb.warn(m.message):Cb.error(m),a=m}return i?a?f=Um(i)?{token:i.token,internalError:a}:PF(a):(f={token:i.token},r.token=i,yield RO(t,i)):f=PF(a),c&&kF(t,f),f}),FO.apply(this,arguments)}function BO(n,e){const t=vi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function RF(n){const{app:e}=n,t=vi(e);let r=t.tokenRefresher;r||(r=function iG(n){const{app:e}=n;return new $H((0,W.Z)(function*(){let r;if(r=vi(e).token?yield WT(n,!0):yield WT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kF(n,e){const t=vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Um(n){return n.expireTimeMillis-Date.now()>0}function PF(n){return{token:rG(nG),error:n}}class sG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vi(this.app);for(const t of e)BO(this.app,t.next);return Promise.resolve()}}const HF="app-check-internal";!function vG(){(0,qt._registerComponent)(new Ss.wA("app-check",n=>function oG(n,e){return new sG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HF).initialize()})),(0,qt._registerComponent)(new Ss.wA(HF,n=>function aG(n){return{getToken:e=>WT(n,e),addTokenListener:e=>function LO(n,e,t,r){const{app:i}=n,a=vi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Um(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),RF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>RF(n))}(n,"INTERNAL",e),removeTokenListener:e=>BO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qt.registerVersion)("@firebase/app-check","0.6.3")}();class ZT{constructor(){return Cv("app-check")}}typeof window<"u"&&window;var TG=F(9260);const zF=new l.OlP("angularfire2.auth.use-emulator"),WF=new l.OlP("angularfire2.auth.settings"),qF=new l.OlP("angularfire2.auth.tenant-id"),ZF=new l.OlP("angularfire2.auth.langugage-code"),YF=new l.OlP("angularfire2.auth.use-device-language"),KF=new l.OlP("angularfire.auth.persistence"),JF=(n,e,t,r,i,a,c,f)=>(0,xs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[v,E]of Object.entries(c))m.settings[v]=E;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]);let QF=(()=>{class n{constructor(t,r,i,a,c,f,m,v,E,I,N,M){const $=new Yt.x,Y=lt(void 0).pipe((0,wc.Q)(c.outsideAngular),mn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,Ye.U)(()=>(0,xs.on)(t,a,r)),(0,Ye.U)(ie=>JF(ie,a,f,v,E,I,m,N)),EO({bufferSize:1,refCount:!1}));if(Uf(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{Y.pipe(Ds()).subscribe();const le=Y.pipe(mn(Ve=>Ve.getRedirectResult().then(Be=>Be,()=>null)),xi,EO({bufferSize:1,refCount:!1})),Te=Y.pipe(mn(Ve=>new $n.y(Be=>({unsubscribe:a.runOutsideAngular(()=>Ve.onAuthStateChanged(je=>Be.next(je),je=>Be.error(je),()=>Be.complete()))})))),ze=Y.pipe(mn(Ve=>new $n.y(Be=>({unsubscribe:a.runOutsideAngular(()=>Ve.onIdTokenChanged(je=>Be.next(je),je=>Be.error(je),()=>Be.complete()))}))));this.authState=le.pipe(wF(Te),(0,bc.R)(c.outsideAngular),(0,wc.Q)(c.insideAngular)),this.user=le.pipe(wF(ze),(0,bc.R)(c.outsideAngular),(0,wc.Q)(c.insideAngular)),this.idToken=this.user.pipe(mn(Ve=>Ve?(0,Zt.D)(Ve.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(mn(Ve=>Ve?(0,Zt.D)(Ve.getIdTokenResult()):lt(null))),this.credential=(0,Tb.T)(le,$,this.authState.pipe(on(Ve=>!Ve))).pipe((0,Ye.U)(Ve=>Ve?.user?Ve:null),(0,bc.R)(c.outsideAngular),(0,wc.Q)(c.insideAngular))}return(0,xs.pX)(this,Y,a,{spy:{apply:(ie,le,Te)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Te.then(ze=>$.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xs.Dh),l.LFG(xs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(kg),l.LFG(zF,8),l.LFG(WF,8),l.LFG(qF,8),l.LFG(ZF,8),l.LFG(YF,8),l.LFG(KF,8),l.LFG(ZT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function XF(n,e){return function CG(n,e=rc){return new $n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HO(n,e){return XF(n,e).pipe((0,Ye.U)(t=>({payload:t,type:"query"})))}function YT(n,e){return HO(n,e).pipe(ji(void 0),Sh(),(0,Ye.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(E=>E.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function eL(n,e,t){return YT(n,t).pipe(ha((r,i)=>function AG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function NG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Dc(),(0,Ye.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function GO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function tL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=YT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ye.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ji(void 0),Sh(),on(([r,i])=>i.length>0||!r),(0,Ye.U)(([r,i])=>i),xi)}auditTrail(e){return this.stateChanges(e).pipe(ha((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tL(e);return eL(this.query,t,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),xi)}get(e){return(0,Zt.D)(this.query.get(e)).pipe(xi)}add(e){return this.ref.add(e)}doc(e){return new rL(this.ref.doc(e),this.afs)}}class rL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=oL(r,t);return new nL(i,a,this.afs)}snapshotChanges(){return function SG(n,e){return XF(n,e).pipe(ji(void 0),Sh(),(0,Ye.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Zt.D)(this.ref.get(e)).pipe(xi)}}class OG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?YT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),on(t=>t.length>0),xi):YT(this.query,this.afs.schedulers.outsideAngular).pipe(xi)}auditTrail(e){return this.stateChanges(e).pipe(ha((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tL(e);return eL(this.query,t,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),xi)}get(e){return(0,Zt.D)(this.query.get(e)).pipe(xi)}}const iL=new l.OlP("angularfire2.enableFirestorePersistence"),sL=new l.OlP("angularfire2.firestore.persistenceSettings"),MG=new l.OlP("angularfire2.firestore.settings"),xG=new l.OlP("angularfire2.firestore.use-emulator");function oL(n,e=(t=>t)){return{query:e(n),ref:n}}let KT=(()=>{class n{constructor(t,r,i,a,c,f,m,v,E,I,N,M,$,Y,ie,le,Te){this.schedulers=m;const ze=(0,xs.on)(t,f,r),Ve=E;I&&JF(ze,f,N,$,Y,ie,M,le),[this.firestore,this.persistenceEnabled$]=(0,xs.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const Be=f.runOutsideAngular(()=>ze.firestore());if(a&&Be.settings(a),Ve&&Be.useEmulator(...Ve),i&&!Uf(c)){const je=()=>{try{return(0,Zt.D)(Be.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Ct){return typeof console<"u"&&console.warn(Ct),lt(!1)}};return[Be,f.runOutsideAngular(je)]}return[Be,lt(!1)]},[a,Ve,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=oL(i,r),f=this.schedulers.ngZone.run(()=>a);return new nL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new OG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new rL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xs.Dh),l.LFG(xs.xv,8),l.LFG(iL,8),l.LFG(MG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(kg),l.LFG(sL,8),l.LFG(xG,8),l.LFG(QF,8),l.LFG(zF,8),l.LFG(WF,8),l.LFG(qF,8),l.LFG(ZF,8),l.LFG(YF,8),l.LFG(KF,8),l.LFG(ZT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RG=(()=>{class n{constructor(){TG.Z.registerVersion("angularfire",Th.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:iL,useValue:!0},{provide:sL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KT]}),n})();const kG=function(){return["home"]};class Sb{constructor(e,t,r){this.route=e,this.sanitizer=t,this.about={},r.collection("about").valueChanges().pipe(hn(1)).subscribe(i=>{this.about=this.sanitizer.bypassSecurityTrustHtml(i[0].details.toString())})}}Sb.\u0275fac=function(e){return new(e||Sb)(l.Y36(Io),l.Y36(ca),l.Y36(KT))},Sb.\u0275cmp=l.Xpm({type:Sb,selectors:[["app-about"]],decls:23,vars:3,consts:[[2,"width","calc( 100% )","position","relative"],[2,"text-align","center","margin-top","15vh","position","relative"],["src","https://i.imgur.com/fVlfMI3.png",2,"border","1px solid transparent","border-radius","20em","max-width","250px","position","relative","top","0","/* add the blur effect */\n            filter","blur(8px)","-webkit-filter","blur(8px)","left","0"],[2,"position","absolute","margin","0 auto","width","100%","margin-top","-245px"],["src","https://i.imgur.com/fVlfMI3.png",2,"border","1px solid rgba(0,0,0,0.2)","border-radius","20em","max-width","250px"],[2,"text-align","center"],[1,"logo"],[2,"background","rgba(255, 255, 255, 0.15)","cursor","pointer","border","1px solid rgba(255, 255, 255, 0.25)","box-shadow","0px 0px 5px black","border-radius","2em","padding","20px","padding-top","5px","padding-bottom","5px","color","white",3,"routerLink"],[2,"width","100%","text-align","center","margin-top","calc( 80vh - 425px)"],[1,"panos-card","active",2,"padding-top","20px","margin-left","0px"],[2,"width","100%!important",";overflow","auto","overflow-x","hidden","height","92%"],[2,"position","relative",3,"innerHtml"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"div",3),l._UZ(4,"img",4),l.qZA()(),l._UZ(5,"br"),l.TgZ(6,"p",5)(7,"a",6),l._uU(8,"PANOS PETRIDISOGLOU"),l.qZA(),l._UZ(9,"br")(10,"br"),l.TgZ(11,"button",7),l._uU(12,"CONTINUE"),l.qZA()()(),l.TgZ(13,"div",8),l._uU(14," \u{1f447} "),l.TgZ(15,"strong"),l._uU(16,"Scroll"),l.qZA(),l._uU(17," to learn more \u{1f447}\n"),l.qZA(),l.TgZ(18,"div",9),l._UZ(19,"br")(20,"br"),l.TgZ(21,"div",10),l._UZ(22,"div",11),l.qZA()()),2&e&&(l.xp6(11),l.Q6J("routerLink",l.DdM(2,kG)),l.xp6(11),l.Q6J("innerHtml",t.about,l.oJD))},dependencies:[Ao],encapsulation:2});class JT{}class zO{}class Lo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PG{encodeKey(e){return aL(e)}encodeValue(e){return aL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const LG=/%(\d[a-f0-9])/gi,BG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aL(n){return encodeURIComponent(n).replace(LG,(e,t)=>BG[t]??e)}function QT(n){return`${n}`}class od{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],m=t.get(c)||[];m.push(f),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(QT):[QT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new od({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(QT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(QT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class VG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uL(n){return typeof Blob<"u"&&n instanceof Blob}function cL(n){return typeof FormData<"u"&&n instanceof FormData}class Ab{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function UG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Lo),this.context||(this.context=new VG),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new od,this.urlWithParams=t}serializeBody(){return null===this.body?null:lL(this.body)||uL(this.body)||cL(this.body)||function $G(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof od?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cL(this.body)?null:uL(this.body)?this.body.type||null:lL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof od?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((I,N)=>I.set(N,e.setHeaders[N]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((I,N)=>I.set(N,e.setParams[N]),v)),new Ab(t,r,a,{params:v,headers:m,context:E,reportProgress:f,responseType:i,withCredentials:c})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class WO{constructor(e,t=200,r="OK"){this.headers=e.headers||new Lo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qO extends WO{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new qO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XT extends WO{constructor(e={}){super(e),this.type=Pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new XT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dL extends WO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ZO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let YO=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Ab)a=t;else{let m,v;m=i.headers instanceof Lo?i.headers:new Lo(i.headers),i.params&&(v=i.params instanceof od?i.params:new od({fromObject:i.params})),a=new Ab(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=lt(a).pipe(wo(m=>this.handler.handle(m)));if(t instanceof Ab||"events"===i.observe)return c;const f=c.pipe(on(m=>m instanceof XT));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,Ye.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new od).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ZO(i,r))}post(t,r,i={}){return this.request("POST",t,ZO(i,r))}put(t,r,i={}){return this.request("PUT",t,ZO(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function hL(n,e){return e(n)}function jG(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const GG=new l.OlP("HTTP_INTERCEPTORS"),Nb=new l.OlP("HTTP_INTERCEPTOR_FNS");function zG(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(GG,{optional:!0})??[]).reduceRight(jG,hL)),n(e,t))}let fL=(()=>{class n extends JT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Nb)));this.chain=r.reduceRight((i,a)=>function HG(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),hL)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zO),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const YG=/^\)\]\}',?\n/;let gL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $n.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((M,$)=>i.setRequestHeader(M,$.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&i.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();i.responseType="json"!==M?M:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const M=i.statusText||"OK",$=new Lo(i.getAllResponseHeaders()),Y=function KG(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new qO({headers:$,status:i.status,statusText:M,url:Y}),c},m=()=>{let{headers:M,status:$,statusText:Y,url:ie}=f(),le=null;204!==$&&(le=typeof i.response>"u"?i.responseText:i.response),0===$&&($=le?200:0);let Te=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof le){const ze=le;le=le.replace(YG,"");try{le=""!==le?JSON.parse(le):null}catch(Ve){le=ze,Te&&(Te=!1,le={error:Ve,text:le})}}Te?(r.next(new XT({body:le,headers:M,status:$,statusText:Y,url:ie||void 0})),r.complete()):r.error(new dL({error:le,headers:M,status:$,statusText:Y,url:ie||void 0}))},v=M=>{const{url:$}=f(),Y=new dL({error:M,status:i.status||0,statusText:i.statusText||"Unknown Error",url:$||void 0});r.error(Y)};let E=!1;const I=M=>{E||(r.next(f()),E=!0);let $={type:Pr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&($.total=M.total),"text"===t.responseType&&i.responseText&&($.partialText=i.responseText),r.next($)},N=M=>{let $={type:Pr.UploadProgress,loaded:M.loaded};M.lengthComputable&&($.total=M.total),r.next($)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",I),null!==a&&i.upload&&i.upload.addEventListener("progress",N)),i.send(a),r.next({type:Pr.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",I),null!==a&&i.upload&&i.upload.removeEventListener("progress",N)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(du))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const KO=new l.OlP("XSRF_ENABLED"),mL="XSRF-TOKEN",_L=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>mL}),yL="X-XSRF-TOKEN",vL=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>yL});class bL{}let JG=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Br(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe),l.LFG(l.Lbi),l.LFG(_L))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function QG(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(KO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(bL).getToken(),i=(0,l.f3M)(vL);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var wr=(()=>((wr=wr||{})[wr.Interceptors=0]="Interceptors",wr[wr.LegacyInterceptors=1]="LegacyInterceptors",wr[wr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",wr[wr.NoXsrfProtection=3]="NoXsrfProtection",wr[wr.JsonpSupport=4]="JsonpSupport",wr[wr.RequestsMadeViaParent=5]="RequestsMadeViaParent",wr))();function $m(n,e){return{\u0275kind:n,\u0275providers:e}}function XG(...n){const e=[YO,gL,fL,{provide:JT,useExisting:fL},{provide:zO,useExisting:gL},{provide:Nb,useValue:QG,multi:!0},{provide:KO,useValue:!0},{provide:bL,useClass:JG}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const wL=new l.OlP("LEGACY_INTERCEPTOR_FN");function t3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:_L,useValue:n}),void 0!==e&&t.push({provide:vL,useValue:e}),$m(wr.CustomXsrfConfiguration,t)}let n3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XG($m(wr.LegacyInterceptors,[{provide:wL,useFactory:zG},{provide:Nb,useExisting:wL,multi:!0}]),t3({cookieName:mL,headerName:yL}))]}),n})(),DL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),_f=(()=>{class n extends DL{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ds=new l.OlP("NgValueAccessor"),s3={provide:ds,useExisting:(0,l.Gpc)(()=>eI),multi:!0},a3=new l.OlP("CompositionEventMode");let eI=(()=>{class n extends DL{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function o3(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(a3,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([s3]),l.qOj]}),n})();const bi=new l.OlP("NgValidators"),ld=new l.OlP("NgAsyncValidators");function RL(n){return null!=n}function kL(n){return(0,l.QGY)(n)?(0,Zt.D)(n):n}function PL(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FL(n,e){return e.map(t=>t(n))}function LL(n){return n.map(e=>function c3(n){return!n.validate}(e)?e:t=>e.validate(t))}function JO(n){return null!=n?function BL(n){if(!n)return null;const e=n.filter(RL);return 0==e.length?null:function(t){return PL(FL(t,e))}}(LL(n)):null}function QO(n){return null!=n?function VL(n){if(!n)return null;const e=n.filter(RL);return 0==e.length?null:function(t){return function r3(...n){const e=(0,vo.jO)(n),{args:t,keys:r}=Gs(n),i=new $n.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let m=c,v=c;for(let E=0;E<c;E++){let I=!1;(0,Ni.Xf)(t[E]).subscribe((0,gn.x)(a,N=>{I||(I=!0,v--),f[E]=N},()=>m--,void 0,()=>{(!m||!I)&&(v||a.next(r?Vd(r,f):f),a.complete())}))}});return e?i.pipe(zs(e)):i}(FL(t,e).map(kL)).pipe((0,Ye.U)(PL))}}(LL(n)):null}function UL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $L(n){return n._rawValidators}function jL(n){return n._rawAsyncValidators}function XO(n){return n?Array.isArray(n)?n:[n]:[]}function nI(n,e){return Array.isArray(n)?n.includes(e):n===e}function HL(n,e){const t=XO(e);return XO(n).forEach(i=>{nI(t,i)||t.push(i)}),t}function GL(n,e){return XO(e).filter(t=>!nI(n,t))}class zL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xi extends zL{get formDirective(){return null}get path(){return null}}class ud extends zL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qL=(()=>{class n extends WL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ud,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),ZL=(()=>{class n extends WL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Ob="VALID",iI="INVALID",jm="PENDING",Mb="DISABLED";function rM(n){return(sI(n)?n.validators:n)||null}function iM(n,e){return(sI(e)?e.asyncValidators:n)||null}function sI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class QL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ob}get invalid(){return this.status===iI}get pending(){return this.status==jm}get disabled(){return this.status===Mb}get enabled(){return this.status!==Mb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GL(e,this._rawAsyncValidators))}hasValidator(e){return nI(this._rawValidators,e)}hasAsyncValidator(e){return nI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ob,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ob||this.status===jm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mb:Ob}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jm,this._hasOwnPendingAsyncValidator=!0;const t=kL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Mb:this.errors?iI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jm)?jm:this._anyControlsHaveStatus(iI)?iI:Ob}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function _3(n){return Array.isArray(n)?JO(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function y3(n){return Array.isArray(n)?QO(n):n||null}(this._rawAsyncValidators)}}class oI extends QL{constructor(e,t,r){super(rM(t),iM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function JL(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function KL(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const xb=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>sM}),sM="always";function Rb(n,e,t=sM){oM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function w3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XL(n,e)})}(n,e),function E3(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function D3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function uI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oM(n,e){const t=$L(n);null!==e.validator?n.setValidators(UL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=jL(n);null!==e.asyncValidator?n.setAsyncValidators(UL(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();uI(e._rawValidators,i),uI(e._rawAsyncValidators,i)}function cI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$L(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=jL(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return uI(e._rawValidators,r),uI(e._rawAsyncValidators,r),t}function XL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function r2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Hm=class extends QL{constructor(e=null,t,r){super(rM(t),iM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=r2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){n2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){n2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){r2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const dM=new l.OlP("NgModelWithFormControlWarning"),L3={provide:Xi,useExisting:(0,l.Gpc)(()=>dI)};let dI=(()=>{class n extends Xi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Rb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){lI(t.control||null,t,!1),function S3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function t2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(lI(r||null,t),(n=>n instanceof Hm)(i)&&(Rb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function e2(n,e){oM(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function T3(n,e){return cI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oM(this.form,this),this._oldForm&&cI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bi,10),l.Y36(ld,10),l.Y36(xb,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([L3]),l.qOj,l.TTD]}),n})();const U3={provide:ud,useExisting:(0,l.Gpc)(()=>pM)};let pM=(()=>{class n extends ud{set isDisabled(t){}constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function uM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===eI?t=a:function C3(n){return Object.getPrototypeOf(n.constructor)===_f}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function lM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function aI(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Xi,13),l.Y36(bi,10),l.Y36(ld,10),l.Y36(ds,10),l.Y36(dM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([U3]),l.qOj,l.TTD]}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[c2]}),n})(),rz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xb,useValue:t.callSetDisabledState??sM}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tz]}),n})();function iz(n,e){1&n&&(l.TgZ(0,"div")(1,"a",1),l._uU(2,"Login"),l.qZA()())}function sz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",17),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.edit(a))}),l._uU(1),l._UZ(2,"br"),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.fields.name.stringValue)}}function oz(n,e){if(1&n&&(l.TgZ(0,"a",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function az(n,e){if(1&n&&(l.TgZ(0,"div",18),l.YNc(1,oz,2,1,"a",19),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.currentTags.split(","))}}function lz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18)(1,"input",21),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.disableEdit(i))}),l.qZA()()}}function uz(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.ALo(2,"slice"),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.AsE("",l.Dn7(2,2,t.currentName,0,19),"",t.currentName.length>19?"...":"","")}}function cz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"h5")(1,"input",22),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.disableEdit(i))}),l.qZA()()}}function dz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p"),l._uU(1,"Icon: "),l._UZ(2,"br"),l.TgZ(3,"input",23),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.disableEdit(i))}),l.qZA()()}}function hz(n,e){if(1&n&&l._UZ(0,"img",24),2&n){const t=l.oxw(2);l.s9C("src",t.currentIcon,l.LSH)}}function fz(n,e){1&n&&(l.TgZ(0,"a",25),l._uU(1,"Show More"),l.qZA())}function pz(n,e){if(1&n&&(l.TgZ(0,"a",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function gz(n,e){if(1&n&&(l.TgZ(0,"div",18),l.YNc(1,pz,2,1,"a",19),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.currentTags.split(","))}}function mz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18)(1,"input",21),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.disableEdit(i))}),l.qZA()()}}function _z(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.currentName)}}function yz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"h5")(1,"input",22),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.disableEdit(i))}),l.qZA()()}}function vz(n,e){if(1&n&&l._UZ(0,"div",26),2&n){const t=l.oxw(2);l.Q6J("innerHtml",t.innerhtml,l.oJD)}}function bz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",27)(1,"textarea",28),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())}),l.qZA()()}}const wz=function(){return["home"]};function Dz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"body")(1,"div",2)(2,"a",3),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.create())}),l._uU(3,"Create New"),l.qZA(),l._UZ(4,"br"),l.YNc(5,sz,3,1,"a",4),l._UZ(6,"br"),l.qZA(),l.TgZ(7,"form",5),l.NdJ("mouseleave",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.disableEdit())}),l.TgZ(8,"div",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.enableEdit())}),l.YNc(9,az,2,1,"div",7),l.YNc(10,lz,2,0,"div",7),l._UZ(11,"div",8),l.YNc(12,uz,3,6,"h5",0),l.YNc(13,cz,2,0,"h5",0),l._UZ(14,"div",8),l.TgZ(15,"h6"),l._uU(16),l.ALo(17,"date"),l.qZA(),l._UZ(18,"div",9),l.YNc(19,dz,4,0,"p",0),l.YNc(20,hz,1,1,"img",10),l._UZ(21,"div",9),l.YNc(22,fz,2,0,"a",11),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"div",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.enableEdit())}),l.YNc(25,gz,2,1,"div",7),l.YNc(26,mz,2,0,"div",7),l._UZ(27,"div",8),l.YNc(28,_z,2,1,"h5",0),l.YNc(29,yz,2,0,"h5",0),l._UZ(30,"div",8),l.TgZ(31,"h6"),l._uU(32),l.ALo(33,"date"),l.qZA(),l._UZ(34,"div",9),l.TgZ(35,"div",13),l.YNc(36,vz,1,1,"div",14),l.YNc(37,bz,2,0,"div",15),l.qZA()(),l.TgZ(38,"button",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.upload())}),l._uU(39,"SUBMIT"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.posts),l.xp6(2),l.Q6J("formGroup",t.form),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(3),l.hij(" ",l.xi3(17,18,t.currentDate,"longDate")," "),l.xp6(3),l.Q6J("ngIf",t.editMode),l.xp6(1),l.Q6J("ngIf",!t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(3),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(3),l.hij(" ",l.xi3(33,21,t.currentDate,"longDate")," "),l.xp6(4),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(1),l.Q6J("routerLink",l.DdM(24,wz))}}class Pb{constructor(e,t){this.http=e,this.sanitizer=t,this.accessKey="",this.posts=[],this.editMode=!1,this.innerhtml={},this.currentTags="test",this.currentName="TEST",this.currentDate="2020-01-01",this.currentIcon="",this.currentProject={},this.form=new oI({currentDetails:new Hm(""),currentTitle:new Hm(""),currentTags:new Hm(""),currentIcon:new Hm("")}),this.currentDate=(new Date).toDateString()}ngOnInit(){this.accessKey=window.location.href.split(/(?:=|&)+/)[3],this.getData(),this.create()}toggleEdit(){this.editMode=!this.editMode}enableEdit(){this.editMode=!0}disableEdit(e=null){(!e||"Enter"==e.key)&&(this.editMode=!1)}preview(){this.innerhtml=this.sanitizer.bypassSecurityTrustHtml(this.form.get("currentDetails").value),this.currentName=this.form.get("currentTitle")?.value,this.currentTags=this.form.get("currentTags")?.value,this.currentIcon=this.form.get("currentIcon")?.value}create(){this.currentProject=null,this.currentDate="",this.currentIcon="",this.currentName="",this.currentTags="",this.innerhtml=""}getData(){this.preview();let e={headers:new Lo({"Content-Type":"application/json",Authorization:"Bearer "+this.accessKey})};this.http.get("https://firestore.googleapis.com/v1/projects/bio-site-panospet/databases/(default)/documents/projects",e).subscribe(t=>{this.posts=t.documents})}edit(e){this.currentProject=e,this.form.get("currentTitle")?.setValue(e.fields.name.stringValue),this.form.get("currentDetails")?.setValue(e.fields.details.stringValue),this.currentTags="",e.fields.tags.arrayValue.values.forEach(t=>{this.currentTags+=t.stringValue+","}),this.currentTags=this.currentTags.substring(0,this.currentTags.length-1),this.form.get("currentTags")?.setValue(this.currentTags),this.form.get("currentIcon")?.setValue(e.fields.icon.stringValue),this.preview()}upload(){let e={headers:new Lo({"Content-Type":"application/json",Authorization:"Bearer "+this.accessKey})};this.currentProject?(this.postRequest(e),this.getData()):this.http.post("https://firestore.googleapis.com/v1/projects/bio-site-panospet/databases/(default)/documents/projects",{},e).pipe().subscribe(t=>{this.currentProject=t,this.postRequest(e),this.getData()})}postRequest(e){var t={name:this.currentProject.name,fields:{name:{stringValue:this.form.get("currentTitle")?.value},icon:{stringValue:this.form.get("currentIcon")?.value},date:{stringValue:new Date},details:{stringValue:this.form.get("currentDetails").value},tags:{arrayValue:{values:[{}]}}}};t.fields.tags.arrayValue.values=[],this.form.get("currentTags")?.value.split(",").forEach(r=>t.fields.tags.arrayValue.values.push({stringValue:r})),this.http.patch("https://firestore.googleapis.com/v1/"+this.currentProject.name,t,e).pipe().subscribe(r=>{this.disableEdit(),this.getData()})}}Pb.\u0275fac=function(e){return new(e||Pb)(l.Y36(YO),l.Y36(ca))},Pb.\u0275cmp=l.Xpm({type:Pb,selectors:[["app-admin"]],decls:2,vars:2,consts:[[4,"ngIf"],["href","https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A//www.googleapis.com/auth/datastore&\ninclude_granted_scopes=true&\nresponse_type=token&\nstate=state_parameter_passthrough_value&\nredirect_uri=http%3A//panospetridisoglou.github.io/admin&\nclient_id=105141969644-06tcman659rdmlpurrerhsr21p2fh27i.apps.googleusercontent.com"],[2,"position","fixed","right","0","top","0px","width","250px","height","100vh","background","rgba(0,0,0,0.5)","padding","10px"],[3,"click"],["style","z-index: -100;cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"z-index","-100",3,"formGroup","mouseleave"],[1,"panos-card",3,"click"],["class","panos-tags",4,"ngIf"],[2,"height","10px"],[2,"height","2px"],["class","panos-card-image",3,"src",4,"ngIf"],["class","panos-card-show-more","clickable","",4,"ngIf"],[1,"panos-card","active",2,"margin","0px !important",3,"click"],[2,"overflow","auto","height","calc(100vh - 150px)"],["style","padding:20px;overflow-wrap: anywhere;",3,"innerHtml",4,"ngIf"],["style","padding:20px;overflow-wrap: anywhere;",4,"ngIf"],[2,"position","fixed","bottom","0px","right","0px","background","rgba(255, 255, 255, 0.15)","cursor","pointer","border","1px solid rgba(255, 255, 255, 0.25)","width","250px","box-shadow","0px 0px 5px black","border-radius","2em","padding","20px","padding-top","5px","padding-bottom","5px","color","white",3,"routerLink","click"],[2,"z-index","-100","cursor","pointer",3,"click"],[1,"panos-tags"],["class","panos-tag",4,"ngFor","ngForOf"],[1,"panos-tag"],["formControlName","currentTags",1,"edit-control",3,"change","keypress"],["formControlName","currentTitle",1,"edit-control",3,"change","keypress"],["formControlName","currentIcon",1,"edit-control",3,"change","keypress"],[1,"panos-card-image",3,"src"],["clickable","",1,"panos-card-show-more"],[2,"padding","20px","overflow-wrap","anywhere",3,"innerHtml"],[2,"padding","20px","overflow-wrap","anywhere"],["formControlName","currentDetails",1,"edit-control",2,"width","100%","height","650px","margin","-10px",3,"change"]],template:function(e,t){1&e&&(l.YNc(0,iz,3,0,"div",0),l.YNc(1,Dz,40,25,"body",0)),2&e&&(l.Q6J("ngIf",!t.accessKey),l.xp6(1),l.Q6J("ngIf",t.accessKey.length>0))},dependencies:[rr,Bn,Ao,l2,eI,qL,ZL,dI,pM,Lf,mr]});var Ez=F(1144);const Tz=["addListener","removeListener"],Iz=["addEventListener","removeEventListener"],Cz=["on","off"];function Gr(n,e,t,r){if((0,Ur.m)(t)&&(r=t,t=void 0),r)return Gr(n,e,t).pipe(zs(r));const[i,a]=function Nz(n){return(0,Ur.m)(n.addEventListener)&&(0,Ur.m)(n.removeEventListener)}(n)?Iz.map(c=>f=>n[c](e,f,t)):function Sz(n){return(0,Ur.m)(n.addListener)&&(0,Ur.m)(n.removeListener)}(n)?Tz.map(C2(n,e)):function Az(n){return(0,Ur.m)(n.on)&&(0,Ur.m)(n.off)}(n)?Cz.map(C2(n,e)):[];if(!i&&(0,Ez.z)(n))return(0,Ar.z)(c=>Gr(c,e,t))((0,Ni.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new $n.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function C2(n,e){return t=>r=>n[t](e,r)}var Oz=F(3532);function hI(n=0,e,t=ly){let r=-1;return null!=e&&((0,Oz.K)(e)?t=e:r=e),new $n.y(i=>{let a=function Mz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:xz}=Array;function S2(n){return 1===n.length&&xz(n[0])?n[0]:n}var fI=F(5032);const Ql=new $n.y(fI.Z);function pI(...n){const e=(0,vo.jO)(n),t=S2(n);return t.length?new $n.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,Ni.Xf)(t[c]).subscribe((0,gn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(v=>v.shift());r.next(e?e(...m):m),i.some((v,E)=>!v.length&&a[E])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):$i.E}function Jn(n){return(0,Tn.e)((e,t)=>{(0,Ni.Xf)(n).subscribe((0,gn.x)(t,()=>t.complete(),fI.Z)),!t.closed&&e.subscribe(t)})}function yM(...n){const e=(0,vo.jO)(n);return(0,Tn.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,Ni.Xf)(n[m]).subscribe((0,gn.x)(r,v=>{a[m]=v,!f&&!c[m]&&(c[m]=!0,(f=c.every(Vi.y))&&(c=null))},fI.Z));t.subscribe((0,gn.x)(r,m=>{if(f){const v=[m,...a];r.next(e?e(...v):v)}}))})}function N2(n,e){return e?t=>bo(e.pipe(hn(1),function Pz(){return(0,Tn.e)((n,e)=>{n.subscribe((0,gn.x)(e,fI.Z))})}()),t.pipe(N2(n))):(0,Ar.z)((t,r)=>(0,Ni.Xf)(n(t,r)).pipe(hn(1),cl(t)))}function O2(n,e=rc){const t=hI(n,e);return N2(()=>t)}function U6(n,e){}function $6(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,U6,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function j6(n,e){}function H6(n,e){}function G6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.KtG(a.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,H6,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const z6=function(n,e){return{$implicit:n,opened:e}};function W6(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,j6,0,0,"ng-template",6),l.qZA(),l.YNc(3,G6,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,z6,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function q6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const vI=["*"];function Z6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function Y6(n,e){}function K6(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,Y6,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function J6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Q6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const X6=["ngbDatepickerDayView",""],eW=["month"],tW=["year"];function nW(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function rW(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function iW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function sW(n,e){1&n&&l._UZ(0,"div",0)}function oW(n,e){1&n&&l._UZ(0,"div",0)}function aW(n,e){if(1&n&&(l.YNc(0,sW,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,oW,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function lW(n,e){if(1&n&&l.YNc(0,aW,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function uW(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function cW(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function dW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,uW,2,1,"div",3),l.YNc(2,cW,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function hW(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function fW(n,e){}function pW(n,e){if(1&n&&l.YNc(0,fW,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function gW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,pW,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function mW(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,hW,2,1,"div",9),l.YNc(2,gW,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function _W(n,e){1&n&&l.YNc(0,mW,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const yW=["defaultDayTemplate"],vW=["content"];function bW(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function wW(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function DW(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,wW,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function EW(n,e){if(1&n&&l.YNc(0,DW,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function TW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateEvent(i))})("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function IW(n,e){}function CW(n,e){}const SW=["dialog"],AW=["ngbNavOutlet",""];function NW(n,e){}const OW=function(n){return{$implicit:n}};function MW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,NW,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,OW,t.active||r.isPanelTransitioning(t)))}}function xW(n,e){if(1&n&&l.YNc(0,MW,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function RW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function kW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function PW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function FW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function LW(n,e){1&n&&l._uU(0,"...")}function BW(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function VW(n,e){if(1&n&&(l._uU(0),l.YNc(1,BW,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function UW(n,e){}const $W=function(n){return{disabled:!0,currentPage:n}};function jW(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,UW,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,$W,t))}}function HW(n,e){}const GW=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function zW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(2).selectPage(a),l.KtG(i.preventDefault())}),l.YNc(1,HW,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,a=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,GW,i,t,a))}}function WW(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,jW,2,4,"a",18),l.YNc(2,zW,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,a=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||a),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function qW(n,e){1&n&&l.YNc(0,WW,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function ZW(n,e){}const NM=function(n,e){return{disabled:n,currentPage:e}};function YW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,ZW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,NM,t.previousDisabled(),t.page))}}function KW(n,e){}const JW=function(n){return{disabled:n}};function QW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page-1),l.KtG(i.preventDefault())}),l.YNc(2,KW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,JW,t.previousDisabled()))}}function XW(n,e){}function eq(n,e){}function tq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page+1),l.KtG(i.preventDefault())}),l.YNc(2,eq,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,NM,t.nextDisabled(),t.page))}}function nq(n,e){}function rq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,nq,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,NM,t.nextDisabled(),t.page))}}const iq=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function aq(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function lq(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function uq(n,e){}function cq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(a+1))})("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(a+1))}),l.YNc(3,uq,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function dq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function hq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function fq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function pq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function gq(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function mq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function _q(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function yq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,mq,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(a.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(-a.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,_q,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function vq(n,e){1&n&&l._UZ(0,"div",5)}function bq(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function wq(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function Dq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,bq,2,1,"ng-container",25),l.YNc(3,wq,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function Eq(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function Tq(n,e){}function Iq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,Tq,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function Cq(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function Sq(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function Aq(n,e){if(1&n&&(l.YNc(0,Cq,2,3,"span",1),l.YNc(1,Sq,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function wi(n){return parseInt(`${n}`,10)}function q2(n){return null!=n?`${n}`:""}function bI(n,e,t=0){return Math.max(Math.min(n,e),t)}function jb(n){return"string"==typeof n}function ur(n){return!isNaN(wi(n))}function Qn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function wf(n){return null!=n}function Zm(n){return ur(n)?`0${n}`.slice(-2):""}function Y2(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Ym(n){return(n||document.body).getBoundingClientRect()}function K2(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const J2={animation:!0,transitionTimerDelayMs:5},Pq=()=>{},{transitionTimerDelayMs:Fq}=J2,Hb=new Map,si=(n,e,t,r)=>{let i=r.context||{};const a=Hb.get(e);if(a)switch(r.runningTransition){case"continue":return $i.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Hb.delete(e)}const c=t(e,r.animation,i)||Pq;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),lt(void 0).pipe(function Rq(n){return e=>new $n.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Yt.x,m=new Yt.x,v=f.pipe(function kz(...n){return e=>bo(e,lt(...n))}(!0));Hb.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const E=function kq(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Gr(e,"transitionend").pipe(Jn(v),on(({target:M})=>M===e));(function A2(...n){return 1===(n=S2(n)).length?(0,Ni.Xf)(n[0]):new $n.y(function Rz(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Ni.Xf)(n[r]).subscribe((0,gn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(hI(E+Fq).pipe(Jn(v)),I,m).pipe(Jn(v)).subscribe(()=>{Hb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},Q2=(n,e,t)=>{let{direction:r,maxSize:i,dimension:a}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function Bq(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,a),t.maxSize=i,n.style[a]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Ym(n),c.add("collapsing")),n.style[a]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[a]=""};f()};let Km=(()=>{class n{constructor(){this.animation=J2.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vq=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Km))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uq=0,OM=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),X2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),eB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),MM=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+Uq++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,X2,4),l.Suo(i,OM,4),l.Suo(i,eB,4)),2&t){let a;l.iGM(a=l.CRH())&&(r.titleTpls=a),l.iGM(a=l.CRH())&&(r.headerTpls=a),l.iGM(a=l.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),$q=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),tB=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>xM)),l.Y36(MM,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),xM=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){jb(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,si(this._ngZone,r,Q2,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&si(this._ngZone,r.panelDiv,Q2,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vq),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,MM,4),2&t){let a;l.iGM(a=l.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,$6,3,3,"ng-template",0,1,l.W1O),l.YNc(2,W6,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[rr,Ci,tB,$q,OM,Bn],encapsulation:2}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[xM]}),n})();const jq=({classList:n})=>{n.remove("show")};let Hq=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Km))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gq=(()=>{class n{constructor(t,r,i,a){this._renderer=r,this._element=i,this._zone=a,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=si(this._zone,this._element.nativeElement,jq,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hq),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:vI,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,q6,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[Bn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gq]}),n})();var dd=(()=>(function(n){n.START="start",n.END="end"}(dd||(dd={})),dd))();const iB=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Gb=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},wI=n=>{Gb(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},zq=(n,e,{direction:t})=>{const{classList:r}=n;return e?(iB(n)?Gb(r):(r.add("carousel-item-"+(t===dd.START?"next":"prev")),Ym(n),r.add("carousel-item-"+t)),()=>{wI(r),r.add("active")}):(Gb(r),wI(r),void r.add("active"))},Wq=(n,e,{direction:t})=>{const{classList:r}=n;return e?(iB(n)?Gb(r):r.add("carousel-item-"+t),()=>{wI(r),r.remove("active")}):(Gb(r),wI(r),void r.remove("active"))};let qq=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Km))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=0,Yq=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Zq++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),Kq=(()=>{class n{constructor(t,r,i,a,c){this._platformId=r,this._ngZone=i,this._cd=a,this._container=c,this.NgbSlideEventSource=Df,this._destroy$=new Yt.x,this._interval$=new Un(0),this._mouseHover$=new Un(!1),this._focused$=new Un(!1),this._pauseOnHover$=new Un(!1),this._pauseOnFocus$=new Un(!1),this._pause$=new Un(!1),this._wrap$=new Un(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Df.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Df.ARROW_RIGHT)}ngAfterContentInit(){Bi(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ui([this.slide.pipe((0,Ye.U)(r=>r.current),ji(this.activeId)),this._wrap$,this.slides.changes.pipe(ji(null))]).pipe((0,Ye.U)(([r,i])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(r);return i?a.length>1:c<a.length-1}),Dc());Ui([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Ye.U)(([r,i,a,c,f,m,v])=>r||i&&a||c&&f||!v?0:m),Dc(),mn(r=>r>0?hI(r,r):Ql),Jn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Df.TIMER)))}),this.slides.changes.pipe(Jn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Hb.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),dd.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),dd.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],v=this._getSlideById(this.activeId);if(v){const M=si(this._ngZone,this._getSlideElement(v.id),Wq,f);M.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),m.push(M)}const E=this.activeId;this.activeId=c.id;const I=this._getSlideById(this.activeId),N=si(this._ngZone,this._getSlideElement(c.id),zq,f);N.subscribe(()=>{I?.slid.emit({isShown:!0,direction:r,source:i})}),m.push(N),pI(...m).pipe(hn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:E,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?dd.END:dd.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qq),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Yq,4),2&t){let a;l.iGM(a=l.CRH())&&(r.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,Z6,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,K6,4,4,"div",3),l.qZA(),l.YNc(4,J6,4,0,"button",4),l.YNc(5,Q6,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[rr,Ci,Bn],encapsulation:2,changeDetection:0}),n})();var Df=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Df||(Df={})),Df))();let sB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Kq]}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class zr{constructor(e,t,r){this.year=Qn(e)?e:null,this.month=Qn(t)?t:null,this.day=Qn(r)?r:null}static from(e){return e instanceof zr?e:e?new zr(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Jm(n,e){return!function Jq(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function aB(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function DI(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function RM(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function lB(n){return new zr(n.getFullYear(),n.getMonth()+1,n.getDate())}function EI(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function o4(){return new a4}()},providedIn:"root"}),n})(),a4=(()=>{class n extends TI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=EI(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),lB(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=EI(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=EI(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return lB(new Date)}isValid(t){if(!(t&&Qn(t.year)&&Qn(t.month)&&Qn(t.day)&&0!==t.year))return!1;const r=EI(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ef=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function l4(n){return new u4(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),u4=(()=>{class n extends Ef{constructor(t){super(),this._locale=t,this._monthsShort=ke(t,He.Standalone,Me.Abbreviated),this._monthsFull=ke(t,He.Standalone,Me.Wide)}getWeekdayLabel(t,r){const i=Ee(this._locale,He.Standalone,void 0===r?Me.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return fn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),kM=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Qn(i=wi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Qn(i=wi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(Jm(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(Jm(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?Me.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new Yt.x,this._dateSelect$=new Yt.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Me.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(on(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(on(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>({...i,...a}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Jm(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){RM(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||aB(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Jm(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&RM(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=zr.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:m,outsideDays:v}=t;t.months.forEach(E=>{E.weeks.forEach(I=>{I.days.forEach(N=>{c&&(N.context.focused=c.equals(N.date)&&f),N.tabindex=!m&&c&&N.date.equals(c)&&c.month===E.number?0:-1,!0===m&&(N.context.disabled=!0),void 0!==a&&(N.context.selected=null!==a&&a.equals(N.date)),E.number!==N.date.month&&(N.hidden="hidden"===v||"collapsed"===v||i>1&&N.date.after(r[0].firstDate)&&N.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Qq(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=DI(r.focusDate,r.minDate,r.maxDate),r.firstDate=DI(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=DI(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=DI(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function r4(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(v,E)=>{const I=Object.assign(n.getNext(e,"m",E),{day:1});if(c[E]=null,!i){const N=f.findIndex(M=>M.firstDate.equals(I));-1!==N&&(c[E]=f.splice(N,1)[0])}return I}).forEach((v,E)=>{null===c[E]&&(c[E]=function i4(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:v,outsideDays:E,weekdayWidth:I,weekdaysVisible:N}=t,M=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function s4(n,e,t){const r=n.getDaysPerWeek(),i=new zr(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,m),N||(i.weekdays.length=0);for(let $=0;$<n.getWeeksPerMonth();$++){let Y=i.weeks[$];Y||(Y=i.weeks[$]={number:0,days:[],collapsed:!0});const ie=Y.days;for(let le=0;le<n.getDaysPerWeek();le++){0===$&&N&&(i.weekdays[le]=r.getWeekdayLabel(n.getWeekday(e),I));const Te=new zr(e.year,e.month,e.day),ze=n.getNext(Te),Ve=r.getDayAriaLabel(Te);let Be=!!(c&&Te.before(c)||f&&Te.after(f));!Be&&v&&(Be=v(Te,{month:i.number,year:i.year}));let je=Te.equals(M),Ct=a?a(Te,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Te.month===i.number&&(i.firstDate=Te),Te.month===i.number&&ze.month!==i.number&&(i.lastDate=Te);let Kt=ie[le];Kt||(Kt=ie[le]={}),Kt.date=Te,Kt.context=Object.assign(Kt.context||{},{$implicit:Te,date:Te,data:Ct,currentMonth:i.number,currentYear:i.year,disabled:Be,focused:!1,selected:!1,today:je}),Kt.tabindex=-1,Kt.ariaLabel=Ve,Kt.hidden=!1,e=ze}Y.number=n.getWeekNumber(ie.map(le=>le.date),m),Y.collapsed="collapsed"===E&&ie[0].date.month!==i.number&&ie[ie.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!RM(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function e4(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function Xq(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function n4(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function t4(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TI),l.LFG(Ef))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Qm=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(Qm||(Qm={})),Qm))();let c4=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ef))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:X6,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),d4=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new zr(this.date.year,wi(t),1))}changeYear(t){this.select.emit(new zr(wi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ef),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(eW,7,l.SBq),l.Gf(tW,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,nW,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,rW,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[rr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),h4=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Qm,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ef))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,iW,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,lW,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[Bn,rr,d4],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var nn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(nn||(nn={})),nn))();let f4=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case nn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case nn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case nn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case nn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case nn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case nn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case nn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case nn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case nn.Enter:case nn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PM=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Me.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function p4(){return new g4}()},providedIn:"root"}),n})(),g4=(()=>{class n extends FM{fromModel(t){return t&&Qn(t.year)&&Qn(t.month)&&Qn(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Qn(t.year)&&Qn(t.month)&&Qn(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),LM=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ef),l.Y36((0,l.Gpc)(()=>II)),l.Y36(f4),l.Y36(kM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,dW,3,2,"div",0),l.YNc(1,_W,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[Bn,rr,Ci],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),II=(()=>{class n{constructor(t,r,i,a,c,f,m,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=v,this._controlValue=null,this._destroyed$=new Yt.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=E=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(E=>this[E]=a[E]),t.dateSelect$.pipe(Jn(this._destroyed$)).subscribe(E=>{this.dateSelect.emit(E)}),t.model$.pipe(Jn(this._destroyed$)).subscribe(E=>{const I=E.firstDate,N=this.model?this.model.firstDate:null;this._publicState={maxDate:E.maxDate,minDate:E.minDate,firstDate:E.firstDate,lastDate:E.lastDate,focusedDate:E.focusDate,months:E.months.map(le=>le.firstDate)};let M=!1;if(!I.equals(N)&&(this.navigate.emit({current:N?{year:N.year,month:N.month}:null,next:{year:I.year,month:I.month},preventDefault:()=>M=!0}),M&&null!==N))return void this._service.open(N);const $=E.selectedDate,Y=E.focusDate,ie=this.model?this.model.focusDate:null;this.model=E,Jm($,this._controlValue)&&(this._controlValue=$,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel($))),Jm(Y,ie)&&ie&&E.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(zr.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(zr.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Gr(this._contentEl.nativeElement,"focusin"),r=Gr(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,Tb.T)(t,r).pipe(on(({target:a,relatedTarget:c})=>!(Y2(a,"ngb-dp-day")&&Y2(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),Jn(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;aB(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Qm.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Qm.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=zr.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kM),l.Y36(TI),l.Y36(Ef),l.Y36(PM),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(FM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,uB,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(yW,7),l.Gf(vW,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:ds,useExisting:(0,l.Gpc)(()=>n),multi:!0},kM]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,bW,1,5,"ng-template",null,0,l.W1O),l.YNc(2,EW,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,TW,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,IW,0,0,"ng-template",6),l.qZA(),l.YNc(9,CW,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[Bn,rr,Ci,c4,LM,h4],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const hB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fB(n){const e=Array.from(n.querySelectorAll(hB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let CB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[II,LM]}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Cf{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let U4=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{si(this._zone,this._el.nativeElement,(t,r)=>{r&&Ym(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return si(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class OB{close(e){}dismiss(e){}}class $4{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Yt.x,this._dismissed=new Yt.x,this._hidden=new Yt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Jn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Jn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Z2(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),pI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var qb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(qb||(qb={})),qb))();let j4=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Yt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Yt.x,this.hidden=new Yt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":jb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=pI(si(this._zone,t,()=>t.classList.remove("show"),r),si(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};pI(si(this._zone,this._elRef.nativeElement,(a,c)=>{c&&Ym(a),a.classList.add("show")},t),si(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Gr(t,"keydown").pipe(Jn(this._closed$),on(i=>i.which===nn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(qb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Gr(this._dialogEl.nativeElement,"mousedown").pipe(Jn(this._closed$),Zn(()=>r=!1),mn(()=>Gr(t,"mouseup").pipe(Jn(this._closed$),hn(1))),on(({target:i})=>t===i)).subscribe(()=>{r=!0}),Gr(t,"click").pipe(Jn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(qb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=fB(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&si(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oe),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(SW,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:vI,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),H4=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G4=(()=>{class n{constructor(t,r,i,a,c,f,m){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=a,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new Yt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Gr(e,"focusin").pipe(Jn(t),(0,Ye.U)(a=>a.target));Gr(e,"keydown").pipe(Jn(t),on(a=>a.which===nn.Tab),yM(i)).subscribe(([a,c])=>{const[f,m]=fB(e);(c===f||c===e)&&a.shiftKey&&(m.focus(),a.preventDefault()),c===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&Gr(e,"click").pipe(Jn(t),yM(i),(0,Ye.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:wf(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new OB,m=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,m,r,f,i);let E=!1!==i.backdrop?this._attachBackdrop(a):void 0,I=this._attachWindowComponent(a,v.nodes),N=new $4(I,v,E,i.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(I),N.hidden.pipe(hn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=M=>{N.close(M)},f.dismiss=M=>{N.dismiss(M)},this._applyWindowOptions(I.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),E&&E.instance&&(this._applyBackdropOptions(E.instance,i),E.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(U4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(j4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{wf(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{wf(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):jb(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new Cf([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new Cf([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Cf([[r]])}_createFromComponent(t,r,i,a,c){const f=l.zs3.create({providers:[{provide:OB,useValue:a}],parent:t}),m=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=m.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Cf([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(oe),l.LFG(H4),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z4=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Km))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W4=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(G4),l.LFG(z4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[W4]}),n})();const Y4=({classList:n})=>(n.remove("show"),()=>n.remove("active")),K4=(n,e)=>{e&&Ym(n),n.classList.add("show")};let GM=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),PB=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Jn(this.nav.destroy$),ji(this._activePane?.item||null),Dc(),function Fz(n){return on((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?si(this._ngZone,this._activePane.elRef.nativeElement,Y4,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),si(this._ngZone,this._activePane.elRef.nativeElement,K4,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(GM,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:AW,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,xW,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[GM,rr,Bn,Ci],encapsulation:2,changeDetection:0}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PB]}),n})(),J4=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),BB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),VB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),UB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),$B=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),jB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),HB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),GB=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=bI(t,this.pageCount,1),this.page!==r&&ur(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ur(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(J4))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,LB,5),l.Suo(i,BB,5),l.Suo(i,VB,5),l.Suo(i,UB,5),l.Suo(i,$B,5),l.Suo(i,jB,5),l.Suo(i,HB,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.tplEllipsis=a.first),l.iGM(a=l.CRH())&&(r.tplFirst=a.first),l.iGM(a=l.CRH())&&(r.tplLast=a.first),l.iGM(a=l.CRH())&&(r.tplNext=a.first),l.iGM(a=l.CRH())&&(r.tplNumber=a.first),l.iGM(a=l.CRH())&&(r.tplPrevious=a.first),l.iGM(a=l.CRH())&&(r.tplPages=a.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,a,c,f,m;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,a=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,m=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,RW,2,0,"ng-template",null,0,l.W1O),l.YNc(2,kW,2,0,"ng-template",null,1,l.W1O),l.YNc(4,PW,2,0,"ng-template",null,2,l.W1O),l.YNc(6,FW,2,0,"ng-template",null,3,l.W1O),l.YNc(8,LW,1,0,"ng-template",null,4,l.W1O),l.YNc(10,VW,2,2,"ng-template",null,5,l.W1O),l.YNc(12,qW,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,YW,3,9,"li",7),l.YNc(16,QW,3,8,"li",7),l.YNc(17,XW,0,0,"ng-template",8),l.YNc(18,tq,3,9,"li",7),l.YNc(19,rq,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,iq,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[Bn,rr,Ci],encapsulation:2,changeDetection:0}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GB]}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),r8=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i8=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!ur(t)||t<=0?100:t}get max(){return this._max}getValue(){return bI(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(r8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:vI,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,aq,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[Bn,o_],encapsulation:2,changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[i8]}),n})(),s8=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o8=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case nn.ArrowDown:case nn.ArrowLeft:this.update(this.rate-1);break;case nn.ArrowUp:case nn.ArrowRight:this.update(this.rate+1);break;case nn.Home:this.update(0);break;case nn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=bI(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*bI(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(s8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let a;l.iGM(a=l.CRH())&&(r.starTemplateFromContent=a.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(a){return r.handleKeyDown(a)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:ds,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,lq,1,1,"ng-template",null,0,l.W1O),l.YNc(2,cq,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[rr,Ci],encapsulation:2,changeDetection:0}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[o8]}),n})();class KB{constructor(e,t,r){this.hour=wi(e),this.minute=wi(t),this.second=wi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=ur(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){ur(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){ur(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return ur(this.hour)&&ur(this.minute)&&(!e||ur(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let a8=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function l8(){return new u8}()},providedIn:"root"}),n})(),u8=(()=>{class n extends JB{fromModel(t){return t&&Qn(t.hour)&&Qn(t.minute)?{hour:t.hour,minute:t.minute,second:Qn(t.second)?t.second:null}:null}toModel(t){return t&&Qn(t.hour)&&Qn(t.minute)?{hour:t.hour,minute:t.minute,second:Qn(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function c8(n){return new d8(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),d8=(()=>{class n extends QB{constructor(t){super(),this._periods=ce(t,He.Standalone,Me.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const h8=/[^0-9]/g;let f8=(()=>{class n{constructor(t,r,i,a){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=a,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Qn(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Qn(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Qn(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new KB(r.hour,r.minute,r.second):new KB,!this.seconds&&(!r||!ur(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=wi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(wi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(wi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(h8,"")}formatHour(t){return ur(t)?Zm(this.meridian?t%12==0?12:t%12:t%24):Zm(NaN)}formatMinSec(t){return Zm(ur(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!ur(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(a8),l.Y36(JB),l.Y36(l.sBO),l.Y36(QB))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:ds,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,a,c,f,m,v,E,I,N,M,$;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,m=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,E=$localize`:@@ngb.timepicker.seconds:Seconds`,I=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,N=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,M=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,$=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],c,f,m,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",E,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],I,N,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],M,$]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,dq,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(a){return r.updateHour(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeHour(r.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeHour(-r.hourStep),a.preventDefault()}),l.qZA(),l.YNc(5,hq,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,fq,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(a){return r.updateMinute(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeMinute(r.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeMinute(-r.minuteStep),a.preventDefault()}),l.qZA(),l.YNc(11,pq,4,7,"button",3),l.qZA(),l.YNc(12,gq,2,0,"div",8),l.YNc(13,yq,4,9,"div",9),l.YNc(14,vq,1,0,"div",8),l.YNc(15,Dq,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[Bn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),XB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[f8]}),n})();const p8=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Ym(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},g8=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let m8=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Km))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),y8=(()=>{class n{constructor(t,r,i,a){this.ariaLive=t,this._zone=i,this._element=a,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=si(this._zone,this._element.nativeElement,g8,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=si(this._zone,this._element.nativeElement,p8,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(m8),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,_8,7,l.Rgc),2&t){let a;l.iGM(a=l.CRH())&&(r.contentHeaderTpl=a.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:vI,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,Eq,2,1,"ng-template",null,0,l.W1O),l.YNc(2,Iq,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Bn,Ci],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[y8]}),n})(),tV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),v8=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=q2(this.result),i=Array.isArray(this.term)?this.term:[this.term],a=v=>this.accentSensitive?v:K2(v),c=i.map(v=>function Mq(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(a(q2(v)))).filter(v=>v),f=this.accentSensitive?r:K2(r),m=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let v=0;this.parts=m.map(E=>r.substring(v,v+=E.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,Aq,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[Bn,rr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function b8(){return 100}});let nV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v8]}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const w8=[nB,rB,sB,oB,CB,NB,MB,FB,rV,zB,qB,ZB,YB,XB,eV,tV,nV];let D8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[w8,nB,rB,sB,oB,CB,NB,MB,FB,rV,zB,qB,ZB,YB,XB,eV,tV,nV]}),n})();const E8=function(n){return["panos-search",n]},T8=function(){return{search:"app"}},I8=function(){return{search:"game"}},C8=function(){return{search:"art"}};class Zb{constructor(){this.searchClass=""}activateSearch(){this.searchClass=""==this.searchClass?"active":""}}Zb.\u0275fac=function(e){return new(e||Zb)},Zb.\u0275cmp=l.Xpm({type:Zb,selectors:[["app-navbar"]],decls:12,vars:9,consts:[[1,"navbar",2,"justify-content","unset"],["clickable","",1,"nav-link",3,"click"],["name","search"],[3,"ngClass"],["routerLink",".",1,"nav-link"],["routerLink",".",1,"nav-link",3,"queryParams"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l.NdJ("click",function(){return t.activateSearch()}),l._UZ(2,"ion-icon",2),l.qZA(),l._UZ(3,"input",3),l.TgZ(4,"a",4),l._uU(5,"All Projects"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"Apps"),l.qZA(),l.TgZ(8,"a",5),l._uU(9,"Games"),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Art"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngClass",l.VKq(4,E8,t.searchClass)),l.xp6(3),l.Q6J("queryParams",l.DdM(6,T8)),l.xp6(2),l.Q6J("queryParams",l.DdM(7,I8)),l.xp6(2),l.Q6J("queryParams",l.DdM(8,C8)))},dependencies:[$M,Mt,Ao]});const S8=function(n){return{search:n}};function A8(n,e){if(1&n&&(l.TgZ(0,"a",12),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("queryParams",l.VKq(2,S8,t)),l.xp6(1),l.Oqu(t)}}function N8(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.ALo(2,"slice"),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.AsE("",l.Dn7(2,2,t.name,0,19),"",t.name.length>19?"...":"","")}}function O8(n,e){if(1&n&&(l.TgZ(0,"div",13),l._UZ(1,"div",14),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("innerHtml",t.details,l.oJD)}}function M8(n,e){if(1&n&&l._UZ(0,"img",15),2&n){const t=l.oxw().$implicit;l.s9C("src",t.icon,l.LSH)}}function x8(n,e){1&n&&l._UZ(0,"div",7)}function R8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,a=l.oxw();return l.KtG(a.showMore(i))}),l._uU(1,"Show More"),l.qZA()}}const k8=function(n){return{display:n}},P8=function(n){return["panos-card",n]};function F8(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"div",3),l.YNc(2,A8,2,4,"a",4),l.qZA(),l._UZ(3,"div",5),l.YNc(4,N8,3,6,"h5",6),l._UZ(5,"div",5),l.TgZ(6,"h6"),l._uU(7),l.ALo(8,"date"),l.qZA(),l._UZ(9,"div",7),l.YNc(10,O8,2,1,"div",8),l.YNc(11,M8,1,1,"img",9),l.YNc(12,x8,1,0,"div",10),l.YNc(13,R8,2,0,"a",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.s9C("id",t.name),l.Q6J("ngStyle",l.VKq(13,k8,""==r.search||t.tags.includes(r.search.toUpperCase())?"block":"none"))("ngClass",l.VKq(15,P8,t==r.selectedItem?"active":"")),l.xp6(2),l.Q6J("ngForOf",t.tags),l.xp6(2),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(3),l.hij(" ",l.xi3(8,10,t.date,"longDate")," "),l.xp6(3),l.Q6J("ngIf",t==r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem)}}class Yb{showMore(e){this.selectedItem=e,Nav_ScrollIntoView(e.name)}unselect(){this.selectedItem={}}constructor(e,t,r){this.route=e,this.sanitizer=t,this.selectedItem={},this.items=[],this.search="",this.items=[],this.search="",r.collection("projects").valueChanges().pipe((0,Ye.U)(i=>i.sort((a,c)=>new Date(a.date)>new Date(c.date)?-1:1))).subscribe(i=>{i.forEach(a=>{let c={};c=a,c.details=this.sanitizer.bypassSecurityTrustHtml(c.details),this.items.push(c)})})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Yb.\u0275fac=function(e){return new(e||Yb)(l.Y36(Io),l.Y36(ca),l.Y36(KT))},Yb.\u0275cmp=l.Xpm({type:Yb,selectors:[["app-project"]],inputs:{selectedItem:"selectedItem"},decls:2,vars:1,consts:[[1,"page"],[3,"id","ngStyle","ngClass",4,"ngFor","ngForOf"],[3,"id","ngStyle","ngClass"],[1,"panos-tags"],["routerLink",".","class","panos-tag",3,"queryParams",4,"ngFor","ngForOf"],[2,"height","10px"],[4,"ngIf"],[2,"height","2px"],["style","overflow: auto;height: calc(100vh - 150px);",4,"ngIf"],["class","panos-card-image",3,"src",4,"ngIf"],["style","height:2px",4,"ngIf"],["class","panos-card-show-more","clickable","",3,"click",4,"ngIf"],["routerLink",".",1,"panos-tag",3,"queryParams"],[2,"overflow","auto","height","calc(100vh - 150px)"],[2,"padding","20px","overflow-wrap","anywhere",3,"innerHtml"],[1,"panos-card-image",3,"src"],["clickable","",1,"panos-card-show-more",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,F8,14,17,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.items))},dependencies:[Mt,rr,Bn,Jr,Ao,Lf,mr]});class Kb{constructor(e,t){this.route=e,this.title="Portfolio",this.search="",this.search="",this.items=t.collection("projects").valueChanges().pipe((0,Ye.U)(r=>r.sort((i,a)=>new Date(i.date)>new Date(a.date)?-1:1)))}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Kb.\u0275fac=function(e){return new(e||Kb)(l.Y36(Io),l.Y36(KT))},Kb.\u0275cmp=l.Xpm({type:Kb,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"header",2,"padding-top","30px","padding-left","30px"],["routerLink","/",1,"logo"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l._uU(2,"PANOS PETRIDISOGLOU"),l.qZA()(),l._UZ(3,"br")(4,"app-navbar")(5,"app-project"))},dependencies:[Ao,Zb,Yb]});const L8=[{path:"",component:Sb},{path:"home",component:Kb},{path:"admin",component:Pb}];class e_{}e_.\u0275fac=function(e){return new(e||e_)},e_.\u0275mod=l.oAB({type:e_}),e_.\u0275inj=l.cJS({imports:[OD.forRoot(L8),OD]});const V8={connector:()=>new Yt.x};function iV(n,e=V8){const{connector:t}=e;return(0,Tn.e)((r,i)=>{const a=t();(0,Ni.Xf)(n(function B8(n){return new $n.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}const Jb="Service workers are disabled or not supported by this browser";class xI{constructor(e){if(this.serviceWorker=e,e){const r=Gr(e,"controllerchange").pipe((0,Ye.U)(()=>e.controller)),a=bo(Ru(()=>lt(e.controller)),r);this.worker=a.pipe(on(E=>!!E)),this.registration=this.worker.pipe(mn(()=>e.getRegistration()));const v=Gr(e,"message").pipe((0,Ye.U)(E=>E.data)).pipe(on(E=>E&&E.type)).pipe(function $8(n){return n?e=>iV(n)(e):e=>function U8(n,e){const t=(0,Ur.m)(n)?n:()=>n;return(0,Ur.m)(e)?iV(e,{connector:t}):r=>new ku(r,t)}(new Yt.x)(e)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function j8(n){return Ru(()=>ws(new Error(n)))}(Jb)}postMessage(e,t){return this.worker.pipe(hn(1),Zn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(on(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(hn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(on(t=>t.nonce===e),hn(1),(0,Ye.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let H8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Yt.x,!t.isEnabled)return this.messages=Ql,this.notificationClicks=Ql,void(this.subscription=Ql);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ye.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ye.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Ye.U)(i=>i.pushManager));const r=this.pushManager.pipe(mn(i=>i.getSubscription()));this.subscription=(0,Tb.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Jb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe(mn(c=>c.subscribe(r)),hn(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(hn(1),mn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Jb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),G8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Ql,this.available=Ql,this.activated=Ql,void(this.unrecoverable=Ql);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(on(r=>"VERSION_READY"===r.type),(0,Ye.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zM{}const sV=new l.OlP("NGSW_REGISTER_SCRIPT");function z8(n,e,t,r){return()=>{if(!Bi(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=lt(null);break;case"registerWithDelay":i=oV(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,Tb.T)(aV(n),oV(+f[0])):aV(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>i.pipe(hn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function oV(n){return lt(null).pipe(O2(n))}function aV(n){return n.get(l.z2F).isStable.pipe(on(t=>t))}function W8(n,e){return new xI(Bi(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let q8=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:sV,useValue:t},{provide:zM,useValue:r},{provide:xI,useFactory:W8,deps:[zM,l.Lbi]},{provide:l.ip1,useFactory:z8,deps:[l.zs3,sV,zM,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[H8,G8]}),n})();const lV={firebase:{projectId:"bio-site-panospet",appId:"1:105141969644:web:854d5aba223588475ffbc9",storageBucket:"bio-site-panospet.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAVI8RKwFQvtLnmAJba33mb1QhfbL2DPeo",authDomain:"bio-site-panospet.firebaseapp.com",messagingSenderId:"105141969644",measurementId:"G-MTF5MB90YP"},production:!1};F(2722);class cV{constructor(){return Cv("auth")}}class ZM{constructor(e){return e}}const dV="firestore",YM=new l.OlP("angularfire2.firestore-instances");function X8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ZM(r)}}const e5={provide:class J8{constructor(){return Cv(dV)}},deps:[[new l.FiY,YM]]},t5={provide:ZM,useFactory:function Q8(n,e){const t=function Ch(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(dV,n,e);return t&&new ZM(t)},deps:[[new l.FiY,YM],Vm]};let n5=(()=>{class n{constructor(){(0,qt.registerVersion)("angularfire",Th.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[t5,e5]}),n})();const i5=tE(Sj,!0);let t_={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const fV=/[&<>"']/,o5=new RegExp(fV.source,"g"),pV=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a5=new RegExp(pV.source,"g"),l5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gV=n=>l5[n];function Di(n,e){if(e){if(fV.test(n))return n.replace(o5,gV)}else if(pV.test(n))return n.replace(a5,gV);return n}const u5=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function mV(n){return n.replace(u5,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const c5=/(^|[^\[])\^/g;function An(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,i)=>(i=(i=i.source||i).replace(c5,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const d5=/[^\w:]/g,h5=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _V(n,e,t){if(n){let r;try{r=decodeURIComponent(mV(t)).replace(d5,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!h5.test(t)&&(t=function m5(n,e){RI[" "+n]||(RI[" "+n]=f5.test(n)?n+"/":PI(n,"/",!0));const t=-1===(n=RI[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(p5,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(g5,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const RI={},f5=/^[^:]+:\/*[^/]*$/,p5=/^([^:]+:)[\s\S]*$/,g5=/^([^:]+:\/*[^/]*)[\s\S]*$/,kI={exec:function(){}};function $o(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function yV(n,e){const r=n.replace(/\|/g,(a,c,f)=>{let m=!1,v=c;for(;--v>=0&&"\\"===f[v];)m=!m;return m?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function PI(n,e,t){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const a=n.charAt(r-i-1);if(a!==e||t){if(a===e||!t)break;i++}else i++}return n.slice(0,r-i)}function vV(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bV(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function wV(n,e,t,r){const i=e.href,a=e.title?Di(e.title):null,c=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const f={type:"link",raw:t,href:i,title:a,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,f}return{type:"image",raw:t,href:i,title:a,text:Di(c)}}class KM{constructor(e){this.options=e||t_}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:PI(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=function y5(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(i=>{const a=i.match(/^\s+/);if(null===a)return i;const[c]=a;return c.length>=r.length?i.slice(r.length):i}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=PI(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:a,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,a,c,f,m,v,E,I,N,M,$,Y=t[1].trim();const ie=Y.length>1,le={type:"list",raw:"",ordered:ie,start:ie?+Y.slice(0,-1):"",loose:!1,items:[]};Y=ie?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic&&(Y=ie?Y:"[*+-]");const Te=new RegExp(`^( {0,3}${Y})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&($=!1,(t=Te.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),E=t[2].split("\n",1)[0].replace(/^\t+/,Ve=>" ".repeat(3*Ve.length)),I=e.split("\n",1)[0],this.options.pedantic?(c=2,M=E.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,M=E.slice(c),c+=t[1].length),m=!1,!E&&/^ *$/.test(I)&&(r+=I+"\n",e=e.substring(I.length+1),$=!0),!$){const Ve=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Be=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),je=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),Ct=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(N=e.split("\n",1)[0],I=N,this.options.pedantic&&(I=I.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(je.test(I)||Ct.test(I)||Ve.test(I)||Be.test(e)));){if(I.search(/[^ ]/)>=c||!I.trim())M+="\n"+I.slice(c);else{if(m||E.search(/[^ ]/)>=4||je.test(E)||Ct.test(E)||Be.test(E))break;M+="\n"+I}!m&&!I.trim()&&(m=!0),r+=N+"\n",e=e.substring(N.length+1),E=I.slice(c)}}le.loose||(v?le.loose=!0:/\n *\n *$/.test(r)&&(v=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(M),i&&(a="[ ] "!==i[0],M=M.replace(/^\[[ xX]\] +/,""))),le.items.push({type:"list_item",raw:r,task:!!i,checked:a,loose:!1,text:M}),le.raw+=r}le.items[le.items.length-1].raw=r.trimRight(),le.items[le.items.length-1].text=M.trimRight(),le.raw=le.raw.trimRight();const ze=le.items.length;for(f=0;f<ze;f++)if(this.lexer.state.top=!1,le.items[f].tokens=this.lexer.blockTokens(le.items[f].text,[]),!le.loose){const Ve=le.items[f].tokens.filter(je=>"space"===je.type),Be=Ve.length>0&&Ve.some(je=>/\n.*\n/.test(je.raw));le.loose=Be}if(le.loose)for(f=0;f<ze;f++)le.items[f].loose=!0;return le}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):Di(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:yV(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let a,c,f,m,i=r.align.length;for(a=0;a<i;a++)r.align[a]=/^ *-+: *$/.test(r.align[a])?"right":/^ *:-+: *$/.test(r.align[a])?"center":/^ *:-+ *$/.test(r.align[a])?"left":null;for(i=r.rows.length,a=0;a<i;a++)r.rows[a]=yV(r.rows[a],r.header.length).map(v=>({text:v}));for(i=r.header.length,c=0;c<i;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(i=r.rows.length,c=0;c<i;c++)for(m=r.rows[c],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Di(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Di(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=PI(r.slice(0,-1),"\\");if((r.length-c.length)%2==0)return}else{const c=function _5(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if("\\"===n[i])i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(c>-1){const m=(0===t[0].indexOf("!")?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let i=t[2],a="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],a=c[3])}else a=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),wV(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return wV(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const a=i[1]||i[2]||"";if(!a||a&&(""===r||this.rules.inline.punctuation.exec(r))){const c=i[0].length-1;let f,m,v=c,E=0;const I="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(I.lastIndex=0,t=t.slice(-1*e.length+c);null!=(i=I.exec(t));){if(f=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!f)continue;if(m=f.length,i[3]||i[4]){v+=m;continue}if((i[5]||i[6])&&c%3&&!((c+m)%3)){E+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+E);const N=e.slice(0,c+i.index+(i[0].length-f.length)+m);if(Math.min(c,m)%2){const $=N.slice(1,-1);return{type:"em",raw:N,text:$,tokens:this.lexer.inlineTokens($)}}const M=N.slice(2,-2);return{type:"strong",raw:N,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=Di(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,a;return"@"===r[2]?(i=Di(this.options.mangle?t(r[1]):r[1]),a="mailto:"+i):(i=Di(r[1]),a=i),{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,a;if("@"===r[2])i=Di(this.options.mangle?t(r[0]):r[0]),a="mailto:"+i;else{let c;do{c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(c!==r[0]);i=Di(r[0]),a="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Di(r[0]):r[0]:Di(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const It={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:kI,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};It.def=An(It.def).replace("label",It._label).replace("title",It._title).getRegex(),It.bullet=/(?:[*+-]|\d{1,9}[.)])/,It.listItemStart=An(/^( *)(bull) */).replace("bull",It.bullet).getRegex(),It.list=An(It.list).replace(/bull/g,It.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+It.def.source+")").getRegex(),It._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",It._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,It.html=An(It.html,"i").replace("comment",It._comment).replace("tag",It._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),It.paragraph=An(It._paragraph).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.blockquote=An(It.blockquote).replace("paragraph",It.paragraph).getRegex(),It.normal=$o({},It),It.gfm=$o({},It.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),It.gfm.table=An(It.gfm.table).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.gfm.paragraph=An(It._paragraph).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",It.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.pedantic=$o({},It.normal,{html:An("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",It._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kI,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:An(It.normal._paragraph).replace("hr",It.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",It.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ht={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:kI,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:kI,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function v5(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function DV(n){let t,r,e="";const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}ht._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ht.punctuation=An(ht.punctuation).replace(/punctuation/g,ht._punctuation).getRegex(),ht.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ht.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ht._comment=An(It._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ht.emStrong.lDelim=An(ht.emStrong.lDelim).replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimAst=An(ht.emStrong.rDelimAst,"g").replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimUnd=An(ht.emStrong.rDelimUnd,"g").replace(/punct/g,ht._punctuation).getRegex(),ht._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ht._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ht._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ht.autolink=An(ht.autolink).replace("scheme",ht._scheme).replace("email",ht._email).getRegex(),ht._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ht.tag=An(ht.tag).replace("comment",ht._comment).replace("attribute",ht._attribute).getRegex(),ht._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ht._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ht._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ht.link=An(ht.link).replace("label",ht._label).replace("href",ht._href).replace("title",ht._title).getRegex(),ht.reflink=An(ht.reflink).replace("label",ht._label).replace("ref",It._label).getRegex(),ht.nolink=An(ht.nolink).replace("ref",It._label).getRegex(),ht.reflinkSearch=An(ht.reflinkSearch,"g").replace("reflink",ht.reflink).replace("nolink",ht.nolink).getRegex(),ht.normal=$o({},ht),ht.pedantic=$o({},ht.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:An(/^!?\[(label)\]\((.*?)\)/).replace("label",ht._label).getRegex(),reflink:An(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ht._label).getRegex()}),ht.gfm=$o({},ht.normal,{escape:An(ht.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ht.gfm.url=An(ht.gfm.url,"i").replace("email",ht.gfm._extended_email).getRegex(),ht.breaks=$o({},ht.gfm,{br:An(ht.br).replace("{2,}","*").getRegex(),text:An(ht.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class eu{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||t_,this.options.tokenizer=this.options.tokenizer||new KM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:It.normal,inline:ht.normal};this.options.pedantic?(t.block=It.pedantic,t.inline=ht.pedantic):this.options.gfm&&(t.block=It.gfm,t.inline=this.options.breaks?ht.breaks:ht.gfm),this.tokenizer.rules=t}static get rules(){return{block:It,inline:ht}}static lex(e,t){return new eu(t).lex(e)}static lexInline(e,t){return new eu(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,i,a,c;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>!!(r=f.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=e.slice(1);let v;this.options.extensions.startBlock.forEach(function(E){v=E.call({lexer:this},m),"number"==typeof v&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(a=e.substring(0,f+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){i=t[t.length-1],c&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),c=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,a,f,m,v,c=e;if(this.tokens.links){const E=Object.keys(this.tokens.links);if(E.length>0)for(;null!=(f=this.tokenizer.rules.inline.reflinkSearch.exec(c));)E.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,f.index)+"["+bV("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(f=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,f.index)+"["+bV("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(f=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,f.index+f[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(E=>!!(r=E.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,c,v)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,DV)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,DV))){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let E=1/0;const I=e.slice(1);let N;this.options.extensions.startInline.forEach(function(M){N=M.call({lexer:this},I),"number"==typeof N&&N>=0&&(E=Math.min(E,N))}),E<1/0&&E>=0&&(a=e.substring(0,E+1))}if(r=this.tokenizer.inlineText(a,v5)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(v=r.raw.slice(-1)),m=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const E="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(E);break}throw new Error(E)}}return t}}class Qb{constructor(e){this.options=e||t_}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,i);null!=a&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Di(i)+'">'+(r?e:Di(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:Di(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=_V(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(null===(e=_V(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class EV{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class TV{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class qa{constructor(e){this.options=e||t_,this.options.renderer=this.options.renderer||new Qb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new EV,this.slugger=new TV}static parse(e,t){return new qa(t).parse(e)}static parseInline(e,t){return new qa(t).parseInline(e)}parse(e,t=!0){let i,a,c,f,m,v,E,I,N,M,$,Y,ie,le,Te,ze,Ve,Be,je,r="";const Ct=e.length;for(i=0;i<Ct;i++)if(M=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]&&(je=this.options.extensions.renderers[M.type].call({parser:this},M),!1!==je||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)))r+=je||"";else switch(M.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(M.tokens),M.depth,mV(this.parseInline(M.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(M.text,M.lang,M.escaped);continue;case"table":for(I="",E="",f=M.header.length,a=0;a<f;a++)E+=this.renderer.tablecell(this.parseInline(M.header[a].tokens),{header:!0,align:M.align[a]});for(I+=this.renderer.tablerow(E),N="",f=M.rows.length,a=0;a<f;a++){for(v=M.rows[a],E="",m=v.length,c=0;c<m;c++)E+=this.renderer.tablecell(this.parseInline(v[c].tokens),{header:!1,align:M.align[c]});N+=this.renderer.tablerow(E)}r+=this.renderer.table(I,N);continue;case"blockquote":N=this.parse(M.tokens),r+=this.renderer.blockquote(N);continue;case"list":for($=M.ordered,Y=M.start,ie=M.loose,f=M.items.length,N="",a=0;a<f;a++)Te=M.items[a],ze=Te.checked,Ve=Te.task,le="",Te.task&&(Be=this.renderer.checkbox(ze),ie?Te.tokens.length>0&&"paragraph"===Te.tokens[0].type?(Te.tokens[0].text=Be+" "+Te.tokens[0].text,Te.tokens[0].tokens&&Te.tokens[0].tokens.length>0&&"text"===Te.tokens[0].tokens[0].type&&(Te.tokens[0].tokens[0].text=Be+" "+Te.tokens[0].tokens[0].text)):Te.tokens.unshift({type:"text",text:Be}):le+=Be),le+=this.parse(Te.tokens,ie),N+=this.renderer.listitem(le,Ve,ze);r+=this.renderer.list(N,$,Y);continue;case"html":r+=this.renderer.html(M.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(M.tokens));continue;case"text":for(N=M.tokens?this.parseInline(M.tokens):M.text;i+1<Ct&&"text"===e[i+1].type;)M=e[++i],N+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);r+=t?this.renderer.paragraph(N):N;continue;default:{const Kt='Token with "'+M.type+'" type was not found.';if(this.options.silent)return void console.error(Kt);throw new Error(Kt)}}return r}parseInline(e,t){t=t||this.renderer;let i,a,c,r="";const f=e.length;for(i=0;i<f;i++)if(a=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(c=this.options.extensions.renderers[a.type].call({parser:this},a),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)))r+=c||"";else switch(a.type){case"escape":case"text":r+=t.text(a.text);break;case"html":r+=t.html(a.text);break;case"link":r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break;case"image":r+=t.image(a.href,a.title,a.text);break;case"strong":r+=t.strong(this.parseInline(a.tokens,t));break;case"em":r+=t.em(this.parseInline(a.tokens,t));break;case"codespan":r+=t.codespan(a.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(a.tokens,t));break;default:{const m='Token with "'+a.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}}return r}}function Ot(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),vV(e=$o({},Ot.defaults,e||{})),t){const i=e.highlight;let a;try{a=eu.lex(n,e)}catch(m){return t(m)}const c=function(m){let v;if(!m)try{e.walkTokens&&Ot.walkTokens(a,e.walkTokens),v=qa.parse(a,e)}catch(E){m=E}return e.highlight=i,m?t(m):t(null,v)};if(!i||i.length<3||(delete e.highlight,!a.length))return c();let f=0;return Ot.walkTokens(a,function(m){"code"===m.type&&(f++,setTimeout(()=>{i(m.text,m.lang,function(v,E){if(v)return c(v);null!=E&&E!==m.text&&(m.text=E,m.escaped=!0),f--,0===f&&c()})},0))}),void(0===f&&c())}function r(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Di(i.message+"",!0)+"</pre>";throw i}try{const i=eu.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(Ot.walkTokens(i,e.walkTokens)).then(()=>qa.parse(i,e)).catch(r);Ot.walkTokens(i,e.walkTokens)}return qa.parse(i,e)}catch(i){r(i)}}Ot.options=Ot.setOptions=function(n){return $o(Ot.defaults,n),function s5(n){t_=n}(Ot.defaults),Ot},Ot.getDefaults=function hV(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Ot.defaults=t_,Ot.use=function(...n){const e=Ot.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=$o({},t);if(r.async=Ot.defaults.async||r.async,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const a=e.renderers[i.name];e.renderers[i.name]=a?function(...c){let f=i.renderer.apply(this,c);return!1===f&&(f=a.apply(this,c)),f}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){const i=Ot.defaults.renderer||new Qb;for(const a in t.renderer){const c=i[a];i[a]=(...f)=>{let m=t.renderer[a].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.renderer=i}if(t.tokenizer){const i=Ot.defaults.tokenizer||new KM;for(const a in t.tokenizer){const c=i[a];i[a]=(...f)=>{let m=t.tokenizer[a].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.tokenizer=i}if(t.walkTokens){const i=Ot.defaults.walkTokens;r.walkTokens=function(a){let c=[];return c.push(t.walkTokens.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}Ot.setOptions(r)})},Ot.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(Ot,r)),r.type){case"table":for(const i of r.header)t=t.concat(Ot.walkTokens(i.tokens,e));for(const i of r.rows)for(const a of i)t=t.concat(Ot.walkTokens(a.tokens,e));break;case"list":t=t.concat(Ot.walkTokens(r.items,e));break;default:Ot.defaults.extensions&&Ot.defaults.extensions.childTokens&&Ot.defaults.extensions.childTokens[r.type]?Ot.defaults.extensions.childTokens[r.type].forEach(function(i){t=t.concat(Ot.walkTokens(r[i],e))}):r.tokens&&(t=t.concat(Ot.walkTokens(r.tokens,e)))}return t},Ot.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");vV(e=$o({},Ot.defaults,e||{}));try{const t=eu.lexInline(n,e);return e.walkTokens&&Ot.walkTokens(t,e.walkTokens),qa.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Di(t.message+"",!0)+"</pre>";throw t}},Ot.Parser=qa,Ot.parser=qa.parse,Ot.Renderer=Qb,Ot.TextRenderer=EV,Ot.Lexer=eu,Ot.lexer=eu.lex,Ot.Tokenizer=KM,Ot.Slugger=TV,Ot.parse=Ot;let JM=(()=>{class n{constructor(){this._buttonClick$=new Yt.x,this.copied$=this._buttonClick$.pipe(mn(()=>(0,Tb.T)(lt(!0),hI(3e3).pipe(cl(!1)))),Dc(),EO(1)),this.copiedText$=this.copied$.pipe(ji(!1),(0,Ye.U)(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return r.onCopyToClipboardClick()}),l.ALo(1,"async"),l._uU(2),l.ALo(3,"async"),l.qZA()),2&t&&(l.ekj("copied",l.lcZ(1,3,r.copied$)),l.xp6(2),l.Oqu(l.lcZ(3,5,r.copiedText$)))},dependencies:[so],encapsulation:2,changeDetection:0}),n})();class E5{}class I5{}const IV=new l.OlP("SECURITY_CONTEXT");let QM=(()=>{class n{constructor(t,r,i,a,c,f){this.platform=t,this.securityContext=r,this.http=i,this.clipboardOptions=a,this.sanitizer=f,this.DEFAULT_MARKED_OPTIONS={renderer:new Qb},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Yt.x,this.reload$=this._reload$.asObservable(),this.options=c}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:a,emoji:c,mermaid:f,disableSanitizer:m}=r,v={...this.options,...r.markedOptions};f&&(this.renderer=this.extendRenderer(v.renderer||new Qb));const E=this.trimIndentation(t),I=i?this.decodeHtml(E):E,N=c?this.parseEmoji(I):I,M=this.parseMarked(N,v,a);return(m?M:this.sanitizer.sanitize(this.securityContext,M))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:a,clipboardOptions:c,katex:f,katexOptions:m,mermaid:v,mermaidOptions:E}=r;a&&this.renderClipboard(t,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),f&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...m}),v&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...E}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,Ye.U)(r=>this.handleExtension(t,r)))}highlight(t){if(!Bi(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Bi(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const i=t.code;return t.code=function(a,c,f){return"mermaid"===c?`<div class="mermaid">${a}</div>`:i.call(this,a,c,f)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const i=t.lastIndexOf("://"),a=i>-1?t.substring(i+4):t,c=a.lastIndexOf("/"),f=c>-1?a.substring(c+1).split("?")[0]:"",m=f.lastIndexOf("."),v=m>-1?f.substring(m+1):"";return v&&"md"!==v?"```"+v+"\n"+r+"\n```":r}parseMarked(t,r,i=!1){return i?Ot.parseInline(t,r):Ot.parse(t,r)}parseEmoji(t){if(!Bi(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Bi(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,i){if(!Bi(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:a,buttonTemplate:c}=i,f=t.querySelectorAll("pre");for(let m=0;m<f.length;m++){const v=f.item(m),E=document.createElement("div");E.style.position="relative",v.parentNode.insertBefore(E,v),E.appendChild(v);const I=document.createElement("div");let N,M;I.style.position="absolute",I.style.top=".5em",I.style.right=".5em",I.style.opacity="0",I.style.transition="opacity 250ms ease-out",E.insertAdjacentElement("beforeend",I),v.onmouseover=()=>I.style.opacity="1",v.onmouseout=()=>I.style.opacity="0",N=a?r.createComponent(a).hostView:c?r.createEmbeddedView(c):r.createComponent(JM).hostView,N.rootNodes.forEach($=>{$.onmouseover=()=>I.style.opacity="1",I.appendChild($),M=new ClipboardJS($,{text:()=>v.innerText})}),N.onDestroy(()=>M.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Bi(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=t.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(i=>{let a=r;return i.length>0&&(a=isNaN(a)?i.search(/\S|$/):Math.min(i.search(/\S|$/),a)),isNaN(r)&&(r=a),a?i.substring(a):i}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi),l.LFG(IV),l.LFG(YO,8),l.LFG(E5,8),l.LFG(I5,8),l.LFG(ca))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),x5=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[QM,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:IV,useValue:t&&null!=t.sanitize?t.sanitize:l.q3G.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gd]}),n})();var CV;!function(n){let e;var i;let t,r;(i=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(CV||(CV={}));class ew{}ew.\u0275fac=function(e){return new(e||ew)},ew.\u0275cmp=l.Xpm({type:ew,selectors:[["app-main"]],decls:6,vars:0,consts:[[2,"max-width","1080px","margin","0 auto","padding","10px"],[1,"footer-copyrights"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.TgZ(2,"div",1),l._uU(3," Copyrights 2023\xa9 "),l._UZ(4,"br"),l._uU(5,"Template made with \u{1f52e} by Panos Petridisoglou\n"),l.qZA()())},dependencies:[H_]});class n_{}n_.\u0275fac=function(e){return new(e||n_)},n_.\u0275mod=l.oAB({type:n_,bootstrap:[ew]}),n_.\u0275inj=l.cJS({providers:[{provide:xs.Dh,useValue:lV.firebase}],imports:[n3,D8,ap,e_,rz,q8.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),function RH(n,...e){return{ngModule:xH,providers:[{provide:TO,useFactory:MH(n),multi:!0,deps:[l.R0b,l.zs3,kg,...e]}]}}(()=>kH(lV.firebase)),function r5(n,...e){return{ngModule:n5,providers:[{provide:YM,useFactory:X8(n),multi:!0,deps:[l.R0b,l.zs3,kg,DF,[new l.FiY,cV],[new l.FiY,ZT],...e]}]}}(()=>i5()),RG,x5.forRoot()]}),E_().bootstrapModule(n_).catch(n=>console.error(n))},9751:(bt,Ce,F)=>{F.d(Ce,{y:()=>pe});var l=F(930),V=F(727),k=F(8822),se=F(9635),ve=F(2416),oe=F(576),Ue=F(2806);let pe=(()=>{class q{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ot=new q;return ot.source=this,ot.operator=Oe,ot}subscribe(Oe,ot,at){const ee=function j(q){return q&&q instanceof l.Lv||function H(q){return q&&(0,oe.m)(q.next)&&(0,oe.m)(q.error)&&(0,oe.m)(q.complete)}(q)&&(0,V.Nn)(q)}(Oe)?Oe:new l.Hp(Oe,ot,at);return(0,Ue.x)(()=>{const{operator:Se,source:me}=this;ee.add(Se?Se.call(ee,me):me?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ot){Oe.error(ot)}}forEach(Oe,ot){return new(ot=Re(ot))((at,ee)=>{const Se=new l.Hp({next:me=>{try{Oe(me)}catch(Ne){ee(Ne),Se.unsubscribe()}},error:ee,complete:at});this.subscribe(Se)})}_subscribe(Oe){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Oe)}[k.L](){return this}pipe(...Oe){return(0,se.U)(Oe)(this)}toPromise(Oe){return new(Oe=Re(Oe))((ot,at)=>{let ee;this.subscribe(Se=>ee=Se,Se=>at(Se),()=>ot(ee))})}}return q.create=$e=>new q($e),q})();function Re(q){var $e;return null!==($e=q??ve.v.Promise)&&void 0!==$e?$e:Promise}},7579:(bt,Ce,F)=>{F.d(Ce,{x:()=>Ue});var l=F(9751),V=F(727);const se=(0,F(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=F(8737),oe=F(2806);let Ue=(()=>{class Re extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new pe(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:$e,observers:Oe}=this;return q||$e?V.Lc:(this.currentObservers=null,Oe.push(j),new V.w0(()=>{this.currentObservers=null,(0,ve.P)(Oe,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:$e,isStopped:Oe}=this;q?j.error($e):Oe&&j.complete()}asObservable(){const j=new l.y;return j.source=this,j}}return Re.create=(H,j)=>new pe(H,j),Re})();class pe extends Ue{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,H)}error(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==q?q:V.Lc}}},930:(bt,Ce,F)=>{F.d(Ce,{Hp:()=>at,Lv:()=>q});var l=F(576),V=F(727),k=F(2416),se=F(7849),ve=F(5032);const oe=Re("C",void 0,void 0);function Re(Ae,De,be){return{kind:Ae,value:De,error:be}}var H=F(3410),j=F(2806);class q extends V.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,V.Nn)(De)&&De.add(this)):this.destination=Ne}static create(De,be,Pe){return new at(De,be,Pe)}next(De){this.isStopped?me(function pe(Ae){return Re("N",Ae,void 0)}(De),this):this._next(De)}error(De){this.isStopped?me(function Ue(Ae){return Re("E",void 0,Ae)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?me(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Oe(Ae,De){return $e.call(Ae,De)}class ot{constructor(De){this.partialObserver=De}next(De){const{partialObserver:be}=this;if(be.next)try{be.next(De)}catch(Pe){ee(Pe)}}error(De){const{partialObserver:be}=this;if(be.error)try{be.error(De)}catch(Pe){ee(Pe)}else ee(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(be){ee(be)}}}class at extends q{constructor(De,be,Pe){let K;if(super(),(0,l.m)(De)||!De)K={next:De??void 0,error:be??void 0,complete:Pe??void 0};else{let Q;this&&k.v.useDeprecatedNextContext?(Q=Object.create(De),Q.unsubscribe=()=>this.unsubscribe(),K={next:De.next&&Oe(De.next,Q),error:De.error&&Oe(De.error,Q),complete:De.complete&&Oe(De.complete,Q)}):K=De}this.destination=new ot(K)}}function ee(Ae){k.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ae):(0,se.h)(Ae)}function me(Ae,De){const{onStoppedNotification:be}=k.v;be&&H.z.setTimeout(()=>be(Ae,De))}const Ne={closed:!0,next:ve.Z,error:function Se(Ae){throw Ae},complete:ve.Z}},727:(bt,Ce,F)=>{F.d(Ce,{Lc:()=>oe,w0:()=>ve,Nn:()=>Ue});var l=F(576);const k=(0,F(3888).d)(Re=>function(j){Re(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,$e)=>`${$e+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=F(8737);class ve{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Oe of j)Oe.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,l.m)(q))try{q()}catch(Oe){H=Oe instanceof k?Oe.errors:[Oe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Oe of $e)try{pe(Oe)}catch(ot){H=H??[],ot instanceof k?H=[...H,...ot.errors]:H.push(ot)}}if(H)throw new k(H)}}add(H){var j;if(H&&H!==this)if(this.closed)pe(H);else{if(H instanceof ve){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,se.P)(j,H),H instanceof ve&&H._removeParent(this)}}ve.EMPTY=(()=>{const Re=new ve;return Re.closed=!0,Re})();const oe=ve.EMPTY;function Ue(Re){return Re instanceof ve||Re&&"closed"in Re&&(0,l.m)(Re.remove)&&(0,l.m)(Re.add)&&(0,l.m)(Re.unsubscribe)}function pe(Re){(0,l.m)(Re)?Re():Re.unsubscribe()}},2416:(bt,Ce,F)=>{F.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Ce,F)=>{F.d(Ce,{E:()=>V});const V=new(F(9751).y)(ve=>ve.complete())},8996:(bt,Ce,F)=>{F.d(Ce,{D:()=>De});var l=F(8421),V=F(5363),k=F(9468),oe=F(9751),pe=F(2202),Re=F(576),H=F(9672);function q(be,Pe){if(!be)throw new Error("Iterable cannot be null");return new oe.y(K=>{(0,H.f)(K,Pe,()=>{const Q=be[Symbol.asyncIterator]();(0,H.f)(K,Pe,()=>{Q.next().then(he=>{he.done?K.complete():K.next(he.value)})},0,!0)})})}var $e=F(3670),Oe=F(8239),ot=F(1144),at=F(6495),ee=F(2206),Se=F(4532),me=F(3260);function De(be,Pe){return Pe?function Ae(be,Pe){if(null!=be){if((0,$e.c)(be))return function se(be,Pe){return(0,l.Xf)(be).pipe((0,k.R)(Pe),(0,V.Q)(Pe))}(be,Pe);if((0,ot.z)(be))return function Ue(be,Pe){return new oe.y(K=>{let Q=0;return Pe.schedule(function(){Q===be.length?K.complete():(K.next(be[Q++]),K.closed||this.schedule())})})}(be,Pe);if((0,Oe.t)(be))return function ve(be,Pe){return(0,l.Xf)(be).pipe((0,k.R)(Pe),(0,V.Q)(Pe))}(be,Pe);if((0,ee.D)(be))return q(be,Pe);if((0,at.T)(be))return function j(be,Pe){return new oe.y(K=>{let Q;return(0,H.f)(K,Pe,()=>{Q=be[pe.h](),(0,H.f)(K,Pe,()=>{let he,He;try{({value:he,done:He}=Q.next())}catch(Me){return void K.error(Me)}He?K.complete():K.next(he)},0,!0)}),()=>(0,Re.m)(Q?.return)&&Q.return()})}(be,Pe);if((0,me.L)(be))return function Ne(be,Pe){return q((0,me.Q)(be),Pe)}(be,Pe)}throw(0,Se.z)(be)}(be,Pe):(0,l.Xf)(be)}},8421:(bt,Ce,F)=>{F.d(Ce,{Xf:()=>$e});var l=F(655),V=F(1144),k=F(8239),se=F(9751),ve=F(3670),oe=F(2206),Ue=F(4532),pe=F(6495),Re=F(3260),H=F(576),j=F(7849),q=F(8822);function $e(Ae){if(Ae instanceof se.y)return Ae;if(null!=Ae){if((0,ve.c)(Ae))return function Oe(Ae){return new se.y(De=>{const be=Ae[q.L]();if((0,H.m)(be.subscribe))return be.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,V.z)(Ae))return function ot(Ae){return new se.y(De=>{for(let be=0;be<Ae.length&&!De.closed;be++)De.next(Ae[be]);De.complete()})}(Ae);if((0,k.t)(Ae))return function at(Ae){return new se.y(De=>{Ae.then(be=>{De.closed||(De.next(be),De.complete())},be=>De.error(be)).then(null,j.h)})}(Ae);if((0,oe.D)(Ae))return Se(Ae);if((0,pe.T)(Ae))return function ee(Ae){return new se.y(De=>{for(const be of Ae)if(De.next(be),De.closed)return;De.complete()})}(Ae);if((0,Re.L)(Ae))return function me(Ae){return Se((0,Re.Q)(Ae))}(Ae)}throw(0,Ue.z)(Ae)}function Se(Ae){return new se.y(De=>{(function Ne(Ae,De){var be,Pe,K,Q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(be=(0,l.KL)(Ae);!(Pe=yield be.next()).done;)if(De.next(Pe.value),De.closed)return}catch(he){K={error:he}}finally{try{Pe&&!Pe.done&&(Q=be.return)&&(yield Q.call(be))}finally{if(K)throw K.error}}De.complete()})})(Ae,De).catch(be=>De.error(be))})}},6451:(bt,Ce,F)=>{F.d(Ce,{T:()=>oe});var l=F(8189),V=F(8421),k=F(515),se=F(3269),ve=F(8996);function oe(...Ue){const pe=(0,se.yG)(Ue),Re=(0,se._6)(Ue,1/0),H=Ue;return H.length?1===H.length?(0,V.Xf)(H[0]):(0,l.J)(Re)((0,ve.D)(H,pe)):k.E}},5403:(bt,Ce,F)=>{F.d(Ce,{x:()=>V});var l=F(930);function V(se,ve,oe,Ue,pe){return new k(se,ve,oe,Ue,pe)}class k extends l.Lv{constructor(ve,oe,Ue,pe,Re,H){super(ve),this.onFinalize=Re,this.shouldUnsubscribe=H,this._next=oe?function(j){try{oe(j)}catch(q){ve.error(q)}}:super._next,this._error=pe?function(j){try{pe(j)}catch(q){ve.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(j){ve.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(bt,Ce,F)=>{F.d(Ce,{U:()=>k});var l=F(4482),V=F(5403);function k(se,ve){return(0,l.e)((oe,Ue)=>{let pe=0;oe.subscribe((0,V.x)(Ue,Re=>{Ue.next(se.call(ve,Re,pe++))}))})}},8189:(bt,Ce,F)=>{F.d(Ce,{J:()=>k});var l=F(5577),V=F(4671);function k(se=1/0){return(0,l.z)(V.y,se)}},5577:(bt,Ce,F)=>{F.d(Ce,{z:()=>pe});var l=F(4004),V=F(8421),k=F(4482),se=F(9672),ve=F(5403),Ue=F(576);function pe(Re,H,j=1/0){return(0,Ue.m)(H)?pe((q,$e)=>(0,l.U)((Oe,ot)=>H(q,Oe,$e,ot))((0,V.Xf)(Re(q,$e))),j):("number"==typeof H&&(j=H),(0,k.e)((q,$e)=>function oe(Re,H,j,q,$e,Oe,ot,at){const ee=[];let Se=0,me=0,Ne=!1;const Ae=()=>{Ne&&!ee.length&&!Se&&H.complete()},De=Pe=>Se<q?be(Pe):ee.push(Pe),be=Pe=>{Oe&&H.next(Pe),Se++;let K=!1;(0,V.Xf)(j(Pe,me++)).subscribe((0,ve.x)(H,Q=>{$e?.(Q),Oe?De(Q):H.next(Q)},()=>{K=!0},void 0,()=>{if(K)try{for(Se--;ee.length&&Se<q;){const Q=ee.shift();ot?(0,se.f)(H,ot,()=>be(Q)):be(Q)}Ae()}catch(Q){H.error(Q)}}))};return Re.subscribe((0,ve.x)(H,De,()=>{Ne=!0,Ae()})),()=>{at?.()}}(q,$e,Re,j)))}},5363:(bt,Ce,F)=>{F.d(Ce,{Q:()=>se});var l=F(9672),V=F(4482),k=F(5403);function se(ve,oe=0){return(0,V.e)((Ue,pe)=>{Ue.subscribe((0,k.x)(pe,Re=>(0,l.f)(pe,ve,()=>pe.next(Re),oe),()=>(0,l.f)(pe,ve,()=>pe.complete(),oe),Re=>(0,l.f)(pe,ve,()=>pe.error(Re),oe)))})}},3099:(bt,Ce,F)=>{F.d(Ce,{B:()=>ve});var l=F(8421),V=F(7579),k=F(930),se=F(4482);function ve(Ue={}){const{connector:pe=(()=>new V.x),resetOnError:Re=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=Ue;return q=>{let $e,Oe,ot,at=0,ee=!1,Se=!1;const me=()=>{Oe?.unsubscribe(),Oe=void 0},Ne=()=>{me(),$e=ot=void 0,ee=Se=!1},Ae=()=>{const De=$e;Ne(),De?.unsubscribe()};return(0,se.e)((De,be)=>{at++,!Se&&!ee&&me();const Pe=ot=ot??pe();be.add(()=>{at--,0===at&&!Se&&!ee&&(Oe=oe(Ae,j))}),Pe.subscribe(be),!$e&&at>0&&($e=new k.Hp({next:K=>Pe.next(K),error:K=>{Se=!0,me(),Oe=oe(Ne,Re,K),Pe.error(K)},complete:()=>{ee=!0,me(),Oe=oe(Ne,H),Pe.complete()}}),(0,l.Xf)(De).subscribe($e))})(q)}}function oe(Ue,pe,...Re){if(!0===pe)return void Ue();if(!1===pe)return;const H=new k.Hp({next:()=>{H.unsubscribe(),Ue()}});return(0,l.Xf)(pe(...Re)).subscribe(H)}},9468:(bt,Ce,F)=>{F.d(Ce,{R:()=>V});var l=F(4482);function V(k,se=0){return(0,l.e)((ve,oe)=>{oe.add(k.schedule(()=>ve.subscribe(oe),se))})}},3410:(bt,Ce,F)=>{F.d(Ce,{z:()=>l});const l={setTimeout(V,k,...se){const{delegate:ve}=l;return ve?.setTimeout?ve.setTimeout(V,k,...se):setTimeout(V,k,...se)},clearTimeout(V){const{delegate:k}=l;return(k?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(bt,Ce,F)=>{F.d(Ce,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Ce,F)=>{F.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,Ce,F)=>{F.d(Ce,{_6:()=>oe,jO:()=>se,yG:()=>ve});var l=F(576),V=F(3532);function k(Ue){return Ue[Ue.length-1]}function se(Ue){return(0,l.m)(k(Ue))?Ue.pop():void 0}function ve(Ue){return(0,V.K)(k(Ue))?Ue.pop():void 0}function oe(Ue,pe){return"number"==typeof k(Ue)?Ue.pop():pe}},8737:(bt,Ce,F)=>{function l(V,k){if(V){const se=V.indexOf(k);0<=se&&V.splice(se,1)}}F.d(Ce,{P:()=>l})},3888:(bt,Ce,F)=>{function l(V){const se=V(ve=>{Error.call(ve),ve.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}F.d(Ce,{d:()=>l})},2806:(bt,Ce,F)=>{F.d(Ce,{O:()=>se,x:()=>k});var l=F(2416);let V=null;function k(ve){if(l.v.useDeprecatedSynchronousErrorHandling){const oe=!V;if(oe&&(V={errorThrown:!1,error:null}),ve(),oe){const{errorThrown:Ue,error:pe}=V;if(V=null,Ue)throw pe}}else ve()}function se(ve){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ve)}},9672:(bt,Ce,F)=>{function l(V,k,se,ve=0,oe=!1){const Ue=k.schedule(function(){se(),oe?V.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(V.add(Ue),!oe)return Ue}F.d(Ce,{f:()=>l})},4671:(bt,Ce,F)=>{function l(V){return V}F.d(Ce,{y:()=>l})},1144:(bt,Ce,F)=>{F.d(Ce,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(bt,Ce,F)=>{F.d(Ce,{D:()=>V});var l=F(576);function V(k){return Symbol.asyncIterator&&(0,l.m)(k?.[Symbol.asyncIterator])}},576:(bt,Ce,F)=>{function l(V){return"function"==typeof V}F.d(Ce,{m:()=>l})},3670:(bt,Ce,F)=>{F.d(Ce,{c:()=>k});var l=F(8822),V=F(576);function k(se){return(0,V.m)(se[l.L])}},6495:(bt,Ce,F)=>{F.d(Ce,{T:()=>k});var l=F(2202),V=F(576);function k(se){return(0,V.m)(se?.[l.h])}},8239:(bt,Ce,F)=>{F.d(Ce,{t:()=>V});var l=F(576);function V(k){return(0,l.m)(k?.then)}},3260:(bt,Ce,F)=>{F.d(Ce,{L:()=>se,Q:()=>k});var l=F(655),V=F(576);function k(ve){return(0,l.FC)(this,arguments,function*(){const Ue=ve.getReader();try{for(;;){const{value:pe,done:Re}=yield(0,l.qq)(Ue.read());if(Re)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{Ue.releaseLock()}})}function se(ve){return(0,V.m)(ve?.getReader)}},3532:(bt,Ce,F)=>{F.d(Ce,{K:()=>V});var l=F(576);function V(k){return k&&(0,l.m)(k.schedule)}},4482:(bt,Ce,F)=>{F.d(Ce,{A:()=>V,e:()=>k});var l=F(576);function V(se){return(0,l.m)(se?.lift)}function k(se){return ve=>{if(V(ve))return ve.lift(function(oe){try{return se(oe,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,Ce,F)=>{function l(){}F.d(Ce,{Z:()=>l})},9635:(bt,Ce,F)=>{F.d(Ce,{U:()=>k,z:()=>V});var l=F(4671);function V(...se){return k(se)}function k(se){return 0===se.length?l.y:1===se.length?se[0]:function(oe){return se.reduce((Ue,pe)=>pe(Ue),oe)}}},7849:(bt,Ce,F)=>{F.d(Ce,{h:()=>k});var l=F(2416),V=F(3410);function k(se){V.z.setTimeout(()=>{const{onUnhandledError:ve}=l.v;if(!ve)throw se;ve(se)})}},4532:(bt,Ce,F)=>{function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>l})},655:(bt,Ce,F)=>{function se(ne,ae){var ce={};for(var Ee in ne)Object.prototype.hasOwnProperty.call(ne,Ee)&&ae.indexOf(Ee)<0&&(ce[Ee]=ne[Ee]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Ee=Object.getOwnPropertySymbols(ne);ke<Ee.length;ke++)ae.indexOf(Ee[ke])<0&&Object.prototype.propertyIsEnumerable.call(ne,Ee[ke])&&(ce[Ee[ke]]=ne[Ee[ke]])}return ce}function q(ne,ae,ce,Ee){return new(ce||(ce=Promise))(function(Fe,Qe){function Je(yt){try{Dt(Ee.next(yt))}catch(rt){Qe(rt)}}function yn(yt){try{Dt(Ee.throw(yt))}catch(rt){Qe(rt)}}function Dt(yt){yt.done?Fe(yt.value):function ke(Fe){return Fe instanceof ce?Fe:new ce(function(Qe){Qe(Fe)})}(yt.value).then(Je,yn)}Dt((Ee=Ee.apply(ne,ae||[])).next())})}function Ae(ne){return this instanceof Ae?(this.v=ne,this):new Ae(ne)}function De(ne,ae,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ee=ce.apply(ne,ae||[]),Fe=[];return ke={},Qe("next"),Qe("throw"),Qe("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Qe(rn){Ee[rn]&&(ke[rn]=function(vn){return new Promise(function(Gn,sn){Fe.push([rn,vn,Gn,sn])>1||Je(rn,vn)})})}function Je(rn,vn){try{!function yn(rn){rn.value instanceof Ae?Promise.resolve(rn.value.v).then(Dt,yt):rt(Fe[0][2],rn)}(Ee[rn](vn))}catch(Gn){rt(Fe[0][3],Gn)}}function Dt(rn){Je("next",rn)}function yt(rn){Je("throw",rn)}function rt(rn,vn){rn(vn),Fe.shift(),Fe.length&&Je(Fe[0][0],Fe[0][1])}}function Pe(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ae=ne[Symbol.asyncIterator];return ae?ae.call(ne):(ne=function at(ne){var ae="function"==typeof Symbol&&Symbol.iterator,ce=ae&&ne[ae],Ee=0;if(ce)return ce.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ee>=ne.length&&(ne=void 0),{value:ne&&ne[Ee++],done:!ne}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ce={},Ee("next"),Ee("throw"),Ee("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Ee(Fe){ce[Fe]=ne[Fe]&&function(Qe){return new Promise(function(Je,yn){!function ke(Fe,Qe,Je,yn){Promise.resolve(yn).then(function(Dt){Fe({value:Dt,done:Je})},Qe)}(Je,yn,(Qe=ne[Fe](Qe)).done,Qe.value)})}}}F.d(Ce,{FC:()=>De,KL:()=>Pe,_T:()=>se,mG:()=>q,qq:()=>Ae})},4650:(bt,Ce,F)=>{F.d(Ce,{$8M:()=>lp,$WT:()=>ro,$Z:()=>MD,AFp:()=>_0,ALo:()=>hE,AaK:()=>pe,AsE:()=>_g,BQk:()=>ig,CHM:()=>c_,CRH:()=>a0,CZH:()=>zh,CqO:()=>s1,D6c:()=>qi,DdM:()=>Fv,Dn7:()=>Gv,EJc:()=>D0,EiD:()=>sC,EpF:()=>r1,F$t:()=>c1,F4k:()=>i1,FYo:()=>Zu,FiY:()=>Gs,Gf:()=>Hg,GfV:()=>iD,Gpc:()=>j,Hsn:()=>d1,Ikx:()=>Eg,JOm:()=>Oi,JVY:()=>Uu,JZr:()=>at,KtG:()=>d_,L6k:()=>Bw,LAX:()=>XI,LFG:()=>Le,LMc:()=>Ba,LSH:()=>G_,Lbi:()=>iA,Lck:()=>Nv,MAs:()=>ng,MGl:()=>pc,MMx:()=>Ec,MR2:()=>lC,MT6:()=>Dg,NdJ:()=>qy,OlP:()=>un,Oqu:()=>vh,P3R:()=>qw,PXZ:()=>LE,Q6J:()=>XD,QGY:()=>Wy,Qsj:()=>rD,QtT:()=>Dc,R0b:()=>Wi,RDi:()=>KI,Rgc:()=>Sc,SBq:()=>Ta,SDv:()=>eE,Sil:()=>qh,Suo:()=>Gg,TTD:()=>lu,TgZ:()=>zy,Tol:()=>fg,Udp:()=>hg,VKq:()=>lE,W1O:()=>kh,WLB:()=>Lv,X6Q:()=>jE,XFs:()=>ut,Xpm:()=>Go,Xts:()=>W_,Y36:()=>Qu,YKP:()=>iE,YNc:()=>QD,Yjl:()=>Za,Yz7:()=>rt,Z0I:()=>sn,ZZ4:()=>Ge,_Bn:()=>Ah,_UZ:()=>t1,_Vd:()=>qu,_c5:()=>qE,_uU:()=>O1,aQg:()=>Fo,c2e:()=>w0,cJS:()=>vn,cg1:()=>hv,dDg:()=>A0,dqk:()=>At,eBb:()=>Vw,eFA:()=>x0,ekj:()=>mh,eoX:()=>Zh,f3M:()=>Xe,g9A:()=>v0,h0i:()=>Ks,hGG:()=>ZE,hij:()=>mg,iGM:()=>Rh,ifc:()=>Ie,ip1:()=>m0,jDz:()=>ko,kEZ:()=>Mh,kL8:()=>j1,lG2:()=>kf,lcZ:()=>jv,lqb:()=>bl,lri:()=>Vc,mCW:()=>rh,n5z:()=>Rd,oAB:()=>zo,oJD:()=>Fp,oxw:()=>u1,pB0:()=>Io,pQV:()=>Sh,q3G:()=>or,q4F:()=>sD,qLn:()=>ah,qOj:()=>My,qZA:()=>Nl,qzn:()=>Da,rWj:()=>S0,s9C:()=>h1,sBO:()=>Rr,s_b:()=>Ac,soG:()=>Wh,tb:()=>b0,tp0:()=>Vi,uIk:()=>ph,vHH:()=>ee,vpe:()=>ks,wAp:()=>Et,xi3:()=>Hv,xp6:()=>yD,ynx:()=>rg,z2F:()=>sm,z3N:()=>Is,zSh:()=>Wu,zs3:()=>El});var l=F(7579),V=F(727),k=F(9751),se=F(6451),ve=F(3099);function oe(s){for(let o in s)if(s[o]===oe)return o;throw Error("Could not find renamed property on target object.")}function Ue(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Re(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=oe({__forward_ref__:oe});function j(s){return s.__forward_ref__=j,s.toString=function(){return pe(this())},s}function q(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===j}function Oe(s){return s&&!!s.\u0275providers}const at="https://g.co/ng/security#xss";class ee extends Error{constructor(o,u){super(function Se(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,o){throw new ee(-201,!1)}function Je(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function vn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Gn(s){return cr(s,Pi)||cr(s,bn)}function sn(s){return null!==Gn(s)}function cr(s,o){return s.hasOwnProperty(o)?s[o]:null}function oi(s){return s&&(s.hasOwnProperty(hs)||s.hasOwnProperty(Fr))?s[hs]:null}const Pi=oe({\u0275prov:oe}),hs=oe({\u0275inj:oe}),bn=oe({ngInjectableDef:oe}),Fr=oe({ngInjectorDef:oe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Lr;function dr(s){const o=Lr;return Lr=s,o}function hr(s,o,u){const d=Gn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ut.Optional?null:void 0!==o?o:void Pe(pe(s))}const At=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},Ln="__NG_DI_FLAG__",Ii="ngTempTokenPath",Fi=/\n/gm,fs="__source";let Ht;function ai(s){const o=Ht;return Ht=s,o}function er(s,o=ut.Default){if(void 0===Ht)throw new ee(-203,!1);return null===Ht?hr(s,void 0,o):Ht.get(s,o&ut.Optional?null:void 0,o)}function Le(s,o=ut.Default){return(function Ei(){return Lr}()||er)(q(s),o)}function Xe(s,o=ut.Default){return Le(s,wt(o))}function wt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Nt(s){const o=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ee(900,!1);let h,p=ut.Default;for(let y=0;y<d.length;y++){const D=d[y],T=U(D);"number"==typeof T?-1===T?h=D.token:p|=T:h=D}o.push(Le(h,p))}else o.push(Le(d))}return o}function zt(s,o){return s[Ln]=o,s.prototype[Ln]=o,s}function U(s){return s[Ln]}function L(s){return{toString:s}.toString()}var O=(()=>((O=O||{})[O.OnPush=0]="OnPush",O[O.Default=1]="Default",O))(),Ie=(()=>{return(s=Ie||(Ie={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ie;var s})();const ct={},We=[],kt=oe({\u0275cmp:oe}),_t=oe({\u0275dir:oe}),pn=oe({\u0275pipe:oe}),tr=oe({\u0275mod:oe}),Pt=oe({\u0275fac:oe}),Er=oe({__NG_ELEMENT_ID__:oe});let tu=0;function Go(s){return L(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===O.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||We,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ie.Emulated,id:"c"+tu++,styles:s.styles||We,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return h.inputs=fd(s.inputs,d),h.outputs=fd(s.outputs),y&&y.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(xf).filter(pr):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Tr).filter(pr):null,h})}function xf(s){return Jt(s)||Nn(s)}function pr(s){return null!==s}function zo(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||We,declarations:s.declarations||We,imports:s.imports||We,exports:s.exports||We,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function fd(s,o){if(null==s)return ct;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const kf=Go;function Za(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[kt]||null}function Nn(s){return s[_t]||null}function Tr(s){return s[pn]||null}function ro(s){const o=Jt(s)||Nn(s)||Tr(s);return null!==o&&o.standalone}function Br(s,o){const u=s[tr]||null;if(!u&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return u}function ui(s){return Array.isArray(s)&&"object"==typeof s[1]}function ci(s){return Array.isArray(s)&&!0===s[1]}function gs(s){return 0!=(4&s.flags)}function Ya(s){return s.componentOffset>-1}function ou(s){return 1==(1&s.flags)}function mr(s){return null!==s.template}function iw(s){return 0!=(256&s[2])}function oo(s,o){return s.hasOwnProperty(Pt)?s[Pt]:null}class lw{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function lu(){return uu}function uu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Qa),_d}function _d(){const s=$f(this),o=s?.current;if(o){const u=s.previous;if(u===ct)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Qa(s,o,u,d){const h=this.declaredInputs[u],p=$f(s)||function du(s,o){return s[cu]=o}(s,{previous:ct,current:null}),y=p.current||(p.current={}),D=p.previous,T=D[h];y[h]=new lw(T&&T.currentValue,o,D===ct),s[d]=o}lu.ngInherit=!0;const cu="__ngSimpleChanges__";function $f(s){return s[cu]||null}function Wn(s){for(;Array.isArray(s);)s=s[0];return s}function Jo(s,o){return Wn(o[s])}function Ir(s,o){return Wn(o[s.index])}function jf(s,o){return s.data[o]}function ao(s,o){return s[o]}function Cr(s,o){const u=o[s];return ui(u)?u:u[0]}function lo(s){return 64==(64&s[2])}function _s(s,o){return null==o?null:s[o]}function Hf(s){s[18]=0}function el(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Ft={lFrame:m_(null),bindingsEnabled:!0};function Gf(){return Ft.bindingsEnabled}function ue(){return Ft.lFrame.lView}function Wt(){return Ft.lFrame.tView}function c_(s){return Ft.lFrame.contextLView=s,s[8]}function d_(s){return Ft.lFrame.contextLView=null,s}function sr(){let s=h_();for(;null!==s&&64===s.type;)s=s.parent;return s}function h_(){return Ft.lFrame.currentTNode}function Qo(){const s=Ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ts(s,o){const u=Ft.lFrame;u.currentTNode=s,u.isParent=o}function gu(){return Ft.lFrame.isParent}function Wf(){Ft.lFrame.isParent=!1}function Vr(){const s=Ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function di(){return Ft.lFrame.bindingIndex}function uo(){return Ft.lFrame.bindingIndex++}function Vs(s){const o=Ft.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function _u(s){Ft.lFrame.inI18n=s}function Yf(s,o){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=s,Us(o)}function Us(s){Ft.lFrame.currentDirectiveIndex=s}function p_(){return Ft.lFrame.currentQueryIndex}function Kf(s){Ft.lFrame.currentQueryIndex=s}function dw(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function g_(s,o,u){if(u&ut.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&ut.Host||(h=dw(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Ft.lFrame=hw();return d.currentTNode=o,d.lView=s,!0}function Jf(s){const o=hw(),u=s[1];Ft.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function hw(){const s=Ft.lFrame,o=null===s?null:s.child;return null===o?m_(s):o}function m_(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function __(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const fw=__;function y_(){const s=__();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Xr(){return Ft.lFrame.selectedIndex}function ys(s){Ft.lFrame.selectedIndex=s}function cn(){const s=Ft.lFrame;return jf(s.tView,s.selectedIndex)}function nl(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:C,ngOnDestroy:A}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),T&&(s.viewHooks||(s.viewHooks=[])).push(-u,T),C&&((s.viewHooks||(s.viewHooks=[])).push(u,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,C)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function Td(s,o,u){ta(s,o,3,u)}function co(s,o,u,d){(3&s[2])===u&&ta(s,o,u,d)}function ea(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function ta(s,o,u,d){const p=d??-1,y=o.length-1;let D=0;for(let T=void 0!==d?65535&s[18]:0;T<y;T++)if("number"==typeof o[T+1]){if(D=o[T],null!=d&&D>=d)break}else o[T]<0&&(s[18]+=65536),(D<p||-1==p)&&(v_(s,u,o,T),s[18]=(4294901760&s[18])+T+2),T++}function v_(s,o,u,d){const h=u[d]<0,p=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class yu{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function vu(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],y=u[d++],D=u[d++];s.setAttribute(o,y,D,p)}else{const p=h,y=u[++d];Sd(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function js(s){return 3===s||4===s||6===s}function Sd(s){return 64===s.charCodeAt(0)}function bs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||bu(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function bu(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){y=-1;break}if(D>o){y=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Ad(s){return-1!==s}function na(s){return 32767&s}function ho(s,o){let u=function w_(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let wu=!0;function Hs(s){const o=wu;return wu=s,o}let Du=0;const Ai={};function fo(s,o){const u=tp(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Eu(d.data,s),Eu(o,null),Eu(d.blueprint,null));const h=Od(s,o),p=s.injectorIndex;if(Ad(h)){const y=na(h),D=ho(h,o),T=D[1].data;for(let C=0;C<8;C++)o[p+C]=D[y+C]|T[y+C]}return o[p+8]=h,p}function Eu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function tp(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Od(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=ap(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Md(s,o,u){!function ep(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Er)&&(d=u[Er]),null==d&&(d=u[Er]=Du++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function rp(s,o,u){if(u&ut.Optional||void 0!==s)return s;Pe()}function ip(s,o,u,d){if(u&ut.Optional&&void 0===d&&(d=null),!(u&(ut.Self|ut.Host))){const h=s[9],p=dr(void 0);try{return h?h.get(o,d,u&ut.Optional):hr(o,d,u&ut.Optional)}finally{dr(p)}}return rp(d,0,u)}function Tu(s,o,u,d=ut.Default,h){if(null!==s){if(1024&o[2]){const y=function op(s,o,u,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=xd(p,y,u,d|ut.Self,Ai);if(D!==Ai)return D;let T=p.parent;if(!T){const C=y[21];if(C){const A=C.get(u,Ai,d);if(A!==Ai)return A}T=ap(y),y=y[15]}p=T}return h}(s,o,u,d,Ai);if(y!==Ai)return y}const p=xd(s,o,u,d,Ai);if(p!==Ai)return p}return ip(o,u,d,h)}function xd(s,o,u,d,h){const p=function D_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Er)?s[Er]:void 0;return"number"==typeof o?o>=0?255&o:E_:o}(u);if("function"==typeof p){if(!g_(o,s,d))return d&ut.Host?rp(h,0,d):ip(o,u,d,h);try{const y=p(d);if(null!=y||d&ut.Optional)return y;Pe()}finally{fw()}}else if("number"==typeof p){let y=null,D=tp(s,o),T=-1,C=d&ut.Host?o[16][6]:null;for((-1===D||d&ut.SkipSelf)&&(T=-1===D?Od(s,o):o[D+8],-1!==T&&sl(d,!1)?(y=o[1],D=na(T),o=ho(T,o)):D=-1);-1!==D;){const A=o[1];if(sp(p,D,A.data)){const R=bw(D,o,u,y,d,C);if(R!==Ai)return R}T=o[D+8],-1!==T&&sl(d,o[1].data[D+8]===C)&&sp(p,D,o)?(y=A,D=na(T),o=ho(T,o)):D=-1}}return h}function bw(s,o,u,d,h,p){const y=o[1],D=y.data[s+8],A=ia(D,y,u,null==d?Ya(D)&&wu:d!=y&&0!=(3&D.type),h&ut.Host&&p===D);return null!==A?po(o,y,A,D):Ai}function ia(s,o,u,d,h){const p=s.providerIndexes,y=o.data,D=1048575&p,T=s.directiveStart,A=p>>20,G=h?D+A:s.directiveEnd;for(let J=d?D:D+A;J<G;J++){const de=y[J];if(J<T&&u===de||J>=T&&de.type===u)return J}if(h){const J=y[T];if(J&&mr(J)&&J.type===u)return T}return null}function po(s,o,u,d){let h=s[u];const p=o.data;if(function Id(s){return s instanceof yu}(h)){const y=h;y.resolving&&function Ae(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ee(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(p[u]));const D=Hs(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?dr(y.injectImpl):null;g_(s,d,ut.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Xf(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=uu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==T&&dr(T),Hs(D),y.resolving=!1,fw()}}return h}function sp(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function sl(s,o){return!(s&ut.Self||s&ut.Host&&o)}class go{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Tu(this._tNode,this._lView,o,wt(d),u)}}function E_(){return new go(sr(),ue())}function Rd(s){return L(()=>{const o=s.prototype.constructor,u=o[Pt]||sa(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Pt]||sa(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function sa(s){return $e(s)?()=>{const o=sa(q(s));return o&&o()}:oo(s)}function ap(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function lp(s){return function np(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(js(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(sr(),s)}const ol="__parameters__";function aa(s,o,u){return L(()=>{const d=function Pd(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return D.annotation=y,D;function D(T,C,A){const R=T.hasOwnProperty(ol)?T[ol]:Object.defineProperty(T,ol,{value:[]})[ol];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(y),T}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class un{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yo(s,o){s.forEach(u=>Array.isArray(u)?yo(u,o):o(u))}function C_(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Fd(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ua(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function Sr(s,o,u){let d=Zt(s,o);return d>=0?s[1|d]=u:(d=~d,function ca(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function hp(s,o){const u=Zt(s,o);if(u>=0)return s[1|u]}function Zt(s,o){return function lt(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const Gs=zt(aa("Optional"),8),Vi=zt(aa("SkipSelf"),4);var Oi=(()=>((Oi=Oi||{})[Oi.Important=1]="Important",Oi[Oi.DashCase=2]="DashCase",Oi))();const Lt=/^>|^->|<!--|-->|--!>|<!-$/g,dl=/(<|>)/;const zd=new Map;let Wd=0;const Yd="__ngContext__";function _r(s,o){ui(o)?(s[Yd]=o[20],function qd(s){zd.set(s[20],s)}(o)):s[Yd]=o}let Z;function ge(s,o){return Z(s,o)}function dt(s){const o=s[3];return ci(o)?o[3]:o}function Nr(s){return Ws(s[13])}function Gi(s){return Ws(s[4])}function Ws(s){for(;null!==s&&!ci(s);)s=s[4];return s}function Do(s,o,u,d,h){if(null!=d){let p,y=!1;ci(d)?p=d:ui(d)&&(y=!0,d=d[0]);const D=Wn(d);0===s&&null!==u?null==h?Nw(o,u,D):Bu(o,u,D,h||null,!0):1===s&&null!==u?Bu(o,u,D,h||null,!0):2===s?va(o,D,y):3===s&&o.destroyNode(D),null!=p&&function Rw(s,o,u,d,h){const p=u[7];p!==Wn(u)&&Do(o,s,d,p,h);for(let D=10;D<u.length;D++){const T=u[D];pl(T[1],T,s,o,d,p)}}(o,s,p,u,h)}}function Eo(s,o){return s.createText(o)}function pa(s,o,u){s.setValue(o,u)}function Kd(s,o){return s.createComment(function Ts(s){return s.replace(Lt,o=>o.replace(dl,"\u200b$1\u200b"))}(o))}function ga(s,o,u){return s.createElement(o,u)}function Ep(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,el(h,-1)),u.splice(d,1)}function x_(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&Ep(h,d),o>0&&(s[u-1][4]=d[4]);const p=Fd(s,10+o);!function wp(s,o){pl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Aw(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&pl(s,o,u,3,null,null),function fl(s){let o=s[13];if(!o)return Xd(s[1],s);for(;o;){let u=null;if(ui(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)ui(o)&&Xd(o[1],o),o=o[3];null===o&&(o=s),ui(o)&&Xd(o[1],o),u=o&&o[4]}o=u}}(o)}}function Xd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function GI(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof yu)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const D=h[p[y]],T=p[y+1];try{T.call(D)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Tp(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=u[p+1]];u[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&ci(o[3])){u!==o[3]&&Ep(u,o);const d=o[19];null!==d&&d.detachView(s)}!function Fu(s){zd.delete(s[20])}(o)}}function ma(s,o,u){return Ip(s,o.parent,u)}function Ip(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Ie.None||p===Ie.Emulated)return null}return Ir(d,u)}}function Bu(s,o,u,d,h){s.insertBefore(o,u,d,h)}function Nw(s,o,u){s.appendChild(o,u)}function Ow(s,o,u,d,h){null!==d?Bu(s,o,u,d,h):Nw(s,o,u)}function _a(s,o){return s.parentNode(o)}function R_(s,o,u){return P_(s,o,u)}function k_(s,o,u){return 40&s.type?Ir(s,u):null}let ya,gl,B_,Op,P_=k_;function Mw(s,o){P_=s,ya=o}function Sp(s,o,u,d){const h=ma(s,d,o),p=o[11],D=R_(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let T=0;T<u.length;T++)Ow(p,h,u[T],D,!1);else Ow(p,h,u,D,!1);void 0!==ya&&ya(p,d,o,u,h)}function eh(s,o){if(null!==o){const u=o.type;if(3&u)return Ir(o,s);if(4&u)return th(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return eh(s,d);{const h=s[o.index];return ci(h)?th(-1,h):Wn(h)}}if(32&u)return ge(o,s)()||Wn(s[o.index]);{const d=xw(s,o);return null!==d?Array.isArray(d)?d[0]:eh(dt(s[16]),d):eh(s,o.next)}}return null}function xw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function th(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return eh(d,h)}return o[7]}function va(s,o,u){const d=_a(s,o);d&&function zI(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function F_(s,o,u,d,h,p,y){for(;null!=u;){const D=d[u.index],T=u.type;if(y&&0===o&&(D&&_r(Wn(D),d),u.flags|=2),32!=(32&u.flags))if(8&T)F_(s,o,u.child,d,h,p,!1),Do(o,s,h,D,p);else if(32&T){const C=ge(u,d);let A;for(;A=C();)Do(o,s,h,A,p);Do(o,s,h,D,p)}else 16&T?L_(s,o,d,u,h,p):Do(o,s,h,D,p);u=y?u.projectionNext:u.next}}function pl(s,o,u,d,h,p){F_(u,d,s.firstChild,o,h,p,!1)}function L_(s,o,u,d,h,p){const y=u[16],T=y[6].projection[d.projection];if(Array.isArray(T))for(let C=0;C<T.length;C++)Do(o,s,h,T[C],p);else F_(s,o,T,y[3],h,p,!0)}function Ap(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function ba(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&vu(s,o,d),null!==h&&Ap(s,o,h),null!==p&&function qs(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function wa(s){return function Np(){if(void 0===gl&&(gl=null,At.trustedTypes))try{gl=At.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return gl}()?.createHTML(s)||s}function KI(s){B_=s}function kw(){return void 0!==B_?B_:typeof document<"u"?document:void 0}function V_(){if(void 0===Op&&(Op=null,At.trustedTypes))try{Op=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Op}function Pw(s){return V_()?.createHTML(s)||s}function U_(s){return V_()?.createScriptURL(s)||s}class ml{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class ix extends ml{getTypeName(){return"HTML"}}class JI extends ml{getTypeName(){return"Style"}}class sx extends ml{getTypeName(){return"Script"}}class QI extends ml{getTypeName(){return"URL"}}class Lw extends ml{getTypeName(){return"ResourceURL"}}function Is(s){return s instanceof ml?s.changingThisBreaksApplicationSecurity:s}function Da(s,o){const u=function To(s){return s instanceof ml&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${at})`)}return u===o}function Uu(s){return new ix(s)}function Bw(s){return new JI(s)}function Vw(s){return new sx(s)}function XI(s){return new QI(s)}function Io(s){return new Lw(s)}function $_(s){const o=new Mp(s);return function Uw(){try{return!!(new window.DOMParser).parseFromString(wa(""),"text/html")}catch{return!1}}()?new eC(o):o}class eC{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(wa(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Mp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=wa(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=wa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const j_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function rh(s){return(s=String(s)).match(j_)?s:"unsafe:"+s}function Cs(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function _l(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const $w=Cs("area,br,col,hr,img,wbr"),$u=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jw=Cs("rp,rt"),xp=_l($w,_l($u,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(jw,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(jw,$u)),Rp=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=_l(Rp,Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kp=Cs("script,style,template");class H_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!xp.hasOwnProperty(u))return this.sanitizedSomething=!0,!kp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,D=y.toLowerCase();if(!ju.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=p.value;Rp[D]&&(T=rh(T)),this.buf.push(" ",y,'="',Pp(T),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();xp.hasOwnProperty(u)&&!$w.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Pp(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const rC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iC=/([^\#-~ |!])/g;function Pp(s){return s.replace(/&/g,"&amp;").replace(rC,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(iC,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ih;function sC(s,o){let u=null;try{ih=ih||$_(s);let d=o?String(o):"";u=ih.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=ih.getInertBodyElement(d)}while(d!==p);return wa((new H_).sanitizeChildren(Gw(u)||u))}finally{if(u){const d=Gw(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Gw(s){return"content"in s&&function lx(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function Fp(s){const o=Ea();return o?Pw(o.sanitize(or.HTML,s)||""):Da(s,"HTML")?Pw(Is(s)):sC(kw(),me(s))}function G_(s){const o=Ea();return o?o.sanitize(or.URL,s)||"":Da(s,"URL")?Is(s):rh(me(s))}function zw(s){const o=Ea();if(o)return U_(o.sanitize(or.RESOURCE_URL,s)||"");if(Da(s,"ResourceURL"))return U_(Is(s));throw new ee(904,!1)}function qw(s,o,u){return function sh(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?zw:G_}(o,u)(s)}function Ea(){const s=ue();return s&&s[12]}const W_=new un("ENVIRONMENT_INITIALIZER"),Zw=new un("INJECTOR",-1),yl=new un("INJECTOR_DEF_TYPES");class Hu{get(o,u=Xn){if(u===Xn){const d=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw d.name="NullInjectorError",d}return u}}function lC(s){return{\u0275providers:s}}function uC(...s){return{\u0275providers:Gu(0,s),\u0275fromNgModule:!0}}function Gu(s,...o){const u=[],d=new Set;let h;return yo(o,p=>{const y=p;q_(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&zu(h,u),u}function zu(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Z_(h,p=>{o.push(p)})}}function q_(s,o,u,d){if(!(s=q(s)))return!1;let h=null,p=oi(s);const y=!p&&Jt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=oi(T),!p)return!1;h=T}const D=d.has(h);if(y){if(D)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const C of T)q_(C,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let C;d.add(h);try{yo(p.imports,A=>{q_(A,o,u,d)&&(C||(C=[]),C.push(A))})}finally{}void 0!==C&&zu(C,o)}if(!D){const C=oo(h)||(()=>new h);o.push({provide:h,useFactory:C,deps:We},{provide:yl,useValue:h,multi:!0},{provide:W_,useValue:()=>Le(h),multi:!0})}const T=p.providers;null==T||D||Z_(T,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}function Z_(s,o){for(let u of s)Oe(u)&&(u=u.\u0275providers),Array.isArray(u)?Z_(u,o):o(u)}const cC=oe({provide:String,useValue:oe});function Y_(s){return null!==s&&"object"==typeof s&&cC in s}function vl(s){return"function"==typeof s}const Wu=new un("Set Injector scope."),Co={},hC={};let J_;function Lp(){return void 0===J_&&(J_=new Hu),J_}class bl{}class Kw extends bl{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oh(o,y=>this.processProvider(y)),this.records.set(Zw,wl(void 0,this)),h.has("environment")&&this.records.set(bl,wl(void 0,this));const p=this.records.get(Wu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(yl.multi,We,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=ai(this),d=dr(void 0);try{return o()}finally{ai(u),dr(d)}}get(o,u=Xn,d=ut.Default){this.assertNotDestroyed(),d=wt(d);const h=ai(this),p=dr(void 0);try{if(!(d&ut.SkipSelf)){let D=this.records.get(o);if(void 0===D){const T=function Qw(s){return"function"==typeof s||"object"==typeof s&&s instanceof un}(o)&&Gn(o);D=T&&this.injectableDefInScope(T)?wl(Q_(o),Co):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&ut.Self?Lp():this.parent).get(o,u=d&ut.Optional&&u===Xn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Ii]=y[Ii]||[]).unshift(pe(o)),h)throw y;return function B(s,o,u,d){const h=s[Ii];throw o[fs]&&h.unshift(o[fs]),s.message=function z(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let D=o[y];p.push(y+":"+("string"==typeof D?JSON.stringify(D):pe(D)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Fi,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Ii]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{dr(p),ai(h)}}resolveInjectorInitializers(){const o=ai(this),u=dr(void 0);try{const d=this.get(W_.multi,We,ut.Self);for(const h of d)h()}finally{ai(o),dr(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(pe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(o){let u=vl(o=q(o))?o:q(o&&o.provide);const d=function pC(s){return Y_(s)?wl(void 0,s.useValue):wl(Jw(s),Co)}(o);if(vl(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=wl(void 0,Co,!0),h.factory=()=>Nt(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===Co&&(u.value=hC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function X_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Q_(s){const o=Gn(s),u=null!==o?o.factory:oo(s);if(null!==u)return u;if(s instanceof un)throw new ee(204,!1);if(s instanceof Function)return function fC(s){const o=s.length;if(o>0)throw ua(o,"?"),new ee(204,!1);const u=function Zr(s){const o=s&&(s[Pi]||s[bn]);if(o){const u=function ki(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ee(204,!1)}function Jw(s,o,u){let d;if(vl(s)){const h=q(s);return oo(h)||Q_(h)}if(Y_(s))d=()=>q(s.useValue);else if(function dC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Nt(s.deps||[]));else if(function Yw(s){return!(!s||!s.useExisting)}(s))d=()=>Le(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function gC(s){return!!s.deps}(s))return oo(h)||Q_(h);d=()=>new h(...Nt(s.deps))}return d}function wl(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function oh(s,o){for(const u of s)Array.isArray(u)?oh(u,o):u&&Oe(u)?oh(u.\u0275providers,o):o(u)}class Bp{}class Xw{}class Vp{resolveComponentFactory(o){throw function mC(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let qu=(()=>{class s{}return s.NULL=new Vp,s})();function tD(){return So(sr(),ue())}function So(s,o){return new Ta(Ir(s,o))}let Ta=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=tD,s})();function nD(s){return s instanceof Ta?s.nativeElement:s}class Zu{}let rD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _C(){const s=ue(),u=Cr(sr().index,s);return(ui(u)?u:s)[11]}(),s})(),yC=(()=>{class s{}return s.\u0275prov=rt({token:s,providedIn:"root",factory:()=>null}),s})();class iD{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const sD=new iD("15.1.3"),ey={};function ty(s){return s.ngOriginalError}class ah{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&ty(o);for(;u&&ty(u);)u=ty(u);return u||null}}function Ia(s){return s instanceof Function?s():s}function dD(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const hD="ng-template";function fD(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==dD(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function $p(s){return 4===s.type&&s.value!==hD}function IC(s,o,u){return o===(4!==s.type||u?s.value:hD)}function pD(s,o,u){let d=4;const h=s.attrs||[],p=function jp(s){for(let o=0;o<s.length;o++)if(js(s[o]))return o;return s.length}(h);let y=!1;for(let D=0;D<o.length;D++){const T=o[D];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!IC(s,T,u)||""===T&&1===o.length){if(ti(d))return!1;y=!0}}else{const C=8&d?T:o[++D];if(8&d&&null!==s.attrs){if(!fD(s.attrs,C,u)){if(ti(d))return!1;y=!0}continue}const R=ny(8&d?"class":T,h,$p(s),u);if(-1===R){if(ti(d))return!1;y=!0;continue}if(""!==C){let G;G=R>p?"":h[R+1].toLowerCase();const J=8&d?G:null;if(J&&-1!==dD(J,C,0)||2&d&&C!==G){if(ti(d))return!1;y=!0}}}}else{if(!y&&!ti(d)&&!ti(T))return!1;if(y&&ti(T))continue;y=!1,d=T|1&d}}return ti(d)||y}function ti(s){return 0==(1&s)}function ny(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Hp(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function gD(s,o,u=!1){for(let d=0;d<o.length;d++)if(pD(s,o[d],u))return!0;return!1}function _D(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function ry(s,o){return s?":not("+o.trim()+")":o}function CC(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const D=s[++u];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ti(y)&&(o+=ry(p,h),h=""),d=y,p=p||!ti(d);u++}return""!==h&&(o+=ry(p,h)),o}const Vt={};function yD(s){lh(Wt(),ue(),Xr()+s,!1)}function lh(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Td(o,p,u)}else{const p=s.preOrderHooks;null!==p&&co(o,p,0,u)}ys(u)}function Ao(s,o=null,u=null,d){const h=ED(s,o,u,d);return h.resolveInjectorInitializers(),h}function ED(s,o=null,u=null,d,h=new Set){const p=[u||We,uC(s)];return d=d||("object"==typeof s?void 0:pe(s)),new Kw(p,o||Lp(),d||null,h)}let El=(()=>{class s{static create(u,d){if(Array.isArray(u))return Ao({name:""},d,u,"");{const h=u.name??"";return Ao({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Xn,s.NULL=new Hu,s.\u0275prov=rt({token:s,providedIn:"any",factory:()=>Le(Zw)}),s.__NG_ELEMENT_ID__=-1,s})();function Qu(s,o=ut.Default){const u=ue();return null===u?Le(s,o):Tu(sr(),u,q(s),o)}function MD(){throw new Error("invalid")}function xD(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const y=s.data[p];Kf(u[d]),y.contentQueries(2,o[p],p)}}}function ay(s,o,u,d,h,p,y,D,T,C,A){const R=o.blueprint.slice();return R[0]=h,R[2]=76|d,(null!==A||s&&1024&s[2])&&(R[2]|=1024),Hf(R),R[3]=R[15]=s,R[8]=u,R[10]=y||s&&s[10],R[11]=D||s&&s[11],R[12]=T||s&&s[12]||null,R[9]=C||s&&s[9]||null,R[6]=p,R[20]=function ns(){return Wd++}(),R[21]=A,R[16]=2==o.type?s[16]:R,R}function Xu(s,o,u,d,h){let p=s.data[o];if(null===p)p=ec(s,o,u,d,h),function Zf(){return Ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=Qo();p.injectorIndex=null===y?-1:y.injectorIndex}return ts(p,!0),p}function ec(s,o,u,d,h){const p=h_(),y=gu(),T=s.data[o]=function Ss(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T)),T}function dh(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Wp(s,o,u){Jf(o);try{const d=s.viewQuery;null!==d&&Kp(1,d,u);const h=s.template;null!==h&&nc(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xD(s,o),s.staticViewQueries&&Kp(2,s.viewQuery,u);const p=s.components;null!==p&&function jC(s,o){for(let u=0;u<o.length;u++)YC(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,y_()}}function tc(s,o,u,d){const h=o[2];if(128!=(128&h)){Jf(o);try{Hf(o),function Xo(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&nc(s,o,u,2,d);const y=3==(3&h);if(y){const C=s.preOrderCheckHooks;null!==C&&Td(o,C,null)}else{const C=s.preOrderHooks;null!==C&&co(o,C,0,null),ea(o,0)}if(function ZC(s){for(let o=Nr(s);null!==o;o=Gi(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d];512&h[2]||el(h[3],1),h[2]|=512}}}(o),function qC(s){for(let o=Nr(s);null!==o;o=Gi(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];lo(d)&&tc(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&xD(s,o),y){const C=s.contentCheckHooks;null!==C&&Td(o,C)}else{const C=s.contentHooks;null!==C&&co(o,C,1),ea(o,1)}!function $C(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)ys(~h);else{const p=h,y=u[++d],D=u[++d];Yf(y,p),D(2,o[p])}}}finally{ys(-1)}}(s,o);const D=s.components;null!==D&&function RD(s,o){for(let u=0;u<o.length;u++)wy(s,o[u])}(o,D);const T=s.viewQuery;if(null!==T&&Kp(2,T,d),y){const C=s.viewCheckHooks;null!==C&&Td(o,C)}else{const C=s.viewHooks;null!==C&&co(o,C,2),ea(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,el(o[3],-1))}finally{y_()}}}function nc(s,o,u,d,h){const p=Xr(),y=2&d;try{ys(-1),y&&o.length>22&&lh(s,o,22,!1),u(d,h)}finally{ys(p)}}function qp(s,o,u){if(gs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}function rc(s,o,u){Gf()&&(function No(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;Ya(u)&&function _y(s,o,u){const d=Ir(o,s),h=qt(u),p=s[10],y=Oo(s,ay(s,h,null,u.onPush?32:16,d,o,p,p.createRenderer(d,u),null,null,null));s[o.index]=y}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||fo(u,o),_r(d,o);const y=u.initialInputs;for(let D=h;D<p;D++){const T=s.data[D],C=po(o,s,D,u);_r(C,o),null!==y&&WC(0,D-h,C,T,0,y),mr(T)&&(Cr(u.index,o)[8]=po(o,s,D,u))}}(s,o,u,Ir(u,o)),64==(64&u.flags)&&fy(s,o,u))}function ly(s,o,u=Ir){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],D=-1===y?u(o,s):s[y];s[h++]=D}}}function qt(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=uy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function uy(s,o,u,d,h,p,y,D,T,C){const A=22+d,R=A+h,G=function HC(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Vt);return u}(A,R),J="function"==typeof C?C():C;return G[1]={type:s,blueprint:G,template:u,queries:null,viewQuery:D,declTNode:o,data:G.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:J,incompleteFirstPass:!1}}function pt(s,o,u,d){const h=Ca(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Ey(s).push(d,h.length-1))}function is(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?Tl(u,o,h,p):d.hasOwnProperty(h)&&Tl(u,o,d[h],p)}return u}function Tl(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Mi(s,o,u,d,h,p,y,D){const T=Ir(o,u);let A,C=o.inputs;!D&&null!=C&&(A=C[d])?(Iy(s,u,A,d,h),Ya(o)&&dy(u,o.index)):3&o.type&&(d=function cy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(T,d,h))}function dy(s,o){const u=Cr(o,s);16&u[2]||(u[2]|=32)}function hy(s,o,u,d){let h=!1;if(Gf()){const p=null===d?null:{"":-1},y=function LD(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];if(gD(o,y.selectors,!1))if(d||(d=[]),mr(y))if(null!==y.findHostDirectiveDefs){const D=[];h=h||new Map,y.findHostDirectiveDefs(y,D,h),d.unshift(...D,y),hh(s,o,D.length)}else d.unshift(y),hh(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let D,T;null===y?D=T=null:[D,T]=y,null!==D&&(h=!0,FD(s,o,u,D,p,T)),p&&function gy(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new ee(-301,!1);d.push(o[h],p)}}}(u,d,p)}return u.mergedAttrs=bs(u.mergedAttrs,u.attrs),h}function FD(s,o,u,d,h,p){for(let C=0;C<d.length;C++)Md(fo(u,o),s,d[C].type);!function VD(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let C=0;C<d.length;C++){const A=d[C];A.providersResolver&&A.providersResolver(A)}let y=!1,D=!1,T=dh(s,o,d.length,null);for(let C=0;C<d.length;C++){const A=d[C];u.mergedAttrs=bs(u.mergedAttrs,A.hostAttrs),my(s,u,o,T,A),BD(T,A,h),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const R=A.type.prototype;!y&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!D&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),T++}!function kD(s,o,u){const h=o.directiveEnd,p=s.data,y=o.attrs,D=[];let T=null,C=null;for(let A=o.directiveStart;A<h;A++){const R=p[A],G=u?u.get(R):null,de=G?G.outputs:null;T=is(R.inputs,A,T,G?G.inputs:null),C=is(R.outputs,A,C,de);const _e=null===T||null===y||$p(o)?null:vy(T,A,y);D.push(_e)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=8),T.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=T,o.outputs=C}(s,u,p)}function fy(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,y=function cw(){return Ft.lFrame.currentDirectiveIndex}();try{ys(p);for(let D=d;D<h;D++){const T=s.data[D],C=o[D];Us(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&py(T,C)}}finally{ys(-1),Us(y)}}function py(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hh(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function BD(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;mr(o)&&(u[""]=s)}}function my(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=oo(h.type)),y=new yu(p,mr(h),Qu);s.blueprint[d]=y,u[d]=y,function GC(s,o,u,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~o.index;(function zC(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=D&&y.push(D),y.push(u,d,p)}}(s,o,d,dh(s,u,h.hostVars,Vt),h)}function yy(s,o,u,d,h,p,y){if(null==p)s.removeAttribute(o,h,u);else{const D=null==y?me(p):y(p,d||"",h);s.setAttribute(o,h,D,u)}}function WC(s,o,u,d,h,p){const y=p[o];if(null!==y){const D=d.setInput;for(let T=0;T<y.length;){const C=y[T++],A=y[T++],R=y[T++];null!==D?d.setInput(u,R,C,A):u[A]=R}}}function vy(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let D=0;D<y.length;D+=2)if(y[D]===o){d.push(p,y[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function by(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function wy(s,o){const u=Cr(o,s);if(lo(u)){const d=u[1];48&u[2]?tc(d,u,d.template,u[8]):u[5]>0&&Dy(u)}}function Dy(s){for(let d=Nr(s);null!==d;d=Gi(d))for(let h=10;h<d.length;h++){const p=d[h];if(lo(p))if(512&p[2]){const y=p[1];tc(y,p,y.template,p[8])}else p[5]>0&&Dy(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Cr(u[d],s);lo(h)&&h[5]>0&&Dy(h)}}function YC(s,o){const u=Cr(o,s),d=u[1];(function ic(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Wp(d,u,u[8])}function Oo(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Zp(s){for(;s;){s[2]|=32;const o=dt(s);if(iw(s)&&!o)return s;s=o}return null}function Yp(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{tc(s,o,s.template,u)}catch(y){throw d&&UD(o,y),y}finally{h.end&&h.end()}}function Kp(s,o,u){Kf(0),o(s,u)}function Ca(s){return s[7]||(s[7]=[])}function Ey(s){return s.cleanup||(s.cleanup=[])}function UD(s,o){const u=s[9],d=u?u.get(ah,null):null;d&&d.handleError(o)}function Iy(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],D=u[p++],T=o[y],C=s.data[y];null!==C.setInput?C.setInput(T,h,d,D):T[D]=h}}function hi(s,o,u){const d=Jo(o,s);pa(s[11],d,u)}function sc(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const D=o[y];"number"==typeof D?p=D:1==p?h=Re(h,D):2==p&&(d=Re(d,D+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function oc(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(Wn(p)),ci(p))for(let D=10;D<p.length;D++){const T=p[D],C=T[1].firstChild;null!==C&&oc(T[1],T,C,d)}const y=u.type;if(8&y)oc(s,o,u.child,d);else if(32&y){const D=ge(u,o);let T;for(;T=D();)d.push(T)}else if(16&y){const D=xw(o,u);if(Array.isArray(D))d.push(...D);else{const T=dt(o[16]);oc(T[1],T,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Sa{get rootNodes(){const o=this._lView,u=o[1];return oc(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ci(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(x_(o,d),Fd(u,d))}this._attachedToViewContainer=!1}Aw(this._lView[1],this._lView)}onDestroy(o){pt(this._lView[1],this._lView,null,o)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jd(s,o){pl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=o}}class Cy extends Sa{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Yp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Jp extends qu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Jt(o);return new Il(u,this.ngModule)}}function Qp(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Sy{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=wt(d);const h=this.injector.get(o,ey,d);return h!==ey||u===ey?h:this.parentInjector.get(o,u,d)}}class Il extends Xw{get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function SC(s){return s.map(CC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof bl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Sy(o,p):o,D=y.get(Zu,null);if(null===D)throw new ee(407,!1);const T=y.get(yC,null),C=D.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=d?function W(s,o,u){return s.selectRootElement(o,u===Ie.ShadowDom)}(C,d,this.componentDef.encapsulation):ga(C,A,function fh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),G=this.componentDef.onPush?288:272,J=uy(0,null,null,1,0,null,null,null,null,null),de=ay(null,J,null,G,null,null,D,C,T,y,null);let _e,Ze;Jf(de);try{const et=this.componentDef;let tt,ye=null;et.findHostDirectiveDefs?(tt=[],ye=new Map,et.findHostDirectiveDefs(et,tt,ye),tt.push(et)):tt=[et];const Rt=function KC(s,o){const u=s[1];return s[22]=o,Xu(u,22,2,"#host",null)}(de,R),Cn=function JC(s,o,u,d,h,p,y,D){const T=h[1];!function Ny(s,o,u,d){for(const h of s)o.mergedAttrs=bs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(sc(o,o.mergedAttrs,!0),null!==u&&ba(d,u,o))}(d,s,o,y);const C=p.createRenderer(o,u),A=ay(h,qt(u),null,u.onPush?32:16,h[s.index],s,p,C,D||null,null,null);return T.firstCreatePass&&hh(T,s,d.length-1),Oo(h,A),h[s.index]=A}(Rt,R,et,tt,de,D,C);Ze=jf(J,22),R&&function Oy(s,o,u,d){if(d)vu(s,u,["ng-version",sD.full]);else{const{attrs:h,classes:p}=function AC(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!ti(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&vu(s,u,h),p&&p.length>0&&Ap(s,u,p.join(" "))}}(C,et,R,d),void 0!==u&&function $D(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(Ze,this.ngContentSelectors,u),_e=function QC(s,o,u,d,h,p){const y=sr(),D=h[1],T=Ir(y,h);FD(D,h,y,u,null,d);for(let A=0;A<u.length;A++)_r(po(h,D,y.directiveStart+A,y),h);fy(D,h,y),T&&_r(T,h);const C=po(h,D,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=C,null!==p)for(const A of p)A(C,o);return qp(D,y,s),C}(Cn,et,tt,ye,de,[jD]),Wp(J,de,null)}finally{y_()}return new Ay(this.componentType,_e,So(Ze,de),de,Ze)}}class Ay extends Bp{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new Cy(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;Iy(p[1],p,h,o,u),dy(p,this._tNode.index)}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function jD(){const s=sr();nl(ue()[1],s)}function My(s){let o=function HD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(mr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ee(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Ry(s.inputs),y.declaredInputs=Ry(s.declaredInputs),y.outputs=Ry(s.outputs);const D=h.hostBindings;D&&XC(s,D);const T=h.viewQuery,C=h.contentQueries;if(T&&ky(s,T),C&&Py(s,C),Ue(s.inputs,h.inputs),Ue(s.declaredInputs,h.declaredInputs),Ue(s.outputs,h.outputs),mr(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const D=p[y];D&&D.ngInherit&&D(s),D===My&&(u=!1)}}o=Object.getPrototypeOf(o)}!function xy(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=bs(h.hostAttrs,u=bs(u,h.hostAttrs))}}(d)}function Ry(s){return s===ct?{}:s===We?[]:s}function ky(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function Py(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function XC(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Xp=null;function Mo(){if(!Xp){const s=At.Symbol;if(s&&s.iterator)Xp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Xp=d)}}}return Xp}function ac(s){return!!Uy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Mo()in s)}function Uy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ys(s,o,u){return s[o]=u}function Or(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function lc(s,o,u,d){const h=Or(s,o,u);return Or(s,o+1,d)||h}function ph(s,o,u,d){const h=ue();return Or(h,uo(),o)&&(Wt(),function Zs(s,o,u,d,h,p){const y=Ir(s,o);yy(o[11],y,p,s.value,u,d,h)}(cn(),h,s,o,u,d)),ph}function uc(s,o,u,d){return Or(s,uo(),u)?o+me(u)+d:Vt}function cc(s,o,u,d,h,p){const D=lc(s,di(),u,h);return Vs(2),D?o+me(u)+d+me(h)+p:Vt}function QD(s,o,u,d,h,p,y,D){const T=ue(),C=Wt(),A=s+22,R=C.firstCreatePass?function Gy(s,o,u,d,h,p,y,D,T){const C=o.consts,A=Xu(o,s,4,y||null,_s(C,D));hy(o,u,A,_s(C,T)),nl(o,A);const R=A.tViews=uy(2,A,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C);return null!==o.queries&&(o.queries.template(o,A),R.queries=o.queries.embeddedTView(A)),A}(A,C,T,o,u,d,h,p,y):C.data[A];ts(R,!1);const G=T[11].createComment("");Sp(C,T,G,R),_r(G,T),Oo(T,T[A]=by(G,T,G,R)),ou(R)&&rc(C,T,R),null!=y&&ly(T,R,D)}function ng(s){return ao(function qf(){return Ft.lFrame.contextLView}(),22+s)}function XD(s,o,u){const d=ue();return Or(d,uo(),o)&&Mi(Wt(),cn(),d,s,o,d[11],u,!1),XD}function e1(s,o,u,d,h){const y=h?"class":"style";Iy(s,u,o.inputs[y],y,d)}function zy(s,o,u,d){const h=ue(),p=Wt(),y=22+s,D=h[11],T=h[y]=ga(D,o,function yw(){return Ft.lFrame.currentNamespace}()),C=p.firstCreatePass?function Sx(s,o,u,d,h,p,y){const D=o.consts,C=Xu(o,s,2,h,_s(D,p));return hy(o,u,C,_s(D,y)),null!==C.attrs&&sc(C,C.attrs,!1),null!==C.mergedAttrs&&sc(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,p,h,0,o,u,d):p.data[y];return ts(C,!0),ba(D,T,C),32!=(32&C.flags)&&Sp(p,h,T,C),0===function Dd(){return Ft.lFrame.elementDepthCount}()&&_r(T,h),function l_(){Ft.lFrame.elementDepthCount++}(),ou(C)&&(rc(p,h,C),qp(p,C,h)),null!==d&&ly(h,C),zy}function Nl(){let s=sr();gu()?Wf():(s=s.parent,ts(s,!1));const o=s;!function Ed(){Ft.lFrame.elementDepthCount--}();const u=Wt();return u.firstCreatePass&&(nl(u,s),gs(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function b_(s){return 0!=(8&s.flags)}(o)&&e1(u,o,ue(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function $s(s){return 0!=(16&s.flags)}(o)&&e1(u,o,ue(),o.stylesWithoutHost,!1),Nl}function t1(s,o,u,d){return zy(s,o,u,d),Nl(),t1}function rg(s,o,u){const d=ue(),h=Wt(),p=s+22,y=h.firstCreatePass?function oS(s,o,u,d,h){const p=o.consts,y=_s(p,d),D=Xu(o,s,8,"ng-container",y);return null!==y&&sc(D,y,!0),hy(o,u,D,_s(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,d,o,u):h.data[p];ts(y,!0);const D=d[p]=d[11].createComment("");return Sp(h,d,D,y),_r(D,d),ou(y)&&(rc(h,d,y),qp(h,y,d)),null!=u&&ly(d,y),rg}function ig(){let s=sr();const o=Wt();return gu()?Wf():(s=s.parent,ts(s,!1)),o.firstCreatePass&&(nl(o,s),gs(s)&&o.queries.elementEnd(s)),ig}function r1(){return ue()}function Wy(s){return!!s&&"function"==typeof s.then}function i1(s){return!!s&&"function"==typeof s.subscribe}const s1=i1;function qy(s,o,u,d){const h=ue(),p=Wt(),y=sr();return function Na(s,o,u,d,h,p,y){const D=ou(d),C=s.firstCreatePass&&Ey(s),A=o[8],R=Ca(o);let G=!0;if(3&d.type||y){const _e=Ir(d,o),Ze=y?y(_e):_e,et=R.length,tt=y?Rt=>y(Wn(Rt[d.index])):d.index;let ye=null;if(!y&&D&&(ye=function sg(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const D=o[7],T=h[p+2];return D.length>T?D[T]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=p,ye.__ngLastListenerFn__=p,G=!1;else{p=l1(d,o,A,p,!1);const Rt=u.listen(Ze,h,p);R.push(p,Rt),C&&C.push(h,tt,et,et+1)}}else p=l1(d,o,A,p,!1);const J=d.outputs;let de;if(G&&null!==J&&(de=J[h])){const _e=de.length;if(_e)for(let Ze=0;Ze<_e;Ze+=2){const Cn=o[de[Ze]][de[Ze+1]].subscribe(p),Sn=R.length;R.push(p,Cn),C&&C.push(h,d.index,Sn,-(Sn+1))}}}(p,h,h[11],y,s,o,d),qy}function a1(s,o,u,d){try{return!1!==u(d)}catch(h){return UD(s,h),!1}}function l1(s,o,u,d,h){return function p(y){if(y===Function)return d;Zp(s.componentOffset>-1?Cr(s.index,o):o);let T=a1(o,0,d,y),C=p.__ngNextListenerFn__;for(;C;)T=a1(o,0,C,y)&&T,C=C.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function u1(s=1){return function pw(s){return(Ft.lFrame.contextLView=function $I(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ft.lFrame.contextLView))[8]}(s)}function aS(s,o){let u=null;const d=function mD(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?gD(s,p,!0):_D(d,p))return h}else u=h}return u}function c1(s){const o=ue()[16][6];if(!o.projection){const d=o.projection=ua(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?aS(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function d1(s,o=0,u){const d=ue(),h=Wt(),p=Xu(h,22+s,16,null,u||null);null===p.projection&&(p.projection=o),Wf(),32!=(32&p.flags)&&function WI(s,o,u){L_(o[11],0,o,u,ma(s,u,o),R_(u.parent||o[6],u,o))}(h,d,p)}function h1(s,o,u){return pc(s,"",o,"",u),h1}function pc(s,o,u,d,h){const p=ue(),y=uc(p,o,u,d);return y!==Vt&&Mi(Wt(),cn(),p,s,y,p[11],h,!1),pc}function ag(s,o){return s<<17|o<<2}function Oa(s){return s>>17&32767}function As(s){return 2|s}function Ol(s){return(131068&s)>>2}function gh(s,o){return-131069&s|o<<2}function lg(s){return 1|s}function v1(s,o,u,d,h){const p=s[u+1],y=null===o;let D=d?Oa(p):Ol(p),T=!1;for(;0!==D&&(!1===T||y);){const A=s[D+1];Ml(s[D],o)&&(T=!0,s[D+1]=d?lg(A):As(A)),D=d?Oa(A):Ol(A)}T&&(s[u+1]=d?As(p):lg(p))}function Ml(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Zt(s,o)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ug(s){return s.substring(Yn.key,Yn.keyEnd)}function cg(s,o){const u=Yn.textEnd;return u===o?-1:(o=Yn.keyEnd=function dS(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Yn.key=o,u),Ma(s,o,u))}function Ma(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function hg(s,o,u){return Os(s,o,u,!1),hg}function mh(s,o){return Os(s,o,null,!0),mh}function fg(s){Ms(Sr,Ns,s,!0)}function Ns(s,o){for(let u=function Ky(s){return function dg(s){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=s.length}(s),cg(s,Ma(s,0,Yn.textEnd))}(o);u>=0;u=cg(o,u))Sr(s,ug(o),!0)}function Os(s,o,u,d){const h=ue(),p=Wt(),y=Vs(2);p.firstUpdatePass&&ev(p,s,y,d),o!==Vt&&Or(h,y,o)&&A1(p,p.data[Xr()],h,h[11],s,h[y+1]=function fS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(Is(s)))),s}(o,u),d,y)}function Ms(s,o,u,d){const h=Wt(),p=Vs(2);h.firstUpdatePass&&ev(h,null,p,d);const y=ue();if(u!==Vt&&Or(y,p,u)){const D=h.data[Xr()];if(iv(D,d)&&!pg(h,p)){let T=d?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(u=Re(T,u||"")),e1(h,D,y,u,d)}else!function S1(s,o,u,d,h,p,y,D){h===Vt&&(h=We);let T=0,C=0,A=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==A||null!==R;){const G=T<h.length?h[T+1]:void 0,J=C<p.length?p[C+1]:void 0;let _e,de=null;A===R?(T+=2,C+=2,G!==J&&(de=R,_e=J)):null===R||null!==A&&A<R?(T+=2,de=A):(C+=2,de=R,_e=J),null!==de&&A1(s,o,u,d,de,_e,y,D),A=T<h.length?h[T]:null,R=C<p.length?p[C]:null}}(h,D,y,y[11],y[p+1],y[p+1]=function rv(s,o,u){if(null==u||""===u)return We;const d=[],h=Is(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,p)}}function pg(s,o){return o>=s.expandoStartIndex}function ev(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Xr()],y=pg(s,u);iv(p,d)&&null===o&&!y&&(o=!1),o=function tv(s,o,u,d){const h=function tl(s){const o=Ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=yh(u=_h(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=_h(h,s,o,u,d),null===p){let T=function hS(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Ol(d))return s[Oa(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=_h(null,s,o,T[1],d),T=yh(T,o.attrs,d),function nv(s,o,u,d){s[Oa(u?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else p=function I1(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=yh(d,s[p].hostAttrs,u);return yh(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function uS(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,D=Oa(y),T=Ol(y);s[d]=u;let A,C=!1;if(Array.isArray(u)?(A=u[1],(null===A||Zt(u,A)>0)&&(C=!0)):A=u,h)if(0!==T){const G=Oa(s[D+1]);s[d+1]=ag(G,D),0!==G&&(s[G+1]=gh(s[G+1],d)),s[D+1]=function gc(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=ag(D,0),0!==D&&(s[D+1]=gh(s[D+1],d)),D=d;else s[d+1]=ag(T,0),0===D?D=d:s[T+1]=gh(s[T+1],d),T=d;C&&(s[d+1]=As(s[d+1])),v1(s,A,d,!0),v1(s,A,d,!1),function cS(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Zt(p,o)>=0&&(u[d+1]=lg(u[d+1]))}(o,A,s,d,p),y=ag(D,T),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}function _h(s,o,u,d,h){let p=null;const y=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<y&&(p=o[D],d=yh(d,p.hostAttrs,h),p!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function yh(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Sr(s,y,!!u||o[++p]))}return void 0===s?null:s}function A1(s,o,u,d,h,p,y,D){if(!(3&o.type))return;const T=s.data,C=T[D+1],A=function lS(s){return 1==(1&s)}(C)?N1(T,o,u,h,Ol(C),y):void 0;gg(A)||(gg(p)||function Ax(s){return 2==(2&s)}(C)&&(p=N1(T,null,u,h,D,y)),function nh(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:Oi.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Oi.Important),s.setStyle(u,d,h,p))}}(d,y,Jo(Xr(),u),h,p))}function N1(s,o,u,d,h,p){const y=null===o;let D;for(;h>0;){const T=s[h],C=Array.isArray(T),A=C?T[1]:T,R=null===A;let G=u[h+1];G===Vt&&(G=R?We:void 0);let J=R?hp(G,d):A===d?G:void 0;if(C&&!gg(J)&&(J=hp(T,d)),gg(J)&&(D=J,y))return D;const de=s[h+1];h=y?Oa(de):Ol(de)}if(null!==o){let T=p?o.residualClasses:o.residualStyles;null!=T&&(D=hp(T,d))}return D}function gg(s){return void 0!==s}function iv(s,o){return 0!=(s.flags&(o?8:16))}function O1(s,o=""){const u=ue(),d=Wt(),h=s+22,p=d.firstCreatePass?Xu(d,h,1,o,null):d.data[h],y=u[h]=Eo(u[11],o);Sp(d,u,y,p),ts(p,!1)}function vh(s){return mg("",s,""),vh}function mg(s,o,u){const d=ue(),h=uc(d,s,o,u);return h!==Vt&&hi(d,Xr(),h),mg}function _g(s,o,u,d,h){const p=ue(),y=cc(p,s,o,u,d,h);return y!==Vt&&hi(p,Xr(),y),_g}function Dg(s,o,u,d,h){Ms(Sr,Ns,cc(ue(),s,o,u,d,h),!0)}function Eg(s,o,u){const d=ue();return Or(d,uo(),o)&&Mi(Wt(),cn(),d,s,o,d[11],u,!0),Eg}const xl=void 0;var dv=["en",[["a","p"],["AM","PM"],xl],[["AM","PM"],xl,xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xl,"{1} 'at' {0}",xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TS(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let mc={};function hv(s){const o=function IS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=H1(o);if(u)return u;const d=o.split("-")[0];if(u=H1(d),u)return u;if("en"===d)return dv;throw new ee(701,!1)}function j1(s){return hv(s)[Et.PluralCase]}function H1(s){return s in mc||(mc[s]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[s]),mc[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const CS=["zero","one","two","few","many"],_c="en-US",yc={marker:"element"},Tg={marker:"ICU"};var Mn=(()=>((Mn=Mn||{})[Mn.SHIFT=2]="SHIFT",Mn[Mn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Mn[Mn.COMMENT=2]="COMMENT",Mn))();let Ig=_c;function z1(s){(function Qe(s,o){null==s&&Je(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Ig=s.toLowerCase().replace(/_/g,"-"))}function W1(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?k_(s,0,u):Wn(u[h])}function Cg(s,o,u,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,D=null;if(3&o.type||(D=y,y=h),null!==y&&-1===o.componentOffset)for(let T=1;T<p.length;T++)Bu(s,y,u[p[T]],D,!1)}}function q1(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];Sg(d)||OS(d,o)&&null===fv(d)&&MS(d,o.index)}}function Sg(s){return!(64&s.type)}function OS(s,o){return Sg(o)||s.index>o.index}function fv(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function MS(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Mw(W1,Cg),s.insertBeforeIndex=o)}function Rl(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function RS(s,o,u){const d=ec(s,u,64,null,null);return q1(o,d),d}function vc(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Ag(s){return s>>>17}function gv(s){return(131070&s)>>>1}let kl=0,wh=0;function yv(s,o,u,d){const h=u[11];let y,p=null;for(let D=0;D<o.length;D++){const T=o[D];if("string"==typeof T){const C=o[++D];null===u[C]&&(u[C]=Eo(h,T))}else if("number"==typeof T)switch(1&T){case 0:const C=Ag(T);let A,R;if(null===p&&(p=C,y=_a(h,d)),C===p?(A=d,R=y):(A=null,R=Wn(u[C])),null!==R){const _e=gv(T);Bu(h,R,u[_e],A,!1);const et=Rl(s,_e);if(null!==et&&"object"==typeof et){const tt=vc(et,u);null!==tt&&yv(s,et.create[tt],u,u[et.anchorIdx])}}break;case 1:const J=o[++D],de=o[++D];yy(h,Jo(T>>>1,u),null,null,J,de,null)}else switch(T){case Tg:const C=o[++D],A=o[++D];null===u[A]&&_r(u[A]=Kd(h,C),u);break;case yc:const R=o[++D],G=o[++D];null===u[G]&&_r(u[G]=ga(h,R,null),u)}}}function vv(s,o,u,d,h){for(let p=0;p<u.length;p++){const y=u[p],D=u[++p];if(y&h){let T="";for(let C=p+1;C<=p+D;C++){const A=u[C];if("string"==typeof A)T+=A;else if("number"==typeof A)if(A<0)T+=me(o[d-A]);else{const R=A>>>2;switch(3&A){case 1:const G=u[++C],J=u[++C],de=s.data[R];"string"==typeof de?yy(o[11],o[R],null,de,G,T,J):Mi(s,de,o,G,T,o[11],J,!1);break;case 0:const _e=o[R];null!==_e&&pa(o[11],_e,T);break;case 2:Z1(s,Rl(s,R),o,T);break;case 3:Dh(s,Rl(s,R),d,o)}}}}else{const T=u[p+1];if(T>0&&3==(3&T)){const A=Rl(s,T>>>2);o[A.currentCaseLViewIndex]<0&&Dh(s,A,d,o)}}p+=D}}function Dh(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=kl;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),vv(s,d,o.update[h],u,p)}}function Z1(s,o,u,d){const h=function Ro(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function G1(s,o){const u=j1(o)(parseInt(s,10)),d=CS[u];return void 0!==d?d:"other"}(o,function NS(){return Ig}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(vc(o,u)!==h&&(bv(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[o.anchorIdx];y&&yv(s,o.create[h],u,y)}}function bv(s,o,u){let d=vc(o,u);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const D=Jo(y,u);null!==D&&va(u[11],D)}else bv(s,Rl(s,~y),u)}}}function wv(){const s=[];let u,d,o=-1;function p(D,T){o=0;const C=vc(D,T);d=null!==C?D.remove[C]:We}function y(){if(o<d.length){const D=d[o++];return D>0?u[D]:(s.push(o,d),p(u[1].data[~D],u),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(D,T){for(u=T;s.length;)s.pop();return p(D.value,T),y}}const Ng=/\ufffd(\d+):?\d*\ufffd/gi,Px=/\ufffd(\d+)\ufffd/,FS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fx=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Lx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,LS=/\uE500/g;function J1(s,o,u,d,h,p,y){const D=dh(s,d,1,null);let T=D<<Mn.SHIFT,C=Qo();o===C&&(C=null),null===C&&(T|=Mn.APPEND_EAGERLY),y&&(T|=Mn.COMMENT,function Ke(s){void 0===Z&&(Z=s())}(wv)),h.push(T,null===p?"":p);const A=ec(s,D,y?32:1,null===p?"":p,null);q1(u,A);const R=A.index;return ts(A,!1),null!==C&&o!==C&&function pv(s,o){let u=s.insertBeforeIndex;null===u?(Mw(W1,Cg),u=s.insertBeforeIndex=[null,o]):(function Me(s,o,u){s!=o&&Je(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(C,R),A}function VS(s,o,u,d,h,p,y){const D=y.match(Ng),T=J1(s,o,u,p,d,D?null:y,!1);D&&Eh(h,y,T.index,null,0,null)}function Eh(s,o,u,d,h,p){const y=s.length,D=y+1;s.push(null,null);const T=y+2,C=o.split(Ng);let A=0;for(let R=0;R<C.length;R++){const G=C[R];if(1&R){const J=h+parseInt(G,10);s.push(-1-J),A|=bc(J)}else""!==G&&s.push(G)}return s.push(u<<2|(d?1:0)),d&&s.push(d,p),s[y]=A,s[D]=s.length-T,A}function bc(s){return 1<<Math.min(s,31)}function Th(s){let o,p,u="",d=0,h=!1;for(;null!==(o=Fx.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return u+=s.slice(d),u}function Mg(s,o,u,d,h,p){let y=0;const D={type:h.type,currentCaseLViewIndex:dh(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function $x(s,o,u){s.push(bc(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,p),function xS(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,p,D);const T=h.values;for(let C=0;C<T.length;C++){const A=T[C],R=[];for(let G=0;G<A.length;G++){const J=A[G];if("string"!=typeof J){const de=R.push(J)-1;A[G]=`\x3c!--\ufffd${de}\ufffd--\x3e`}}y=Iv(s,D,o,u,d,h.cases[C],A.join(""),R)|y}y&&function jx(s,o,u){s.push(o,1,u<<2|3)}(u,y,p)}function Tv(s){const o=[],u=[];let d=1,h=0;const p=Ih(s=s.replace(FS,function(y,D,T){return d="select"===T?0:1,h=parseInt(D.slice(1),10),""}));for(let y=0;y<p.length;){let D=p[y++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const T=Ih(p[y++]);o.length>u.length&&u.push(T)}return{type:d,mainBinding:h,cases:o,values:u}}function Ih(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const T=s.substring(o,D);FS.test(T)?d.push(Tv(T)):d.push(T),o=D+1}}else{if(0==u.length){const T=s.substring(o,D);d.push(T),o=D+1}u.push("{")}}const y=s.substring(o);return d.push(y),d}function Iv(s,o,u,d,h,p,y,D){const T=[],C=[],A=[];o.cases.push(p),o.create.push(T),o.remove.push(C),o.update.push(A);const G=$_(kw()).getInertBodyElement(y),J=Gw(G)||G;return J?xg(s,o,u,d,T,C,A,J,h,D,0):0}function xg(s,o,u,d,h,p,y,D,T,C,A){let R=0,G=D.firstChild;for(;G;){const J=dh(s,u,1,null);switch(G.nodeType){case Node.ELEMENT_NODE:const de=G,_e=de.tagName.toLowerCase();if(xp.hasOwnProperty(_e)){Ch(h,yc,_e,T,J),s.data[J]=_e;const ye=de.attributes;for(let Rt=0;Rt<ye.length;Rt++){const Cn=ye.item(Rt),Sn=Cn.name.toLowerCase();Cn.value.match(Ng)?ju.hasOwnProperty(Sn)&&Eh(y,Cn.value,J,Cn.name,0,Rp[Sn]?rh:null):Cv(h,J,Cn)}R=xg(s,o,u,d,h,p,y,G,J,C,A+1)|R,Rg(p,J,A)}break;case Node.TEXT_NODE:const Ze=G.textContent||"",et=Ze.match(Ng);Ch(h,null,et?"":Ze,T,J),Rg(p,J,A),et&&(R=Eh(y,Ze,J,null,0,null)|R);break;case Node.COMMENT_NODE:const tt=Px.exec(G.textContent||"");if(tt){const Rt=C[parseInt(tt[1],10)];Ch(h,Tg,"",T,J),Mg(s,u,d,T,Rt,J),Ux(p,J,A)}}G=G.nextSibling}return R}function Rg(s,o,u){0===u&&s.push(o)}function Ux(s,o,u){0===u&&(s.push(~o),s.push(o))}function Ch(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function kS(s,o,u){return s|o<<17|u<<1}(0,d,h))}function Cv(s,o,u){s.push(o<<1|1,u.name,u.value)}function xi(s,o,u=-1){const d=Wt(),h=ue(),p=22+s,y=_s(d.consts,o),D=Qo();d.firstCreatePass&&function K1(s,o,u,d,h,p){const y=Qo(),D=[],T=[],C=[[]];h=function Ev(s,o){if(function wc(s){return-1===s}(o))return Th(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Th(s.substring(u,d))}}(h,p);const A=function Bx(s){return s.replace(LS," ")}(h).split(Lx);for(let R=0;R<A.length;R++){let G=A[R];if(1&R){const J=47===G.charCodeAt(0),_e=(G.charCodeAt(J?1:0),22+Number.parseInt(G.substring(J?2:1)));if(J)C.shift(),ts(Qo(),!1);else{const Ze=RS(s,C[0],_e);C.unshift([]),ts(Ze,!0)}}else{const J=Ih(G);for(let de=0;de<J.length;de++){let _e=J[de];if(1&de){const Ze=_e;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Mg(s,u,T,o,Ze,J1(s,y,C[0],u,D,"",!0).index)}else""!==_e&&VS(s,y,C[0],D,T,u,_e)}}}s.data[d]={create:D,update:T}}(d,null===D?0:D.index,h,p,y,u);const T=d.data[p],A=Ip(d,D===h[6]?null:D,h);(function xo(s,o,u,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],D=o[p],C=(y&Mn.APPEND_EAGERLY)===Mn.APPEND_EAGERLY,A=y>>>Mn.SHIFT;let R=s[A];null===R&&(R=s[A]=(y&Mn.COMMENT)===Mn.COMMENT?h.createComment(D):Eo(h,D)),C&&null!==u&&Bu(h,u,R,d,!1)}})(h,T.create,A,D&&8&D.type?h[D.index]:null),_u(!0)}function eE(s,o,u){xi(s,o,u),function X1(){_u(!1)}()}function Sh(s){return function _v(s){s&&(kl|=1<<Math.min(wh,31)),wh++}(Or(ue(),uo(),s)),Sh}function Dc(s){!function PS(s,o,u){if(wh>0){const d=s.data[u];vv(s,o,Array.isArray(d)?d:d.update,di()-wh-1,kl)}kl=0,wh=0}(Wt(),ue(),s+22)}function nE(s,o,u,d,h){if(s=q(s),Array.isArray(s))for(let p=0;p<s.length;p++)nE(s[p],o,u,d,h);else{const p=Wt(),y=ue();let D=vl(s)?s:q(s.provide),T=Jw(s);const C=sr(),A=1048575&C.providerIndexes,R=C.directiveStart,G=C.providerIndexes>>20;if(vl(s)||!s.multi){const J=new yu(T,h,Qu),de=Rs(D,o,h?A:A+G,R);-1===de?(Md(fo(C,y),p,D),Sv(p,s,o.length),o.push(D),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),u.push(J),y.push(J)):(u[de]=J,y[de]=J)}else{const J=Rs(D,o,A+G,R),de=Rs(D,o,A,A+G),Ze=de>=0&&u[de];if(h&&!Ze||!h&&!(J>=0&&u[J])){Md(fo(C,y),p,D);const et=function Pg(s,o,u,d,h){const p=new yu(s,u,Qu);return p.multi=[],p.index=o,p.componentProviders=0,rE(p,h,d&&!u),p}(h?Av:gt,u.length,h,d,T);!h&&Ze&&(u[de].providerFactory=et),Sv(p,s,o.length,0),o.push(D),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),u.push(et),y.push(et)}else Sv(p,s,J>-1?J:de,rE(u[h?de:J],T,!h&&d));!h&&d&&Ze&&u[de].componentProviders++}}}function Sv(s,o,u,d){const h=vl(o),p=function K_(s){return!!s.useClass}(o);if(h||p){const T=(p?q(o.useClass):o).prototype.ngOnDestroy;if(T){const C=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=C.indexOf(u);-1===A?C.push(u,[d,T]):C[A+1].push(d,T)}else C.push(u,T)}}}function rE(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Rs(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function gt(s,o,u,d){return xt(this.multi,[])}function Av(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=po(u,u[1],this.providerFactory.index,d);p=D.slice(0,y),xt(h,p);for(let T=y;T<D.length;T++)p.push(D[T])}else p=[],xt(h,p);return p}function xt(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Ah(s,o=[]){return u=>{u.providersResolver=(d,h)=>function xs(s,o,u){const d=Wt();if(d.firstCreatePass){const h=mr(s);nE(u,d.data,d.blueprint,h,!0),nE(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Ks{}class iE{}function Nv(s,o){return new sE(s,o??null)}class sE extends Ks{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jp(this);const d=Br(o);this._bootstrapComponents=Ia(d.bootstrap),this._r3Injector=ED(o,u,[{provide:Ks,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ov extends iE{constructor(o){super(),this.moduleType=o}create(o){return new sE(this.moduleType,o)}}class ni extends Ks{constructor(o,u,d){super(),this.componentFactoryResolver=new Jp(this),this.instance=null;const h=new Kw([...o,{provide:Ks,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],u||Lp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ec(s,o,u=null){return new ni(s,o,u).injector}let jr=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Gu(0,u.type),h=d.length>0?Ec([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rt({token:s,providedIn:"environment",factory:()=>new s(Le(bl))}),s})();function ko(s){s.getStandaloneInjector=o=>o.get(jr).getOrCreateStandaloneInjector(s)}function Fv(s,o,u){const d=Vr()+s,h=ue();return h[d]===Vt?Ys(h,d,u?o.call(u):o()):function eg(s,o){return s[o]}(h,d)}function lE(s,o,u,d){return uE(ue(),Vr(),s,o,u,d)}function Lv(s,o,u,d,h){return Ic(ue(),Vr(),s,o,u,d,h)}function Mh(s,o,u,d,h,p){return cE(ue(),Vr(),s,o,u,d,h,p)}function Tc(s,o){const u=s[o];return u===Vt?void 0:u}function uE(s,o,u,d,h,p){const y=o+u;return Or(s,y,h)?Ys(s,y+1,p?d.call(p,h):d(h)):Tc(s,y+1)}function Ic(s,o,u,d,h,p,y){const D=o+u;return lc(s,D,h,p)?Ys(s,D+2,y?d.call(y,h,p):d(h,p)):Tc(s,D+2)}function cE(s,o,u,d,h,p,y,D){const T=o+u;return function jy(s,o,u,d,h){const p=lc(s,o,u,d);return Or(s,o+2,h)||p}(s,T,h,p,y)?Ys(s,T+3,D?d.call(D,h,p,y):d(h,p,y)):Tc(s,T+3)}function hE(s,o){const u=Wt();let d;const h=s+22;u.firstCreatePass?(d=function Vg(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=oo(d.type)),y=dr(Qu);try{const D=Hs(!1),T=p();return Hs(D),function sS(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,ue(),h,T),T}finally{dr(y)}}function jv(s,o,u){const d=s+22,h=ue(),p=ao(h,d);return Bl(h,d)?uE(h,Vr(),o,p.transform,u,p):p.transform(u)}function Hv(s,o,u,d){const h=s+22,p=ue(),y=ao(p,h);return Bl(p,h)?Ic(p,Vr(),o,y.transform,u,d,y):y.transform(u,d)}function Gv(s,o,u,d,h){const p=s+22,y=ue(),D=ao(y,p);return Bl(y,p)?cE(y,Vr(),o,D.transform,u,d,h,D):D.transform(u,d,h)}function Bl(s,o){return s[1].data[o].pure}function xh(s){return o=>{setTimeout(s,void 0,o)}}const ks=class Wv extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),y=d;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=xh(p),h&&(h=xh(h)),y&&(y=xh(y)));const D=super.subscribe({next:h,error:p,complete:y});return o instanceof V.w0&&o.add(D),D}};function pE(){return this._results[Mo()]()}class qv{get changes(){return this._changes||(this._changes=new ks)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Mo(),d=qv.prototype;d[u]||(d[u]=pE)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function ei(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Tw(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sc=(()=>{class s{}return s.__NG_ELEMENT_ID__=mE,s})();const gE=Sc,Zv=class extends gE{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=ay(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Wp(d,h,o),new Sa(h)}};function mE(){return $g(sr(),ue())}function $g(s,o){return 4&s.type?new Zv(o,s,So(s,o)):null}let Ac=(()=>{class s{}return s.__NG_ELEMENT_ID__=Yv,s})();function Yv(){return jg(sr(),ue())}const Kv=Ac,yr=class extends Kv{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const o=Od(this._hostTNode,this._hostLView);if(Ad(o)){const u=ho(o,this._hostLView),d=na(o);return new go(u[1].data[d+8],u)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=xr(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(u||{},p);return this.insert(y,h),y}createComponent(o,u,d,h,p){const y=o&&!function Su(s){return"function"==typeof s}(o);let D;if(y)D=u;else{const R=u||{};D=R.index,d=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const T=y?o:new Il(Jt(o)),C=d||this.parentInjector;if(!p&&null==T.ngModule){const G=(y?C:this.parentInjector).get(bl,null);G&&(p=G)}const A=T.create(C,h,void 0,p);return this.insert(A.hostView,D),A}insert(o,u){const d=o._lView,h=d[1];if(function a_(s){return ci(s[3])}(d)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const R=d[3],G=new yr(R,R[6],R[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function M_(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],C_(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function Qd(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,y,p);const D=th(p,y),T=d[11],C=_a(T,y[7]);return null!==C&&function Dp(s,o,u,d,h,p){d[0]=h,d[6]=o,pl(s,d,u,1,h,p)}(h,y[6],T,d,C,D),o.attachToViewContainerRef(),C_(Nc(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=xr(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=x_(this._lContainer,u);d&&(Fd(Nc(this._lContainer),u),Aw(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=x_(this._lContainer,u);return d&&null!=Fd(Nc(this._lContainer),u)?new Sa(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function xr(s){return s[8]}function Nc(s){return s[8]||(s[8]=[])}function jg(s,o){let u;const d=o[s.index];if(ci(d))u=d;else{let h;if(8&s.type)h=Wn(d);else{const p=o[11];h=p.createComment("");const y=Ir(s,o);Bu(p,_a(p,y),h,function Vu(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=u=by(d,o,h,s),Oo(o,u)}return new yr(u,s,o)}class Jv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Qv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==u0(o,u).matches&&this.queries[u].setDirty()}}class Xv{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class e0{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new e0(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class t0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new t0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,_E(u,p)),this.matchTNodeWithReadOption(o,u,ia(u,o,p,!1,!1))}else d===Sc?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ia(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ta||h===Ac||h===Sc&&4&u.type)this.addMatch(u.index,-2);else{const p=ia(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function _E(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function YS(s,o,u,d){return-1===u?function n0(s,o){return 11&s.type?So(s,o):4&s.type?$g(s,o):null}(o,s):-2===u?function r0(s,o,u){return u===Ta?So(o,s):u===Sc?$g(o,s):u===Ac?jg(o,s):void 0}(s,o,d):po(s,s[1],u,o)}function s0(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=u.matches,D=[];for(let T=0;T<y.length;T+=2){const C=y[T];D.push(C<0?null:YS(o,p[C],y[T+1],u.metadata.read))}h.matches=D}return h.matches}function o0(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=s0(s,o,h,u);for(let D=0;D<p.length;D+=2){const T=p[D];if(T>0)d.push(y[D/2]);else{const C=p[D+1],A=o[-T];for(let R=10;R<A.length;R++){const G=A[R];G[17]===G[3]&&o0(G[1],G,C,d)}if(null!==A[9]){const R=A[9];for(let G=0;G<R.length;G++){const J=R[G];o0(J[1],J,C,d)}}}}}return d}function Rh(s){const o=ue(),u=Wt(),d=p_();Kf(d+1);const h=u0(u,d);if(s.dirty&&function wd(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?o0(u,o,d,[]):s0(u,o,h,d);s.reset(p,nD),s.notifyOnChanges()}return!0}return!1}function Hg(s,o,u){const d=Wt();d.firstCreatePass&&(l0(d,new Xv(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),Oc(d,ue(),o)}function Gg(s,o,u,d){const h=Wt();if(h.firstCreatePass){const p=sr();l0(h,new Xv(o,u,d),p.index),function yE(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}Oc(h,ue(),u)}function a0(){return function KS(s,o){return s[19].queries[o].queryList}(ue(),p_())}function Oc(s,o,u){const d=new qv(4==(4&u));pt(s,o,d,d.destroy),null===o[19]&&(o[19]=new Qv),o[19].queries.push(new Jv(d))}function l0(s,o,u){null===s.queries&&(s.queries=new e0),s.queries.track(new t0(o,u))}function u0(s,o){return s.queries.getByIndex(o)}function kh(s,o){return $g(s,o)}function Pa(...s){}const m0=new un("Application Initializer");let zh=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Pa,this.reject=Pa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Wy(p))u.push(p);else if(s1(p)){const y=new Promise((D,T)=>{p.subscribe({complete:D,error:T})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Le(m0,8))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _0=new un("AppId",{providedIn:"root",factory:function $l(){return`${y0()}${y0()}${y0()}`}});function y0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const v0=new un("Platform Initializer"),iA=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),b0=new un("appBootstrapListener");let w0=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Wh=new un("LocaleId",{providedIn:"root",factory:()=>Xe(Wh,ut.Optional|ut.SkipSelf)||function AE(){return typeof $localize<"u"&&$localize.locale||_c}()}),D0=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class em{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let qh=(()=>{class s{compileModuleSync(u){return new Ov(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Ia(Br(u).declarations).reduce((y,D)=>{const T=Jt(D);return T&&y.push(new Il(T)),y},[]);return new em(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ME=(()=>Promise.resolve(0))();function E0(s){typeof Zone>"u"?ME.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Wi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function oA(){let s=At.requestAnimationFrame,o=At.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function RE(s){const o=()=>{!function rm(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(At,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ps(s),s.isCheckStableRunning=!0,nm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ps(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,D)=>{try{return T0(s),u.invokeTask(h,p,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),I0(s)}},onInvoke:(u,d,h,p,y,D,T)=>{try{return T0(s),u.invoke(h,p,y,D,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),I0(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Ps(s),nm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new ee(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,xE,Pa,Pa);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const xE={};function nm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ps(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function T0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function I0(s){s._nesting--,nm(s)}class C0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Vc=new un(""),S0=new un("");let Uc,A0=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uc||(function kE(s){Uc=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),E0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Le(Wi),Le(Zh),Le(S0))},s.\u0275prov=rt({token:s,factory:s.\u0275fac}),s})(),Zh=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Uc?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Fa=null;const N0=new un("AllowMultipleToken"),jl=new un("PlatformDestroyListeners");class LE{constructor(o,u){this.name=o,this.token=u}}function x0(s,o,u=[]){const d=`Platform: ${o}`,h=new un(d);return(p=[])=>{let y=jc();if(!y||y.injector.get(N0,!1)){const D=[...u,...p,{provide:h,useValue:!0}];s?s(D):function im(s){if(Fa&&!Fa.get(N0,!1))throw new ee(400,!1);Fa=s;const o=s.get(Ri);(function M0(s){const o=s.get(v0,null);o&&o.forEach(u=>u())})(s)}(function R0(s=[],o){return El.create({name:o,providers:[{provide:Wu,useValue:"platform"},{provide:jl,useValue:new Set([()=>Fa=null])},...s]})}(D,d))}return function VE(s){const o=jc();if(!o)throw new ee(401,!1);return o}()}}function jc(){return Fa?.get(Ri)??null}let Ri=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function P0(s,o){let u;return u="noop"===s?new C0:("zone.js"===s?void 0:s)||new Wi(o),u}(d?.ngZone,function k0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Wi,useValue:h}];return h.run(()=>{const y=El.create({providers:p,parent:this.injector,name:u.moduleType.name}),D=u.create(y),T=D.injector.get(ah,null);if(!T)throw new ee(402,!1);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:A=>{T.handleError(A)}});D.onDestroy(()=>{Hc(this._modules,D),C.unsubscribe()})}),function Hl(s,o,u){try{const d=u();return Wy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const C=D.injector.get(zh);return C.runInitializers(),C.donePromise.then(()=>(z1(D.injector.get(Wh,_c)||_c),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=UE({},d);return function PE(s,o,u){const d=new Ov(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(sm);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ee(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(jl,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Le(El))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function UE(s,o){return Array.isArray(o)?o.reduce(UE,s):{...s,...o}}let sm=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new k.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),E0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),C.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ve.B)()))}bootstrap(u,d){const h=u instanceof Xw;if(!this._injector.get(zh).done)throw!h&&ro(u),new ee(405,false);let y;y=h?u:this._injector.get(qu).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const D=function O0(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Ks),C=y.create(El.NULL,[],d||y.selector,D),A=C.location.nativeElement,R=C.injector.get(Vc,null);return R?.registerApplication(A),C.onDestroy(()=>{this.detachView(C.hostView),Hc(this.components,C),R?.unregisterApplication(A)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Hc(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(b0,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Hc(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Le(Wi),Le(bl),Le(ah))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Hc(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function jE(){return!1}let Rr=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gc,s})();function Gc(s){return function La(s,o,u){if(Ya(s)&&!u){const d=Cr(s.index,o);return new Sa(d,d)}return 47&s.type?new Sa(o[16],o):null}(sr(),ue(),16==(16&s))}class GE{constructor(){}supports(o){return ac(o)}create(o){return new Bt(o)}}const zE=(s,o)=>o;class Bt{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zE}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<vt(d,h,p)?u:d,D=vt(y,h,p),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const C=D-h,A=T-h;if(C!=A){for(let G=0;G<C;G++){const J=G<p.length?p[G]:p[G]=0,de=J+G;A<=de&&de<C&&(p[G]=J+1)}p[y.previousIndex]=A-C}}D!==T&&o(y,D,T)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ac(o))throw new ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],y=this._trackByFn(D,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,D)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,D),d=!0),u=u._next}else h=0,function Vy(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Mo()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,D=>{y=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,D,y,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new Wc(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new In),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new In),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Wc{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class In{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new WE,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vt(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class qc{constructor(){}supports(o){return o instanceof Map||Uy(o)}create(){return new Qt}}class Qt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Uy(o)))throw new ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new hA(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class hA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rn(){return new Ge([new GE])}let Ge=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Rn()),deps:[[s,new Vi,new Gs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ee(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:Rn}),s})();function lm(){return new Fo([new qc])}let Fo=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||lm()),deps:[[s,new Vi,new Gs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ee(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:lm}),s})();const qE=x0(null,"core",[]);let ZE=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Le(sm))},s.\u0275mod=zo({type:s}),s.\u0275inj=vn({}),s})();function qi(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Ba(s,o){const u=Jt(s),d=o.elementInjector||Lp();return new Il(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(bt,Ce,F)=>{F.d(Ce,{Z:()=>ot});var l=F(2090),V=F(4859),k=F(9681),se=F(1877);class ve{constructor(ee,Se){this._delegate=ee,this.firebase=Se,(0,k._addComponent)(ee,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ee,Se=k._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(ee);return!Ne.isInitialized()&&"EXPLICIT"===(null===(me=Ne.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:Se})}_removeServiceInstance(ee,Se=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(Se)}_addComponent(ee){(0,k._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,k._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Re(){const at=function pe(at){const ee={},Se={__esModule:!0,initializeApp:function Ae(K,Q={}){const he=k.initializeApp(K,Q);if((0,l.r3)(ee,he.name))return ee[he.name];const He=new at(he,Se);return ee[he.name]=He,He},app:Ne,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function be(K){const Q=K.name,he=Q.replace("-compat","");if(k._registerComponent(K)&&"PUBLIC"===K.type){const He=(Me=Ne())=>{if("function"!=typeof Me[he])throw Ue.create("invalid-app-argument",{appName:Q});return Me[he]()};void 0!==K.serviceProps&&(0,l.ZB)(He,K.serviceProps),Se[he]=He,at.prototype[he]=function(...Me){return this._getService.bind(this,Q).apply(this,K.multipleInstances?Me:[])}}return"PUBLIC"===K.type?Se[he]:null},removeApp:function me(K){delete ee[K]},useAsService:function Pe(K,Q){return"serverAuth"===Q?null:Q},modularAPIs:k}};function Ne(K){if(!(0,l.r3)(ee,K=K||k._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:K});return ee[K]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function De(){return Object.keys(ee).map(K=>ee[K])}}),Ne.App=at,Se}(ve);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function ee(Se){(0,l.ZB)(at,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}(),j=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=H;!function Oe(at){(0,k.registerVersion)("@firebase/app-compat","0.2.3",at)}()},9681:(bt,Ce,F)=>{F.r(Ce),F.d(Ce,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>ke,_addComponent:()=>yn,_addOrOverwriteComponent:()=>Dt,_apps:()=>Qe,_clearComponents:()=>vn,_components:()=>Je,_getProvider:()=>rt,_registerComponent:()=>yt,_removeServiceInstance:()=>rn,deleteApp:()=>hs,getApp:()=>oi,getApps:()=>Pi,initializeApp:()=>ki,onLog:()=>ut,registerVersion:()=>Fr,setLogLevel:()=>Lr});var l=F(5861),V=F(4859),k=F(1877),se=F(2090),ve=F(8766);class oe{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function Ue(Le){return"VERSION"===Le.getComponent()?.type}(Xe)){const wt=Xe.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const pe="@firebase/app",H=new k.Yd("@firebase/app"),ke="[DEFAULT]",Fe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Je=new Map;function yn(Le,fe){try{Le.container.addComponent(fe)}catch(Xe){H.debug(`Component ${fe.name} failed to register with FirebaseApp ${Le.name}`,Xe)}}function Dt(Le,fe){Le.container.addOrOverwriteComponent(fe)}function yt(Le){const fe=Le.name;if(Je.has(fe))return H.debug(`There were multiple attempts to register component ${fe}.`),!1;Je.set(fe,Le);for(const Xe of Qe.values())yn(Xe,Le);return!0}function rt(Le,fe){const Xe=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Le.container.getProvider(fe)}function rn(Le,fe,Xe=ke){rt(Le,fe).clearInstance(Xe)}function vn(){Je.clear()}const sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cr{constructor(fe,Xe,wt){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Zr="9.17.1";function ki(Le,fe={}){let Xe=Le;"object"!=typeof fe&&(fe={name:fe});const wt=Object.assign({name:ke,automaticDataCollectionEnabled:!1},fe),Nt=wt.name;if("string"!=typeof Nt||!Nt)throw sn.create("bad-app-name",{appName:String(Nt)});if(Xe||(Xe=(0,se.aH)()),!Xe)throw sn.create("no-options");const zt=Qe.get(Nt);if(zt){if((0,se.vZ)(Xe,zt.options)&&(0,se.vZ)(wt,zt.config))return zt;throw sn.create("duplicate-app",{appName:Nt})}const U=new V.H0(Nt);for(const z of Je.values())U.addComponent(z);const B=new cr(Xe,wt,U);return Qe.set(Nt,B),B}function oi(Le=ke){const fe=Qe.get(Le);if(!fe&&Le===ke)return ki();if(!fe)throw sn.create("no-app",{appName:Le});return fe}function Pi(){return Array.from(Qe.values())}function hs(Le){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(Le){const fe=Le.name;Qe.has(fe)&&(Qe.delete(fe),yield Promise.all(Le.container.getProviders().map(Xe=>Xe.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function Fr(Le,fe,Xe){var wt;let Nt=null!==(wt=Fe[Le])&&void 0!==wt?wt:Le;Xe&&(Nt+=`-${Xe}`);const zt=Nt.match(/\s|\//),U=fe.match(/\s|\//);if(zt||U){const B=[`Unable to register library "${Nt}" with version "${fe}":`];return zt&&B.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),zt&&U&&B.push("and"),U&&B.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void H.warn(B.join(" "))}yt(new V.wA(`${Nt}-version`,()=>({library:Nt,version:fe}),"VERSION"))}function ut(Le,fe){if(null!==Le&&"function"!=typeof Le)throw sn.create("invalid-log-argument");(0,k.Am)(Le,fe)}function Lr(Le){(0,k.Ub)(Le)}const hr="firebase-heartbeat-store";let Ti=null;function At(){return Ti||(Ti=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(Le,fe)=>{0===fe&&Le.createObjectStore(hr)}}).catch(Le=>{throw sn.create("idb-open",{originalErrorMessage:Le.message})})),Ti}function Tt(){return(Tt=(0,l.Z)(function*(Le){try{return(yield At()).transaction(hr).objectStore(hr).get(Ln(Le))}catch(fe){if(fe instanceof se.ZR)H.warn(fe.message);else{const Xe=sn.create("idb-get",{originalErrorMessage:fe?.message});H.warn(Xe.message)}}})).apply(this,arguments)}function fn(Le,fe){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(Le,fe){try{const wt=(yield At()).transaction(hr,"readwrite");return yield wt.objectStore(hr).put(fe,Ln(Le)),wt.done}catch(Xe){if(Xe instanceof se.ZR)H.warn(Xe.message);else{const wt=sn.create("idb-set",{originalErrorMessage:Xe?.message});H.warn(wt.message)}}})).apply(this,arguments)}function Ln(Le){return`${Le.name}!${Le.options.appId}`}class Fi{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Ht(Xe),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var fe=this;return(0,l.Z)(function*(){const wt=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Ut();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!fe._heartbeatsCache.heartbeats.some(zt=>zt.date===Nt))return fe._heartbeatsCache.heartbeats.push({date:Nt,agent:wt}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(zt=>{const U=new Date(zt.date).valueOf();return Date.now()-U<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,l.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const Xe=Ut(),{heartbeatsToSend:wt,unsentEntries:Nt}=function fs(Le,fe=1024){const Xe=[];let wt=Le.slice();for(const Nt of Le){const zt=Xe.find(U=>U.agent===Nt.agent);if(zt){if(zt.dates.push(Nt.date),ai(Xe)>fe){zt.dates.pop();break}}else if(Xe.push({agent:Nt.agent,dates:[Nt.date]}),ai(Xe)>fe){Xe.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:wt}}(fe._heartbeatsCache.heartbeats),zt=(0,se.L)(JSON.stringify({version:2,heartbeats:wt}));return fe._heartbeatsCache.lastSentHeartbeatDate=Xe,Nt.length>0?(fe._heartbeatsCache.heartbeats=Nt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),zt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,l.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function mt(Le){return Tt.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var Xe=this;return(0,l.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const zt=yield Xe.read();return fn(Xe.app,{lastSentHeartbeatDate:null!==(wt=fe.lastSentHeartbeatDate)&&void 0!==wt?wt:zt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Xe=this;return(0,l.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const zt=yield Xe.read();return fn(Xe.app,{lastSentHeartbeatDate:null!==(wt=fe.lastSentHeartbeatDate)&&void 0!==wt?wt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...fe.heartbeats]})}})()}}function ai(Le){return(0,se.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function er(Le){yt(new V.wA("platform-logger",fe=>new oe(fe),"PRIVATE")),yt(new V.wA("heartbeat",fe=>new Fi(fe),"PRIVATE")),Fr(pe,"0.9.3",Le),Fr(pe,"0.9.3","esm2017"),Fr("fire-js","")}("")},4859:(bt,Ce,F)=>{F.d(Ce,{H0:()=>pe,wA:()=>k});var l=F(5861),V=F(2090);class k{constructor(H,j,q){this.name=H,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class ve{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const q=new V.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:j});$e&&q.resolve($e)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const q=this.normalizeInstanceIdentifier(H?.identifier),$e=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Oe){if($e)return null;throw Oe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Ue(Re){return"EAGER"===Re.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(j);try{const Oe=this.getOrInitializeService({instanceIdentifier:$e});q.resolve(Oe)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,l.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[Oe,ot]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Oe)&&ot.resolve($e);return $e}onInit(H,j){var q;const $e=this.normalizeInstanceIdentifier(j),Oe=null!==(q=this.onInitCallbacks.get($e))&&void 0!==q?q:new Set;Oe.add(H),this.onInitCallbacks.set($e,Oe);const ot=this.instances.get($e);return ot&&H(ot,$e),()=>{Oe.delete(H)}}invokeOnInitCallbacks(H,j){const q=this.onInitCallbacks.get(j);if(q)for(const $e of q)try{$e(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=H,Re===se?void 0:Re),options:j}),this.instances.set(H,q),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var Re;return q||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ve(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Ce,F)=>{F.d(Ce,{Am:()=>Re,Ub:()=>pe,Yd:()=>Ue,in:()=>V});const l=[];var V=(()=>{return(H=V||(V={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",V;var H})();const k={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},se=V.INFO,ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},oe=(H,j,...q)=>{if(j<H.logLevel)return;const $e=(new Date).toISOString(),Oe=ve[j];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Oe](`[${$e}]  ${H.name}:`,...q)};class Ue{constructor(j){this.name=j,this._logLevel=se,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in V))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?k[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...j),this._logHandler(this,V.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...j),this._logHandler(this,V.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,V.INFO,...j),this._logHandler(this,V.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,V.WARN,...j),this._logHandler(this,V.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...j),this._logHandler(this,V.ERROR,...j)}}function pe(H){l.forEach(j=>{j.setLogLevel(H)})}function Re(H,j){for(const q of l){let $e=null;j&&j.level&&($e=k[j.level]),q.userLogHandler=null===H?null:(Oe,ot,...at)=>{const ee=at.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");ot>=($e??Oe.logLevel)&&H({level:V[ot].toLowerCase(),message:ee,args:at,type:Oe.name})}}}},9260:(bt,Ce,F)=>{F.d(Ce,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(bt,Ce,F)=>{F.r(Ce);var l=F(5861),V=F(3942),k=F(2722),se=F(2090),Ue=(F(9681),F(1877),F(4859));function pe(){return window}function j(){return(j=(0,l.Z)(function*(L,O,P){var X;const{BuildInfo:Ie}=pe();(0,k.ap)(O.sessionId,"AuthEvent did not contain a session ID");const ct=yield Se(O.sessionId),We={};return(0,k.aq)()?We.ibi=Ie.packageName:(0,k.ar)()?We.apn=Ie.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),Ie.displayName&&(We.appDisplayName=Ie.displayName),We.sessionId=ct,(0,k.at)(L,P,O.type,void 0,null!==(X=O.eventId)&&void 0!==X?X:void 0,We)})).apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(L){const{BuildInfo:O}=pe(),P={};(0,k.aq)()?P.iosBundleId=O.packageName:(0,k.ar)()?P.androidPackageName=O.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),yield(0,k.au)(L,P)})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(L,O,P){const{cordova:X}=pe();let Ie=()=>{};try{yield new Promise((ct,We)=>{let kt=null;function _t(){var Pt;ct();const Er=null===(Pt=X.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof Er&&Er(),"function"==typeof P?.close&&P.close()}function pn(){kt||(kt=window.setTimeout(()=>{We((0,k.aw)(L,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===document?.visibilityState&&pn()}O.addPassiveListener(_t),document.addEventListener("resume",pn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",tr,!1),Ie=()=>{O.removePassiveListener(_t),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",tr,!1),kt&&window.clearTimeout(kt)}})}finally{Ie()}})).apply(this,arguments)}function Se(L){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(L){const O=Ne(L),P=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(P)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ne(L){if((0,k.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const O=new ArrayBuffer(L.length),P=new Uint8Array(O);for(let X=0;X<L.length;X++)P[X]=L.charCodeAt(X);return P}class De extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(O)),super.onEvent(O)}initialized(){var O=this;return(0,l.Z)(function*(){yield O.initPromise})()}}function K(L){return Q.apply(this,arguments)}function Q(){return(Q=(0,l.Z)(function*(L){const O=yield Me()._get(St(L));return O&&(yield Me()._remove(St(L))),O})).apply(this,arguments)}function He(){const L=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<20;P++){const X=Math.floor(Math.random()*O.length);L.push(O.charAt(X))}return L.join("")}function Me(){return(0,k.az)(k.b)}function St(L){return(0,k.aA)("authEvent",L.config.apiKey,L.name)}function ae(L){if(!L?.includes("?"))return{};const[O,...P]=L.split("?");return(0,se.zd)(P.join("?"))}const ke=class Ee{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var P=this;return(0,l.Z)(function*(){const X=O._key();let Ie=P.eventManagers.get(X);return Ie||(Ie=new De(O),P.eventManagers.set(X,Ie),P.attachCallbackListeners(O,Ie)),Ie})()}_openPopup(O){(0,k.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,P,X,Ie){var ct=this;return(0,l.Z)(function*(){!function ee(L){var O,P,X,Ie,ct,We,kt,_t,pn,tr;const Pt=pe();(0,k.ax)("function"==typeof(null===(O=Pt?.universalLinks)||void 0===O?void 0:O.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(P=Pt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(ct=null===(Ie=null===(X=Pt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===ct?void 0:ct.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(_t=null===(kt=null===(We=Pt?.cordova)||void 0===We?void 0:We.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===_t?void 0:_t.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(tr=null===(pn=Pt?.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===tr?void 0:tr.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const We=yield ct._initialize(O);yield We.initialized(),We.resetRedirect(),(0,k.aD)(),yield ct._originValidation(O);const kt=function be(L,O,P=null){return{type:O,eventId:P,urlResponse:null,sessionId:He(),postBody:null,tenantId:L.tenantId,error:(0,k.aw)(L,"no-auth-event")}}(O,X,Ie);yield function Pe(L,O){return Me()._set(St(L),O)}(O,kt);const _t=yield function H(L,O,P){return j.apply(this,arguments)}(O,kt,P),pn=yield function Oe(L){const{cordova:O}=pe();return new Promise(P=>{O.plugins.browsertab.isAvailable(X=>{let Ie=null;X?O.plugins.browsertab.openUrl(L):Ie=O.InAppBrowser.open(L,(0,k.av)()?"_blank":"_system","location=yes"),P(Ie)})})}(_t);return function ot(L,O,P){return at.apply(this,arguments)}(O,We,pn)})()}_isIframeWebStorageSupported(O,P){throw new Error("Method not implemented.")}_originValidation(O){const P=O._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function q(L){return $e.apply(this,arguments)}(O)),this.originValidationPromises[P]}attachCallbackListeners(O,P){const{universalLinks:X,handleOpenURL:Ie,BuildInfo:ct}=pe(),We=setTimeout((0,l.Z)(function*(){yield K(O),P.onEvent(Fe())}),500),kt=function(){var tr=(0,l.Z)(function*(Pt){clearTimeout(We);const Er=yield K(O);let tu=null;Er&&Pt?.url&&(tu=function he(L,O){var P,X;const Ie=function ne(L){const O=ae(L),P=O.link?decodeURIComponent(O.link):void 0,X=ae(P).link,Ie=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return ae(Ie).link||Ie||X||P||L}(O);if(Ie.includes("/__/auth/callback")){const ct=ae(Ie),We=ct.firebaseError?function nt(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,kt=null===(X=null===(P=We?.code)||void 0===P?void 0:P.split("auth/"))||void 0===X?void 0:X[1],_t=kt?(0,k.aw)(kt):null;return _t?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ie,postBody:null}}return null}(Er,Pt.url)),P.onEvent(tu||Fe())});return function(Er){return tr.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,kt);const _t=Ie,pn=`${ct.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var tr=(0,l.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(pn)&&kt({url:Pt}),"function"==typeof _t)try{_t(Pt)}catch(Er){console.error(Er)}});return function(Pt){return tr.apply(this,arguments)}}()}};function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function yt(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function rn(L=(0,se.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zr(){try{const L=self.localStorage,O=k.aI();if(L)return L.setItem(O,"1"),L.removeItem(O),!function cr(L=(0,se.z$)()){return function Gn(){return(0,se.w1)()&&11===document?.documentMode}()||function sn(L=(0,se.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,se.hl)()}catch{return ki()&&(0,se.hl)()}return!1}function ki(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function oi(){return(function rt(){return"http:"===yt()||"https:"===yt()}()||(0,se.ru)()||rn())&&!function vn(){return(0,se.b$)()||(0,se.UG)()}()&&Zr()&&!ki()}function Pi(){return rn()&&typeof document<"u"}function bn(){return(bn=(0,l.Z)(function*(){return!!Pi()&&new Promise(L=>{const O=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),L(!0)})})})).apply(this,arguments)}const ut={LOCAL:"local",NONE:"none",SESSION:"session"},Lr=k.ax,Ei="persistence";function hr(L){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(L){yield L._initializationPromise;const O=mt(),P=k.aA(Ei,L.config.apiKey,L.name);O&&O.setItem(P,L._getPersistence())})).apply(this,arguments)}function mt(){var L;try{return(null===(L=function Fr(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Tt=k.ax;class fn{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(ke),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,P,X,Ie){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(O,P,X,Ie)})()}_openRedirect(O,P,X,Ie){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(O,P,X,Ie)})()}_isIframeWebStorageSupported(O,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,P)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,l.Z)(function*(){if(O.underlyingResolver)return;const P=yield function hs(){return bn.apply(this,arguments)}();O.underlyingResolver=P?O.cordovaResolver:O.browserResolver})()}}function Xn(L){return L.unwrap()}function Ii(L){return Fi(L)}function Fi(L){const{_tokenResponse:O}=L instanceof se.ZR?L.customData:L;if(!O)return null;if(!(L instanceof se.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(L);const P=O.providerId;if(!P||P===k.o.PASSWORD)return null;let X;switch(P){case k.o.GOOGLE:X=k.Q;break;case k.o.FACEBOOK:X=k.N;break;case k.o.GITHUB:X=k.T;break;case k.o.TWITTER:X=k.W;break;default:const{oauthIdToken:Ie,oauthAccessToken:ct,oauthTokenSecret:We,pendingToken:kt,nonce:_t}=O;return ct||We||Ie||kt?kt?P.startsWith("saml.")?k.aL._create(P,kt):k.J._fromParams({providerId:P,signInMethod:P,pendingToken:kt,idToken:Ie,accessToken:ct}):new k.U(P).credential({idToken:Ie,accessToken:ct,rawNonce:_t}):null}return L instanceof se.ZR?X.credentialFromError(L):X.credentialFromResult(L)}function Ut(L,O){return O.catch(P=>{throw P instanceof se.ZR&&function fr(L,O){var P;const X=null===(P=O.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new ai(L,k.an(L,O));else if(X){const Ie=Fi(O),ct=O;Ie&&(ct.credential=Ie,ct.tenantId=X.tenantId||void 0,ct.email=X.email||void 0,ct.phoneNumber=X.phoneNumber||void 0)}}(L,P),P}).then(P=>{const Ie=P.user;return{operationType:P.operationType,credential:Ii(P),additionalUserInfo:k.al(P),user:er.getOrCreate(Ie)}})}function fs(L,O){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(L,O){const P=yield O;return{verificationId:P.verificationId,confirm:X=>Ut(L,P.confirm(X))}})).apply(this,arguments)}class ai{constructor(O,P){this.resolver=P,this.auth=function Ln(L){return L.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Ut(Xn(this.auth),this.resolver.resolveSignIn(O))}}class er{constructor(O){this._delegate=O,this.multiFactor=k.ao(O)}static getOrCreate(O){return er.USER_MAP.has(O)||er.USER_MAP.set(O,new er(O)),er.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k.Z(P._delegate,O))})()}linkWithPhoneNumber(O,P){var X=this;return(0,l.Z)(function*(){return fs(X.auth,k.l(X._delegate,O,P))})()}linkWithPopup(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k.d(P._delegate,O,fn))})()}linkWithRedirect(O){var P=this;return(0,l.Z)(function*(){return yield hr(k.aE(P.auth)),k.g(P._delegate,O,fn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k._(P._delegate,O))})()}reauthenticateWithPhoneNumber(O,P){return fs(this.auth,k.r(this._delegate,O,P))}reauthenticateWithPopup(O){return Ut(this.auth,k.e(this._delegate,O,fn))}reauthenticateWithRedirect(O){var P=this;return(0,l.Z)(function*(){return yield hr(k.aE(P.auth)),k.h(P._delegate,O,fn)})()}sendEmailVerification(O){return k.ab(this._delegate,O)}unlink(O){var P=this;return(0,l.Z)(function*(){return yield k.ak(P._delegate,O),P})()}updateEmail(O){return k.ag(this._delegate,O)}updatePassword(O){return k.ah(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.af(this._delegate,O)}verifyBeforeUpdateEmail(O,P){return k.ac(this._delegate,O,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}er.USER_MAP=new WeakMap;const Le=k.ax;let fe=(()=>{class L{constructor(P,X){if(this.app=P,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=P.options;Le(Ie,"invalid-api-key",{appName:P.name}),Le(Ie,"invalid-api-key",{appName:P.name});const ct=typeof window<"u"?fn:void 0;this._delegate=X.initialize({options:{persistence:wt(Ie,P.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,X){k.G(this._delegate,P,X)}applyActionCode(P){return k.a2(this._delegate,P)}checkActionCode(P){return k.a3(this._delegate,P)}confirmPasswordReset(P,X){return k.a1(this._delegate,P,X)}createUserWithEmailAndPassword(P,X){var Ie=this;return(0,l.Z)(function*(){return Ut(Ie._delegate,k.a5(Ie._delegate,P,X))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return k.aa(this._delegate,P)}isSignInWithEmailLink(P){return k.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,l.Z)(function*(){Le(oi(),P._delegate,"operation-not-supported-in-this-environment");const X=yield k.j(P._delegate,fn);return X?Ut(P._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Qe(L,O){(0,k.aE)(L)._logFramework(O)}(this._delegate,P)}onAuthStateChanged(P,X,Ie){const{next:ct,error:We,complete:kt}=Xe(P,X,Ie);return this._delegate.onAuthStateChanged(ct,We,kt)}onIdTokenChanged(P,X,Ie){const{next:ct,error:We,complete:kt}=Xe(P,X,Ie);return this._delegate.onIdTokenChanged(ct,We,kt)}sendSignInLinkToEmail(P,X){return k.a7(this._delegate,P,X)}sendPasswordResetEmail(P,X){return k.a0(this._delegate,P,X||void 0)}setPersistence(P){var X=this;return(0,l.Z)(function*(){let Ie;switch(function dr(L,O){Lr(Object.values(ut).includes(O),L,"invalid-persistence-type"),(0,se.b$)()?Lr(O!==ut.SESSION,L,"unsupported-persistence-type"):(0,se.UG)()?Lr(O===ut.NONE,L,"unsupported-persistence-type"):ki()?Lr(O===ut.NONE||O===ut.LOCAL&&(0,se.hl)(),L,"unsupported-persistence-type"):Lr(O===ut.NONE||Zr(),L,"unsupported-persistence-type")}(X._delegate,P),P){case ut.SESSION:Ie=k.a;break;case ut.LOCAL:Ie=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case ut.NONE:Ie=k.L;break;default:return k.as("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return Ut(this._delegate,k.X(this._delegate))}signInWithCredential(P){return Ut(this._delegate,k.Y(this._delegate,P))}signInWithCustomToken(P){return Ut(this._delegate,k.$(this._delegate,P))}signInWithEmailAndPassword(P,X){return Ut(this._delegate,k.a6(this._delegate,P,X))}signInWithEmailLink(P,X){return Ut(this._delegate,k.a9(this._delegate,P,X))}signInWithPhoneNumber(P,X){return fs(this._delegate,k.s(this._delegate,P,X))}signInWithPopup(P){var X=this;return(0,l.Z)(function*(){return Le(oi(),X._delegate,"operation-not-supported-in-this-environment"),Ut(X._delegate,k.c(X._delegate,P,fn))})()}signInWithRedirect(P){var X=this;return(0,l.Z)(function*(){return Le(oi(),X._delegate,"operation-not-supported-in-this-environment"),yield hr(X._delegate),k.f(X._delegate,P,fn)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return k.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=ut,L})();function Xe(L,O,P){let X=L;"function"!=typeof L&&({next:X,error:O,complete:P}=L);const Ie=X;return{next:We=>Ie(We&&er.getOrCreate(We)),error:O,complete:P}}function wt(L,O){const P=function At(L,O){const P=mt();if(!P)return[];const X=k.aA(Ei,L,O);switch(P.getItem(X)){case ut.NONE:return[k.L];case ut.LOCAL:return[k.i,k.a];case ut.SESSION:return[k.a];default:return[]}}(L,O);if(typeof self<"u"&&!P.includes(k.i)&&P.push(k.i),typeof window<"u")for(const X of[k.b,k.a])P.includes(X)||P.push(X);return P.includes(k.L)||P.push(k.L),P}class Nt{constructor(){this.providerId="phone",this._delegate=new k.P(Xn(V.Z.auth()))}static credential(O,P){return k.P.credential(O,P)}verifyPhoneNumber(O,P){return this._delegate.verifyPhoneNumber(O,P)}unwrap(){return this._delegate}}Nt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Nt.PROVIDER_ID=k.P.PROVIDER_ID;const zt=k.ax;class U{constructor(O,P,X=V.Z.app()){var Ie;zt(null===(Ie=X.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new k.R(O,P,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(L){L.INTERNAL.registerComponent(new Ue.wA("auth-compat",O=>{const P=O.getProvider("app-compat").getImmediate(),X=O.getProvider("auth");return new fe(P,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Nt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:U,TwitterAuthProvider:k.W,Auth:fe,AuthCredential:k.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.3.3")}(V.Z)},8766:(bt,Ce,F)=>{F.d(Ce,{Lj:()=>Ae,X3:()=>Ne});var l=F(5861);let k,se;const Ue=new WeakMap,pe=new WeakMap,Re=new WeakMap,H=new WeakMap,j=new WeakMap;let Oe={get(Q,he,He){if(Q instanceof IDBTransaction){if("done"===he)return pe.get(Q);if("objectStoreNames"===he)return Q.objectStoreNames||Re.get(Q);if("store"===he)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return Se(Q[he])},set:(Q,he,He)=>(Q[he]=He,!0),has:(Q,he)=>Q instanceof IDBTransaction&&("done"===he||"store"===he)||he in Q};function ee(Q){return"function"==typeof Q?function at(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...he){return Q.apply(me(this),he),Se(Ue.get(this))}:function(...he){return Se(Q.apply(me(this),he))}:function(he,...He){const Me=Q.call(me(this),he,...He);return Re.set(Me,he.sort?he.sort():[he]),Se(Me)}}(Q):(Q instanceof IDBTransaction&&function $e(Q){if(pe.has(Q))return;const he=new Promise((He,Me)=>{const St=()=>{Q.removeEventListener("complete",nt),Q.removeEventListener("error",ne),Q.removeEventListener("abort",ne)},nt=()=>{He(),St()},ne=()=>{Me(Q.error||new DOMException("AbortError","AbortError")),St()};Q.addEventListener("complete",nt),Q.addEventListener("error",ne),Q.addEventListener("abort",ne)});pe.set(Q,he)}(Q),((Q,he)=>he.some(He=>Q instanceof He))(Q,function ve(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Oe):Q)}function Se(Q){if(Q instanceof IDBRequest)return function q(Q){const he=new Promise((He,Me)=>{const St=()=>{Q.removeEventListener("success",nt),Q.removeEventListener("error",ne)},nt=()=>{He(Se(Q.result)),St()},ne=()=>{Me(Q.error),St()};Q.addEventListener("success",nt),Q.addEventListener("error",ne)});return he.then(He=>{He instanceof IDBCursor&&Ue.set(He,Q)}).catch(()=>{}),j.set(he,Q),he}(Q);if(H.has(Q))return H.get(Q);const he=ee(Q);return he!==Q&&(H.set(Q,he),j.set(he,Q)),he}const me=Q=>j.get(Q);function Ne(Q,he,{blocked:He,upgrade:Me,blocking:St,terminated:nt}={}){const ne=indexedDB.open(Q,he),ae=Se(ne);return Me&&ne.addEventListener("upgradeneeded",ce=>{Me(Se(ne.result),ce.oldVersion,ce.newVersion,Se(ne.transaction))}),He&&ne.addEventListener("blocked",()=>He()),ae.then(ce=>{nt&&ce.addEventListener("close",()=>nt()),St&&ce.addEventListener("versionchange",()=>St())}).catch(()=>{}),ae}function Ae(Q,{blocked:he}={}){const He=indexedDB.deleteDatabase(Q);return he&&He.addEventListener("blocked",()=>he()),Se(He).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Pe=new Map;function K(Q,he){if(!(Q instanceof IDBDatabase)||he in Q||"string"!=typeof he)return;if(Pe.get(he))return Pe.get(he);const He=he.replace(/FromIndex$/,""),Me=he!==He,St=be.includes(He);if(!(He in(Me?IDBIndex:IDBObjectStore).prototype)||!St&&!De.includes(He))return;const nt=function(){var ne=(0,l.Z)(function*(ae,...ce){const Ee=this.transaction(ae,St?"readwrite":"readonly");let ke=Ee.store;return Me&&(ke=ke.index(ce.shift())),(yield Promise.all([ke[He](...ce),St&&Ee.done]))[0]});return function(ce){return ne.apply(this,arguments)}}();return Pe.set(he,nt),nt}!function ot(Q){Oe=Q(Oe)}(Q=>({...Q,get:(he,He,Me)=>K(he,He)||Q.get(he,He,Me),has:(he,He)=>!!K(he,He)||Q.has(he,He)}))},5861:(bt,Ce,F)=>{function l(k,se,ve,oe,Ue,pe,Re){try{var H=k[pe](Re),j=H.value}catch(q){return void ve(q)}H.done?se(j):Promise.resolve(j).then(oe,Ue)}function V(k){return function(){var se=this,ve=arguments;return new Promise(function(oe,Ue){var pe=k.apply(se,ve);function Re(j){l(pe,oe,Ue,Re,H,"next",j)}function H(j){l(pe,oe,Ue,Re,H,"throw",j)}Re(void 0)})}}F.d(Ce,{Z:()=>V})}},bt=>{bt(bt.s=159)}]);