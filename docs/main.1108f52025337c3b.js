"use strict";(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[179],{2011:(bt,Te,F)=>{F.d(Te,{Dh:()=>Ve,GT:()=>ve,cc:()=>$e,on:()=>xe,pX:()=>se,xv:()=>pe});var l=F(4650),V=F(9260);bt=F.hmd(bt);const k=["ngOnDestroy"],se=(ee,Ce,_e,Ae={})=>new Proxy(ee,{get:(Se,we)=>_e.runOutsideAngular(()=>{var be;if(ee[we])return!(null===(be=Ae?.spy)||void 0===be)&&be.get&&Ae.spy.get(we,ee[we]),ee[we];if(k.indexOf(we)>-1)return()=>{};const ke=Ce.toPromise().then(J=>{const Q=J&&J[we];return"function"==typeof Q?Q.bind(J):Q&&Q.then?Q.then(de=>_e.run(()=>de)):_e.run(()=>Q)});return new Proxy(()=>{},{get:(J,Q)=>ke[Q],apply:(J,Q,de)=>ke.then(Ge=>{var Oe;const At=Ge&&Ge(...de);return!(null===(Oe=Ae?.spy)||void 0===Oe)&&Oe.apply&&Ae.spy.apply(we,de,At),At})})})}),ve=(ee,Ce)=>{Ce.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Ae=>{Object.defineProperty(ee.prototype,Ae,Object.getOwnPropertyDescriptor(_e.prototype||_e,Ae))})})};class ae{constructor(Ce){return Ce}}const Ve=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function xe(ee,Ce,_e){const Se="object"==typeof _e&&_e||{};Se.name=Se.name||"string"==typeof _e&&_e||"[DEFAULT]";const be=V.Z.apps.filter(ke=>ke&&ke.name===Se.name)[0]||Ce.runOutsideAngular(()=>V.Z.initializeApp(ee,Se));try{JSON.stringify(ee)!==JSON.stringify(be.options)&&j("error",`${be.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(be)}const j=(ee,...Ce)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Ce)};function $e(ee,Ce,_e,Ae,Se){const[,we,be]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===ee)||[];if(we)return function Ne(ee,Ce){try{return ee.toString()===Ce.toString()}catch{return ee===Ce}}(Se,be)||(st("error",`${Ce} was already initialized on the ${_e} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),st("warn",{is:Se,was:be})),we;{const ke=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ee,ke,Se]),ke}}const it=!!bt.hot,st=(ee,...Ce)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2722:(bt,Te,F)=>{F.d(Te,{$:()=>Bf,A:()=>$,B:()=>Ne,G:()=>Of,H:()=>Sn,J:()=>Hn,L:()=>U,M:()=>xf,N:()=>qb,P:()=>dw,Q:()=>n_,R:()=>Dd,T:()=>Zb,U:()=>su,V:()=>nl,W:()=>i_,X:()=>kf,Y:()=>Zr,Z:()=>od,_:()=>cu,a:()=>ll,a0:()=>s_,a1:()=>Vf,a2:()=>Pt,a3:()=>Jb,a4:()=>o_,a5:()=>Uf,a6:()=>a_,a7:()=>ue,a8:()=>l_,a9:()=>u_,aA:()=>B,aB:()=>Ad,aC:()=>Wn,aD:()=>Tu,aE:()=>hr,aI:()=>js,aL:()=>tl,aa:()=>ts,ab:()=>jf,ac:()=>d_,af:()=>na,ag:()=>Us,ah:()=>Gf,ak:()=>Yb,al:()=>qf,an:()=>rw,ao:()=>dd,ap:()=>de,aq:()=>_t,ar:()=>ct,as:()=>Ae,at:()=>As,au:()=>hp,av:()=>fn,aw:()=>Se,ax:()=>J,ay:()=>Nd,az:()=>Oe,b:()=>hd,c:()=>Ed,d:()=>Id,e:()=>fw,f:()=>Su,g:()=>dp,h:()=>cp,i:()=>Qf,j:()=>Sd,k:()=>Pd,l:()=>vo,m:()=>gw,o:()=>pe,r:()=>cw,s:()=>uw,u:()=>OT});var l=F(5861),V=F(2090),k=F(9681),se=F(1877),ve=F(655),ae=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new se.Yd("@firebase/auth");function _e(b,...g){Ce.logLevel<=se.in.ERROR&&Ce.error(`Auth (${k.SDK_VERSION}): ${b}`,...g)}function Ae(b,...g){throw ke(b,...g)}function Se(b,...g){return ke(b,...g)}function we(b,g,_){const w=Object.assign(Object.assign({},it()),{[g]:_});return new V.LL("auth","Firebase",w).create(g,{appName:b.name})}function be(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ae(b,"argument-error"),we(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return st.create(b,...g)}function J(b,g,..._){if(!b)throw ke(g,..._)}function Q(b){const g="INTERNAL ASSERTION FAILED: "+b;throw _e(g),new Error(g)}function de(b,g){b||Q(g)}const Ge=new Map;function Oe(b){de(b instanceof Function,"Expected a class definition");let g=Ge.get(b);return g?(de(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Ge.set(b,g),g)}function te(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function oe(){return"http:"===ce()||"https:"===ce()}function ce(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Pe{constructor(g,_){this.shortDelay=g,this.longDelay=_,de(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(b,g){de(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Qe{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Pe(3e4,6e4);function yt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function nt(b,g,_,w){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(b,g,_,w,S={}){return vn(b,S,(0,l.Z)(function*(){let M={},Z={};w&&("GET"===g?Z=w:M={body:JSON.stringify(w)});const ge=(0,V.xO)(Object.assign({key:b.config.apiKey},Z)).slice(1),Je=yield b._getAdditionalHeaders();return Je["Content-Type"]="application/json",b.languageCode&&(Je["X-Firebase-Locale"]=b.languageCode),Qe.fetch()(Hr(b,b.config.apiHost,_,ge),Object.assign({method:g,headers:Je,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function vn(b,g,_){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},yn),g);try{const S=new Ri(b),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const Z=yield M.json();if("needConfirmation"in Z)throw si(b,"account-exists-with-different-credential",Z);if(M.ok&&!("errorMessage"in Z))return Z;{const ge=M.ok?Z.errorMessage:Z.error.message,[Je,dt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw si(b,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Je)throw si(b,"email-already-in-use",Z);if("USER_DISABLED"===Je)throw si(b,"user-disabled",Z);const jt=w[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw we(b,jt,dt);Ae(b,jt)}}catch(S){if(S instanceof V.ZR)throw S;Ae(b,"network-request-failed")}})).apply(this,arguments)}function sn(b,g,_,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(b,g,_,w,S={}){const M=yield nt(b,g,_,w,S);return"mfaPendingCredential"in M&&Ae(b,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Hr(b,g,_,w){const S=`${g}${_}?${w}`;return b.config.emulator?Xe(b.config,S):`${b.config.apiScheme}://${S}`}class Ri{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function si(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=Se(b,g,w);return S.customData._tokenResponse=_,S}function ms(){return(ms=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bn(b,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function lt(b,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Di(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ei(){return(Ei=(0,l.Z)(function*(b,g=!1){const _=(0,V.m9)(b),w=yield _.getIdToken(g),S=mt(w);J(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,Z=M?.sign_in_provider;return{claims:S,token:w,authTime:Di(Nt(S.auth_time)),issuedAtTime:Di(Nt(S.iat)),expirationTime:Di(Nt(S.exp)),signInProvider:Z||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(b){return 1e3*Number(b)}function mt(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(_);return S?JSON.parse(S):(_e("Failed to decode base64 JWT payload"),null)}catch(S){return _e("Caught error parsing JWT payload as JSON",S?.toString()),null}}function hn(b,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof V.ZR&&Fn(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Fn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ii{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class dr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),S=yield hn(b,lt(_,{idToken:w}));J(S?.users.length,_,"internal-error");const M=S.users[0];b._notifyReloadListener(M);const Z=null!==(g=M.providerUserInfo)&&void 0!==g&&g.length?Xn(M.providerUserInfo):[],ge=oi(b.providerData,Z),jt=!!b.isAnonymous&&!(b.email&&M.passwordHash||ge?.length),dn={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ge,metadata:new dr(M.createdAt,M.lastLoginAt),isAnonymous:jt};Object.assign(b,dn)})).apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(b){const g=(0,V.m9)(b);yield Pi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function oi(b,g){return[...b.filter(w=>!g.some(S=>S.providerId===w.providerId)),...g]}function Xn(b){return b.map(g=>{var{providerId:_}=g,w=(0,ve._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function he(){return(he=(0,l.Z)(function*(b,g){const _=yield vn(b,{},(0,l.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:M}=b.config,Z=Hr(b,S,"/v1/token",`key=${M}`),ge=yield b._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(Z,{method:"POST",headers:ge,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Tt(b){const g=mt(b);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,l.Z)(function*(){return J(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:Z}=yield function Le(b,g){return he.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(S,M,Number(Z))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:S,expirationTime:M}=_,Z=new et;return w&&(J("string"==typeof w,"internal-error",{appName:g}),Z.refreshToken=w),S&&(J("string"==typeof S,"internal-error",{appName:g}),Z.accessToken=S),M&&(J("number"==typeof M,"internal-error",{appName:g}),Z.expirationTime=M),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Q("not implemented")}}function wt(b,g){J("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Ot{constructor(g){var{uid:_,auth:w,stsTokenManager:S}=g,M=(0,ve._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new dr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const w=yield hn(_,_.stsTokenManager.getToken(_.auth,g));return J(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function cr(b){return Ei.apply(this,arguments)}(this,g)}reload(){return function _s(b){return Ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ot(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,l.Z)(function*(){let S=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),S=!0),_&&(yield Pi(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield hn(g,function ki(b,g){return ms.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,S,M,Z,ge,Je,dt,jt;const dn=null!==(w=_.displayName)&&void 0!==w?w:void 0,Nr=null!==(S=_.email)&&void 0!==S?S:void 0,Hi=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,qs=null!==(Z=_.photoURL)&&void 0!==Z?Z:void 0,Io=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,To=null!==(Je=_._redirectEventId)&&void 0!==Je?Je:void 0,ma=null!==(dt=_.createdAt)&&void 0!==dt?dt:void 0,Bd=null!==(jt=_.lastLoginAt)&&void 0!==jt?jt:void 0,{uid:_a,emailVerified:_p,isAnonymous:yp,providerData:Vd,stsTokenManager:yl}=_;J(_a&&yl,g,"internal-error");const N_=et.fromJSON(this.name,yl);J("string"==typeof _a,g,"internal-error"),wt(dn,g.name),wt(Nr,g.name),J("boolean"==typeof _p,g,"internal-error"),J("boolean"==typeof yp,g,"internal-error"),wt(Hi,g.name),wt(qs,g.name),wt(Io,g.name),wt(To,g.name),wt(ma,g.name),wt(Bd,g.name);const Ud=new Ot({uid:_a,auth:g,email:Nr,emailVerified:_p,displayName:dn,isAnonymous:yp,photoURL:qs,phoneNumber:Hi,tenantId:Io,stsTokenManager:N_,createdAt:ma,lastLoginAt:Bd});return Vd&&Array.isArray(Vd)&&(Ud.providerData=Vd.map(vp=>Object.assign({},vp))),To&&(Ud._redirectEventId=To),Ud}static _fromIdTokenResponse(g,_,w=!1){return(0,l.Z)(function*(){const S=new et;S.updateFromServerResponse(_);const M=new Ot({uid:_.localId,auth:g,stsTokenManager:S,isAnonymous:w});return yield Pi(M),M})()}}const U=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,l.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function B(b,g,_){return`firebase:${b}:${g}:${_}`}class z{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:S,name:M}=this.auth;this.fullUserKey=B(this.userKey,S.apiKey,M),this.fullPersistenceKey=B("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ot._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new z(Oe(U),g,w);const S=(yield Promise.all(_.map(function(){var dt=(0,l.Z)(function*(jt){if(yield jt._isAvailable())return jt});return function(jt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let M=S[0]||Oe(U);const Z=B(w,g.config.apiKey,g.name);let ge=null;for(const dt of _)try{const jt=yield dt._get(Z);if(jt){const dn=Ot._fromJSON(g,jt);dt!==M&&(ge=dn),M=dt;break}}catch{}const Je=S.filter(dt=>dt._shouldAllowMigration);return M._shouldAllowMigration&&Je.length?(M=Je[0],ge&&(yield M._set(Z,ge.toJSON())),yield Promise.all(_.map(function(){var dt=(0,l.Z)(function*(jt){if(jt!==M)try{yield jt._remove(Z)}catch{}});return function(jt){return dt.apply(this,arguments)}}())),new z(M,g,w)):new z(M,g,w)})()}}function L(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ee(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(O(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ze(g))return"Blackberry";if(Rt(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||X(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function O(b=(0,V.z$)()){return/firefox\//i.test(b)}function P(b=(0,V.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function X(b=(0,V.z$)()){return/crios\//i.test(b)}function Ee(b=(0,V.z$)()){return/iemobile/i.test(b)}function ct(b=(0,V.z$)()){return/android/i.test(b)}function ze(b=(0,V.z$)()){return/blackberry/i.test(b)}function Rt(b=(0,V.z$)()){return/webos/i.test(b)}function _t(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function fn(b=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Dr(b=(0,V.z$)()){return _t(b)||ct(b)||Rt(b)||ze(b)||/windows phone/i.test(b)||Ee(b)}function qo(b,g=[]){let _;switch(b){case"Browser":_=L((0,V.z$)());break;case"Worker":_=`${L((0,V.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${w}`}class t_{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=M=>new Promise((Z,ge)=>{try{Z(g(M))}catch(Je){ge(Je)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const S of _.queue)yield S(g),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const M of w)try{M()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Nf{constructor(g,_,w){this.app=g,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zo(this),this.idTokenSubscription=new Zo(this),this.beforeStateQueue=new t_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=Oe(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,M;if(!w._deleted&&(w.persistenceManager=yield z.create(w,g),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let M=S,Z=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ge=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Je=M?._redirectEventId,dt=yield _.tryRedirectSignIn(g);(!ge||ge===Je)&&dt?.user&&(M=dt.user,Z=!0)}if(!M)return _.directlySetCurrentUser(null);if(!M._redirectEventId){if(Z)try{yield _.beforeStateQueue.runMiddleware(M)}catch(ge){M=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ge))}return M?_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)}return J(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Pi(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Re(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const w=g?(0,V.m9)(g):null;return w&&J(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&J(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Oe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&Oe(g)||_._popupRedirectResolver;J(w,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[Oe(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return J(Z,this,"internal-error"),Z.then(()=>M(this.currentUser)),"function"==typeof _?g.addObserver(_,w,S):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function hr(b){return(0,V.m9)(b)}class Zo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Of(b,g,_){const w=hr(b);J(w._canInitEmulator,w,"emulator-config-failed"),J(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,M=Xc(g),{host:Z,port:ge}=function Mf(b){const g=Xc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const M=S[1];return{host:M,port:Xa(w.substr(M.length+1))}}{const[M,Z]=w.split(":");return{host:M,port:Xa(Z)}}}(g);w.config.emulator={url:`${M}//${Z}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:ge,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Qt(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Xc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Xa(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Sn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Q("not implemented")}_getIdTokenResponse(g){return Q("not implemented")}_linkToIdToken(g,_){return Q("not implemented")}_getReauthenticationResolver(g){return Q("not implemented")}}function Er(b,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:resetPassword",yt(b,g))})).apply(this,arguments)}function Gr(b,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rt(b,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:update",yt(b,g))})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPassword",yt(b,g))})).apply(this,arguments)}function Fi(b,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:sendOobCode",yt(b,g))})).apply(this,arguments)}function fr(b,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(b,g){return Fi(b,g)})).apply(this,arguments)}function eu(b,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(b,g){return Fi(b,g)})).apply(this,arguments)}function $t(b,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,g){return Fi(b,g)})).apply(this,arguments)}function ao(b,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(b,g){return Fi(b,g)})).apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}class Wr extends Sn{constructor(g,_,w,S=null){super("password",w),this._email=g,this._password=_,this._tenantId=S}static _fromEmailAndPassword(g,_){return new Wr(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Wr(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function An(b,g){return zr.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Jo(b,g){return nr.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Gr(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function tu(b,g){return ys.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qr(b,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithIdp",yt(b,g))})).apply(this,arguments)}class Hn extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Hn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S}=_,M=(0,ve._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new Hn(w,S);return Z.idToken=M.idToken||void 0,Z.accessToken=M.accessToken||void 0,Z.secret=M.secret,Z.nonce=M.nonce,Z.pendingToken=M.pendingToken||null,Z}_getIdTokenResponse(g){return qr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,qr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,V.xO)(_)}return g}}function ed(b,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:sendVerificationCode",yt(b,g))})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g))})).apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(b,g){const _=yield sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g));if(_.temporaryProof)throw si(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const zb={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),zb)})).apply(this,arguments)}class vs extends Sn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new vs({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new vs({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ru(b,g){return Qo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Vs(b,g){return pr.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function li(b,g){return ui.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:M}=g;return w||_||S||M?new vs({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:M}):null}}class Ir{constructor(g){var _,w,S,M,Z,ge;const Je=(0,V.zd)((0,V.pd)(g)),dt=null!==(_=Je.apiKey)&&void 0!==_?_:null,jt=null!==(w=Je.oobCode)&&void 0!==w?w:null,dn=function el(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Je.mode)&&void 0!==S?S:null);J(dt&&jt&&dn,"argument-error"),this.apiKey=dt,this.operation=dn,this.code=jt,this.continueUrl=null!==(M=Je.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Z=Je.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ge=Je.tenantId)&&void 0!==ge?ge:null}static parseLink(g){const _=function iu(b){const g=(0,V.zd)((0,V.pd)(b)).link,_=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(b)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||_||g||b}(g);try{return new Ir(_)}catch{return null}}}let xf=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Wr._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=Ir.parseLink(w);return J(S,"argument-error"),Wr._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class bs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Xo extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class su extends Xo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return J("providerId"in _&&"signInMethod"in _,"argument-error"),Hn._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),Hn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return su.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return su.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:M,nonce:Z,providerId:ge}=g;if(!w&&!S&&!_&&!M||!ge)return null;try{return new su(ge)._credential({idToken:_,accessToken:w,nonce:Z,pendingToken:M})}catch{return null}}}let qb=(()=>{class b extends Xo{constructor(){super("facebook.com")}static credential(_){return Hn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),n_=(()=>{class b extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Hn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Zb=(()=>{class b extends Xo{constructor(){super("github.com")}static credential(_){return Hn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class tl extends Sn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return qr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,qr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,qr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S,pendingToken:M}=_;return w&&S&&M&&w===S?new tl(w,M):null}static _create(g,_){return new tl(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nl extends bs{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return nl.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return nl.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=tl.fromJSON(g);return J(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return tl._create(w,_)}catch{return null}}}let i_=(()=>{class b extends Xo{constructor(){super("twitter.com")}static credential(_,w){return Hn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Kb(b,g){return td.apply(this,arguments)}function td(){return(td=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signUp",yt(b,g))})).apply(this,arguments)}class Ci{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,S=!1){return(0,l.Z)(function*(){const M=yield Ot._fromIdTokenResponse(g,w,S),Z=nd(w);return new Ci({user:M,providerId:Z,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const S=nd(w);return new Ci({user:g,providerId:S,_tokenResponse:w,operationType:_})})()}}function nd(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function kf(b){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,l.Z)(function*(b){var g;const _=hr(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Ci({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Kb(_,{returnSecureToken:!0}),S=yield Ci._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Li extends V.ZR{constructor(g,_,w,S){var M;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Li.prototype),this.customData={appName:g.name,tenantId:null!==(M=g.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,S){return new Li(g,_,w,S)}}function Ff(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Li._fromErrorAndOperation(b,M,g,w):M})}function lo(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Yb(b,g){return ou.apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b);yield rl(!0,_,g);const{providerUserInfo:w}=yield bn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),S=lo(w||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function au(b,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,l.Z)(function*(b,g,_=!1){const w=yield hn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ci._forOperation(b,"link",w)})).apply(this,arguments)}function rl(b,g,_){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(b,g,_){yield Pi(g);const S=!1===b?"provider-already-linked":"no-such-provider";J(lo(g.providerData).has(_)===b,g.auth,S)})).apply(this,arguments)}function Lf(b,g){return id.apply(this,arguments)}function id(){return(id=(0,l.Z)(function*(b,g,_=!1){const{auth:w}=b,S="reauthenticate";try{const M=yield hn(b,Ff(w,S,g,b),_);J(M.idToken,w,"internal-error");const Z=mt(M.idToken);J(Z,w,"internal-error");const{sub:ge}=Z;return J(b.uid===ge,w,"user-mismatch"),Ci._forOperation(b,S,M)}catch(M){throw"auth/user-not-found"===M?.code&&Ae(w,"user-mismatch"),M}})).apply(this,arguments)}function sd(b,g){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(b,g,_=!1){const w="signIn",S=yield Ff(b,w,g),M=yield Ci._fromIdTokenResponse(b,w,S);return _||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Zr(b,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(b,g){return sd(hr(b),g)})).apply(this,arguments)}function od(b,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b);return yield rl(!1,_,g.providerId),au(_,g)})).apply(this,arguments)}function cu(b,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(b,g){return Lf((0,V.m9)(b),g)})).apply(this,arguments)}function Tr(b,g){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(b,g){return sn(b,"POST","/v1/accounts:signInWithCustomToken",yt(b,g))})).apply(this,arguments)}function Bf(b,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(b,g){const _=hr(b),w=yield Tr(_,{token:g,returnSecureToken:!0}),S=yield Ci._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Cr{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?ld._fromServerResponse(g,_):Ae(g,"internal-error")}}class ld extends Cr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new ld(_)}}function co(b,g,_){var w;J((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),J(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(J(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(J(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function s_(b,g,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S={requestType:"PASSWORD_RESET",email:g};_&&co(w,S,_),yield eu(w,S)})).apply(this,arguments)}function Vf(b,g,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(b,g,_){yield Er((0,V.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Pt(b,g){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(b,g){yield rt((0,V.m9)(b),{oobCode:g})})).apply(this,arguments)}function Jb(b,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b),w=yield Er(_,{oobCode:g}),S=w.requestType;switch(J(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(w.mfaInfo,_,"internal-error");default:J(w.email,_,"internal-error")}let M=null;return w.mfaInfo&&(M=Cr._fromServerResponse(hr(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function o_(b,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(b,g){const{data:_}=yield Jb((0,V.m9)(b),g);return _.email})).apply(this,arguments)}function Uf(b,g,_){return $f.apply(this,arguments)}function $f(){return($f=(0,l.Z)(function*(b,g,_){const w=hr(b),S=yield Kb(w,{returnSecureToken:!0,email:g,password:_}),M=yield Ci._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(M.user),M})).apply(this,arguments)}function a_(b,g,_){return Zr((0,V.m9)(b),xf.credential(g,_))}function ue(b,g,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S={requestType:"EMAIL_SIGNIN",email:g};J(_.handleCodeInApp,w,"argument-error"),_&&co(w,S,_),yield $t(w,S)})).apply(this,arguments)}function l_(b,g){return"EMAIL_SIGNIN"===Ir.parseLink(g)?.operation}function u_(b,g,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S=xf.credentialWithLink(g,_||te());return J(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Zr(w,S)})).apply(this,arguments)}function c_(b,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:createAuthUri",yt(b,g))})).apply(this,arguments)}function ts(b,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(b,g){const w={identifier:g,continueUri:oe()?te():"http://localhost"},{signinMethods:S}=yield c_((0,V.m9)(b),w);return S||[]})).apply(this,arguments)}function jf(b,g){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,l.Z)(function*(b,g){const _=(0,V.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&co(_.auth,S,g);const{email:M}=yield fr(_.auth,S);M!==b.email&&(yield b.reload())})).apply(this,arguments)}function d_(b,g,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&co(w.auth,M,_);const{email:Z}=yield ao(w.auth,M);Z!==b.email&&(yield b.reload())})).apply(this,arguments)}function Fr(b,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(b,g){return nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function na(b,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,V.m9)(b),M={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Z=yield hn(w,Fr(w.auth,M));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const ge=w.providerData.find(({providerId:Je})=>"password"===Je);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Us(b,g){return pu((0,V.m9)(b),g,null)}function Gf(b,g){return pu((0,V.m9)(b),null,g)}function pu(b,g,_){return zf.apply(this,arguments)}function zf(){return(zf=(0,l.Z)(function*(b,g,_){const{auth:w}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(M.email=g),_&&(M.password=_);const Z=yield hn(b,Gr(w,M));yield b._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class $s{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class ol extends $s{constructor(g,_,w,S){super(g,_,w),this.username=S}}class h_ extends $s{constructor(g,_){super(g,"facebook.com",_)}}class Wf extends ol{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Xb extends $s{constructor(g,_){super(g,"google.com",_)}}class f_ extends ol{constructor(g,_,w){super(g,"twitter.com",_,w)}}function qf(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Qb(b){var g,_;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const Z=null===(_=null===(g=mt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Z)return new $s(M,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new h_(M,S);case"github.com":return new Wf(M,S);case"google.com":return new Xb(M,S);case"twitter.com":return new f_(M,S,b.screenName||null);case"custom":case"anonymous":return new $s(M,null);default:return new $s(M,w,S)}}(_)}class un{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new un("enroll",g,_)}static _fromMfaPendingCredential(g){return new un("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return un._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return un._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zf{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=hr(g),S=_.customData._serverResponse,M=(S.mfaInfo||[]).map(ge=>Cr._fromServerResponse(w,ge));J(S.mfaPendingCredential,w,"internal-error");const Z=un._fromMfaPendingCredential(S.mfaPendingCredential);return new Zf(Z,M,function(){var ge=(0,l.Z)(function*(Je){const dt=yield Je._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const jt=Object.assign(Object.assign({},S),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(_.operationType){case"signIn":const dn=yield Ci._fromIdTokenResponse(w,_.operationType,jt);return yield w._updateCurrentUser(dn.user),dn;case"reauthenticate":return J(_.user,w,"internal-error"),Ci._forOperation(_.user,_.operationType,jt);default:Ae(w,"internal-error")}});return function(Je){return ge.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function rw(b,g){var _;const w=(0,V.m9)(b),S=g;return J(g.customData.operationType,w,"argument-error"),J(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Zf._fromError(w,S)}function iw(b,g){return nt(b,"POST","/v2/accounts/mfaEnrollment:start",yt(b,g))}class Kf{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Cr._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Kf(g)}getSession(){var g=this;return(0,l.Z)(function*(){return un._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,l.Z)(function*(){const S=g,M=yield w.getSession(),Z=yield hn(w.user,S._process(w.user.auth,M,_));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,S=yield _.user.getIdToken();try{const M=yield hn(_.user,function ow(b,g){return nt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(b,g))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Z})=>Z!==w),yield _.user._updateTokensIfNecessary(M),yield _.user.reload()}catch(M){throw M}})()}}const al=new WeakMap;function dd(b){const g=(0,V.m9)(b);return al.has(g)||al.set(g,Kf._fromUser(g)),al.get(g)}const fo="__sak";class ra{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const hd=(()=>{class b extends ra{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ia(){const b=(0,V.z$)();return P(b)||_t(b)}()&&function Xl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),M=this.localCache[w];S!==M&&_(w,M,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ge,Je,dt)=>{this.notifyListeners(ge,dt)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(S);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const M=()=>{const ge=this.storage.getItem(S);!w&&this.localCache[S]===ge||this.notifyListeners(S,ge)},Z=this.storage.getItem(S);!function kt(){return(0,V.w1)()&&10===document.documentMode}()||Z===_.newValue||_.newValue===_.oldValue?M():setTimeout(M,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,M=this;return(0,l.Z)(function*(){yield S().call(M,_,w),M.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const M=yield w().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),ll=(()=>{class b extends ra{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let y_=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(M=>M.isListeningto(_));if(w)return w;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const S=_,{eventId:M,eventType:Z,data:ge}=S.data,Je=w.handlersMap[Z];if(!Je?.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:Z});const dt=Array.from(Je).map(function(){var dn=(0,l.Z)(function*(Nr){return Nr(S.origin,ge)});return function(Nr){return dn.apply(this,arguments)}}()),jt=yield function aw(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(dt);S.ports[0].postMessage({status:"done",eventId:M,eventType:Z,response:jt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function js(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class fd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var S=this;return(0,l.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Z,ge;return new Promise((Je,dt)=>{const jt=js("",20);M.port1.start();const dn=setTimeout(()=>{dt(new Error("unsupported_event"))},w);ge={messageChannel:M,onMessage(Nr){const Hi=Nr;if(Hi.data.eventId===jt)switch(Hi.data.status){case"ack":clearTimeout(dn),Z=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Je(Hi.data.response);break;default:clearTimeout(dn),clearTimeout(Z),dt(new Error("invalid_response"))}}},S.handlers.add(ge),M.port1.addEventListener("message",ge.onMessage),S.target.postMessage({eventType:g,eventId:jt,data:_},[M.port2])}).finally(()=>{ge&&S.removeMessageHandler(ge)})})()}}function zn(){return window}function Hs(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function Is(){return(Is=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sa="firebaseLocalStorageDb",po="firebaseLocalStorage",yu="fbase_key";class Gs{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ul(b,g){return b.transaction([po],g?"readwrite":"readonly").objectStore(po)}function oa(){const b=indexedDB.open(sa,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(po,{keyPath:yu})}catch(S){_(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(po)?g(w):(w.close(),yield function md(){const b=indexedDB.deleteDatabase(sa);return new Gs(b).toPromise()}(),g(yield oa()))}))})}function vu(b,g,_){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(b,g,_){const w=ul(b,!0).put({[yu]:g,value:_});return new Gs(w).toPromise()})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(b,g){const _=ul(b,!1).get(g),w=yield new Gs(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function bu(b,g){const _=ul(b,!0).delete(g);return new Gs(_).toPromise()}const Qf=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield oa()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const M=yield w._openDb();return yield _(M)}catch(M){if(S++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Hs()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=y_._getInstance(function gd(){return Hs()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function pd(){return Is.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new fd(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);M&&null!==(w=M[0])&&void 0!==w&&w.fulfilled&&null!==(S=M[0])&&void 0!==S&&S.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function _u(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield oa();return yield vu(_,fo,"1"),yield bu(_,fo),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(M=>vu(M,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(M=>function Yf(b,g){return go.apply(this,arguments)}(M,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>bu(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(Z=>{const ge=ul(Z,!1).getAll();return new Gs(ge).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:Z,value:ge}of w)M.add(Z),JSON.stringify(_.localCache[Z])!==JSON.stringify(ge)&&(_.notifyListeners(Z,ge),S.push(Z));for(const Z of Object.keys(_.localCache))_.localCache[Z]&&!M.has(Z)&&(_.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Xf(b,g){return nt(b,"POST","/v2/accounts/mfaSignIn:start",yt(b,g))}function vd(){return(vd=(0,l.Z)(function*(b){return(yield nt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=S=>{const M=Se("internal-error");M.customData=S,_(M)},w.type="text/javascript",w.charset="UTF-8",function lw(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function mo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const cl=1e12;class _o{constructor(g){this.auth=g,this.counter=cl,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new w_(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||cl;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||cl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(g||cl))||void 0===w||w.execute(),""})()}}class w_{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;J(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bd(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const la=mo("rcb"),np=new Pe(3e4,6e4);class ip{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=zn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return J(function ua(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(zn().grecaptcha):new Promise((w,S)=>{const M=zn().setTimeout(()=>{S(Se(g,"network-request-failed"))},np.get());zn()[la]=()=>{zn().clearTimeout(M),delete zn()[la];const ge=zn().grecaptcha;if(!ge)return void S(Se(g,"internal-error"));const Je=ge.render;ge.render=(dt,jt)=>{const dn=Je(dt,jt);return this.counter++,dn},this.hostLanguage=_,w(ge)},aa(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:la,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(Se(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=zn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dl{load(g){return(0,l.Z)(function*(){return new _o(g)})()}clearedOneInstance(){}}const yo="recaptcha",wd={theme:"light",type:"image"};class Dd{constructor(g,_=Object.assign({},wd),w){this.parameters=_,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hr(w),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;J(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dl:new ip,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(M=>{const Z=ge=>{ge&&(g.tokenChangeListeners.delete(Z),M(ge))};g.tokenChangeListeners.add(Z),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=zn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){J(oe()&&!Hs(),g.auth,"internal-error"),yield function ca(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function wu(b){return vd.apply(this,arguments)}(g.auth);J(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class D_{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=vs._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function uw(b,g,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(b,g,_){const w=hr(b),S=yield Eu(w,g,(0,V.m9)(_));return new D_(S,M=>Zr(w,M))})).apply(this,arguments)}function vo(b,g,_){return sp.apply(this,arguments)}function sp(){return(sp=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);yield rl(!1,w,"phone");const S=yield Eu(w.auth,g,(0,V.m9)(_));return new D_(S,M=>od(w,M))})).apply(this,arguments)}function cw(b,g,_){return Du.apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b),S=yield Eu(w.auth,g,(0,V.m9)(_));return new D_(S,M=>cu(w,M))})).apply(this,arguments)}function Eu(b,g,_){return E_.apply(this,arguments)}function E_(){return(E_=(0,l.Z)(function*(b,g,_){var w;const S=yield _.verify();try{let M;if(J("string"==typeof S,b,"argument-error"),J(_.type===yo,b,"argument-error"),M="string"==typeof g?{phoneNumber:g}:g,"session"in M){const Z=M.session;if("phoneNumber"in M)return J("enroll"===Z.type,b,"internal-error"),(yield iw(b,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{J("signin"===Z.type,b,"internal-error");const ge=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return J(ge,b,"missing-multi-factor-info"),(yield Xf(b,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield ed(b,{phoneNumber:M.phoneNumber,recaptchaToken:S});return Z}}finally{_._reset()}})).apply(this,arguments)}function OT(b,g){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(b,g){yield au((0,V.m9)(b),g)})).apply(this,arguments)}let dw=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=hr(_)}verifyPhoneNumber(_,w){return Eu(this.auth,_,(0,V.m9)(w))}static credential(_,w){return vs._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?vs._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function hl(b,g){return g?Oe(g):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ln extends Sn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return qr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return qr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function op(b){return sd(b.auth,new Ln(b),b.bypassAuthState)}function Iu(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),Lf(_,new Ln(b),b.bypassAuthState)}function hw(b){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),au(_,new Ln(b),b.bypassAuthState)})).apply(this,arguments)}class bo{constructor(g,_,w,S,M=!1){this.auth=g,this.resolver=w,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(w,S){g.pendingPromise={resolve:w,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(M){g.reject(M)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:M,tenantId:Z,error:ge,type:Je}=g;if(ge)return void _.reject(ge);const dt={auth:_.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Je)(dt))}catch(jt){_.reject(jt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return op;case"linkViaPopup":case"linkViaRedirect":return hw;case"reauthViaPopup":case"reauthViaRedirect":return Iu;default:Ae(this.auth,"internal-error")}}resolve(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I_=new Pe(2e3,1e4);function Ed(b,g,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(b,g,_){const w=hr(b);be(b,g,bs);const S=hl(w,_);return new Sr(w,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function fw(b,g,_){return T_.apply(this,arguments)}function T_(){return(T_=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,bs);const S=hl(w.auth,_);return new Sr(w.auth,"reauthViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}function Id(b,g,_){return ap.apply(this,arguments)}function ap(){return(ap=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,bs);const S=hl(w.auth,_);return new Sr(w.auth,"linkViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}let Sr=(()=>{class b extends bo{constructor(_,w,S,M,Z){super(_,w,M,Z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return J(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){de(1===_.filter.length,"Popup operations only handle one event");const w=js();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Se(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,I_.get())};_()}}return b.currentPopupAction=null,b})();const qt=new Map;class wo extends bo{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=qt.get(_.auth._key());if(!w){try{const M=(yield function ot(b,g){return Kt.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(M)}catch(S){w=()=>Promise.reject(S)}qt.set(_.auth._key(),w)}return _.bypassAuthState||qt.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const S=yield w.auth._redirectUserForId(g.eventId);if(S)return w.user=S,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Kt(){return(Kt=(0,l.Z)(function*(b,g){const _=Cu(g),w=up(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function Bn(b,g){return Td.apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(b,g){return up(b)._set(Cu(g),"true")})).apply(this,arguments)}function Tu(){qt.clear()}function Wn(b,g){qt.set(b._key(),g)}function up(b){return Oe(b._redirectPersistence)}function Cu(b){return B("pendingRedirect",b.config.apiKey,b.name)}function Su(b,g,_){return function Cd(b,g,_){return zs.apply(this,arguments)}(b,g,_)}function zs(){return(zs=(0,l.Z)(function*(b,g,_){const w=hr(b);be(b,g,bs),yield w._initializationPromise;const S=hl(w,_);return yield Bn(S,w),S._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function cp(b,g,_){return function Bi(b,g,_){return Ye.apply(this,arguments)}(b,g,_)}function Ye(){return(Ye=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,bs),yield w.auth._initializationPromise;const S=hl(w.auth,_);yield Bn(S,w.auth);const M=yield fa(w);return S._openRedirect(w.auth,g,"reauthViaRedirect",M)})).apply(this,arguments)}function dp(b,g,_){return function fl(b,g,_){return Ws.apply(this,arguments)}(b,g,_)}function Ws(){return(Ws=(0,l.Z)(function*(b,g,_){const w=(0,V.m9)(b);be(w.auth,g,bs),yield w.auth._initializationPromise;const S=hl(w.auth,_);yield rl(!1,w,g.providerId),yield Bn(S,w.auth);const M=yield fa(w);return S._openRedirect(w.auth,g,"linkViaRedirect",M)})).apply(this,arguments)}function Sd(b,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(b,g){return yield hr(b)._initializationPromise,Ad(b,g,!1)})).apply(this,arguments)}function Ad(b,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(b,g,_=!1){const w=hr(b),S=hl(w,g),Z=yield new wo(w,S,_).execute();return Z&&!_&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,g)),Z})).apply(this,arguments)}function fa(b){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(b){const g=js(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Nd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ou(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ai(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Ai(g)){const S=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Se(this.auth,S))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Do(g))}saveEventToCache(g){this.cachedEventUids.add(Do(g)),this.lastProcessedEventTime=Date.now()}}function Do(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ai({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function hp(b){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(b,g={}){return nt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Ts=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ui=/^https?/;function In(){return(In=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield hp(b);for(const _ of g)try{if(fp(_))return}catch{}Ae(b,"unauthorized-domain")})).apply(this,arguments)}function fp(b){const g=te(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const Z=new URL(b);return""===Z.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Z.hostname===w}if(!Ui.test(_))return!1;if(Ts.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Mu=new Pe(3e4,6e4);function gn(){const b=zn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let $i=null;function on(b){return $i=$i||function mn(b){return new Promise((g,_)=>{var w,S,M;function Z(){gn(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{gn(),_(Se(b,"network-request-failed"))},timeout:Mu.get()})}if(null!==(S=null===(w=zn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(M=zn().gapi)||void 0===M||!M.load){const ge=mo("iframefcb");return zn()[ge]=()=>{gapi.load?Z():_(Se(b,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Je=>_(Je))}Z()}}).catch(g=>{throw $i=null,g})}(b),$i}const Ar=new Pe(5e3,15e3),pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eo(b){const g=b.config;J(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Xe(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:k.SDK_VERSION},S=Cs.get(b.config.apiHost);S&&(w.eid=S);const M=b._getFrameworks();return M.length&&(w.fw=M.join(",")),`${_}?${(0,V.xO)(w).slice(1)}`}function Ss(){return Ss=(0,l.Z)(function*(b){const g=yield on(b),_=zn().gapi;return J(_,b,"internal-error"),g.open({where:document.body,url:Eo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pw,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(M,Z){yield w.restyle({setHideOnLeave:!1});const ge=Se(b,"network-request-failed"),Je=zn().setTimeout(()=>{Z(ge)},Ar.get());function dt(){zn().clearTimeout(Je),M(w)}w.ping(dt).then(dt,()=>{Z(ge)})});return function(M,Z){return S.apply(this,arguments)}}()))}),Ss.apply(this,arguments)}const C_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function As(b,g,_,w,S,M){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const Z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:k.SDK_VERSION,eventId:S};if(g instanceof bs){g.setDefaultLanguage(b.languageCode),Z.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(Z.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,dt]of Object.entries(M||{}))Z[Je]=dt}if(g instanceof Xo){const Je=g.getScopes().filter(dt=>""!==dt);Je.length>0&&(Z.scopes=Je.join(","))}b.tenantId&&(Z.tid=b.tenantId);const ge=Z;for(const Je of Object.keys(ge))void 0===ge[Je]&&delete ge[Je];return`${function Rd({config:b}){return b.emulator?Xe(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,V.xO)(ge).slice(1)}`}const kd="webStorageSupport",Pd=class ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ll,this._completeRedirectFn=Ad,this._overrideRedirectResult=Wn}_openPopup(g,_,w,S){var M=this;return(0,l.Z)(function*(){var Z;de(null===(Z=M.eventManagers[g._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ge=As(g,_,w,te(),S);return function Ni(b,g,_,w=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const Je=Object.assign(Object.assign({},C_),{width:w.toString(),height:S.toString(),top:M,left:Z}),dt=(0,V.z$)().toLowerCase();_&&(ge=X(dt)?"_blank":_),O(dt)&&(g=g||"http://localhost",Je.scrollbars="yes");const jt=Object.entries(Je).reduce((Nr,[Hi,qs])=>`${Nr}${Hi}=${qs},`,"");if(function er(b=(0,V.z$)()){var g;return _t(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(dt)&&"_self"!==ge)return function Lt(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ge),new gl(null);const dn=window.open(g||"",ge,jt);J(dn,b,"popup-blocked");try{dn.focus()}catch{}return new gl(dn)}(g,ge,js())})()}_openRedirect(g,_,w,S){var M=this;return(0,l.Z)(function*(){return yield M._originValidation(g),function mu(b){zn().location.href=b}(As(g,_,w,te(),S)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(de(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const w=yield function qn(b){return Ss.apply(this,arguments)}(g),S=new Nd(g);return w.register("authEvent",M=>(J(M?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:S},_.iframes[g._key()]=w,S})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(kd,{type:kd},S=>{var M;const Z=null===(M=S?.[0])||void 0===M?void 0:M[kd];void 0!==Z&&_(!!Z),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Od(b){return In.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Dr()||P()||_t()}};class Fd{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return Q("unexpected MultiFactorSessionType")}}}class Ru extends Fd{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ru(g)}_finalizeEnroll(g,_,w){return function sw(b,g){return nt(b,"POST","/v2/accounts/mfaEnrollment:finalize",yt(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ep(b,g){return nt(b,"POST","/v2/accounts/mfaSignIn:finalize",yt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gw=(()=>{class b{constructor(){}static assertion(_){return Ru._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var tn="@firebase/auth";class _l{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function gr(b){(0,k._registerComponent)(new ae.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),{apiKey:M,authDomain:Z}=w.options;return((ge,Je)=>{J(M&&!M.includes(":"),"invalid-api-key",{appName:ge.name}),J(!Z?.includes(":"),"argument-error",{appName:ge.name});const dt={apiKey:M,authDomain:Z,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qo(b)},jt=new Nf(ge,Je,dt);return function tt(b,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Oe);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(jt,_),jt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ae.wA("auth-internal",g=>{const _=hr(g.getProvider("auth").getImmediate());return new _l(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(tn,"0.21.3",function Ld(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(tn,"0.21.3","esm2017")}("Browser")},2090:(bt,Te,F)=>{F.d(Te,{$s:()=>et,BH:()=>we,G6:()=>ce,L:()=>pe,LL:()=>yn,P0:()=>_e,Pz:()=>Se,Sg:()=>be,UG:()=>Q,US:()=>ae,ZB:()=>$,ZR:()=>Qe,aH:()=>Ae,b$:()=>Oe,eu:()=>Re,hl:()=>De,jU:()=>de,m9:()=>zt,ne:()=>Ei,pd:()=>ur,r3:()=>Ri,ru:()=>Ge,tV:()=>xe,uI:()=>J,vZ:()=>bn,w1:()=>tt,xO:()=>Pr,xb:()=>ki,z$:()=>ke,zI:()=>Pe,zd:()=>Di});const se=function(U){const B=[];let z=0;for(let L=0;L<U.length;L++){let O=U.charCodeAt(L);O<128?B[z++]=O:O<2048?(B[z++]=O>>6|192,B[z++]=63&O|128):55296==(64512&O)&&L+1<U.length&&56320==(64512&U.charCodeAt(L+1))?(O=65536+((1023&O)<<10)+(1023&U.charCodeAt(++L)),B[z++]=O>>18|240,B[z++]=O>>12&63|128,B[z++]=O>>6&63|128,B[z++]=63&O|128):(B[z++]=O>>12|224,B[z++]=O>>6&63|128,B[z++]=63&O|128)}return B},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,B){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let O=0;O<U.length;O+=3){const P=U[O],X=O+1<U.length,Ee=X?U[O+1]:0,ct=O+2<U.length,ze=ct?U[O+2]:0;let fn=(15&Ee)<<2|ze>>6,er=63&ze;ct||(er=64,X||(fn=64)),L.push(z[P>>2],z[(3&P)<<4|Ee>>4],z[fn],z[er])}return L.join("")},encodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(U):this.encodeByteArray(se(U),B)},decodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(U):function(U){const B=[];let z=0,L=0;for(;z<U.length;){const O=U[z++];if(O<128)B[L++]=String.fromCharCode(O);else if(O>191&&O<224){const P=U[z++];B[L++]=String.fromCharCode((31&O)<<6|63&P)}else if(O>239&&O<365){const ct=((7&O)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;B[L++]=String.fromCharCode(55296+(ct>>10)),B[L++]=String.fromCharCode(56320+(1023&ct))}else{const P=U[z++],X=U[z++];B[L++]=String.fromCharCode((15&O)<<12|(63&P)<<6|63&X)}}return B.join("")}(this.decodeStringToByteArray(U,B))},decodeStringToByteArray(U,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let O=0;O<U.length;){const P=z[U.charAt(O++)],Ee=O<U.length?z[U.charAt(O)]:0;++O;const ze=O<U.length?z[U.charAt(O)]:64;++O;const _t=O<U.length?z[U.charAt(O)]:64;if(++O,null==P||null==Ee||null==ze||null==_t)throw Error();L.push(P<<2|Ee>>4),64!==ze&&(L.push(Ee<<4&240|ze>>2),64!==_t&&L.push(ze<<6&192|_t))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},pe=function(U){return function(U){const B=se(U);return ae.encodeByteArray(B,!0)}(U).replace(/\./g,"")},xe=function(U){try{return ae.decodeString(U,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(U,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!q(z)||(U[z]=$(U[z],B[z]));return U}function q(U){return"__proto__"!==U}const ee=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=U&&xe(U[1]);return B&&JSON.parse(B)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},_e=U=>{const B=(U=>{var B,z;return null===(z=null===(B=ee())||void 0===B?void 0:B.emulatorHosts)||void 0===z?void 0:z[U]})(U);if(!B)return;const z=B.lastIndexOf(":");if(z<=0||z+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const L=parseInt(B.substring(z+1),10);return"["===B[0]?[B.substring(1,z-1),L]:[B.substring(0,z),L]},Ae=()=>{var U;return null===(U=ee())||void 0===U?void 0:U.config},Se=U=>{var B;return null===(B=ee())||void 0===B?void 0:B[`_${U}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,L)=>{z?this.reject(z):this.resolve(L),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,L))}}}function be(U,B){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=B||"demo-project",O=U.iat||0,P=U.sub||U.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:O,exp:O+3600,auth_time:O,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},U);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(X)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Q(){var U;const B=null===(U=ee())||void 0===U?void 0:U.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){const U=ke();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ce(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function Re(){return new Promise((U,B)=>{try{let z=!0;const L="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(L);O.onsuccess=()=>{O.result.close(),z||self.indexedDB.deleteDatabase(L),U(!0)},O.onupgradeneeded=()=>{z=!1},O.onerror=()=>{var P;B((null===(P=O.error)||void 0===P?void 0:P.message)||"")}}catch(z){B(z)}})}function Pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Qe extends Error{constructor(B,z,L){super(z),this.code=B,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(B,z,L){this.service=B,this.serviceName=z,this.errors=L}create(B,...z){const L=z[0]||{},O=`${this.service}/${B}`,P=this.errors[B],X=P?function Dt(U,B){return U.replace(yt,(z,L)=>{const O=B[L];return null!=O?String(O):`<${L}?>`})}(P,L):"Error";return new Qe(O,`${this.serviceName}: ${X} (${O}).`,L)}}const yt=/\{\$([^}]+)}/g;function Ri(U,B){return Object.prototype.hasOwnProperty.call(U,B)}function ki(U){for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B))return!1;return!0}function bn(U,B){if(U===B)return!0;const z=Object.keys(U),L=Object.keys(B);for(const O of z){if(!L.includes(O))return!1;const P=U[O],X=B[O];if(kr(P)&&kr(X)){if(!bn(P,X))return!1}else if(P!==X)return!1}for(const O of L)if(!z.includes(O))return!1;return!0}function kr(U){return null!==U&&"object"==typeof U}function Pr(U){const B=[];for(const[z,L]of Object.entries(U))Array.isArray(L)?L.forEach(O=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(O))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(L));return B.length?"&"+B.join("&"):""}function Di(U){const B={};return U.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[O,P]=L.split("=");B[decodeURIComponent(O)]=decodeURIComponent(P)}}),B}function ur(U){const B=U.indexOf("?");if(!B)return"";const z=U.indexOf("#",B);return U.substring(B,z>0?z:void 0)}function Ei(U,B){const z=new Nt(U,B);return z.subscribe.bind(z)}class Nt{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(L=>{this.error(L)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,L){let O;if(void 0===B&&void 0===z&&void 0===L)throw new Error("Missing Observer.");O=function Tt(U,B){if("object"!=typeof U||null===U)return!1;for(const z of B)if(z in U&&"function"==typeof U[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:L},void 0===O.next&&(O.next=hn),void 0===O.error&&(O.error=hn),void 0===O.complete&&(O.complete=hn);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),P}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function et(U,B=1e3,z=2){const L=B*Math.pow(z,U),O=Math.round(.5*L*(Math.random()-.5)*2);return Math.min(144e5,L+O)}function zt(U){return U&&U._delegate?U._delegate:U}},5708:(bt,Te,F)=>{var l=F(4650);let V=null;function k(){return V}class ve{}const ae=new l.OlP("DocumentToken");let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const xe=new l.OlP("Location Initialized");let j=(()=>{class n extends Ve{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function q(){return new j((0,l.LFG)(ae))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ce)},providedIn:"root"}),n})();const ee=new l.OlP("appBaseHref");let Ce=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ve),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ve),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ke(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ne(be(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function we(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=$e,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(l.LFG(st))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(){return new Ae((0,l.LFG)(st))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),Ge=(()=>((Ge=Ge||{})[Ge.Format=0]="Format",Ge[Ge.Standalone=1]="Standalone",Ge))(),Oe=(()=>((Oe=Oe||{})[Oe.Narrow=0]="Narrow",Oe[Oe.Abbreviated=1]="Abbreviated",Oe[Oe.Wide=2]="Wide",Oe[Oe.Short=3]="Short",Oe))(),At=(()=>((At=At||{})[At.Short=0]="Short",At[At.Medium=1]="Medium",At[At.Long=2]="Long",At[At.Full=3]="Full",At))(),tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Group=1]="Group",tt[tt.List=2]="List",tt[tt.PercentSign=3]="PercentSign",tt[tt.PlusSign=4]="PlusSign",tt[tt.MinusSign=5]="MinusSign",tt[tt.Exponential=6]="Exponential",tt[tt.SuperscriptingExponent=7]="SuperscriptingExponent",tt[tt.PerMille=8]="PerMille",tt[tt.Infinity=9]="Infinity",tt[tt.NaN=10]="NaN",tt[tt.TimeSeparator=11]="TimeSeparator",tt[tt.CurrencyDecimal=12]="CurrencyDecimal",tt[tt.CurrencyGroup=13]="CurrencyGroup",tt))();function ce(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return bn(a,t)}function De(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return bn(a,t)}function Re(n,e,t){const r=(0,l.cg1)(n),a=bn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return bn(a,t)}function yn(n,e){return bn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Dt(n,e){return bn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function yt(n,e){return bn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function nt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===tt.CurrencyDecimal)return t[l.wAp.NumberSymbols][tt.Decimal];if(e===tt.CurrencyGroup)return t[l.wAp.NumberSymbols][tt.Group]}return r}function Ri(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function kr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ur=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cr={},Ei=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nt=(()=>((Nt=Nt||{})[Nt.Short=0]="Short",Nt[Nt.ShortGMT=1]="ShortGMT",Nt[Nt.Long=2]="Long",Nt[Nt.Extended=3]="Extended",Nt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),Tt=(()=>((Tt=Tt||{})[Tt.DayPeriods=0]="DayPeriods",Tt[Tt.Days=1]="Days",Tt[Tt.Months=2]="Months",Tt[Tt.Eras=3]="Eras",Tt))();function hn(n,e,t,r){let i=function P(n){if(Ee(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return Qn(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ur))return function X(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,m,v),e}(r)}const e=new Date(n);if(!Ee(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Fn(t,e)||e;let f,c=[];for(;e;){if(f=Ei.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const E=c.pop();if(!E)break;e=E}}let m=i.getTimezoneOffset();r&&(m=z(r,m),i=function O(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function L(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(z(e,i)-i))}(i,r,!0));let v="";return c.forEach(E=>{const C=function B(n){if(U[n])return U[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ht(Tt.Eras,Oe.Abbreviated);break;case"GGGG":e=Ht(Tt.Eras,Oe.Wide);break;case"GGGGG":e=Ht(Tt.Eras,Oe.Narrow);break;case"y":e=Ut(mt.FullYear,1,0,!1,!0);break;case"yy":e=Ut(mt.FullYear,2,0,!0,!0);break;case"yyy":e=Ut(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ut(mt.FullYear,4,0,!1,!0);break;case"Y":e=zt(1);break;case"YY":e=zt(2,!0);break;case"YYY":e=zt(3);break;case"YYYY":e=zt(4);break;case"M":case"L":e=Ut(mt.Month,1,1);break;case"MM":case"LL":e=Ut(mt.Month,2,1);break;case"MMM":e=Ht(Tt.Months,Oe.Abbreviated);break;case"MMMM":e=Ht(Tt.Months,Oe.Wide);break;case"MMMMM":e=Ht(Tt.Months,Oe.Narrow);break;case"LLL":e=Ht(Tt.Months,Oe.Abbreviated,Ge.Standalone);break;case"LLLL":e=Ht(Tt.Months,Oe.Wide,Ge.Standalone);break;case"LLLLL":e=Ht(Tt.Months,Oe.Narrow,Ge.Standalone);break;case"w":e=Ot(1);break;case"ww":e=Ot(2);break;case"W":e=Ot(1,!0);break;case"d":e=Ut(mt.Date,1);break;case"dd":e=Ut(mt.Date,2);break;case"c":case"cc":e=Ut(mt.Day,1);break;case"ccc":e=Ht(Tt.Days,Oe.Abbreviated,Ge.Standalone);break;case"cccc":e=Ht(Tt.Days,Oe.Wide,Ge.Standalone);break;case"ccccc":e=Ht(Tt.Days,Oe.Narrow,Ge.Standalone);break;case"cccccc":e=Ht(Tt.Days,Oe.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":e=Ht(Tt.Days,Oe.Abbreviated);break;case"EEEE":e=Ht(Tt.Days,Oe.Wide);break;case"EEEEE":e=Ht(Tt.Days,Oe.Narrow);break;case"EEEEEE":e=Ht(Tt.Days,Oe.Short);break;case"a":case"aa":case"aaa":e=Ht(Tt.DayPeriods,Oe.Abbreviated);break;case"aaaa":e=Ht(Tt.DayPeriods,Oe.Wide);break;case"aaaaa":e=Ht(Tt.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Ht(Tt.DayPeriods,Oe.Abbreviated,Ge.Standalone,!0);break;case"bbbb":e=Ht(Tt.DayPeriods,Oe.Wide,Ge.Standalone,!0);break;case"bbbbb":e=Ht(Tt.DayPeriods,Oe.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ht(Tt.DayPeriods,Oe.Abbreviated,Ge.Format,!0);break;case"BBBB":e=Ht(Tt.DayPeriods,Oe.Wide,Ge.Format,!0);break;case"BBBBB":e=Ht(Tt.DayPeriods,Oe.Narrow,Ge.Format,!0);break;case"h":e=Ut(mt.Hours,1,-12);break;case"hh":e=Ut(mt.Hours,2,-12);break;case"H":e=Ut(mt.Hours,1);break;case"HH":e=Ut(mt.Hours,2);break;case"m":e=Ut(mt.Minutes,1);break;case"mm":e=Ut(mt.Minutes,2);break;case"s":e=Ut(mt.Seconds,1);break;case"ss":e=Ut(mt.Seconds,2);break;case"S":e=Ut(mt.FractionalSeconds,1);break;case"SS":e=Ut(mt.FractionalSeconds,2);break;case"SSS":e=Ut(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xn(Nt.Short);break;case"ZZZZZ":e=Xn(Nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xn(Nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xn(Nt.Long);break;default:return null}return U[n]=e,e}(E);v+=C?C(i,t,m):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Qn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Fn(n,e){const t=function oe(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(cr[t]=cr[t]||{},cr[t][e])return cr[t][e];let r="";switch(e){case"shortDate":r=yn(n,At.Short);break;case"mediumDate":r=yn(n,At.Medium);break;case"longDate":r=yn(n,At.Long);break;case"fullDate":r=yn(n,At.Full);break;case"shortTime":r=Dt(n,At.Short);break;case"mediumTime":r=Dt(n,At.Medium);break;case"longTime":r=Dt(n,At.Long);break;case"fullTime":r=Dt(n,At.Full);break;case"short":const i=Fn(n,"shortTime"),a=Fn(n,"shortDate");r=Ii(yt(n,At.Short),[i,a]);break;case"medium":const c=Fn(n,"mediumTime"),f=Fn(n,"mediumDate");r=Ii(yt(n,At.Medium),[c,f]);break;case"long":const m=Fn(n,"longTime"),v=Fn(n,"longDate");r=Ii(yt(n,At.Long),[m,v]);break;case"full":const E=Fn(n,"fullTime"),C=Fn(n,"fullDate");r=Ii(yt(n,At.Full),[E,C])}return r&&(cr[t][e]=r),r}function Ii(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function dr(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function Ut(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function _s(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===mt.Hours)0===f&&-12===t&&(f=12);else if(n===mt.FractionalSeconds)return function Pi(n,e){return dr(n,3).substring(0,e)}(f,e);const m=nt(c,tt.MinusSign);return dr(f,e,m,r,i)}}function Ht(n,e,t=Ge.Format,r=!1){return function(i,a){return function oi(n,e,t,r,i,a){switch(t){case Tt.Months:return Re(e,i,r)[n.getMonth()];case Tt.Days:return De(e,i,r)[n.getDay()];case Tt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const v=function si(n){const e=(0,l.cg1)(n);return Ri(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?kr(r):[kr(r[0]),kr(r[1])])}(e),E=function ki(n,e,t){const r=(0,l.cg1)(n);Ri(r);const a=bn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return bn(a,t)||[]}(e,i,r),C=v.findIndex(N=>{if(Array.isArray(N)){const[x,G]=N,Y=c>=x.hours&&f>=x.minutes,re=c<G.hours||c===G.hours&&f<G.minutes;if(x.hours<G.hours){if(Y&&re)return!0}else if(Y||re)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==C)return E[C]}return ce(e,i,r)[c<12?0:1];case Tt.Eras:return function Pe(n,e){return bn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Xn(n){return function(e,t,r){const i=-1*r,a=nt(t,tt.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Nt.Short:return(i>=0?"+":"")+dr(c,2,a)+dr(Math.abs(i%60),2,a);case Nt.ShortGMT:return"GMT"+(i>=0?"+":"")+dr(c,1,a);case Nt.Long:return"GMT"+(i>=0?"+":"")+dr(c,2,a)+":"+dr(Math.abs(i%60),2,a);case Nt.Extended:return 0===r?"Z":(i>=0?"+":"")+dr(c,2,a)+":"+dr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function wt(n){return Qn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ot(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=wt(t),c=function et(n){const e=Qn(n,0,1).getDay();return Qn(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return dr(i,n,nt(r,tt.MinusSign))}}function zt(n,e=!1){return function(t,r){return dr(wt(t).getFullYear(),n,nt(r,tt.MinusSign),e)}}const U={};function z(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ee(n){return n instanceof Date&&!isNaN(n.valueOf())}const ct=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Xa(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const ai=/\s+/,rt=[];let xt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=rt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ai):rt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ai):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ai).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class tr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),wn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wn(n,e){n.context.$implicit=e.item}let jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ko("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ko("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Ko(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let qr=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),c=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ti=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function Hn(n,e){return new l.vHH(2100,!1)}class ed{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class nu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ru=new nu,Qo=new ed;let Vs=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return ru;if((0,l.F4k)(t))return Qo;throw Hn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const el=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),iu=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ir=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return hn(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Hn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(el,24),l.Y36(iu,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),r_=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Rf(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Nf(n,e,t){return function qo(n,e,t,r,i,a,c=!1){let f="",m=!1;if(isFinite(n)){let v=function Xc(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(v=function Of(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let E=e.minInt,C=e.minFrac,N=e.maxFrac;if(a){const Ie=a.match(ct);if(null===Ie)throw new Error(`${a} is not a valid digit info`);const qe=Ie[1],Ue=Ie[3],Be=Ie[5];null!=qe&&(E=Xa(qe)),null!=Ue&&(C=Xa(Ue)),null!=Be?N=Xa(Be):null!=Ue&&C>N&&(N=C)}!function Mf(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let C=c;C<r.length;C++)r[C]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let C=1;C<c;C++)r[C]=0}if(f>=5)if(c-1<0){for(let C=0;C>c;C--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const v=e+n.integerLen,E=r.reduceRight(function(C,N,x,G){return G[x]=(N+=C)<10?N:N-10,m&&(0===G[x]&&x>=v?G.pop():m=!1),N>=10?1:0},0);E&&(r.unshift(E),n.integerLen++)}(v,C,N);let x=v.digits,G=v.integerLen;const Y=v.exponent;let re=[];for(m=x.every(Ie=>!Ie);G<E;G++)x.unshift(0);for(;G<0;G++)x.unshift(0);G>0?re=x.splice(G,x.length):(re=x,x=[0]);const fe=[];for(x.length>=e.lgSize&&fe.unshift(x.splice(-e.lgSize,x.length).join(""));x.length>e.gSize;)fe.unshift(x.splice(-e.gSize,x.length).join(""));x.length&&fe.unshift(x.join("")),f=fe.join(nt(t,r)),re.length&&(f+=nt(t,i)+re.join("")),Y&&(f+=nt(t,tt.Exponential)+"+"+Y)}else f=nt(t,tt.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Zo(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let E=0;E<m.length;E++){const C=m.charAt(E);"0"===C?t.minFrac=t.maxFrac=E+1:"#"===C?t.maxFrac=E+1:t.posSuf+=C}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,a){const E=i.length-t.posPre.length-t.posSuf.length,C=a.indexOf("#");t.negPre=a.substring(0,C).replace(/'/g,""),t.negSuf=a.slice(C+E).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rn(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Q.Percent),nt(e,tt.MinusSign)),e,tt.Group,tt.Decimal,t,!0).replace(new RegExp("%","g"),nt(e,tt.PercentSign))}(function nl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw Hn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let i_=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw Hn();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),td=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ci="browser";function Li(n){return n===Ci}function Ff(n){return"server"===n}let au=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new rd((0,l.LFG)(ae),window)}),n})();class rd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function lu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rl(this.window.history)||rl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fo extends ve{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ra extends fo{static makeCurrent(){!function se(n){V||(V=n)}(new ra)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function __(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}();return null==t?null:function gu(n){Es=Es||document.createElement("a"),Es.setAttribute("href",n);const e=Es.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Es,ia=null;const hd=new l.OlP("TRANSITION_ID"),ll=[{provide:l.ip1,useFactory:function NT(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[hd,ae,l.zs3],multi:!0}];let y_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const js=new l.OlP("EventManagerPlugins");let fd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(js),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n extends mu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pd(n){k().remove(n)}const Is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_u=/%COMP%/g;function ul(n,e){return e.flat(100).map(t=>t.replace(_u,n))}function md(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let oa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new vu(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new bu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new Jf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ul(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fd),l.LFG(Hs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Is[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(go(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(go(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Is[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Is[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,md(r)):this.eventManager.addEventListener(e,t,md(r))}}function go(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bu extends vu{constructor(e,t,r,i){super(e),this.component=r;const a=ul(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function yu(n){return"_ngcontent-%COMP%".replace(_u,n)}(i+"-"+r.id),this.hostAttr=function Gs(n){return"_nghost-%COMP%".replace(_u,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Jf extends vu{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ul(i.id,i.styles);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _d=(()=>{class n extends zn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yd=["alt","control","meta","shift"],Qf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ep=(()=>{class n extends zn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),yd.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),c+=v+".")}),c+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Qf[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yd.forEach(c=>{c!==i&&(0,Xf[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const w_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ci},{provide:l.g9A,useValue:function b_(){ra.makeCurrent()},multi:!0},{provide:ae,useFactory:function cl(){return(0,l.RDi)(document),document},deps:[]}]),bd=new l.OlP(""),la=[{provide:l.rWj,useClass:class aw{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],np=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function tp(){return new l.qLn},deps:[]},{provide:js,useClass:_d,multi:!0,deps:[ae,l.R0b,l.Lbi]},{provide:js,useClass:ep,multi:!0,deps:[ae]},{provide:oa,useClass:oa,deps:[fd,Hs,l.AFp]},{provide:l.FYo,useExisting:oa},{provide:mu,useExisting:Hs},{provide:Hs,useClass:Hs,deps:[ae]},{provide:fd,useClass:fd,deps:[js,l.R0b]},{provide:class id{},useClass:y_,deps:[]},[]];let rp=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:hd,useExisting:l.AFp},ll]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bd,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...np,...la],imports:[td,l.hGG]}),n})(),wd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yo(){return new wd((0,l.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Sr),r},providedIn:"root"}),n})(),Sr=(()=>{class n extends Id{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ap(n){return new Sr(n.get(ae))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var qt=F(8996),wo=F(3269);function ot(...n){const e=(0,wo.yG)(n);return(0,qt.D)(n,e)}var Kt=F(7579);class Bn extends Kt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Tu=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Wn=F(9751);const{isArray:up}=Array,{getPrototypeOf:Cu,prototype:Su,keys:Cd}=Object;var Bi=F(4671),Ye=F(4004);const{isArray:dp}=Array;function Ws(n){return(0,Ye.U)(e=>function fl(n,e){return dp(e)?n(...e):n(e)}(n,e))}var pn=F(5403),Ad=F(9672);function Vi(...n){const e=(0,wo.yG)(n),t=(0,wo.jO)(n),{args:r,keys:i}=function zs(n){if(1===n.length){const e=n[0];if(up(e))return{args:e,keys:null};if(function cp(n){return n&&"object"==typeof n&&Cu(n)===Su}(e)){const t=Cd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,qt.D)([],e);const a=new Wn.y(function fa(n,e,t=Bi.y){return r=>{Au(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)Au(e,()=>{const v=(0,qt.D)(n[m],e);let E=!1;v.subscribe((0,pn.x)(r,C=>{a[m]=C,E||(E=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function Sd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):Bi.y));return t?a.pipe(Ws(t)):a}function Au(n,e,t){n?(0,Ad.f)(t,n,e):e()}var Nu=F(8189);function Do(...n){return function Nd(){return(0,Nu.J)(1)}()((0,qt.D)(n,(0,wo.yG)(n)))}var Ai=F(8421);function Ou(n){return new Wn.y(e=>{(0,Ai.Xf)(n()).subscribe(e)})}var hp=F(9635),Lr=F(576);function Ts(n,e){const t=(0,Lr.m)(n)?n:()=>n,r=i=>i.error(t());return new Wn.y(e?i=>e.schedule(r,0,i):r)}var Ui=F(515),Od=F(727),In=F(4482);function fp(){return(0,In.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Mu extends Wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,In.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Od.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Od.w0.EMPTY)}return e}refCount(){return fp()(this)}}function gn(n,e){return(0,In.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,pn.x)(r,m=>{i?.unsubscribe();let v=0;const E=a++;(0,Ai.Xf)(n(m,E)).subscribe(i=(0,pn.x)(r,C=>r.next(e?e(m,C,E,v++):C),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function mn(n){return n<=0?()=>Ui.E:(0,In.e)((e,t)=>{let r=0;e.subscribe((0,pn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $i(...n){const e=(0,wo.yG)(n);return(0,In.e)((t,r)=>{(e?Do(n,t,e):Do(n,t)).subscribe(r)})}function on(n,e){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ar=F(5577);function Md(n){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xu(n=pw){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pw(){return new Tu}function Cs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?on((i,a)=>n(i,a,r)):Bi.y,mn(1),t?Md(e):xu(()=>new Tu))}function Eo(n,e){return(0,Lr.m)(e)?(0,Ar.z)(n,e,1):(0,Ar.z)(n,1)}function qn(n,e,t){const r=(0,Lr.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,In.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,pn.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Bi.y}function Ss(n){return(0,In.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,pn.x)(t,void 0,void 0,c=>{a=(0,Ai.Xf)(n(c,Ss(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function C_(n,e,t,r,i){return(a,c)=>{let f=t,m=e,v=0;a.subscribe((0,pn.x)(c,E=>{const C=v++;m=f?n(m,E,C):(f=!0,E),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function pa(n,e){return(0,In.e)(C_(n,e,arguments.length>=2,!0))}function pl(n){return n<=0?()=>Ui.E:(0,In.e)((e,t)=>{let r=[];e.subscribe((0,pn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?on((i,a)=>n(i,a,r)):Bi.y,pl(1),t?Md(e):xu(()=>new Tu))}function gl(n){return(0,Ye.U)(()=>n)}function Ni(n){return(0,In.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",ml=Symbol("RouteTitle");class S_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function As(n){return new S_(n)}function Rd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Pd(n[i],e[i]))return!1;return!0}function Pd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Fd(n){return Array.prototype.concat.apply([],n)}function Ru(n){return n.length>0?n[n.length-1]:null}function tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ji(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,qt.D)(Promise.resolve(n)):ot(n)}const _l=!1,Ld={exact:function ku(n,e,t){if(!Z(n.segments,e.segments)||!g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ku(n.children[r],e.children[r],t))return!1;return!0},subset:mp},gr={exact:function gp(n,e){return ns(n,e)},subset:function A_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Pd(n[t],e[t]))},ignored:()=>!0};function ga(n,e,t){return Ld[t.paths](n.root,e.root,t.matrixParams)&&gr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mp(n,e,t){return b(n,e,e.segments,t)}function b(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Z(i,t)||e.hasChildren()||!g(i,t,r))}if(n.segments.length===t.length){if(!Z(n.segments,t)||!g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!mp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Z(n.segments,i)&&g(n.segments,i,r)&&n.children[Lt])&&b(n.children[Lt],e,a,r)}}function g(n,e,t){return e.every((r,i)=>gr[t](n[i].parameters,r.parameters))}class _{constructor(e=new w([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class w{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=As(this.parameters)),this._parameterMap}toString(){return _a(this)}}function Z(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new dt},providedIn:"root"}),n})();class dt{parse(e){const t=new mw(e);return new _(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nr(e.root,!0)}`,r=function yp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${qs(t)}=${qs(i)}`).join("&"):`${qs(t)}=${qs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Io(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jt=new dt;function dn(n){return n.segments.map(e=>_a(e)).join("/")}function Nr(n,e){if(!n.hasChildren())return dn(n);if(e){const t=n.children[Lt]?Nr(n.children[Lt],!1):"",r=[];return tn(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${Nr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ge(n,e){let t=[];return tn(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),tn(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[Nr(n.children[Lt],!1)]:[`${i}:${Nr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${dn(n)}/${t[0]}`:`${dn(n)}/(${t.join("//")})`}}function Hi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qs(n){return Hi(n).replace(/%3B/gi,";")}function To(n){return Hi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ma(n){return decodeURIComponent(n)}function Bd(n){return ma(n.replace(/\+/g,"%20"))}function _a(n){return`${To(n.path)}${function _p(n){return Object.keys(n).map(e=>`;${To(e)}=${To(n[e])}`).join("")}(n.parameters)}`}const Vd=/^[^\/()?;=#]+/;function yl(n){const e=n.match(Vd);return e?e[0]:""}const N_=/^[^=?&#]+/,vp=/^[^&#]+/;class mw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new w(e,t)),r}parseSegment(){const e=yl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,_l);return this.capture(e),new S(ma(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yl(this.remaining);i&&(r=i,this.capture(r))}e[ma(t)]=ma(r)}parseQueryParam(e){const t=function Ud(n){const e=n.match(N_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function O_(n){const e=n.match(vp);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Bd(t),a=Bd(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,_l);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Lt]:new w([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,_l)}}function $d(n){return n.segments.length>0?new w([],{[Lt]:n}):n}function bp(n){const e={};for(const r of Object.keys(n.children)){const a=bp(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function MT(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new w(n.segments.concat(e.segments),e.children)}return n}(new w(n.segments,e))}function ya(n){return n instanceof _}function xT(n,e,t,r,i){if(0===t.length)return Fu(e.root,e.root,e.root,r,i);const a=function R_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return tn(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new x_(t,e,r)}(t);return a.toRoot()?Fu(e.root,e.root,new w([],{}),r,i):function c(m){const v=function Ep(n,e,t,r){if(n.isAbsolute)return new ba(e.root,!0,0);if(-1===r)return new ba(t,t===e.root,0);return function jd(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new ba(r,!1,i-a)}(t,r+(Dp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),E=v.processChildren?wa(v.segmentGroup,v.index,a.commands):Hd(v.segmentGroup,v.index,a.commands);return Fu(e.root,v.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function Dp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function va(n){return"object"==typeof n&&null!=n&&n.outlets}function Fu(n,e,t,r,i){let c,a={};r&&tn(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),c=n===e?t:M_(n,e,t);const f=$d(bp(c));return new _(f,a,i)}function M_(n,e,t){const r={};return tn(n.children,(i,a)=>{r[a]=i===e?t:M_(i,e,t)}),new w(n.segments,r)}class x_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dp(r[0]))throw new l.vHH(4003,!1);const i=r.find(va);if(i&&i!==Ru(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ba{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hd(n,e,t){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return wa(n,e,t);const r=function k_(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(va(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!ww(m,v,c))return a;r+=2}else{if(!ww(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new w(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new w(n.segments.slice(r.pathIndex),n.children),wa(a,0,i)}return r.match&&0===i.length?new w(n.segments,{}):r.match&&!n.hasChildren()?vl(n,e,t):r.match?wa(n,0,i):vl(n,e,t)}function wa(n,e,t){if(0===t.length)return new w(n.segments,{});{const r=function bw(n){return va(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return!r[Lt]&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length?wa(n.children[Lt],e,t):(tn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Hd(n.children[c],e,a))}),tn(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new w(n.segments,i))}}function vl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(va(a)){const m=RT(a.outlets);return new w(r,m)}if(0===i&&Dp(t[0])){r.push(new S(n.segments[e].path,P_(t[0]))),i++;continue}const c=va(a)?a.outlets[Lt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Dp(f)?(r.push(new S(c,P_(f))),i+=2):(r.push(new S(c,{})),i++)}return new w(r,{})}function RT(n){const e={};return tn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vl(new w([],{}),0,t))}),e}function P_(n){const e={};return tn(n,(t,r)=>e[r]=`${t}`),e}function ww(n,e,t){return n==t.path&&ns(e,t.parameters)}const Gd="imperative";class Zs{constructor(e,t){this.id=e,this.url=t}}class Ip extends Zs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Da extends Zs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bl extends Zs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tp extends Zs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Ea extends Zs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kT extends Zs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PT extends Zs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nx extends Zs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FT extends Zs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F_ extends Zs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ew{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let BT=(()=>{class n{createUrlTree(t,r,i,a,c,f){return xT(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),VT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return BT.\u0275fac(e)},providedIn:"root"}),n})();class Tw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ns(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ns(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ia(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ia(e,this._root).map(t=>t.value)}}function Ns(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ns(n,t);if(r)return r}return null}function Ia(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ia(n,t);if(r.length)return r.unshift(e),r}return[]}class Co{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cw extends Tw{constructor(e,t){super(e),this.snapshot=t,U_(this,e)}toString(){return this.snapshot.toString()}}function Sw(n,e){const t=function UT(n,e){const c=new Sp([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Aw("",new Co(c,[]))}(n,e),r=new Bn([new S("",{})]),i=new Bn({}),a=new Bn({}),c=new Bn({}),f=new Bn(""),m=new Ta(r,i,c,f,a,Lt,e,t.root);return m.snapshot=t.root,new Cw(new Co(m,[]),t)}class Ta{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Ye.U)(v=>v[ml]))??ot(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(e=>As(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(e=>As(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $T(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sp{get title(){return this.data?.[ml]}constructor(e,t,r,i,a,c,f,m,v,E,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=E,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=As(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Aw extends Tw{constructor(e,t){super(t),this.url=e,U_(this,t)}toString(){return zd(this._root)}}function U_(n,e){e.value._routerState=n,e.children.forEach(t=>U_(n,t))}function zd(n){const e=n.children.length>0?` { ${n.children.map(zd).join(", ")} } `:"";return`${n.value}${e}`}function Os(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ns(e.params,t.params)||n.params.next(t.params),function kd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dl(n,e){const t=ns(n.params,e.params)&&function M(n,e){return Z(n,e)&&n.every((t,r)=>ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Dl(n.parent,e.parent))}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ow(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bu(n,r,i);return Bu(n,r)})}(n,e,t);return new Co(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Bu(n,f)),c}}const r=function sx(n){return new Ta(new Bn(n.url),new Bn(n.params),new Bn(n.queryParams),new Bn(n.fragment),new Bn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Bu(n,a));return new Co(r,i)}}const Mw="ngNavigationCancelingError";function jT(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ya(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ap(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ap(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Np(n){return HT(n)&&ya(n.url)}function HT(n){return n&&n[Mw]}class ox{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vu,this.attachRef=null}}let Vu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ox,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Op=!1;let $_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Vu),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Op);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Op);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Op);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Op);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new GT(t,f,i.injector);if(r&&function zT(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class GT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ta?this.route:e===Vu?this.childContexts:this.parent.get(e,t)}}let Mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[$_],encapsulation:2}),n})();function Wd(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function H_(n){const e=n.children&&n.children.map(H_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=Mp),t}function rs(n){return n.outlet||Lt}function kw(n,e){const t=n.filter(r=>rs(r)===e);return t.push(...n.filter(r=>rs(r)!==e)),t}function qd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lx{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Os(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lu(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),tn(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Lu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Lu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Iw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new L_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Os(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Os(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=qd(i.snapshot),m=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class ZT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ca{constructor(e,t){this.component=e,this.route=t}}function G_(n,e,t){const r=n._root;return Uu(r,e?e._root:null,t,[r.value])}function El(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Uu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Lu(e);return n.children.forEach(c=>{(function ux(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function KT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Z(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Z(n.url,e.url)||!ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dl(n,e)||!ns(n.queryParams,e.queryParams);default:return!Dl(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new ZT(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Uu(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ca(f.outlet.component,c))}else c&&$u(e,f,i),i.canActivateChecks.push(new ZT(r)),Uu(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),tn(a,(c,f)=>$u(c,t.getContext(f),i)),i}function $u(n,e,t){const r=Lu(n),i=n.value;tn(r,(a,c)=>{$u(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ca(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ju(n){return"function"==typeof n}function Z_(n){return n instanceof Tu||"EmptyError"===n?.name}const Hu=Symbol("INITIAL_VALUE");function So(){return gn(n=>Vi(n.map(e=>e.pipe(mn(1),$i(Hu)))).pipe((0,Ye.U)(e=>{for(const t of e)if(!0!==t){if(t===Hu)return Hu;if(!1===t||t instanceof _)return t}return!0}),on(e=>e!==Hu),mn(1)))}function Cl(n){return(0,hp.z)(qn(e=>{if(ya(e))throw jT(0,e)}),(0,Ye.U)(e=>!0===e))}const J_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uw(n,e,t,r,i){const a=Zd(n,e,t);return a.matched?function tC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ot(i.map(c=>{const f=El(c,n);return ji(function Lw(n){return n&&ju(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(So(),Cl()):ot(!0)}(r=Wd(e,r),e,t).pipe((0,Ye.U)(c=>!0===c?a:{...J_})):ot(a)}function Zd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...J_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rd)(t,n,e);if(!i)return{...J_};const a={};tn(i.posParams,(f,m)=>{a[m]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function kp(n,e,t,r){if(t.length>0&&function jw(n,e,t){return t.some(r=>Pp(n,e,r)&&rs(r)!==Lt)}(n,t,r)){const a=new w(e,function nC(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&rs(a)!==Lt){const c=new w([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[rs(a)]=c}return i}(n,e,r,new w(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function dx(n,e,t){return t.some(r=>Pp(n,e,r))}(n,t,r)){const a=new w(n.segments,function $w(n,e,t,r,i){const a={};for(const c of r)if(Pp(n,t,c)&&!i[rs(c)]){const f=new w([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[rs(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new w(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Pp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gu(n,e,t,r){return!!(rs(n)===r||r!==Lt&&Pp(e,t,n))&&("**"===n.path||Zd(e,n,t).matched)}function Hw(n,e,t){return 0===e.length&&!n.children[t]}const Ao=!1;class Sa{constructor(e){this.segmentGroup=e||null}}class Gw{constructor(e){this.urlTree=e}}function zu(n){return Ts(new Sa(n))}function zw(n){return Ts(new Gw(n))}class qw{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=kp(this.urlTree.root,[],[],this.config).segmentGroup,t=new w(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Ye.U)(a=>this.createUrlTree(bp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ss(a=>{if(a instanceof Gw)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Sa?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,Ye.U)(i=>this.createUrlTree(bp(i),e.queryParams,e.fragment))).pipe(Ss(i=>{throw i instanceof Sa?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Ao)}createUrlTree(e,t,r){const i=$d(e);return new _(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ye.U)(a=>new w([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,qt.D)(i).pipe(Eo(a=>{const c=r.children[a],f=kw(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Ye.U)(m=>({segment:m,outlet:a})))}),pa((a,c)=>(a[c.outlet]=c.segment,a),{}),xd())}expandSegment(e,t,r,i,a,c){return(0,qt.D)(r).pipe(Eo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(Ss(v=>{if(v instanceof Sa)return ot(null);throw v}))),Cs(f=>!!f),Ss((f,m)=>{if(Z_(f))return Hw(t,i,a)?ot(new w([],{})):zu(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Gu(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):zu(t):zu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zw(a):this.lineralizeSegments(r,a).pipe((0,Ar.z)(c=>{const f=new w(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:E}=Zd(t,i,a);if(!f)return zu(t);const C=this.applyRedirectCommands(m,i.redirectTo,E);return i.redirectTo.startsWith("/")?zw(C):this.lineralizeSegments(i,C).pipe((0,Ar.z)(N=>this.expandSegment(e,t,r,N.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Wd(r,e),r.loadChildren?(r._loadedRoutes?ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ye.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new w(i,{})))):ot(new w(i,{}))):Uw(t,r,i,e).pipe(gn(({matched:c,consumedSegments:f,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ar.z)(E=>{const C=E.injector??e,N=E.routes,{segmentGroup:x,slicedSegments:G}=kp(t,f,m,N),Y=new w(x.segments,x.children);if(0===G.length&&Y.hasChildren())return this.expandChildren(C,N,Y).pipe((0,Ye.U)(qe=>new w(f,qe)));if(0===N.length&&0===G.length)return ot(new w(f,{}));const re=rs(r)===a;return this.expandSegment(C,Y,N,G,re?Lt:a,!0).pipe((0,Ye.U)(Ie=>new w(f.concat(Ie.segments),Ie.children)))})):zu(t)))}getChildConfig(e,t,r){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function Vw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ot(!0):ot(i.map(c=>{const f=El(c,n);return ji(function cx(n){return n&&ju(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(So(),Cl())}(e,t,r).pipe((0,Ar.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(qn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function iC(n){return Ts(Ap(Ao,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ot(r);if(i.numberOfChildren>1||!i.children[Lt])return Ts(new l.vHH(4e3,Ao));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new _(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return tn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return tn(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new w(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Ao);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class sC{}class oC{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=kp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Ye.U)(t=>{if(null===t)return null;const r=new Sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Co(r,t),a=new Aw(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=V_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,qt.D)(Object.keys(r.children)).pipe(Eo(i=>{const a=r.children[i],c=kw(t,i);return this.processSegmentGroup(e,c,a,i)}),pa((i,a)=>i&&a?(i.push(...a),i):null),function pp(n,e=!1){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Md(null),xd(),(0,Ye.U)(i=>{if(null===i)return null;const a=Zw(i);return function aC(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,qt.D)(t).pipe(Eo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Cs(c=>!!c),Ss(c=>{if(Z_(c))return Hw(r,i,a)?ot([]):ot(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Gu(t,r,i,a))return ot(null);let c;if("**"===t.path){const f=i.length>0?Ru(i).parameters:{},m=Sl(r)+i.length;c=ot({snapshot:new Sp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yw(t),rs(t),t.component??t._loadedComponent??null,t,Kw(r),m,Jw(t)),consumedSegments:[],remainingSegments:[]})}else c=Uw(r,t,i,e).pipe((0,Ye.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:E})=>{if(!f)return null;const C=Sl(r)+m.length;return{snapshot:new Sp(m,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yw(t),rs(t),t.component??t._loadedComponent??null,t,Kw(r),C,Jw(t)),consumedSegments:m,remainingSegments:v}}));return c.pipe(gn(f=>{if(null===f)return ot(null);const{snapshot:m,consumedSegments:v,remainingSegments:E}=f;e=t._injector??e;const C=t._loadedInjector??e,N=function lC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:G}=kp(r,v,E,N.filter(re=>void 0===re.redirectTo));if(0===G.length&&x.hasChildren())return this.processChildren(C,N,x).pipe((0,Ye.U)(re=>null===re?null:[new Co(m,re)]));if(0===N.length&&0===G.length)return ot([new Co(m,[])]);const Y=rs(t)===a;return this.processSegment(C,N,x,G,Y?Lt:a).pipe((0,Ye.U)(re=>null===re?null:[new Co(m,re)]))}))}}function uC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zw(n){const e=[],t=new Set;for(const r of n){if(!uC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Zw(r.children);e.push(new Co(r.value,i))}return e.filter(r=>!t.has(r))}function Kw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sl(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Yw(n){return n.data||{}}function Jw(n){return n.resolve||{}}function tD(n){return"string"==typeof n.title||null===n.title}function Lp(n){return gn(e=>{const t=n(e);return t?(0,qt.D)(t).pipe((0,Ye.U)(()=>e)):ot(e)})}const Jr=new l.OlP("ROUTES");let ey=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ji(t.loadComponent()).pipe((0,Ye.U)(iD),qn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Ni(()=>{this.componentLoaders.delete(t)})),i=new Mu(r,()=>new Kt.x).pipe(fp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ye.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,E=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=Fd(m.get(Jr,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(H_),injector:m}}),Ni(()=>{this.childrenLoaders.delete(r)})),c=new Mu(a,()=>new Kt.x).pipe(fp());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return ji(t()).pipe((0,Ye.U)(iD),(0,Ar.z)(i=>i instanceof l.YKP||Array.isArray(i)?ot(i):(0,qt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iD(n){return function rD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Vp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kt.x,this.configLoader=(0,l.f3M)(ey),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Je),this.rootContexts=(0,l.f3M)(Vu),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Dw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new LT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Bn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(on(r=>0!==r.id),(0,Ye.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),gn(r=>{let i=!1,a=!1;return ot(r).pipe(qn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gn(c=>{const f=t.browserUrlTree.toString(),m=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new Tp(c.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ui.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return sD(c.source)&&(t.browserUrlTree=c.extractedUrl),ot(c).pipe(gn(E=>{const C=this.transitions?.getValue();return this.events.next(new Ip(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),C!==this.transitions?.getValue()?Ui.E:Promise.resolve(E)}),function Q_(n,e,t,r){return gn(i=>function Ww(n,e,t,r,i){return new qw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ye.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),qn(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function hx(n,e,t,r,i){return(0,Ar.z)(a=>function Kd(n,e,t,r,i,a,c="emptyOnly"){return new oC(n,e,t,r,i,c,a).recognize().pipe(gn(f=>null===f?function X_(n){return new Wn.y(e=>e.error(n))}(new sC):ot(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,Ye.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),qn(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(N,E)}t.browserUrlTree=E.urlAfterRedirects}const C=new kT(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(C)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:C,source:N,restoredState:x,extras:G}=c,Y=new Ip(E,this.urlSerializer.serialize(C),N,x);this.events.next(Y);const re=Sw(C,this.rootComponentType).snapshot;return ot(r={...c,targetSnapshot:re,urlAfterRedirects:C,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Tp(c.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Ui.E}}),qn(c=>{const f=new PT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Ye.U)(c=>r={...c,guards:G_(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function QT(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?ot({...t,guardsResult:!0}):function K_(n,e,t,r){return(0,qt.D)(n).pipe((0,Ar.z)(i=>function eC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ot(a.map(f=>{const m=qd(e)??i,v=El(f,m);return ji(function q_(n){return n&&ju(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(Cs())})).pipe(So()):ot(!0)}(i.component,i.route,t,e,r)),Cs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ar.z)(f=>f&&function z_(n){return"boolean"==typeof n}(f)?function Rp(n,e,t,r){return(0,qt.D)(e).pipe(Eo(i=>Do(function Bw(n,e){return null!==n&&e&&e(new Cp(n)),ot(!0)}(i.route.parent,r),function Tl(n,e){return null!==n&&e&&e(new Ew(n)),ot(!0)}(i.route,r),function XT(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Fw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ou(()=>ot(c.guards.map(m=>{const v=qd(c.node)??t,E=El(m,v);return ji(function YT(n){return n&&ju(n.canActivateChild)}(E)?E.canActivateChild(r,n):v.runInContext(()=>E(r,n))).pipe(Cs())})).pipe(So())));return ot(a).pipe(So())}(n,i.path,t),function Y_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const i=r.map(a=>Ou(()=>{const c=qd(e)??t,f=El(a,c);return ji(function W_(n){return n&&ju(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Cs())}));return ot(i).pipe(So())}(n,i.route,t))),Cs(i=>!0!==i,!0))}(r,a,n,e):ot(f)),(0,Ye.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),qn(c=>{if(r.guardsResult=c.guardsResult,ya(c.guardsResult))throw jT(0,c.guardsResult);const f=new nx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),on(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Lp(c=>{if(c.guards.canActivateChecks.length)return ot(c).pipe(qn(f=>{const m=new FT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),gn(f=>{let m=!1;return ot(f).pipe(function fx(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ot(t);let a=0;return(0,qt.D)(i).pipe(Eo(c=>function Qw(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!tD(i)&&(a[ml]=i.title),function px(n,e,t,r){const i=function Xw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ot({});const a={};return(0,qt.D)(i).pipe((0,Ar.z)(c=>function eD(n,e,t,r){const i=qd(e)??r,a=El(n,i);return ji(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Cs(),qn(f=>{a[c]=f}))),pl(1),gl(a),Ss(c=>Z_(c)?Ui.E:Ts(c)))}(a,n,e,r).pipe((0,Ye.U)(c=>(n._resolvedData=c,n.data=V_(n,t).resolve,i&&tD(i)&&(n.data[ml]=i.title),null)))}(c.route,r,n,e)),qn(()=>a++),pl(1),(0,Ar.z)(c=>a===i.length?ot(t):Ui.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),qn({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),qn(f=>{const m=new F_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Lp(c=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(qn(E=>{m.component=E}),(0,Ye.U)(()=>{})));for(const E of m.children)v.push(...f(E));return v};return Vi(f(c.targetSnapshot.root)).pipe(Md(),mn(1))}),Lp(()=>this.afterPreactivation()),(0,Ye.U)(c=>{const f=function Nw(n,e,t){const r=Bu(n,e._root,t?t._root:void 0);return new Cw(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),qn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Ye.U)(r=>(new lx(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),qn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Da(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ni(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ss(c=>{if(a=!0,HT(c)){Np(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new bl(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),Np(c)){const m=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||sD(r.source)};t.scheduleNavigation(m,Gd,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Ea(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(m){r.reject(m)}}return Ui.E}))}))}cancelNavigationTransition(t,r,i){const a=new bl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(n){return n!==Gd}let ty=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[ml]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(hC)},providedIn:"root"}),n})(),hC=(()=>{class n extends ty{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Vt)},providedIn:"root"}),n})();class pC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Vt=(()=>{class n extends pC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yd=new l.OlP("",{providedIn:"root",factory:()=>({})});let aD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(gC)},providedIn:"root"}),n})(),gC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uD(n){throw n}function mC(n,e,t){return e.parse("/")}const cD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_C={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Yd,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(aD),this.routeReuseStrategy=(0,l.f3M)(fC),this.urlCreationStrategy=(0,l.f3M)(VT),this.titleStrategy=(0,l.f3M)(ty),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fd((0,l.f3M)(Jr,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Vp),this.urlSerializer=(0,l.f3M)(Je),this.location=(0,l.f3M)(Ae),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Sw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(H_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:c;let E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...a};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=a||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ya(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Gd,null,r)}navigate(t,r={skipLocationChange:!1}){return function gx(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...cD}:!1===r?{..._C}:r,ya(t))return ga(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ga(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,m,v,E;return c?(f=c.resolve,m=c.reject,v=c.promise):v=new Promise((C,N)=>{f=C,m=N}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wu=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Kt.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Da&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gi),l.Y36(Ta),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(st))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class hD{}let yC=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof Da),Eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,qt.D)(i).pipe((0,Nu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ot(null);const a=i.pipe((0,Ar.z)(c=>null===c?ot(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,qt.D)([a,c]).pipe((0,Nu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(hD),l.LFG(ey))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gD=new l.OlP("");let vC=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ip?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof B_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new B_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qu(n,e){return{\u0275kind:n,\u0275providers:e}}function Qd(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Gi),i=n.get(mD);1===n.get(Up)&&r.initialNavigation(),n.get(_D,null,l.XFs.Optional)?.setUpPreloading(),n.get(gD,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const mD=new l.OlP("",{factory:()=>new Kt.x}),Up=new l.OlP("",{providedIn:"root",factory:()=>1});const _D=new l.OlP("");function IC(n){return qu(0,[{provide:_D,useExisting:yC},{provide:hD,useExisting:n}])}const $p=new l.OlP("ROUTER_FORROOT_GUARD"),vx=[Ae,{provide:Je,useClass:dt},Gi,Vu,{provide:Ta,useFactory:function ny(n){return n.routerState.root},deps:[Gi]},ey,[]];function iy(){return new l.PXZ("Router",Gi)}let yD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vx,[],{provide:Jr,multi:!0,useValue:t},{provide:$p,useFactory:SC,deps:[[Gi,new l.FiY,new l.tp0]]},{provide:Yd,useValue:r||{}},r?.useHash?{provide:st,useClass:_e}:{provide:st,useClass:Ce},{provide:gD,useFactory:()=>{const n=(0,l.f3M)(au),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(Yd),r=(0,l.f3M)(Vp),i=(0,l.f3M)(Je);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vC(i,r,n,e,t)}},r?.preloadingStrategy?IC(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:iy},r?.initialNavigation?bD(r):[],[{provide:wD,useFactory:Qd},{provide:l.tb,multi:!0,useExisting:wD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Jr,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Mp]}),n})();function SC(n){return"guarded"}function bD(n){return["disabled"===n.initialNavigation?qu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Gi);return()=>{e.setUpLocationChangeListener()}}},{provide:Up,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qu(2,[{provide:Up,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(xe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Gi),c=e.get(mD);(function r(i){e.get(Gi).events.pipe(on(c=>c instanceof Da||c instanceof bl||c instanceof Ea),(0,Ye.U)(c=>c instanceof Da||c instanceof bl&&(0===c.code||1===c.code)&&null),on(c=>null!==c),mn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Vp).afterPreactivation=()=>(i(!0),c.closed?ot(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const wD=new l.OlP("");class Na{}Na.\u0275fac=function(e){return new(e||Na)},Na.\u0275mod=l.oAB({type:Na}),Na.\u0275inj=l.cJS({imports:[yD.forRoot([]),yD]});class Xd extends Od.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Qu={setInterval(n,e,...t){const{delegate:r}=Qu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Qu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var jp=F(8737);class oy extends Xd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return Qu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Qu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,jp.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const eh={now:()=>(eh.delegate||Date).now(),delegate:void 0};class Nl{constructor(e,t=Nl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Nl.now=eh.now;class Hp extends Nl{constructor(e,t=Nl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const th=new Hp(oy),ay=th;var Zt=F(9681);(0,Zt.registerVersion)("firebase","9.17.1","app");var W=F(5861),gt=F(2090),is=F(4859),Ms=F(1877),Xu=F(8766);const Oi="@firebase/installations",Gp="0.6.3",OC=`w:${Gp}`,zp="FIS_v2",No=new gt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function CD(n){return n instanceof gt.ZR&&n.code.includes("request-failed")}function nh({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function SD(n){return{token:n.token,requestStatus:2,expiresIn:kC(n.expiresIn),creationTime:Date.now()}}function ly(n,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,W.Z)(function*(n,e){const r=(yield e.json()).error;return No.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function AD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ND(n,{refreshToken:e}){const t=AD(n);return t.append("Authorization",function PC(n){return`${zp} ${n}`}(e)),t}function ss(n){return rh.apply(this,arguments)}function rh(){return(rh=(0,W.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function kC(n){return Number(n.replace("s","000"))}function OD(n,e){return cy.apply(this,arguments)}function cy(){return(cy=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=nh(n),i=AD(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:zp,appId:n.appId,sdkVersion:OC})},m=yield ss(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:SD(v.authToken)}}throw yield ly("Create Installation",m)})).apply(this,arguments)}function MD(n){return new Promise(e=>{setTimeout(e,n)})}const dy=/^[cdef][\w-]{21}$/;function LC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Wp(n){return function FC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return dy.test(t)?t:""}catch{return""}}function Oa(n){return`${n.appName}!${n.appId}`}const Oo=new Map;function BC(n,e){const t=Oa(n);py(t,e),function xD(n,e){const t=function gy(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=n=>{py(n.data.key,n.data.fid)}),Ma}();t&&t.postMessage({key:n,fid:e}),function qp(){0===Oo.size&&Ma&&(Ma.close(),Ma=null)}()}(t,e)}function py(n,e){const t=Oo.get(n);if(t)for(const r of t)r(e)}let Ma=null;const Ks="firebase-installations-store";let Ol=null;function my(){return Ol||(Ol=(0,Xu.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ks)}})),Ol}function ih(n,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,W.Z)(function*(n,e){const t=Oa(n),i=(yield my()).transaction(Ks,"readwrite"),a=i.objectStore(Ks),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&BC(n,e.fid),e})).apply(this,arguments)}function _y(n){return yy.apply(this,arguments)}function yy(){return(yy=(0,W.Z)(function*(n){const e=Oa(n),r=(yield my()).transaction(Ks,"readwrite");yield r.objectStore(Ks).delete(e),yield r.done})).apply(this,arguments)}function xo(n,e){return vy.apply(this,arguments)}function vy(){return(vy=(0,W.Z)(function*(n,e){const t=Oa(n),i=(yield my()).transaction(Ks,"readwrite"),a=i.objectStore(Ks),c=yield a.get(t),f=e(c);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&BC(n,f.fid),f})).apply(this,arguments)}function RD(n){return by.apply(this,arguments)}function by(){return(by=(0,W.Z)(function*(n){let e;const t=yield xo(n.appConfig,r=>{const i=VC(r),a=UC(n,i);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function VC(n){return Yp(n||{fid:LC(),registrationStatus:0})}function UC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(No.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function $C(n,e){return wy.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jC(n)}:{installationEntry:e}}function wy(){return(wy=(0,W.Z)(function*(n,e){try{const t=yield OD(n,e);return ih(n.appConfig,t)}catch(t){throw CD(t)&&409===t.customData.serverCode?yield _y(n.appConfig):yield ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function jC(n){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,W.Z)(function*(n){let e=yield Ey(n.appConfig);for(;1===e.registrationStatus;)yield MD(100),e=yield Ey(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield RD(n);return r||t}return e})).apply(this,arguments)}function Ey(n){return xo(n,e=>{if(!e)throw No.create("installation-not-found");return Yp(e)})}function Yp(n){return function HC(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Iy(n,e){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=GC(n,t),i=ND(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:OC,appId:n.appId}})},m=yield ss(()=>fetch(r,f));if(m.ok)return SD(yield m.json());throw yield ly("Generate Auth Token",m)})).apply(this,arguments)}function GC(n,{fid:e}){return`${nh(n)}/${e}/authTokens:generate`}function Cy(n){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,W.Z)(function*(n,e=!1){let t;const r=yield xo(n.appConfig,a=>{if(!FD(a))throw No.create("not-registered");const c=a.authToken;if(!e&&Dx(c))return a;if(1===c.requestStatus)return t=zC(n,e),a;{if(!navigator.onLine)throw No.create("app-offline");const f=Qp(a);return t=PD(n,f),f}});return t?yield t:r.authToken})).apply(this,arguments)}function zC(n,e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,W.Z)(function*(n,e){let t=yield kD(n.appConfig);for(;1===t.authToken.requestStatus;)yield MD(100),t=yield kD(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Cy(n,e):r})).apply(this,arguments)}function kD(n){return xo(n,e=>{if(!FD(e))throw No.create("not-registered");return function Ml(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function PD(n,e){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,W.Z)(function*(n,e){try{const t=yield Iy(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ih(n.appConfig,r),t}catch(t){if(!CD(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ih(n.appConfig,r)}else yield _y(n.appConfig);throw t}})).apply(this,arguments)}function FD(n){return void 0!==n&&2===n.registrationStatus}function Dx(n){return 2===n.requestStatus&&!function LD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Qp(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ec(){return(ec=(0,W.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield RD(e);return r?r.catch(console.error):Cy(e).catch(console.error),t.fid})).apply(this,arguments)}function Ny(){return(Ny=(0,W.Z)(function*(n,e=!1){const t=n;return yield Oy(t),(yield Cy(t,e)).token})).apply(this,arguments)}function Oy(n){return My.apply(this,arguments)}function My(){return(My=(0,W.Z)(function*(n){const{registrationPromise:e}=yield RD(n);e&&(yield e)})).apply(this,arguments)}function xa(n){return No.create("missing-app-config-values",{valueName:n})}const Rl="installations",sc=n=>{const e=n.getProvider("app").getImmediate(),t=function rc(n){if(!n||!n.options)throw xa("App Configuration");if(!n.name)throw xa("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw xa(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Zt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},oc=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Zt._getProvider)(e,Rl).getImmediate();return{getId:()=>function Ex(n){return ec.apply(this,arguments)}(t),getToken:i=>function WC(n){return Ny.apply(this,arguments)}(t,i)}};(function ac(){(0,Zt._registerComponent)(new is.wA(Rl,sc,"PUBLIC")),(0,Zt._registerComponent)(new is.wA("installations-internal",oc,"PRIVATE"))})(),(0,Zt.registerVersion)(Oi,Gp),(0,Zt.registerVersion)(Oi,Gp,"esm2017");const Ra="@firebase/remote-config",di=new gt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ZD{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function KD(n=navigator){return n.languages&&n.languages[0]||n.language}class Uy{constructor(e,t,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:KD()},v={method:"POST",headers:f,body:JSON.stringify(m)},E=fetch(c,v),C=new Promise((fe,Ie)=>{e.signal.addEventListener(()=>{const qe=new Error("The operation was aborted.");qe.name="AbortError",Ie(qe)})});let N;try{yield Promise.race([E,C]),N=yield E}catch(fe){let Ie="fetch-client-network";throw"AbortError"===fe?.name&&(Ie="fetch-timeout"),di.create(Ie,{originalErrorMessage:fe?.message})}let x=N.status;const G=N.headers.get("ETag")||void 0;let Y,re;if(200===N.status){let fe;try{fe=yield N.json()}catch(Ie){throw di.create("fetch-client-parse",{originalErrorMessage:Ie?.message})}Y=fe.entries,re=fe.state}if("INSTANCE_STATE_UNSPECIFIED"===re?x=500:"NO_CHANGE"===re?x=304:("NO_TEMPLATE"===re||"EMPTY_CONFIG"===re)&&(Y={}),304!==x&&200!==x)throw di.create("fetch-status",{httpStatus:x});return{status:x,eTag:G,config:Y}})()}}class $y{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,W.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,W.Z)(function*(){yield function YD(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function JD(n){if(!(n instanceof gt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,gt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class XD{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oh(n,e){const t=n.target.error||void 0;return di.create(e,{originalErrorMessage:t&&t?.message})}const ka="app_namespace_store";class nE{constructor(e,t,r,i=function tE(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(oh(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ka,{keyPath:"compositeKey"})}}catch(t){e(di.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([ka],"readonly").objectStore(ka),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=E=>{a(oh(E,"storage-get"))},v.onsuccess=E=>{const C=E.target.result;i(C?C.value:void 0)}}catch(v){a(di.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,W.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{const m=i.transaction([ka],"readwrite").objectStore(ka),v=r.createCompositeKey(e);try{const E=m.put({compositeKey:v,value:t});E.onerror=C=>{c(oh(C,"storage-set"))},E.onsuccess=()=>{a()}}catch(E){c(di.create("storage-set",{originalErrorMessage:E?.message}))}})})()}delete(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([ka],"readwrite").objectStore(ka),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=E=>{a(oh(E,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(di.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jy{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,W.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function rE(){return rg.apply(this,arguments)}function rg(){return(rg=(0,W.Z)(function*(){if(!(0,gt.hl)())return!1;try{return yield(0,gt.eu)()}catch{return!1}})).apply(this,arguments)}!function tg(){(0,Zt._registerComponent)(new is.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw di.create("registration-window");if(!(0,gt.hl)())throw di.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:f}=r.options;if(!a)throw di.create("registration-project-id");if(!c)throw di.create("registration-api-key");if(!f)throw di.create("registration-app-id");const m=new nE(f,r.name,t=t||"firebase"),v=new jy(m),E=new Ms.Yd(Ra);E.logLevel=Ms.in.ERROR;const C=new Uy(i,Zt.SDK_VERSION,t,a,c,f),N=new $y(C,m),x=new ZD(N,m,v,E),G=new XD(r,x,v,m,E);return function WD(n){const e=(0,gt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(G),G},"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(Ra,"0.4.3"),(0,Zt.registerVersion)(Ra,"0.4.3","esm2017")}();const iE="/firebase-messaging-sw.js",sE="/firebase-cloud-messaging-push-scope",Hy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ah="google.c.a.c_id",Pa="google.c.a.c_l",YC="google.c.a.ts",JC="google.c.a.e";var os=(()=>{return(n=os||(os={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",os;var n})();function Rs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function QC(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const lh="fcm_token_details_db",XC="fcm_token_object_Store";function eS(n){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,W.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(lh))return null;let e=null;return(yield(0,Xu.X3)(lh,5,{upgrade:(r=(0,W.Z)(function*(i,a,c,f){var m;if(a<2||!i.objectStoreNames.contains(XC))return;const v=f.objectStore(XC),E=yield v.index("fcmSenderId").get(n);if(yield v.clear(),E)if(2===a){const C=E;if(!C.auth||!C.p256dh||!C.endpoint)return;e={token:C.fcmToken,createTime:null!==(m=C.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:"string"==typeof C.vapidKey?C.vapidKey:Rs(C.vapidKey)}}}else if(3===a){const C=E;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Rs(C.auth),p256dh:Rs(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Rs(C.vapidKey)}}}else if(4===a){const C=E;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Rs(C.auth),p256dh:Rs(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Rs(C.vapidKey)}}}}),function(a,c,f,m){return r.apply(this,arguments)})})).close(),yield(0,Xu.Lj)(lh),yield(0,Xu.Lj)("fcm_vapid_details_db"),yield(0,Xu.Lj)("undefined"),lE(e)?e:null;var r}),Gy.apply(this,arguments)}function lE(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Fa="firebase-messaging-store";let zy=null;function Wy(){return zy||(zy=(0,Xu.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Fa)}})),zy}function qy(n){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,W.Z)(function*(n){const e=Yy(n),r=yield(yield Wy()).transaction(Fa).objectStore(Fa).get(e);if(r)return r;{const i=yield eS(n.appConfig.senderId);if(i)return yield ig(n,i),i}})).apply(this,arguments)}function ig(n,e){return sg.apply(this,arguments)}function sg(){return(sg=(0,W.Z)(function*(n,e){const t=Yy(n),i=(yield Wy()).transaction(Fa,"readwrite");return yield i.objectStore(Fa).put(e,t),yield i.done,e})).apply(this,arguments)}function lc(n){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,W.Z)(function*(n){const e=Yy(n),r=(yield Wy()).transaction(Fa,"readwrite");yield r.objectStore(Fa).delete(e),yield r.done})).apply(this,arguments)}function Yy({appConfig:n}){return n.appId}const Br=new gt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cE(n,e){return dE.apply(this,arguments)}function dE(){return(dE=(0,W.Z)(function*(n,e){const t=yield as(n),r=ls(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(og(n.appConfig),i)).json()}catch(c){throw Br.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw Br.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Br.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function Jy(n,e){return uh.apply(this,arguments)}function uh(){return(uh=(0,W.Z)(function*(n,e){const t=yield as(n),r=ls(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${og(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw Br.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw Br.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Br.create("token-update-no-token");return a.token})).apply(this,arguments)}function ks(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,W.Z)(function*(n,e){const r={method:"DELETE",headers:yield as(n)};try{const a=yield(yield fetch(`${og(n.appConfig)}/${e}`,r)).json();if(a.error)throw Br.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Br.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function og({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function as(n){return zi.apply(this,arguments)}function zi(){return(zi=(0,W.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function ls({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Hy&&(i.web.applicationPubKey=r),i}const hE=6048e5;function fE(n){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,W.Z)(function*(n){const e=yield gE(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Rs(e.getKey("auth")),p256dh:Rs(e.getKey("p256dh"))},r=yield qy(n.firebaseDependencies);if(r){if(mE(r.subscriptionOptions,t))return Date.now()>=r.createTime+hE?nS(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield ks(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uc(n.firebaseDependencies,t)}return uc(n.firebaseDependencies,t)})).apply(this,arguments)}function pE(n){return ev.apply(this,arguments)}function ev(){return(ev=(0,W.Z)(function*(n){const e=yield qy(n.firebaseDependencies);e&&(yield ks(n.firebaseDependencies,e.token),yield lc(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function nS(n,e){return ch.apply(this,arguments)}function ch(){return(ch=(0,W.Z)(function*(n,e){try{const t=yield Jy(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ig(n.firebaseDependencies,r),t}catch(t){throw yield pE(n),t}})).apply(this,arguments)}function uc(n,e){return tv.apply(this,arguments)}function tv(){return(tv=(0,W.Z)(function*(n,e){const r={token:yield cE(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ig(n,r),r.token})).apply(this,arguments)}function gE(n,e){return nv.apply(this,arguments)}function nv(){return(nv=(0,W.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QC(e)})})).apply(this,arguments)}function mE(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function rv(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ag(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function rS(n,e){e.data&&(n.data=e.data)}(e,n),function _E(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function yE(n){return"object"==typeof n&&!!n&&ah in n}function lg(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function dh(n){return Br.create("missing-app-config-values",{valueName:n})}lg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vE{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ug(n){if(!n||!n.options)throw dh("App Configuration Object");if(!n.name)throw dh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw dh(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function iv(n){return cg.apply(this,arguments)}function cg(){return(cg=(0,W.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(iE,{scope:sE}),n.swRegistration.update().catch(()=>{})}catch(e){throw Br.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function bE(n,e){return dg.apply(this,arguments)}function dg(){return(dg=(0,W.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield iv(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Br.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function wE(n,e){return hg.apply(this,arguments)}function hg(){return(hg=(0,W.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Hy)})).apply(this,arguments)}function fg(){return(fg=(0,W.Z)(function*(n,e){if(!navigator)throw Br.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Br.create("permission-blocked");return yield wE(n,e?.vapidKey),yield bE(n,e?.serviceWorkerRegistration),fE(n)})).apply(this,arguments)}function iS(n,e,t){return sv.apply(this,arguments)}function sv(){return(sv=(0,W.Z)(function*(n,e,t){const r=sS(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[ah],message_name:t[Pa],message_time:t[YC],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sS(n){switch(n){case os.NOTIFICATION_CLICKED:return"notification_open";case os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ov(){return(ov=(0,W.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===os.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(rv(t)):n.onMessageHandler.next(rv(t)));const r=t.data;yE(r)&&"1"===r[JC]&&(yield iS(n,t.messageType,r))})).apply(this,arguments)}const EE="@firebase/messaging",aS=n=>{const e=new vE(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function oS(n,e){return ov.apply(this,arguments)}(e,t)),e},lS=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function DE(n,e){return fg.apply(this,arguments)}(e,r)}};function TE(){return av.apply(this,arguments)}function av(){return(av=(0,W.Z)(function*(){try{yield(0,gt.eu)()}catch{return!1}return typeof window<"u"&&(0,gt.hl)()&&(0,gt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uS(){(0,Zt._registerComponent)(new is.wA("messaging",aS,"PUBLIC")),(0,Zt._registerComponent)(new is.wA("messaging-internal",lS,"PRIVATE")),(0,Zt.registerVersion)(EE,"0.12.3"),(0,Zt.registerVersion)(EE,"0.12.3","esm2017")}();const hh="analytics",CE="firebase_id",NE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gg="https://www.googletagmanager.com/gtag/js",Or=new Ms.Yd("@firebase/analytics");function La(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function gS(n,e){const t=document.createElement("script");t.src=`${gg}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function cc(n,e,t,r,i,a){return OE.apply(this,arguments)}function OE(){return(OE=(0,W.Z)(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const m=(yield La(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){Or.error(f)}n("config",i,a)})).apply(this,arguments)}function uv(n,e,t,r,i){return ME.apply(this,arguments)}function ME(){return(ME=(0,W.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield La(t);for(const m of c){const v=f.find(C=>C.measurementId===m),E=v&&e[v.appId];if(!E){a=[];break}a.push(E)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){Or.error(a)}})).apply(this,arguments)}function Ax(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gg)&&t.src.includes(n))return t;return null}const Wi=new gt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kE=new class dc{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mg(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function _g(n){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,W.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:mg(r)},a=NE.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let f="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function Nx(n){return yg.apply(this,arguments)}function yg(){return(yg=(0,W.Z)(function*(n,e=kE,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Wi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Wi.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new LE;return setTimeout((0,W.Z)(function*(){f.abort()}),void 0!==t?t:6e4),cv({appId:r,apiKey:i,measurementId:a},c,f,e)})).apply(this,arguments)}function cv(n,e,t){return dv.apply(this,arguments)}function dv(){return(dv=(0,W.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=kE){var a;const{appId:c,measurementId:f}=n;try{yield PE(r,e)}catch(m){if(f)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=yield _g(n);return i.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!FE(v)){if(i.deleteThrottleMetadata(c),f)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw m}const E=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,gt.$s)(t,i.intervalMillis,30):(0,gt.$s)(t,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return i.setThrottleMetadata(c,C),Or.debug(`Calling attemptFetch again in ${E} millis`),cv(n,C,r,i)}})).apply(this,arguments)}function PE(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FE(n){if(!(n instanceof gt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class LE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let vg,wg;function hv(){return(hv=(0,W.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function VE(n){wg=n}function fc(n){vg=n}function fh(){return pv.apply(this,arguments)}function pv(){return(pv=(0,W.Z)(function*(){if(!(0,gt.hl)())return Or.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,gt.eu)()}catch(n){return Or.warn(Wi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function gv(){return(gv=(0,W.Z)(function*(n,e,t,r,i,a,c){var f;const m=Nx(n);m.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Or.error(x)),e.push(m);const v=fh().then(x=>{if(x)return r.getId()}),[E,C]=yield Promise.all([m,v]);Ax(a)||gS(a,E.measurementId),wg&&(i("consent","default",wg),VE(void 0)),i("js",new Date);const N=null!==(f=c?.config)&&void 0!==f?f:{};return N.origin="firebase",N.update=!0,null!=C&&(N[CE]=C),i("config",E.measurementId,N),vg&&(i("set",vg),fc(void 0)),E.measurementId})).apply(this,arguments)}class UE{constructor(e){this.app=e}_delete(){return delete Js[this.app.options.appId],Promise.resolve()}}let Js={},mv=[];const $E={};let HE,Ba,ph="dataLayer",GE=!1;function zE(n,e,t){!function Ox(){const n=[];if((0,gt.ru)()&&n.push("This is a browser extension environment."),(0,gt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wi.create("invalid-analytics-context",{errorInfo:e});Or.warn(t.message)}}();const r=n.options.appId;if(!r)throw Wi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Wi.create("no-api-key");Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Js[r])throw Wi.create("already-exists",{id:r});if(!GE){!function mS(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(ph);const{wrappedGtag:a,gtagCore:c}=function RE(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function xE(n,e,t,r){function a(){return(a=(0,W.Z)(function*(c,f,m){try{"event"===c?yield uv(n,e,t,f,m):"config"===c?yield cc(n,e,t,r,f,m):"consent"===c?n("consent","update",m):n("set",f)}catch(v){Or.error(v)}})).apply(this,arguments)}return function i(c,f,m){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(Js,mv,$E,ph,"gtag");Ba=a,HE=c,GE=!0}return Js[r]=function ES(n,e,t,r,i,a,c){return gv.apply(this,arguments)}(n,mv,$E,e,HE,ph,t),new UE(n)}function TS(){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,W.Z)(function*(){if((0,gt.ru)()||!(0,gt.zI)()||!(0,gt.hl)())return!1;try{return yield(0,gt.eu)()}catch{return!1}})).apply(this,arguments)}const yv="@firebase/analytics";!function CS(){(0,Zt._registerComponent)(new is.wA(hh,(e,{options:t})=>zE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Zt._registerComponent)(new is.wA("analytics-internal",function n(e){try{const t=e.getProvider(hh).getImmediate();return{logEvent:(r,i,a)=>function Px(n,e,t,r){n=(0,gt.m9)(n),function vS(n,e,t,r,i){return hv.apply(this,arguments)}(Ba,Js[n.app.options.appId],e,t,r).catch(i=>Or.error(i))}(t,r,i,a)}}catch(t){throw Wi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Zt.registerVersion)(yv,"0.9.3"),(0,Zt.registerVersion)(yv,"0.9.3","esm2017")}();const qE=new class SS extends Hp{}(class gh extends oy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var pc=F(9468),gc=F(5363);const mh=new l.GfV("7.5.0"),vv="__angularfire_symbol__analyticsIsSupportedValue",_h="__angularfire_symbol__analyticsIsSupported",bv="__angularfire_symbol__remoteConfigIsSupportedValue",Ig="__angularfire_symbol__remoteConfigIsSupported",Tg="__angularfire_symbol__messagingIsSupportedValue",wv="__angularfire_symbol__messagingIsSupported";globalThis[_h]||(globalThis[_h]=TS().then(n=>globalThis[vv]=n).catch(()=>globalThis[vv]=!1)),globalThis[wv]||(globalThis[wv]=TE().then(n=>globalThis[Tg]=n).catch(()=>globalThis[Tg]=!1)),globalThis[Ig]||(globalThis[Ig]=rE().then(n=>globalThis[bv]=n).catch(()=>globalThis[bv]=!1));const Ev=(n,e)=>{const t=e?[e]:(0,Zt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function mc(){}class KE{constructor(e,t=qE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class AS{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)),t.pipe(qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sg=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new KE(Zone.current)),this.insideAngular=t.run(()=>new KE(Zone.current,th)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function NS(n){return Fl().ngZone.runOutsideAngular(()=>n())}function Ll(n){return Fl().ngZone.run(()=>n())}function Mi(n){return Fl(),function xS(n){return function(t){return(t=t.lift(new AS(n.ngZone))).pipe((0,pc.R)(n.outsideAngular),(0,gc.Q)(n.insideAngular))}}(Fl())(n)}const Iv=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ll(()=>n.apply(void 0,r))},Tv=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=Ll(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)))),r[a]=Iv(r[a],t));const i=NS(()=>n.apply(this,r));if(!e){if(i instanceof Wn.y){const a=Fl();return i.pipe((0,pc.R)(a.outsideAngular),(0,gc.Q)(a.insideAngular))}return Ll(()=>i)}return i instanceof Wn.y?i.pipe(Mi):i instanceof Promise?Ll(()=>new Promise((a,c)=>i.then(f=>Ll(()=>a(f)),f=>Ll(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ll(()=>i)};function Cv(){return(0,In.e)((n,e)=>{let t,r=!1;n.subscribe((0,pn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function yh(n,e=Bi.y){return n=n??Sv,(0,In.e)((t,r)=>{let i,a=!0;t.subscribe((0,pn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function Sv(n,e){return n===e}var ft,qi=F(2011),Av=(F(9568),F(3942)),kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro={},Nv=Nv||{},Ft=kS||self;function ko(){}function vh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ag="closure_uid_"+(1e9*Math.random()>>>0),Ov=0;function PS(n,e,t){return n.call.apply(n.bind,arguments)}function Mv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xr(n,e,t){return(Xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PS:Mv).apply(null,arguments)}function wh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _r(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Po(){this.s=this.s,this.o=this.o}Po.prototype.s=!1,Po.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ux(n){Object.prototype.hasOwnProperty.call(n,Ag)&&n[Ag]||(n[Ag]=++Ov)}(this)},Po.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ng(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function JE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vh(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function ei(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ei.prototype.h=function(){this.defaultPrevented=!0};var FS=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",ko,e),Ft.removeEventListener("test",ko,e)}catch{}return n}();function Og(n){return/^[\s\xa0]*$/.test(n)}var Rv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function QE(n,e){return n<e?-1:n>e?1:0}function Dh(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function Qs(n){return-1!=Dh().indexOf(n)}function kv(n){return kv[" "](n),n}kv[" "]=ko;var xg,n,LS=Qs("Opera"),_c=Qs("Trident")||Qs("MSIE"),Pv=Qs("Edge"),Mg=Pv||_c,Fv=Qs("Gecko")&&!(-1!=Dh().toLowerCase().indexOf("webkit")&&!Qs("Edge"))&&!(Qs("Trident")||Qs("MSIE"))&&!Qs("Edge"),XE=-1!=Dh().toLowerCase().indexOf("webkit")&&!Qs("Edge");function e1(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Lv="",Bv=(n=Dh(),Fv?/rv:([^\);]+)(\)|;)/.exec(n):Pv?/Edge\/([\d\.]+)/.exec(n):_c?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XE?/WebKit\/(\S+)/.exec(n):LS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bv&&(Lv=Bv?Bv[1]:""),_c){var Vv=e1();if(null!=Vv&&Vv>parseFloat(Lv)){xg=String(Vv);break e}}xg=Lv}var BS={};var t1=Ft.document&&_c&&(e1()||parseInt(xg,10))||void 0;function yc(n,e){if(ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fv){e:{try{kv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:n1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yc.X.h.call(this)}}_r(yc,ei);var n1={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),VS=0;function jx(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++VS,this.ba=this.ea=!1}function Ih(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function kg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $v(n){const e={};for(const t in n)e[t]=n[t];return e}const r1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<r1.length;a++)t=r1[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Va(n){this.src=n,this.g={},this.h=0}function jv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=xv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Ih(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Th(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Va.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Th(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new jx(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var us="closure_lm_"+(1e6*Math.random()|0),Hv={};function Pg(n,e,t,r,i){if(r&&r.once)return o1(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Pg(n,e[a],t,r,i);return null}return t=Lg(t),n&&n[vc]?n.N(e,t,bh(r)?!!r.capture:!!r,i):bc(n,e,t,!1,r,i)}function bc(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=bh(i)?!!i.capture:!!i,f=Gv(n);if(f||(n[us]=f=new Va(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function US(){const e=$S;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)FS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ch(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function o1(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)o1(n,e[a],t,r,i);return null}return t=Lg(t),n&&n[vc]?n.O(e,t,bh(r)?!!r.capture:!!r,i):bc(n,e,t,!0,r,i)}function a1(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)a1(n,e[a],t,r,i);else r=bh(r)?!!r.capture:!!r,t=Lg(t),n&&n[vc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Th(a=n.g[e],t,r,i))&&(Ih(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Gv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Th(e,t,r,i)),(t=-1<n?e[n]:null)&&wc(t))}function wc(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[vc])jv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ch(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gv(e))?(jv(t,n),0==t.h&&(t.src=null,e[us]=null)):Ih(n)}}}function Ch(n){return n in Hv?Hv[n]:Hv[n]="on"+n}function $S(n,e){if(n.ba)n=!0;else{e=new yc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&wc(n),n=t.call(r,e)}return n}function Gv(n){return(n=n[us])instanceof Va?n:null}var Fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(n){return"function"==typeof n?n:(n[Fg]||(n[Fg]=function(e){return n.handleEvent(e)}),n[Fg])}function sr(){Po.call(this),this.i=new Va(this),this.P=this,this.I=null}function Mr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ei(e,n);else if(e instanceof ei)e.target=e.target||n;else{var i=e;s1(e=new ei(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Dc(c,r,!0,e)&&i}if(i=Dc(c=e.g=n,r,!0,e)&&i,i=Dc(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Dc(c=e.g=t[a],r,!1,e)&&i}function Dc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,m=c.ha||c.src;c.ea&&jv(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}_r(sr,Po),sr.prototype[vc]=!0,sr.prototype.removeEventListener=function(n,e,t,r){a1(this,n,e,t,r)},sr.prototype.M=function(){if(sr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ih(t[r]);delete n.g[e],n.h--}}this.I=null},sr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Sh=Ft.JSON.stringify;function l1(){var n=qv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wv,Bg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jS,n=>n.reset());class jS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HS(n){Ft.setTimeout(()=>{throw n},0)}function u1(n,e){Wv||function c1(){var n=Ft.Promise.resolve(void 0);Wv=function(){n.then(d1)}}(),Ah||(Wv(),Ah=!0),qv.add(n,e)}var Ah=!1,qv=new class zv{constructor(){this.h=this.g=null}add(e,t){const r=Bg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function d1(){for(var n;n=l1();){try{n.h.call(n.g)}catch(t){HS(t)}var e=Bg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ah=!1}function Nh(n,e){sr.call(this),this.h=n||1,this.g=e||Ft,this.j=Xr(this.lb,this),this.l=Date.now()}function Vg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Zv(n,e,t){if("function"==typeof n)t&&(n=Xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function Kv(n){n.g=Zv(()=>{n.g=null,n.i&&(n.i=!1,Kv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_r(Nh,sr),(ft=Nh.prototype).ca=!1,ft.R=null,ft.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mr(this,"tick"),this.ca&&(Vg(this),this.start()))}},ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Nh.X.M.call(this),Vg(this),delete this.g};class h1 extends Po{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kv(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oh(n){Po.call(this),this.h=n,this.g={}}_r(Oh,Po);var Yv=[];function Jv(n,e,t,r){Array.isArray(t)||(t&&(Yv[0]=t.toString()),t=Yv);for(var i=0;i<t.length;i++){var a=Pg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function ti(n){kg(n.g,function(e,t){this.g.hasOwnProperty(t)&&wc(e)},n),n.g={}}function Fo(){this.g=!0}function Mh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function f1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return Sh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Oh.prototype.M=function(){Oh.X.M.call(this),ti(this)},Oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fo.prototype.Aa=function(){this.g=!1},Fo.prototype.info=function(){};var Ua={},Ec=null;function Ug(){return Ec=Ec||new sr}function $g(n){ei.call(this,Ua.Pa,n)}function xh(n){const e=Ug();Mr(e,new $g(e))}function Qv(n,e){ei.call(this,Ua.STAT_EVENT,n),this.stat=e}function hi(n){const e=Ug();Mr(e,new Qv(e,n))}function p1(n,e){ei.call(this,Ua.Qa,n),this.size=e}function Rh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Ua.Pa="serverreachability",_r($g,ei),Ua.STAT_EVENT="statevent",_r(Qv,ei),Ua.Qa="timingevent",_r(p1,ei);var Ic={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jg(){}function Hg(){}jg.prototype.h=null;var Wg,Gg={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zg(){ei.call(this,"d")}function e0(){ei.call(this,"c")}function Lo(){}function Ph(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Oh(this),this.O=n0,this.T=new Nh(n=Mg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}_r(zg,ei),_r(e0,ei),_r(Lo,jg),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},Wg=new Lo;var n0=45e3,g1={},qg={};function m1(n,e,t){n.K=1,n.v=u0(Bo(e)),n.s=t,n.P=!0,_1(n,null)}function _1(n,e){n.F=Date.now(),Tc(n),n.A=Bo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ZS(t.i,"t",r),n.C=0,t=n.l.H,n.h=new t0,n.g=sm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new h1(Xr(n.La,n,n.g),n.N)),Jv(n.S,n.g,"readystatechange",n.ib),e=n.H?$v(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),xh(),function GS(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var E=v[0];v=v[1];var C=E.split("_");c=2<=C.length&&"type"==C[1]?c+(E+"=")+v+"&":c+(E+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function y1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function v1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=b1(n,t),i==qg){4==e&&(n.o=4,hi(14),r=!1),Mh(n.j,n.m,null,"[Incomplete Response]");break}if(i==g1){n.o=4,hi(15),Mh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mh(n.j,n.m,i,null),r0(n,i)}y1(n)&&i!=qg&&i!=g1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),w0(e),e.K=!0,hi(11))):(Mh(n.j,n.m,t,"[Invalid Chunked Response]"),Bl(n),Cc(n))}function b1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qg:(t=Number(e.substring(t,r)),isNaN(t)?g1:(r+=1)+t>e.length?qg:(e=e.substr(r,t),n.C=r+t,e))}function Tc(n){n.V=Date.now()+n.O,w1(n,n.O)}function w1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rh(Xr(n.gb,n),e)}function Fh(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Cc(n){0==n.l.G||n.I||rA(n.l,n)}function Bl(n){Fh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Vg(n.T),ti(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function r0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||f0(t.h,n)))if(!n.J&&f0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Uh(t),Oc(t)}b0(t),hi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Rh(Xr(t.cb,t),6e3));if(1>=T1(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Vl(t,11)}else if((n.J||t.g==n)&&Uh(t),!Og(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const E=v[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const C=v[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.J=r=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const G=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ac(a,a.h),a.h=null))}if(r.D){const Y=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.za=Y,Mn(r.F,r.D,Y))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=iA(r,r.H?r.ka:null,r.V),c.J){C1(r.h,c);var f=c,m=r.J;m&&f.setTimeout(m),f.B&&(Fh(f),Tc(f)),r.g=c}else x1(r);0<t.i.length&&Bh(t)}else"stop"!=v[0]&&"close"!=v[0]||Vl(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Vl(t,7):y0(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}xh()}catch{}}function s0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function WS(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function D1(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ft=Ph.prototype).setTimeout=function(n){this.O=n},ft.ib=function(n){n=n.target;const e=this.L;e&&3==Xs(n)?e.l():this.La(n)},ft.La=function(n){try{if(n==this.g)e:{const E=Xs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Mg||this.g&&(this.h.h||this.g.fa()||M1(this.g)))){this.I||4!=E||7==e||xh(),Fh(this);var t=this.g.aa();this.Y=t;t:if(y1(this)){var r=M1(this.g);n="";var i=r.length,a=4==Xs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bl(this),Cc(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function zS(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Og(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,hi(12),Bl(this),Cc(this);break e}Mh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,r0(this,t)}this.P?(v1(this,E,c),Mg&&this.i&&3==E&&(Jv(this.S,this.T,"tick",this.hb),this.T.start())):(Mh(this.j,this.m,c,null),r0(this,c)),4==E&&Bl(this),this.i&&!this.I&&(4==E?rA(this.l,this):(this.i=!1,Tc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),Bl(this),Cc(this)}}}catch{}},ft.hb=function(){if(this.g){var n=Xs(this.g),e=this.g.fa();this.C<e.length&&(Fh(this),v1(this,n,e),this.i&&4!=n&&Tc(this))}},ft.cancel=function(){this.I=!0,Bl(this)},ft.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Hx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xh(),hi(17)),Bl(this),this.o=2,Cc(this)):w1(this,this.V-n)};var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $a){this.h=void 0!==e?e:n.h,Zg(this,n.j),this.s=n.s,this.g=n.g,a0(this,n.m),this.l=n.l,e=n.i;var t=new Sc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),l0(this,t),this.o=n.o}else n&&(t=String(n).match(o0))?(this.h=!!e,Zg(this,t[1]||"",!0),this.s=Kg(t[2]||""),this.g=Kg(t[3]||"",!0),a0(this,t[4]),this.l=Kg(t[5]||"",!0),l0(this,t[6]||"",!0),this.o=Kg(t[7]||"")):(this.h=!!e,this.i=new Sc(null,this.h))}function Bo(n){return new $a(n)}function Zg(n,e,t){n.j=t?Kg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function a0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function l0(n,e,t){e instanceof Sc?(n.i=e,function I1(n,e){e&&!n.j&&(Ps(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(c0(this,r),ZS(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yg(e,Jg)),n.i=new Sc(e,n.h))}function Mn(n,e,t){n.i.set(e,t)}function u0(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Gx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Gx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$a.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yg(e,qS,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yg(e,qS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yg(t,"/"==t.charAt(0)?Wx:zx,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yg(t,qx)),n.join("")};var qS=/[#\/\?@]/g,zx=/[#\?:]/g,Wx=/[#\?]/g,Jg=/[#\?@]/g,qx=/#/g;function Sc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ps(n){n.g||(n.g=new Map,n.h=0,n.i&&function E1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function c0(n,e){Ps(n),e=ja(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function d0(n,e){return Ps(n),e=ja(n,e),n.g.has(e)}function ZS(n,e,t){c0(n,e),0<t.length&&(n.i=null,n.g.set(ja(n,e),Ng(t)),n.h+=t.length)}function ja(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h0(n){this.l=n||Zx,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ga&&Ft.g.Ga()&&Ft.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Sc.prototype).add=function(n,e){Ps(this),this.i=null,n=ja(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){Ps(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ft.oa=function(){Ps(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ft.W=function(n){Ps(this);let e=[];if("string"==typeof n)d0(this,n)&&(e=e.concat(this.g.get(ja(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return Ps(this),this.i=null,d0(this,n=ja(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var Zx=10;function YS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function T1(n){return n.h?1:n.g?n.g.size:0}function f0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ac(n,e){n.g?n.g.add(e):n.h=e}function C1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function JS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ng(n.i)}function S1(){}function Kx(){this.g=new S1}function QS(n,e,t){const r=t||"";try{s0(n,function(i,a){let c=i;bh(i)&&(c=Sh(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xg(n){this.l=n.ac||null,this.j=n.jb||!1}function em(n,e){sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h0.prototype.cancel=function(){if(this.i=JS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},S1.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},S1.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},_r(Xg,jg),Xg.prototype.g=function(){return new em(this.l,this.j)},Xg.prototype.i=function(n){return function(){return n}}({}),_r(em,sr);var tm=0;function p0(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function nm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fi(n)}function fi(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=em.prototype).open=function(n,e){if(this.readyState!=tm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fi(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nm(this)),this.readyState=tm},ft.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;p0(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ft.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nm(this):fi(this),3==this.readyState&&p0(this)}},ft.Va=function(n){this.g&&(this.response=this.responseText=n,nm(this))},ft.Ua=function(n){this.g&&(this.response=n,nm(this))},ft.ga=function(){this.g&&nm(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(em.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eA=Ft.JSON.parse;function On(n){sr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=A1,this.K=this.L=!1}_r(On,sr);var A1="",Yx=/^https?$/i,cs=["POST","PUT"];function rm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,N1(n),Nc(n)}function N1(n){n.D||(n.D=!0,Mr(n,"complete"),Mr(n,"error"))}function O1(n){if(n.h&&typeof Nv<"u"&&(!n.C[1]||4!=Xs(n)||2!=n.aa()))if(n.v&&4==Xs(n))Zv(n.Ha,0,n);else if(Mr(n,"readystatechange"),4==Xs(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(o0)[1]||null;if(!i&&Ft.self&&Ft.self.location){var a=Ft.self.location.protocol;i=a.substr(0,a.length-1)}r=!Yx.test(i?i.toLowerCase():"")}t=r}if(t)Mr(n,"complete"),Mr(n,"success");else{n.m=6;try{var c=2<Xs(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",N1(n)}}finally{Nc(n)}}}function Nc(n,e){if(n.g){g0(n);const t=n.g,r=n.C[0]?ko:null;n.g=null,n.C=null,e||Mr(n,"ready");try{t.onreadystatechange=r}catch{}}}function g0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Xs(n){return n.g?n.g.readyState:0}function M1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case A1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function m0(n){let e="";return kg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function im(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=m0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function Lh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _0(n){this.Ca=0,this.i=[],this.j=new Fo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Lh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Lh("baseRetryDelayMs",5e3,n),this.bb=Lh("retryDelaySeedMs",1e4,n),this.$a=Lh("forwardChannelMaxRetries",2,n),this.ta=Lh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new h0(n&&n.concurrentRequestLimit),this.Fa=new Kx,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function y0(n){if(Vo(n),3==n.G){var e=n.U++,t=Bo(n.F);Mn(t,"SID",n.I),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),Vh(n,t),(e=new Ph(n,n.j,e,void 0)).K=2,e.v=u0(Bo(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=sm(e.l,null),e.g.da(e.v)),e.F=Date.now(),Tc(e)}E0(n)}function Oc(n){n.g&&(w0(n),n.g.cancel(),n.g=null)}function Vo(n){Oc(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Uh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Bh(n){YS(n.h)||n.m||(n.m=!0,u1(n.Ja,n),n.C=0)}function eo(n,e){var t;t=e?e.m:n.U++;const r=Bo(n.F);Mn(r,"SID",n.I),Mn(r,"RID",t),Mn(r,"AID",n.T),Vh(n,r),n.o&&n.s&&im(r,n.o,n.s),t=new Ph(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=nA(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ac(n.h,t),m1(t,r,e)}function Vh(n,e){n.ia&&kg(n.ia,function(t,r){Mn(e,r,t)}),n.l&&s0({},function(t,r){Mn(e,r,t)})}function nA(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xr(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const E=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),f=!1;else try{QS(E,c,"req"+v+"_")}catch{r&&r(E)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function x1(n){n.g||n.u||(n.Z=1,u1(n.Ia,n),n.A=0)}function b0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Rh(Xr(n.Ia,n),D0(n,n.A)),n.A++,0))}function w0(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function R1(n){n.g=new Ph(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Bo(n.sa);Mn(e,"RID","rpc"),Mn(e,"SID",n.I),Mn(e,"CI",n.L?"0":"1"),Mn(e,"AID",n.T),Mn(e,"TYPE","xmlhttp"),Vh(n,e),n.o&&n.s&&im(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=u0(Bo(e)),t.s=null,t.P=!0,_1(t,n)}function Uh(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function rA(n,e){var t=null;if(n.g==e){Uh(n),w0(n),n.g=null;var r=2}else{if(!f0(n.h,e))return;t=e.D,C1(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mr(r=Ug(),new p1(r,t)),Bh(n)}else x1(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function v0(n,e){return!(T1(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Rh(Xr(n.Ja,n,e),D0(n,n.C)),n.C++,0)))}(n,e)||2==r&&b0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function D0(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Vl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xr(n.kb,n);t||(t=new $a("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Zg(t,"https"),u0(t)),function XS(n,e){const t=new Fo;if(Ft.Image){const r=new Image;r.onload=wh(Qg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=wh(Qg,t,r,"TestLoadImage: error",!1,e),r.onabort=wh(Qg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=wh(Qg,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hi(2);n.G=0,n.l&&n.l.va(e),E0(n),Vo(n)}function E0(n){if(n.G=0,n.la=[],n.l){const e=JS(n.h);(0!=e.length||0!=n.i.length)&&(JE(n.la,e),JE(n.la,n.i),n.h.i.length=0,Ng(n.i),n.i.length=0),n.l.ua()}}function iA(n,e,t){var r=t instanceof $a?Bo(t):new $a(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),a0(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new $a(null,void 0);r&&Zg(a,r),e&&(a.g=e),i&&a0(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Mn(r,t,e),Mn(r,"VER",n.ma),Vh(n,r),r}function sm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new On(t&&n.Da&&!n.ra?new Xg({jb:!0}):n.ra)).Ka(n.H),e}function I0(){}function $h(){if(_c&&!(10<=Number(t1)))throw Error("Environmental error: no available transport.")}function xi(n,e){sr.call(this),this.g=new _0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Og(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Og(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uo(this)}function T0(n){zg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function C0(){e0.call(this),this.status=1}function Uo(n){this.g=n}(ft=On.prototype).Ka=function(n){this.L=n},ft.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wg.g(),this.C=function kh(n){return n.h||(n.h=n.i())}(this.u?this.u:Wg),this.g.onreadystatechange=Xr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void rm(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=xv(cs,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{g0(this),0<this.B&&((this.K=function tA(n){return _c&&function Eh(){return function $x(n){var e=BS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Rv(String(xg)).split("."),t=Rv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=QE(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||QE(0==i[2].length,0==a[2].length)||QE(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xr(this.qa,this)):this.A=Zv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){rm(this,a)}},ft.qa=function(){typeof Nv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mr(this,"complete"),Mr(this,"abort"),Nc(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nc(this,!0)),On.X.M.call(this)},ft.Ha=function(){this.s||(this.F||this.v||this.l?O1(this):this.fb())},ft.fb=function(){O1(this)},ft.aa=function(){try{return 2<Xs(this)?this.g.status:-1}catch{return-1}},ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eA(e)}},ft.Ea=function(){return this.m},ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=_0.prototype).ma=8,ft.G=1,ft.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ph(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=$v(a),s1(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nA(this,i,e),Mn(t=Bo(this.F),"RID",n),Mn(t,"CVER",22),this.D&&Mn(t,"X-HTTP-Session-Id",this.D),Vh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(m0(a)))+"&"+e:this.o&&im(t,this.o,a)),Ac(this.h,i),this.Ya&&Mn(t,"TYPE","init"),this.O?(Mn(t,"$req",e),Mn(t,"SID","null"),i.Z=!0,m1(i,t,null)):m1(i,t,e),this.G=2}}else 3==this.G&&(n?eo(this,n):0==this.i.length||YS(this.h)||eo(this))},ft.Ia=function(){if(this.u=null,R1(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Rh(Xr(this.eb,this),n)}},ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hi(10),Oc(this),R1(this))},ft.cb=function(){null!=this.v&&(this.v=null,Oc(this),b0(this),hi(19))},ft.kb=function(n){n?(this.j.info("Successfully pinged google.com"),hi(2)):(this.j.info("Failed to ping google.com"),hi(1))},(ft=I0.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Ra=function(){},$h.prototype.g=function(n,e){return new xi(n,e)},_r(xi,sr),xi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;hi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=iA(n,null,n.V),Bh(n)},xi.prototype.close=function(){y0(this.g)},xi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Sh(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Bh(e)},xi.prototype.M=function(){this.g.l=null,delete this.j,y0(this.g),delete this.g,xi.X.M.call(this)},_r(T0,zg),_r(C0,e0),_r(Uo,I0),Uo.prototype.xa=function(){Mr(this.g,"a")},Uo.prototype.wa=function(n){Mr(this.g,new T0(n))},Uo.prototype.va=function(n){Mr(this.g,new C0)},Uo.prototype.ua=function(){Mr(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,Ic.NO_ERROR=0,Ic.TIMEOUT=8,Ic.HTTP_ERROR=6,Xv.COMPLETE="complete",Hg.EventType=Gg,Gg.OPEN="a",Gg.CLOSE="b",Gg.ERROR="c",Gg.MESSAGE="d",sr.prototype.listen=sr.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.Oa,On.prototype.getLastErrorCode=On.prototype.Ea,On.prototype.getStatus=On.prototype.aa,On.prototype.getResponseJson=On.prototype.Sa,On.prototype.getResponseText=On.prototype.fa,On.prototype.send=On.prototype.da,On.prototype.setWithCredentials=On.prototype.Ka;var om=Ro.createWebChannelTransport=function(){return new $h},k1=Ro.getStatEventTarget=function(){return Ug()},S0=Ro.ErrorCode=Ic,sA=Ro.EventType=Xv,Jx=Ro.Event=Ua,oA=Ro.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Qx=Ro.FetchXmlHttpFactory=Xg,jh=Ro.WebChannel=Hg,aA=Ro.XhrIo=On;const P1="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Hh="9.17.1";const Ul=new Ms.Yd("@firebase/firestore");function F1(){return Ul.logLevel}function Me(n,...e){if(Ul.logLevel<=Ms.in.DEBUG){const t=e.map(A0);Ul.debug(`Firestore (${Hh}): ${n}`,...t)}}function Zn(n,...e){if(Ul.logLevel<=Ms.in.ERROR){const t=e.map(A0);Ul.error(`Firestore (${Hh}): ${n}`,...t)}}function to(n,...e){if(Ul.logLevel<=Ms.in.WARN){const t=e.map(A0);Ul.warn(`Firestore (${Hh}): ${n}`,...t)}}function A0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function pt(n,e){n||at()}function Ze(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class am{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xr.UNAUTHENTICATED))}shutdown(){}}class lm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eR{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,W.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new xr(e)}}class tR{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nR{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new tR(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt("string"==typeof t.token),this.A=t.token,new lA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class B1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uA(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function jl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function O0(n){return n+"\0"}class Tn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Tn(0,0))}static max(){return new vt(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gh{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends Gh{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const M0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Gh{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return M0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(Yt.fromString(e))}static fromName(e){return new We(Yt.fromString(e).popFirst(5))}static empty(){return new We(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Yt(e.slice()))}}class Mc{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function x0(n){return n.fields.find(e=>2===e.kind)}function Hl(n){return n.fields.filter(e=>2!==e.kind)}Mc.UNKNOWN_ID=-1;class R0{constructor(e,t){this.fieldPath=e,this.kind=t}}class zh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zh(0,ds.min())}}function V1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(1e9===r?new Tn(t+1,0):new Tn(t,r));return new ds(i,We.empty(),e)}function dA(n){return new ds(n.readTime,n.key,-1)}class ds{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ds(vt.min(),We.empty(),-1)}static max(){return new ds(vt.max(),We.empty(),-1)}}function U1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const hA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ha(n){return $1.apply(this,arguments)}function $1(){return $1=(0,W.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==hA)throw n;Me("LocalStore","Unexpectedly lost primary lease")}),$1.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(E=>{c[v]=E,++f,f===a&&r(c)},E=>i(E))}})}static doWhile(e,t){return new ne((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class k0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new yr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new um(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=h(r.target.error);this.P.reject(new um(e,i))}}static open(e,t,r,i){try{return new k0(t,e.transaction(i,r))}catch(a){throw new um(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new o(t)}}class no{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===no.D((0,gt.z$)())&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Me("SimpleDb","Removing database:",e),u(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,gt.hl)())return!1;if(no.N())return!0;const e=(0,gt.z$)(),t=no.D(e),r=0<t&&t<10,i=no.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,W.Z)(function*(){return t.db||(Me("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new um(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new ye(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ye(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new um(e,f))},a.onupgradeneeded=c=>{Me("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Me("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,W.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const m=k0.open(a.db,e,c?"readonly":"readwrite",r),v=i(m).next(E=>(m.V(),E)).catch(E=>(m.abort(E),ne.reject(E))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,E="FirebaseError"!==v.name&&f<3;if(Me("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),a.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pA{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return u(this.q.delete())}}class um extends ye{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function s(n){return"IndexedDbTransactionError"===n.name}class o{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Me("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),u(r)}add(e){return Me("SimpleDb","ADD",this.store.name,e,e),u(this.store.add(e))}get(e){return u(this.store.get(e)).next(t=>(void 0===t&&(t=null),Me("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Me("SimpleDb","DELETE",this.store.name,e),u(this.store.delete(e))}count(){return Me("SimpleDb","COUNT",this.store.name),u(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ne((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ne((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ne((r,i)=>{t.onerror=a=>{const c=h(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ne((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new pA(f),v=t(f.primaryKey,f.value,m);if(v instanceof ne){const E=v.catch(C=>(m.done(),ne.reject(C)));r.push(E)}m.isDone?i():null===m.G?f.continue():f.continue(m.G)}}).next(()=>ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function u(n){return new ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=h(r.target.error);t(i)}})}let d=!1;function h(n){const e=no.D((0,gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return d||(d=!0,setTimeout(()=>{throw r},0)),r}}return n}class p{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Me("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{Me("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){s(r)?Me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ha(r)}yield t.nt(6e4)}))}}class y{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ne.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Me("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Me("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=dA(a);U1(c,r)>0&&(r=c)}),new ds(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let D=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class I{constructor(e,t,r,i,a,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class T{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new T("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof T&&e.projectId===this.projectId&&e.database===this.database}}function A(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function R(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function K(n){return null==n}function le(n){return 0===n&&1/n==-1/0}function Fe(n){return"number"==typeof n&&Number.isInteger(n)&&!le(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new je(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new je(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const It=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function me(n){if(pt(!!n),"string"==typeof n){let e=0;const t=It.exec(n);if(pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cn(n){return"string"==typeof n?je.fromBase64String(n):je.fromUint8Array(n)}function xn(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gA(n){const e=n.mapValue.fields.__previous_value__;return xn(e)?gA(e):e}function P0(n){const e=me(n.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},j1={nullValue:"NULL_VALUE"};function Wh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xn(n)?4:lR(n)?9007199254740991:10:at()}function Ga(n,e){if(n===e)return!0;const t=Wh(n);if(t!==Wh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return P0(n).isEqual(P0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=me(r.timestampValue),c=me(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,cn(n.bytesValue).isEqual(cn(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ut(r.doubleValue),c=ut(i.doubleValue);return a===c?le(a)===le(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return jl(n.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(A(a)!==A(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Ga(a[f],c[f])))return!1;return!0}(n,e);default:return at()}var i}function F0(n,e){return void 0!==(n.values||[]).find(t=>Ga(t,e))}function Rc(n,e){if(n===e)return 0;const t=Wh(n),r=Wh(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=ut(i.integerValue||i.doubleValue),f=ut(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return sR(n.timestampValue,e.timestampValue);case 4:return sR(P0(n),P0(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=cn(i),f=cn(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=Bt(c[m],f[m]);if(0!==v)return v}return Bt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Bt(ut(i.latitude),ut(a.latitude));return 0!==c?c:Bt(ut(i.longitude),ut(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const v=Rc(c[m],f[m]);if(v)return v}return Bt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===xc.mapValue&&a===xc.mapValue)return 0;if(i===xc.mapValue)return 1;if(a===xc.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const C=Bt(f[E],v[E]);if(0!==C)return C;const N=Rc(c[f[E]],m[v[E]]);if(0!==N)return N}return Bt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw at()}}function sR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=me(n),r=me(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function cm(n){return mA(n)}function mA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=me(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cn(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=mA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${mA(r.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function qh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _A(n){return!!n&&"integerValue"in n}function L0(n){return!!n&&"arrayValue"in n}function oR(n){return!!n&&"nullValue"in n}function aR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function H1(n){return!!n&&"mapValue"in n}function B0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return R(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=B0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=B0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function AV(n){return"nullValue"in n?j1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qh(T.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function NV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qh(T.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xc:at()}function uR(n,e){const t=Rc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cR(n,e){const t=Rc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class kc{constructor(e,t){this.position=e,this.inclusive=t}}function dR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?We.comparator(We.fromName(c.referenceValue),t.key):Rc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function hR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ga(n.position[t],e.position[t]))return!1;return!0}class fR{}class Xt extends fR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new OV(e,t,r):"array-contains"===t?new RV(e,r):"in"===t?new vR(e,r):"not-in"===t?new kV(e,r):"array-contains-any"===t?new PV(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new MV(e,r):new xV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rc(t,this.value)):null!==t&&Wh(this.value)===Wh(t)&&this.matchesComparison(Rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends fR{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new _n(e,t)}matches(e){return dm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function dm(n){return"and"===n.op}function yA(n){return"or"===n.op}function vA(n){return pR(n)&&dm(n)}function pR(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function bA(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+cm(n.value);if(vA(n))return n.filters.map(e=>bA(e)).join(",");{const e=n.filters.map(t=>bA(t)).join(",");return`${n.op}(${e})`}}function gR(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Ga(t.value,r.value)):n instanceof _n?function(t,r){return r instanceof _n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&gR(a,r.filters[c]),!0)}(n,e):void at();var t,r}function mR(n,e){const t=n.filters.concat(e);return _n.create(t,n.op)}function _R(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${cm(e.value)}`:n instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(_R).join(" ,")+"}"}(n):"Filter";var e}class OV extends Xt{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class MV extends Xt{constructor(e,t){super(e,"in",t),this.keys=yR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xV extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=yR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class RV extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return L0(t)&&F0(t.arrayValue,this.value)}}class vR extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&F0(this.value.arrayValue,t)}}class kV extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(F0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!F0(this.value.arrayValue,t)}}class PV extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!L0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>F0(this.value.arrayValue,r))}}class hm{constructor(e,t="asc"){this.field=e,this.dir=t}}function FV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class or{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new G1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new G1(this.root,e,this.comparator,!1)}getReverseIterator(){return new G1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new G1(this.root,e,this.comparator,!0)}}class G1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??pi.RED,this.left=i??pi.EMPTY,this.right=a??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new pi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bR(this.data.getIterator())}getIteratorFrom(e){return new bR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class bR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fm(n){return n.hasNext()?n.getNext():void 0}class hs{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new hs([])}unionWith(e){let t=new En(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!H1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=B0(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=B0(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());H1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];H1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){R(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new gi(B0(this.value))}}function wR(n){const e=[];return R(n.fields,(t,r)=>{const i=new Kn([t]);if(H1(r)){const a=wR(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new hs(e)}class Rn{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,vt.min(),vt.min(),vt.min(),gi.empty(),0)}static newFoundDocument(e,t,r,i){return new Rn(e,1,t,vt.min(),r,i,0)}static newNoDocument(e,t){return new Rn(e,2,t,vt.min(),vt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,vt.min(),vt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class LV{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ft=null}}function wA(n,e=null,t=[],r=[],i=null,a=null,c=null){return new LV(n,e,t,r,i,a,c)}function Zh(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),K(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cm(r)).join(",")),e.ft=t}return e.ft}function V0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hR(n.startAt,e.startAt)&&hR(n.endAt,e.endAt)}function z1(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function W1(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function DR(n,e,t){let r=j1,i=!0;for(const a of W1(n,e)){let c=j1,f=!0;switch(a.op){case"<":case"<=":c=AV(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=j1}uR({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];uR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function ER(n,e,t){let r=xc,i=!0;for(const a of W1(n,e)){let c=xc,f=!0;switch(a.op){case">=":case">":c=NV(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=xc}cR({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];cR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Gl{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.dt=null,this._t=null}}function IR(n,e,t,r,i,a,c,f){return new Gl(n,e,t,r,i,a,c,f)}function pm(n){return new Gl(n)}function TR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function q1(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function EA(n){return null!==n.collectionGroup}function Kh(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=q1(e),r=DA(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new hm(t)),e.dt.push(new hm(Kn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new hm(Kn.keyField(),a))}}}return e.dt}function Zi(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=wA(e.path,e.collectionGroup,Kh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Kh(e))t.push(new hm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new kc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new kc(e.startAt.position,e.startAt.inclusive):null;e._t=wA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function IA(n,e){e.getFirstInequalityField(),q1(n);const t=n.filters.concat([e]);return new Gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Z1(n,e,t){return new Gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function U0(n,e){return V0(Zi(n),Zi(e))&&n.limitType===e.limitType}function CR(n){return`${Zh(Zi(n))}|lt:${n.limitType}`}function TA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>_R(r)).join(", ")}]`),K(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cm(r)).join(",")),`Target(${t})`}(Zi(n))}; limitType=${n.limitType})`}function $0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Kh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=dR(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Kh(t),r)||t.endAt&&!function(i,a,c){const f=dR(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Kh(t),r)));var t,r}function SR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AR(n){return(e,t)=>{let r=!1;for(const i of Kh(n)){const a=BV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function BV(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?Rc(f,m):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function NR(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(e)?"-0":e}}function OR(n){return{integerValue:""+n}}function MR(n,e){return Fe(e)?OR(e):NR(n,e)}class K1{constructor(){this._=void 0}}function VV(n,e,t){return n instanceof gm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Yh?RR(n,e):n instanceof Jh?kR(n,e):function(r,i){const a=xR(r,i),c=PR(a)+PR(r.gt);return _A(a)&&_A(r.gt)?OR(c):NR(r.yt,c)}(n,e)}function UV(n,e,t){return n instanceof Yh?RR(n,e):n instanceof Jh?kR(n,e):t}function xR(n,e){return n instanceof mm?_A(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gm extends K1{}class Yh extends K1{constructor(e){super(),this.elements=e}}function RR(n,e){const t=FR(e);for(const r of n.elements)t.some(i=>Ga(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jh extends K1{constructor(e){super(),this.elements=e}}function kR(n,e){let t=FR(e);for(const r of n.elements)t=t.filter(i=>!Ga(i,r));return{arrayValue:{values:t}}}class mm extends K1{constructor(e,t){super(),this.yt=e,this.gt=t}}function PR(n){return ut(n.integerValue||n.doubleValue)}function FR(n){return L0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class j0{constructor(e,t){this.field=e,this.transform=t}}class jV{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Y1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class J1{}function LR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ym(n.key,Vn.none()):new _m(n.key,n.data,Vn.none());{const t=n.data,r=gi.empty();let i=new En(Kn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new zl(n.key,r,new hs(i.toArray()),Vn.none())}}function HV(n,e,t){n instanceof _m?function(r,i,a){const c=r.value.clone(),f=UR(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof zl?function(r,i,a){if(!Y1(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=UR(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(VR(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function H0(n,e,t,r){return n instanceof _m?function(i,a,c,f){if(!Y1(i.precondition,a))return c;const m=i.value.clone(),v=$R(i.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof zl?function(i,a,c,f){if(!Y1(i.precondition,a))return c;const m=$R(i.fieldTransforms,f,a),v=a.data;return v.setAll(VR(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(c=t,Y1(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function GV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=xR(r.transform,i||null);null!=a&&(null===t&&(t=gi.empty()),t.set(r.field,a))}return t||null}function BR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&jl(t,r,(i,a)=>function $V(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Yh&&r instanceof Yh||t instanceof Jh&&r instanceof Jh?jl(t.elements,r.elements,Ga):t instanceof mm&&r instanceof mm?Ga(t.gt,r.gt):t instanceof gm&&r instanceof gm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class _m extends J1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zl extends J1{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UR(n,e,t){const r=new Map;pt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,UV(c,f,t[i]))}return r}function $R(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,VV(a,c,e))}return r}class ym extends J1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends J1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zV{constructor(e){this.count=e}}var Rr,an;function jR(n){switch(n){default:return at();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function HR(n){if(void 0===n)return Zn("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Rr.OK:return ie.OK;case Rr.CANCELLED:return ie.CANCELLED;case Rr.UNKNOWN:return ie.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return ie.INTERNAL;case Rr.UNAVAILABLE:return ie.UNAVAILABLE;case Rr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rr.NOT_FOUND:return ie.NOT_FOUND;case Rr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rr.ABORTED:return ie.ABORTED;case Rr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rr.DATA_LOSS:return ie.DATA_LOSS;default:return at()}}(an=Rr||(Rr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class Pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){R(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return H(this.inner)}size(){return this.innerSize}}const WV=new or(We.comparator);function fs(){return WV}const GR=new or(We.comparator);function G0(...n){let e=GR;for(const t of n)e=e.insert(t.key,t);return e}function zR(n){let e=GR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function za(){return z0()}function WR(){return z0()}function z0(){return new Pc(n=>n.toString(),(n,e)=>n.isEqual(e))}const qV=new or(We.comparator),ZV=new En(We.comparator);function Gt(...n){let e=ZV;for(const t of n)e=e.add(t);return e}const KV=new En(Bt);function Q1(){return KV}class W0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,q0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new W0(vt.min(),i,Q1(),fs(),Gt())}}class q0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new q0(r,t,Gt(),Gt(),Gt())}}class X1{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class qR{constructor(e,t){this.targetId=e,this.Et=t}}class ZR{constructor(e,t,r=je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class KR{constructor(){this.At=0,this.Rt=JR(),this.bt=je.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Gt(),t=Gt(),r=Gt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new q0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=JR()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class YV{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=fs(),this.qt=YR(),this.Ut=new En(Bt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(z1(a))if(0===r){const c=new We(a.path);this.Qt(t,c,Rn.newNoDocument(c,vt.min()))}else pt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const f=this.Yt(c);if(f){if(a.current&&z1(f.target)){const m=new We(f.target.path);null!==this.Lt.get(m)||this.te(c,m)||this.Qt(c,m,Rn.newNoDocument(m,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let r=Gt();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.Yt(m);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const i=new W0(e,t,this.Ut,this.Lt,r);return this.Lt=fs(),this.qt=YR(),this.Ut=new En(Bt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new KR,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new En(Bt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Me("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new KR),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function YR(){return new or(We.comparator)}function JR(){return new or(We.comparator)}const JV={asc:"ASCENDING",desc:"DESCENDING"},QV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XV={and:"AND",or:"OR"};class eU{constructor(e,t){this.databaseId=e,this.wt=t}}function vm(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QR(n,e){return n.wt?e.toBase64():e.toUint8Array()}function tU(n,e){return vm(n,e.toTimestamp())}function vr(n){return pt(!!n),vt.fromTimestamp(function(e){const t=me(e);return new Tn(t.seconds,t.nanos)}(n))}function SA(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function XR(n){const e=Yt.fromString(n);return pt(lk(e)),e}function Z0(n,e){return SA(n.databaseId,e.path)}function Wa(n,e){const t=XR(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(tk(t))}function AA(n,e){return SA(n.databaseId,e)}function ek(n){const e=XR(n);return 4===e.length?Yt.emptyPath():tk(e)}function K0(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tk(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nk(n,e,t){return{name:Z0(n,e),fields:t.value.mapValue.fields}}function rk(n,e,t){const r=Wa(n,e.name),i=vr(e.updateTime),a=e.createTime?vr(e.createTime):vt.min(),c=new gi({mapValue:{fields:e.fields}}),f=Rn.newFoundDocument(r,i,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Y0(n,e){let t;if(e instanceof _m)t={update:nk(n,e.key,e.value)};else if(e instanceof ym)t={delete:Z0(n,e.key)};else if(e instanceof zl)t={update:nk(n,e.key,e.data),updateMask:uU(e.fieldMask)};else{if(!(e instanceof CA))return at();t={verify:Z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof gm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof mm)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function NA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vn.updateTime(vr(i.updateTime)):void 0!==i.exists?Vn.exists(i.exists):Vn.none():Vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(pt("REQUEST_TIME"===c.setToServerValue),f=new gm):"appendMissingElements"in c?f=new Yh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Jh(c.removeAllFromArray.values||[]):"increment"in c?f=new mm(a,c.increment):at();const m=Kn.fromServerFormat(c.fieldPath);return new j0(m,f)}(n,i)):[];var i;if(e.update){const i=Wa(n,e.update.name),a=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new hs((e.updateMask.fieldPaths||[]).map(v=>Kn.fromServerFormat(v)));return new zl(i,a,c,t,r)}return new _m(i,a,t,r)}if(e.delete){const i=Wa(n,e.delete);return new ym(i,t)}if(e.verify){const i=Wa(n,e.verify);return new CA(i,t)}return at()}function ik(n,e){return{documents:[AA(n,e.path)]}}function OA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=AA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=AA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return ak(_n.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:bm((E=v).field),direction:oU(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.wt||K(v)?v:{value:v});var v,f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function sk(n){let e=ek(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=function(E){const C=ok(E);return C instanceof _n&&vA(C)?C.getFilters():[C]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new hm(wm((C=E).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let f=null;t.limit&&(f=function(E){let C;return C="object"==typeof E?E.value:E,K(C)?null:C}(t.limit));let m=null;var E;t.startAt&&(m=new kc((E=t.startAt).values||[],!!E.before));let v=null;return t.endAt&&(v=function(E){return new kc(E.values||[],!E.before)}(t.endAt)),IR(e,i,c,a,f,"F",m,v)}function ok(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wm(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wm(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wm(e.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wm(e.unaryFilter.field);return Xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?Xt.create(wm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _n.create(e.compositeFilter.filters.map(t=>ok(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function oU(n){return JV[n]}function aU(n){return QV[n]}function lU(n){return XV[n]}function bm(n){return{fieldPath:n.canonicalString()}}function wm(n){return Kn.fromServerFormat(n.fieldPath)}function ak(n){return n instanceof Xt?function(e){if("=="===e.op){if(aR(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NAN"}};if(oR(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aR(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NOT_NAN"}};if(oR(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bm(e.field),op:aU(e.op),value:e.value}}}(n):n instanceof _n?function(e){const t=e.getFilters().map(r=>ak(r));return 1===t.length?t[0]:{compositeFilter:{op:lU(e.op),filters:t}}}(n):at()}function uU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uk(e)),e=cU(n.get(t),e);return uk(e)}function cU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function uk(n){return n+"\x01\x01"}function qa(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&at(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:at()}a=c+2}return new Yt(r)}const ck=["userId","batchId"];function eI(n,e){return[n,Ki(e)]}function dk(n,e,t){return[n,Ki(e),t]}const dU={},hU=["prefixPath","collectionGroup","readTime","documentId"],fU=["prefixPath","collectionGroup","documentId"],pU=["collectionGroup","readTime","prefixPath","documentId"],gU=["canonicalId","targetId"],mU=["targetId","path"],_U=["path","targetId"],yU=["collectionId","parent"],vU=["indexId","uid"],bU=["uid","sequenceNumber"],wU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DU=["indexId","uid","orderedDocumentKey"],EU=["userId","collectionPath","documentId"],IU=["userId","collectionPath","largestBatchId"],TU=["userId","collectionGroup","largestBatchId"],hk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CU=[...hk,"documentOverlays"],fk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pk=fk,SU=[...pk,"indexConfiguration","indexState","indexEntries"];class MA extends fA{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ni(n,e){const t=Ze(n);return no.M(t.se,e)}class xA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&HV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=H0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=H0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WR();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const m=LR(c,f);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(t,r)=>BR(t,r))&&jl(this.baseMutations,e.baseMutations,(t,r)=>BR(t,r))}}class RA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length);let i=qV;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new RA(e,t,r,i)}}class kA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fc{constructor(e,t,r,i,a=vt.min(),c=vt.min(),f=je.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gk{constructor(e){this.ie=e}}function mk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Z0(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:vm(i,a.version.toTimestamp()),createTime:vm(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qh(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:Qh(e.version)}}var i,a;return r}function tI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xh(n){const e=new Tn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function ef(n,e){const t=(e.baseMutations||[]).map(a=>NA(n.ie,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>NA(n.ie,a)),i=Tn.fromMillis(e.localWriteTimeMs);return new xA(e.batchId,i,t,r)}function J0(n){const e=Xh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xh(n.lastLimboFreeSnapshotVersion):vt.min();let r;var i;return void 0!==n.query.documents?(pt(1===(i=n.query).documents.length),r=Zi(pm(ek(i.documents[0])))):r=Zi(sk(n.query)),new Fc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,je.fromBase64String(n.resumeToken))}function _k(n,e){const t=Qh(e.snapshotVersion),r=Qh(e.lastLimboFreeSnapshotVersion);let i;i=z1(e.target)?ik(n.ie,e.target):OA(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PA(n){const e=sk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Z1(e,e.limit,"L"):e}function FA(n,e){return new kA(e.largestBatchId,NA(n.ie,e.overlayMutation))}function yk(n,e){const t=e.path.lastSegment();return[n,Ki(e.path.popLast()),t]}function vk(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qh(r.readTime),documentKey:Ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class NU{getBundleMetadata(e,t){return bk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Xh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return bk(e).put({bundleId:(r=t).id,createTime:Qh(vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wk(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:PA(i.bundledQuery),readTime:Xh(i.readTime)};var i})}saveNamedQuery(e,t){return wk(e).put({name:(r=t).name,readTime:Qh(vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function bk(n){return ni(n,"bundles")}function wk(n){return ni(n,"namedQueries")}class nI{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new nI(e,t.uid||"")}getOverlay(e,t){return Q0(e).get(yk(this.userId,t)).next(r=>r?FA(this.yt,r):null)}getOverlays(e,t){const r=za();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new kA(t,c);i.push(this.oe(e,f))}),ne.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ki(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Q0(e).Y("collectionPathOverlayIndex",f))}),ne.waitFor(a)}getOverlaysForCollection(e,t,r){const i=za(),a=Ki(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Q0(e).W("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const v=FA(this.yt,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=za();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Q0(e).Z({index:"collectionGroupOverlayIndex",range:f},(m,v,E)=>{const C=FA(this.yt,v);a.size()<i||C.largestBatchId===c?(a.set(C.getKey(),C),c=C.largestBatchId):E.done()}).next(()=>a)}oe(e,t){return Q0(e).put(function(r,i,a){const[c,f,m]=yk(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Y0(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function Q0(n){return ni(n,"documentOverlays")}class tf{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),le(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(cn(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?lR(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):at()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),We.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function OU(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Dk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=OU(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}tf.Ie=new tf;class MU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Dk(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Dk(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class xU{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class RU{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class X0{constructor(){this.$e=new MU,this.Be=new xU(this.$e),this.Le=new RU(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class nf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new nf(this.indexId,this.documentKey,this.arrayValue,r)}}function Lc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ek(n.arrayValue,e.arrayValue),0!==t?t:(t=Ek(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function Ek(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class kU{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){pt(e.collectionGroup===this.collectionId);const t=x0(e);if(void 0!==t&&!this.We(t))return!1;const r=Hl(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Ke.length||!this.He(this.Ke[a++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ik(n){var e,t;if(pt(n instanceof Xt||n instanceof _n),n instanceof Xt){if(n instanceof vR){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Xt.create(n.field,"==",a)))||[];return _n.create(i,"or")}return n}const r=n.filters.map(i=>Ik(i));return _n.create(r,n.op)}function PU(n){if(0===n.getFilters().length)return[];const e=VA(Ik(n));return pt(Tk(e)),LA(e)||BA(e)?[e]:e.getFilters()}function LA(n){return n instanceof Xt}function BA(n){return n instanceof _n&&vA(n)}function Tk(n){return LA(n)||BA(n)||function(e){if(e instanceof _n&&yA(e)){for(const t of e.getFilters())if(!LA(t)&&!BA(t))return!1;return!0}return!1}(n)}function VA(n){if(pt(n instanceof Xt||n instanceof _n),n instanceof Xt)return n;if(1===n.filters.length)return VA(n.filters[0]);const e=n.filters.map(r=>VA(r));let t=_n.create(e,n.op);return t=rI(t),Tk(t)?t:(pt(t instanceof _n),pt(dm(t)),pt(t.filters.length>1),t.filters.reduce((r,i)=>UA(r,i)))}function UA(n,e){let t;return pt(n instanceof Xt||n instanceof _n),pt(e instanceof Xt||e instanceof _n),t=n instanceof Xt?e instanceof Xt?_n.create([n,e],"and"):Ck(n,e):e instanceof Xt?Ck(e,n):function(r,i){if(pt(r.filters.length>0&&i.filters.length>0),dm(r)&&dm(i))return mR(r,i.getFilters());const a=yA(r)?r:i,c=yA(r)?i:r,f=a.filters.map(m=>UA(m,c));return _n.create(f,"or")}(n,e),rI(t)}function Ck(n,e){if(dm(e))return mR(e,n.getFilters());{const t=e.filters.map(r=>UA(n,r));return _n.create(t,"or")}}function rI(n){if(pt(n instanceof Xt||n instanceof _n),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return rI(e[0]);if(pR(n))return n;const t=e.map(i=>rI(i)),r=[];return t.forEach(i=>{i instanceof Xt?r.push(i):i instanceof _n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:_n.create(r,n.op)}class FU{constructor(){this.Je=new $A}addToCollectionParentIndex(e,t){return this.Je.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ds.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class $A{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Yt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Yt.comparator)).toArray()}}const iI=new Uint8Array(0);class LU{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new $A,this.Xe=new Pc(r=>Zh(r),(r,i)=>V0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:Ki(i)};return Sk(e).put(a)}return ne.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[O0(t),""],!1,!0);return Sk(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(qa(c.parent))}return r})}addFieldIndex(e,t){const r=sI(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=tb(e);return a.next(f=>{c.put(vk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=sI(e),i=tb(e),a=eb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=eb(e);let i=!0;const a=new Map;return ne.forEach(this.Ze(t),c=>this.tn(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Gt();const f=[];return ne.forEach(a,(m,v)=>{var E;Me("IndexedDbIndexManager",`Using index ${E=m,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(qe=>`${qe.fieldPath}:${qe.kind}`).join(",")}`} to execute ${Zh(t)}`);const C=function(qe,Ue){const Be=x0(Ue);if(void 0===Be)return null;for(const He of W1(qe,Be.fieldPath))switch(He.op){case"array-contains-any":return He.value.arrayValue.values||[];case"array-contains":return[He.value]}return null}(v,m),N=function(qe,Ue){const Be=new Map;for(const He of Hl(Ue))for(const St of W1(qe,He.fieldPath))switch(St.op){case"==":case"in":Be.set(He.fieldPath.canonicalString(),St.value);break;case"not-in":case"!=":return Be.set(He.fieldPath.canonicalString(),St.value),Array.from(Be.values())}return null}(v,m),x=function(qe,Ue){const Be=[];let He=!0;for(const St of Hl(Ue)){const Jt=0===St.kind?DR(qe,St.fieldPath,qe.startAt):ER(qe,St.fieldPath,qe.startAt);Be.push(Jt.value),He&&(He=Jt.inclusive)}return new kc(Be,He)}(v,m),G=function(qe,Ue){const Be=[];let He=!0;for(const St of Hl(Ue)){const Jt=0===St.kind?ER(qe,St.fieldPath,qe.endAt):DR(qe,St.fieldPath,qe.endAt);Be.push(Jt.value),He&&(He=Jt.inclusive)}return new kc(Be,He)}(v,m),Y=this.en(m,v,x),re=this.en(m,v,G),fe=this.nn(m,v,N),Ie=this.sn(m.indexId,C,Y,x.inclusive,re,G.inclusive,fe);return ne.forEach(Ie,qe=>r.J(qe,t.limit).next(Ue=>{Ue.forEach(Be=>{const He=We.fromSegments(Be.documentKey);c.has(He)||(c=c.add(He),f.push(He))})}))}).next(()=>f)}return ne.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:PU(_n.create(e.filters,"and")).map(r=>wA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,c,f){const m=(null!=t?t.length:1)*Math.max(r.length,a.length),v=m/(null!=t?t.length:1),E=[];for(let C=0;C<m;++C){const N=t?this.rn(t[C/v]):iI,x=this.on(e,N,r[C%v],i),G=this.un(e,N,a[C%v],c),Y=f.map(re=>this.on(e,N,re,!0));E.push(...this.createRange(x,G,Y))}return E}on(e,t,r,i){const a=new nf(e,We.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new nf(e,We.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new kU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.je(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ne.forEach(i,a=>this.tn(e,a).next(c=>{c?0!==r&&c.fields.length<function(f){let m=new En(Kn.comparator),v=!1;for(const E of f.filters)for(const C of E.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?v=!0:m=m.add(C.field));for(const E of f.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new X0;for(const i of Hl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);tf.Ie.ue(a,c)}return r.Fe()}rn(e){const t=new X0;return tf.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new X0;return tf.Ie.ue(qh(this.databaseId,t),r.qe(function(i){const a=Hl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new X0);let a=0;for(const c of Hl(e)){const f=r[a++];for(const m of i)if(this.hn(t,c.fieldPath)&&L0(f))i=this.ln(i,c,f);else{const v=m.qe(c.kind);tf.Ie.ue(f,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new X0;m.seed(f.Fe()),tf.Ie.ue(c,m.qe(t.kind)),a.push(m)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=sI(e),i=tb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ne.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(v,E){const C=E?new zh(E.sequenceNumber,new ds(Xh(E.readTime),new We(qa(E.documentKey)),E.largestBatchId)):zh.empty(),N=v.fields.map(([x,G])=>new R0(Kn.fromServerFormat(x),G));return new Mc(v.indexId,v.collectionGroup,N,C)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=sI(e),a=tb(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ne.forEach(f,m=>a.put(vk(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ne.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ne.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ne.forEach(f,m=>this._n(e,i,m).next(v=>{const E=this.wn(a,m);return v.isEqual(E)?ne.resolve():this.mn(e,a,m,v,E)}))))})}gn(e,t,r,i){return eb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return eb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=eb(e);let a=new En(Lc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,f)=>{a=a.add(new nf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let r=new En(Lc);const i=this.cn(t,e);if(null==i)return r;const a=x0(t);if(null!=a){const c=e.data.field(a.fieldPath);if(L0(c))for(const f of c.arrayValue.values||[])r=r.add(new nf(t.indexId,e.key,this.rn(f),i))}else r=r.add(new nf(t.indexId,e.key,iI,i));return r}mn(e,t,r,i,a){Me("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,v,E,C){const N=f.getIterator(),x=m.getIterator();let G=fm(N),Y=fm(x);for(;G||Y;){let re=!1,fe=!1;if(G&&Y){const Ie=v(G,Y);Ie<0?fe=!0:Ie>0&&(re=!0)}else null!=G?fe=!0:re=!0;re?(E(Y),Y=fm(x)):fe?(C(G),G=fm(N)):(G=fm(N),Y=fm(x))}}(i,a,Lc,f=>{c.push(this.gn(e,t,r,f))},f=>{c.push(this.yn(e,t,r,f))}),ne.waitFor(c)}dn(e){let t=1;return tb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Lc(c,f)).filter((c,f,m)=>!f||0!==Lc(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=Lc(c,e),m=Lc(c,t);if(0===f)i[0]=e.Ue();else if(f>0&&m<0)i.push(c),i.push(c.Ue());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,iI,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,iI,[]]))}return a}pn(e,t){return Lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ak)}getMinOffset(e,t){return ne.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||at())).next(Ak)}}function Sk(n){return ni(n,"collectionParents")}function eb(n){return ni(n,"indexEntries")}function sI(n){return ni(n,"indexConfiguration")}function tb(n){return ni(n,"indexState")}function Ak(n){pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;U1(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ds(e.readTime,e.documentKey,t)}const Nk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ok(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.Z({range:c},(E,C,N)=>(f++,N.delete()));a.push(m.next(()=>{pt(1===f)}));const v=[];for(const E of t.mutations){const C=dk(e,E.key.path,t.batchId);a.push(i.delete(C)),v.push(E.key)}return ne.waitFor(a).next(()=>v)}function oI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(41943040,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class aI{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){pt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new aI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bc(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Dm(e),c=Bc(e);return c.add({}).next(f=>{pt("number"==typeof f);const m=new xA(f,t,r,i),v=function(N,x,G){const Y=G.baseMutations.map(fe=>Y0(N.ie,fe)),re=G.mutations.map(fe=>Y0(N.ie,fe));return{userId:x,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Y,mutations:re}}(this.yt,this.userId,m),E=[];let C=new En((N,x)=>Bt(N.canonicalString(),x.canonicalString()));for(const N of i){const x=dk(this.userId,N.key.path,f);C=C.add(N.key.path.popLast()),E.push(c.put(v)),E.push(a.put(x,dU))}return C.forEach(N=>{E.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.In[f]=m.keys()}),ne.waitFor(E).next(()=>m)})}lookupMutationBatch(e,t){return Bc(e).get(t).next(r=>r?(pt(r.userId===this.userId),ef(this.yt,r)):null)}Tn(e,t){return this.In[t]?ne.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Bc(e).Z({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(pt(f.batchId>=r),a=ef(this.yt,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bc(e).W("userMutationsIndex",t).next(r=>r.map(i=>ef(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=eI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Dm(e).Z({range:i},(c,f,m)=>{const[v,E,C]=c,N=qa(E);if(v===this.userId&&t.path.isEqual(N))return Bc(e).get(C).next(x=>{if(!x)throw at();pt(x.userId===this.userId),a.push(ef(this.yt,x))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Bt);const i=[];return t.forEach(a=>{const c=eI(this.userId,a.path),f=IDBKeyRange.lowerBound(c),m=Dm(e).Z({range:f},(v,E,C)=>{const[N,x,G]=v,Y=qa(x);N===this.userId&&a.path.isEqual(Y)?r=r.add(G):C.done()});i.push(m)}),ne.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=eI(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new En(Bt);return Dm(e).Z({range:c},(m,v,E)=>{const[C,N,x]=m,G=qa(N);C===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(x)):E.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Bc(e).get(a).next(c=>{if(null===c)throw at();pt(c.userId===this.userId),r.push(ef(this.yt,c))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ok(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dm(e).Z({range:r},(a,c,f)=>{if(a[0]===this.userId){const m=qa(a[1]);i.push(m)}else f.done()}).next(()=>{pt(0===i.length)})})}containsKey(e,t){return Mk(e,this.userId,t)}Rn(e){return xk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Mk(n,e,t){const r=eI(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Dm(n).Z({range:a,X:!0},(f,m,v)=>{const[E,C,N]=f;E===e&&C===i&&(c=!0),v.done()}).next(()=>c)}function Bc(n){return ni(n,"mutations")}function Dm(n){return ni(n,"documentMutations")}function xk(n){return ni(n,"mutationQueues")}class rf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new rf(0)}static vn(){return new rf(-1)}}class BU{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new rf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>vt.fromTimestamp(new Tn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Em(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Em(e).Z((c,f)=>{const m=J0(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>ne.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Em(e).Z((r,i)=>{const a=J0(i);t(a)})}Vn(e){return Rk(e).get("targetGlobalKey").next(t=>(pt(null!==t),t))}Sn(e,t){return Rk(e).put("targetGlobalKey",t)}Dn(e,t){return Em(e).put(_k(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Zh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Em(e).Z({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const v=J0(f);V0(t,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Vc(e);return t.forEach(c=>{const f=Ki(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ne.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vc(e);return ne.forEach(t,a=>{const c=Ki(a.path);return ne.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Vc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vc(e);let a=Gt();return i.Z({range:r,X:!0},(c,f,m)=>{const v=qa(c[1]),E=new We(v);a=a.add(E)}).next(()=>a)}containsKey(e,t){const r=Ki(t.path),i=IDBKeyRange.bound([r],[O0(r)],!1,!0);let a=0;return Vc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],m,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}ne(e,t){return Em(e).get(t).next(r=>r?J0(r):null)}}function Em(n){return ni(n,"targets")}function Rk(n){return ni(n,"targetGlobal")}function Vc(n){return ni(n,"targetDocuments")}function kk([n,e],[t,r]){const i=Bt(n,t);return 0===i?Bt(e,r):i}class VU{constructor(e){this.xn=e,this.buffer=new En(kk),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){s(r)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ha(r)}yield t.Fn(3e5)}))}}class $U{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(D.at);const r=new VU(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Nk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nk):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,c,f,m,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,c=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,f=Date.now(),this.removeTargets(e,r,t))).next(C=>(a=C,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(v=Date.now(),F1()<=Ms.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${C} documents in `+(v-m)+`ms\nTotal Duration: ${v-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:C})))}}class jU{constructor(e,t){this.db=e,this.garbageCollector=new $U(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return lI(e,r)}removeReference(e,t,r){return lI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return lI(e,t)}Gn(e,t){return function(r,i){let a=!1;return xk(r).tt(c=>Mk(r,c,i).next(f=>(f&&(a=!0),ne.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const m=this.Gn(e,c).next(v=>{if(!v)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,vt.min()),Vc(e).delete([0,Ki(c.path)])))});i.push(m)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return lI(e,t)}Kn(e,t){const r=Vc(e);let i,a=D.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:v})=>{0===c?(a!==D.at&&t(new We(qa(i)),a),a=v,i=m):a=D.at}).next(()=>{a!==D.at&&t(new We(qa(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lI(n,e){return Vc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:r}));var r}class Pk{constructor(){this.changes=new Pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HU{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sf(e).put(r)}removeEntry(e,t,r){return sf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],tI(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return sf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return sf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(i,a)=>{r={document:this.jn(t,a),size:oI(a)}}).next(()=>r)}getEntries(e,t){let r=fs();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=fs(),i=new or(We.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);r=r.insert(a,f),i=i.insert(a,oI(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ne.resolve();let i=new En(Vk);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(nb(i.first()),nb(i.last())),c=i.getIterator();let f=c.getNext();return sf(e).Z({index:"documentKeyIndex",range:a},(m,v,E)=>{const C=We.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&Vk(f,C)<0;)r(f,null),f=c.getNext();f&&f.isEqual(C)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?E.j(nb(f)):E.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),tI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sf(e).W(IDBKeyRange.bound(c,f,!0)).next(m=>{let v=fs();for(const E of m){const C=this.jn(We.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);C.isFoundDocument()&&($0(t,C)||i.has(C.key))&&(v=v.insert(C.key,C))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=fs();const c=Bk(t,r),f=Bk(t,ds.max());return sf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,v,E)=>{const C=this.jn(We.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(C.key,C),a.size===i&&E.done()}).next(()=>a)}newChangeBuffer(e){return new GU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Lk(e).get("remoteDocumentGlobalKey").next(t=>(pt(!!t),t))}Qn(e,t){return Lk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function AU(n,e){let t;if(e.document)t=rk(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=Xh(e.noDocument.readTime);t=Rn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=We.fromSegments(e.unknownDocument.path),i=Xh(e.unknownDocument.version);t=Rn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Tn(r[0],r[1]);return vt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return Rn.newInvalidDocument(e)}}function Fk(n){return new HU(n)}class GU extends Pk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Pc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new En((a,c)=>Bt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const m=mk(this.Yn.yt,c);i=i.add(a.path.popLast());const v=oI(m);r+=v-f.size,t.push(this.Yn.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=mk(this.Yn.yt,c.convertToNoDocument(vt.min()));t.push(this.Yn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ne.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function Lk(n){return ni(n,"remoteDocumentGlobal")}function sf(n){return ni(n,"remoteDocumentsV14")}function nb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bk(n,e){const t=e.documentKey.path.toArray();return[n,tI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Vk(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Bt(t[a],r[a]),i)return i;return i=Bt(t.length,r.length),i||(i=Bt(t[t.length-2],r[r.length-2]),i||Bt(t[t.length-1],r[r.length-1]))}class zU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&H0(r.mutation,i,hs.empty(),Tn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=za();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=G0();return a.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=za();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=fs();const c=z0(),f=z0();return t.forEach((m,v)=>{const E=r.get(v.key);i.has(v.key)&&(void 0===E||E.mutation instanceof zl)?a=a.insert(v.key,v):void 0!==E?(c.set(v.key,E.mutation.getFieldMask()),H0(E.mutation,v,E.mutation.getFieldMask(),Tn.now())):c.set(v.key,hs.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,E)=>c.set(v,E)),t.forEach((v,E)=>{var C;return f.set(v,new zU(E,null!==(C=c.get(v))&&void 0!==C?C:null))}),f))}recalculateAndSaveOverlays(e,t){const r=z0();let i=new or((c,f)=>c-f),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let E=r.get(m)||hs.empty();E=f.applyToLocalView(v,E),r.set(m,E);const C=(i.get(f.batchId)||Gt()).add(m);i=i.insert(f.batchId,C)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,E=m.value,C=WR();E.forEach(N=>{if(!a.has(N)){const x=LR(t.get(N),r.get(N));null!==x&&C.set(N,x),a=a.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,C))}return ne.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(za());let f=-1,m=a;return c.next(v=>ne.forEach(v,(E,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),a.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(N=>{m=m.insert(E,N)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,Gt())).next(E=>({batchId:f,changes:zR(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let i=G0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=G0();return this.indexManager.getCollectionParents(e,i).next(c=>ne.forEach(c,f=>{const m=(v=t,E=f.child(i),new Gl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((E,C)=>{a=a.insert(E,C)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,Rn.newInvalidDocument(v)))});let c=G0();return a.forEach((f,m)=>{const v=i.get(f);void 0!==v&&H0(v.mutation,m,hs.empty(),Tn.now()),$0(t,m)&&(c=c.insert(f,m))}),c})}}class WU{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ne.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:vr(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:PA(r.bundledQuery),readTime:vr(r.readTime)}),ne.resolve();var r}}class qU{constructor(){this.overlays=new or(We.comparator),this.es=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=za();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=za(),a=t.length+1,c=new We(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new or((v,E)=>v-E);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let E=a.get(v.largestBatchId);null===E&&(E=za(),a=a.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=za(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=i)););return ne.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new kA(t,r));let a=this.es.get(t);void 0===a&&(a=Gt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class jA{constructor(){this.ns=new En(ri.ss),this.rs=new En(ri.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ri(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ri(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new We(new Yt([])),r=new ri(t,e),i=new ri(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new We(new Yt([])),r=new ri(t,e),i=new ri(t,e+1);let a=Gt();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ri(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return We.comparator(e.key,t.key)||Bt(e._s,t._s)}static os(e,t){return Bt(e._s,t._s)||We.comparator(e.key,t.key)}}class ZU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(ri.ss)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new xA(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new ri(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),i=new ri(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);a.push(f)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Bt);return t.forEach(i=>{const a=new ri(i,0),c=new ri(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{r=r.add(f._s)})}),ne.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const c=new ri(new We(a),0);let f=new En(Bt);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m._s)),!0)},c),ne.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ne.forEach(t.mutations,i=>{const a=new ri(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ri(t,0),i=this.gs.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class KU{constructor(e){this.Es=e,this.docs=new or(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=fs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Rn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=fs();const c=t.path,f=new We(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:E}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||U1(dA(E),r)<=0||(i.has(E.key)||$0(t,E))&&(a=a.insert(E.key,E.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){at()}As(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YU(this)}getSize(e){return ne.resolve(this.size)}}class YU extends Pk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class JU{constructor(e){this.persistence=e,this.Rs=new Pc(t=>Zh(t),V0),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jA,this.targetCount=0,this.vs=rf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ne.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new rf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Dn(t),ne.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ps.containsKey(t))}}class $k{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new D(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new JU(this),this.indexManager=new FU,this.remoteDocumentCache=new KU(r=>this.referenceDelegate.xs(r)),this.yt=new gk(t),this.Ns=new WU(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ZU(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Me("MemoryPersistence","Starting transaction:",e);const i=new QU(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return ne.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class QU extends fA{constructor(e){super(),this.currentSequenceNumber=e}}class uI{constructor(e){this.persistence=e,this.Fs=new jA,this.$s=null}static Bs(e){return new uI(e)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ls,r=>{const i=We.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,vt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ne.or([()=>ne.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class XU{constructor(e){this.yt=e}$(e,t,r,i){const a=new k0("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ck,{unique:!0}),f.createObjectStore("documentMutations"),jk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),jk(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ck,{unique:!0});const E=m.store("mutations"),C=v.map(N=>E.put(N));return ne.waitFor(C)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:EU});m.createIndex("collectionPathOverlayIndex",IU,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",TU,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:hU});m.createIndex("documentKeyIndex",fU),m.createIndex("collectionGroupIndex",pU)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:vU}).createIndex("sequenceNumberIndex",bU,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:wU}).createIndex("documentKeyIndex",DU,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=oI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ne.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ne.forEach(f,m=>{pt(m.userId===a.userId);const v=ef(this.yt,m);return Ok(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,f)=>{const m=new Yt(c),v=[0,Ki(m)];a.push(t.get(v).next(E=>E?ne.resolve():t.put({targetId:0,path:Ki(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:yU});const r=t.store("collectionParents"),i=new $A,a=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Ki(m)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const m=new Yt(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,m],v)=>{const E=qa(f);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=J0(i),c=_k(this.yt,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),m=(v=c,v.document?new We(Yt.fromString(v.document.name).popFirst(5)):v.noDocument?We.fromSegments(v.noDocument.path):v.unknownDocument?We.fromSegments(v.unknownDocument.path):at()).path.toArray();var v;const E={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(E))}).next(()=>ne.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Fk(this.yt),a=new $k(uI.Bs,this.yt.ie);return r.W().next(c=>{const f=new Map;return c.forEach(m=>{var v;let E=null!==(v=f.get(m.userId))&&void 0!==v?v:Gt();ef(this.yt,m).keys().forEach(C=>E=E.add(C)),f.set(m.userId,E)}),ne.forEach(f,(m,v)=>{const E=new xr(v),C=nI.re(this.yt,E),N=a.getIndexManager(E),x=aI.re(E,this.yt,N,a.referenceDelegate);return new Uk(i,x,C,N).recalculateAndSaveOverlaysForDocumentKeys(new MA(t,D.at),m).next()})})}}function jk(n){n.createObjectStore("targetDocuments",{keyPath:mU}).createIndex("documentTargetsIndex",_U,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gU,{unique:!0}),n.createObjectStore("targetGlobal")}const HA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GA{constructor(e,t,r,i,a,c,f,m,v,E,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=f,this.Js=v,this.Ys=E,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!GA.C())throw new ye(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jU(this,i),this.ii=t+"main",this.yt=new gk(m),this.ri=new no(this.ii,this.Xs,new XU(this.yt)),this.Cs=new BU(this.referenceDelegate,this.yt),this.remoteDocumentCache=Fk(this.yt),this.Ns=new NU,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ie.FAILED_PRECONDITION,HA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new D(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,W.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,W.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(s(e))return Me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return rb(e).get("owner").next(t=>ne.resolve(this.mi(t)))}gi(e){return cI(e).delete(this.clientId)}yi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ni(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(m=>-1===c.indexOf(m));return ne.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ne.resolve(!0):rb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ye(ie.FAILED_PRECONDITION,HA);return!1}}return!(!this.networkEnabled||!this.inForeground)||cI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Me("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new MA(t,D.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>cI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return aI.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new LU(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return nI.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Me("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?SU:14===c?pk:13===c?fk:12===c?CU:11===c?hk:void at();var c;let f;return this.ri.runTransaction(e,i,a,m=>(f=new MA(m,this.Ss?this.Ss.next():D.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw Zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ye(ie.FAILED_PRECONDITION,hA);return r(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Vi(e){return rb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ye(ie.FAILED_PRECONDITION,HA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rb(e).put("owner",t)}static C(){return no.C()}_i(e){const t=rb(e);return t.get("owner").next(r=>this.mi(r)?(Me("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Zn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rb(n){return ni(n,"owner")}function cI(n){return ni(n,"clientMetadata")}function zA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Gt(),i=Gt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new WA(e,t.fromCache,r,i)}}class Hk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(TR(t))return ne.resolve(null);let r=Zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Z1(t,null,"F"),r=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Gt(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Fi(t,f);return this.$i(t,v,c,m.readTime)?this.ki(e,Z1(t,null,"F")):this.Bi(e,v,t,m)}))})))}Oi(e,t,r,i){return TR(t)||i.isEqual(vt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(F1()<=Ms.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TA(t)),this.Bi(e,c,t,V1(i,-1)))})}Fi(e,t){let r=new En(AR(e));return t.forEach((i,a)=>{$0(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return F1()<=Ms.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",TA(t)),this.Ni.getDocumentsMatchingQuery(e,t,ds.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class e${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new or(Bt),this.Ui=new Pc(a=>Zh(a),V0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Gk(n,e,t,r){return new e$(n,e,t,r)}function zk(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,W.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=Gt();for(const v of i){c.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}for(const v of a){f.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(r,m).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:f}))})})}),qA.apply(this,arguments)}function t$(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,v){const E=m.batch,C=E.keys();let N=ne.resolve();return C.forEach(x=>{N=N.next(()=>v.getEntry(f,x)).next(G=>{const Y=m.docVersions.get(x);pt(null!==Y),G.version.compareTo(Y)<0&&(E.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),v.addEntry(G)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Gt();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Wk(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function n$(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((E,C)=>{const N=i.get(C);if(!N)return;f.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,C).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,C)));let x=N.withSequenceNumber(a.currentSequenceNumber);var G,Y,re;e.targetMismatches.has(C)?x=x.withResumeToken(je.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,r)),i=i.insert(C,x),Y=x,re=E,(0===(G=N).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,x))});let m=fs(),v=Gt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(qk(a,c,e.documentUpdates).next(E=>{m=E.Wi,v=E.zi})),!r.isEqual(vt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(C=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(E)}return ne.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.qi=i,a))}function qk(n,e,t){let r=Gt(),i=Gt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=fs();return t.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(vt.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Me("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{Wi:c,zi:i}})}function r$(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Im(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Fc(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Tm(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!s(c))throw c;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),ZA.apply(this,arguments)}function dI(n,e,t){const r=Ze(n);let i=vt.min(),a=Gt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,v){const E=Ze(f),C=E.Ui.get(v);return void 0!==C?ne.resolve(E.qi.get(C)):E.Cs.getTargetData(m,v)}(r,c,Zi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:vt.min(),t?a:Gt())).next(f=>(Yk(r,SR(e),f),{documents:f,Hi:a})))}function Zk(n,e){const t=Ze(n),r=Ze(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(c=>c?c.target:null))}function Kk(n,e){const t=Ze(n),r=t.Ki.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,V1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Yk(t,e,i),i))}function Yk(n,e,t){let r=n.Ki.get(e)||vt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function KA(){return KA=(0,W.Z)(function*(n,e,t,r){const i=Ze(n);let a=Gt(),c=fs();for(const v of t){const E=e.Ji(v.metadata.name);v.document&&(a=a.add(E));const C=e.Yi(v);C.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(E,C)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),m=yield Im(i,(v=r,Zi(pm(Yt.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>qk(v,f,c).next(E=>(f.apply(v),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Cs.addMatchingKeys(v,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,E.Wi,E.zi)).next(()=>E.Wi)))}),KA.apply(this,arguments)}function s$(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,W.Z)(function*(n,e,t=Gt()){const r=yield Im(n,Zi(PA(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=vr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(je.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),YA.apply(this,arguments)}function Jk(n,e){return`firestore_clients_${n}_${e}`}function Qk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JA(n,e){return`firestore_targets_${n}_${e}`}class hI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new ye(i.error.code,i.error.message))),c?new hI(e,t,i.state,a):(Zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ib{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new ye(r.error.code,r.error.message))),a?new ib(e,r.state,i):(Zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Q1();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Fe(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new fI(e,a):(Zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class QA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QA(t.clientId,t.onlineState):(Zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class XA{constructor(){this.activeTargetIds=Q1()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new or(Bt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Jk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new XA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Jk(e.persistenceKey,i));if(a){const c=fI.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JA(this.persistenceKey,e));if(r){const i=ib.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Me("SharedClientState","READ",e,t),t}setItem(e,t){Me("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Me("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=D.at;if(null!=a)try{const f=JSON.parse(a);pt("number"==typeof f),c=f}catch(f){Zn("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==D.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new hI(this.currentUser,e,t,r),a=Qk(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=Qk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=JA(this.persistenceKey,e),a=new ib(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return fI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return hI.Zi(new xr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return ib.Zi(i,t)}yr(e){return QA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],f=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Q1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Xk{constructor(){this.Lr=new XA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new XA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o${Ur(e){}shutdown(){}}class eP{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const a$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class u$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);Me("RestConnection","Sending: ",c,r);const f={};return this.lo(f,i,a),this.fo(e,c,f,r).then(m=>(Me("RestConnection","Received: ",m),m),m=>{throw to("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${a$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const f=new aA;f.setWithCredentials(!0),f.listenOnce(sA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case S0.NO_ERROR:const v=f.getResponseJson();Me("Connection","XHR received:",JSON.stringify(v)),a(v);break;case S0.TIMEOUT:Me("Connection",'RPC "'+e+'" timed out'),c(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case S0.HTTP_ERROR:const E=f.getStatus();if(Me("Connection",'RPC "'+e+'" failed with status:',E,"response text:",f.getResponseText()),E>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const x=function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN}(N.status);c(new ye(x,N.message))}else c(new ye(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Me("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);f.send(t,"POST",m,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=om(),c=k1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Qx({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=i.join("");Me("Connection","Creating WebChannel: "+m,f);const v=a.createWebChannel(m,f);let E=!1,C=!1;const N=new l$({Hr:G=>{C?Me("Connection","Not sending because WebChannel is closed:",G):(E||(Me("Connection","Opening WebChannel transport."),v.open(),E=!0),Me("Connection","WebChannel sending:",G),v.send(G))},Jr:()=>v.close()}),x=(G,Y,re)=>{G.listen(Y,fe=>{try{re(fe)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return x(v,jh.EventType.OPEN,()=>{C||Me("Connection","WebChannel transport opened.")}),x(v,jh.EventType.CLOSE,()=>{C||(C=!0,Me("Connection","WebChannel transport closed"),N.io())}),x(v,jh.EventType.ERROR,G=>{C||(C=!0,to("Connection","WebChannel transport errored:",G),N.io(new ye(ie.UNAVAILABLE,"The operation could not be completed")))}),x(v,jh.EventType.MESSAGE,G=>{var Y;if(!C){const re=G.data[0];pt(!!re);const Ie=re.error||(null===(Y=re[0])||void 0===Y?void 0:Y.error);if(Ie){Me("Connection","WebChannel received error:",Ie);const qe=Ie.status;let Ue=function(He){const St=Rr[He];if(void 0!==St)return HR(St)}(qe),Be=Ie.message;void 0===Ue&&(Ue=ie.INTERNAL,Be="Unknown error status: "+qe+" with message "+Ie.message),C=!0,N.io(new ye(Ue,Be)),v.close()}else Me("Connection","WebChannel received:",re),N.ro(re)}}),x(c,Jx.STAT_EVENT,G=>{G.stat===oA.PROXY?Me("Connection","Detected buffering proxy"):G.stat===oA.NOPROXY&&Me("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function tP(){return typeof window<"u"?window:null}function pI(){return typeof document<"u"?document:null}function sb(n){return new eU(n,!0)}class tN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nP{constructor(e,t,r,i,a,c,f,m){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new tN(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,W.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,W.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,W.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new ye(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,W.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c$ extends nP{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function rU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:at(),i=e.targetChange.targetIds||[],a=function(m,v){return m.wt?(pt(void 0===v||"string"==typeof v),je.fromBase64String(v||"")):(pt(void 0===v||v instanceof Uint8Array),je.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=void 0===m.code?ie.UNKNOWN:HR(m.code);return new ye(v,m.message||"")}(c);t=new ZR(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Wa(n,r.document.name),a=vr(r.document.updateTime),c=r.document.createTime?vr(r.document.createTime):vt.min(),f=new gi({mapValue:{fields:r.document.fields}}),m=Rn.newFoundDocument(i,a,c,f);t=new X1(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Wa(n,r.document),a=r.readTime?vr(r.readTime):vt.min(),c=Rn.newNoDocument(i,a);t=new X1([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Wa(n,r.document);t=new X1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,a=new zV(r.count||0);t=new qR(r.targetId,a)}}var m;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return vt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?vt.min():a.readTime?vr(a.readTime):vt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=K0(this.yt),t.addTarget=function(i,a){let c;const f=a.target;return c=z1(f)?{documents:ik(i,f)}:{query:OA(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=QR(i,a.resumeToken):a.snapshotVersion.compareTo(vt.min())>0&&(c.readTime=vm(i,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function sU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=K0(this.yt),t.removeTarget=e,this.Bo(t)}}class d$ extends nP{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function iU(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(r,i){let a=vr(r.updateTime?r.updateTime:i);return a.isEqual(vt.min())&&(a=vr(i)),new jV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.Zo(r,t)}return pt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=K0(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Y0(this.yt,r))};this.Bo(t)}}class h$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(ie.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ie.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class p${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zn(t),this.ou=!1):Me("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class g${constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{r.enqueueAndForget((0,W.Z)(function*(){var m;Wl(c)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,W.Z)(function*(v){const E=Ze(v);E._u.add(4),yield Cm(E),E.gu.set("Unknown"),E._u.delete(4),yield ob(E)}),function(v){return m.apply(this,arguments)})(c))}))}),this.gu=new p$(r,i)}}function ob(n){return rN.apply(this,arguments)}function rN(){return rN=(0,W.Z)(function*(n){if(Wl(n))for(const e of n.wu)yield e(!0)}),rN.apply(this,arguments)}function Cm(n){return iN.apply(this,arguments)}function iN(){return iN=(0,W.Z)(function*(n){for(const e of n.wu)yield e(!1)}),iN.apply(this,arguments)}function gI(n,e){const t=Ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),aN(t)?oN(t):Am(t).ko()&&sN(t,e))}function ab(n,e){const t=Ze(n),r=Am(t);t.du.delete(e),r.ko()&&rP(t,e),0===t.du.size&&(r.ko()?r.Fo():Wl(t)&&t.gu.set("Unknown"))}function sN(n,e){n.yu.Ot(e.targetId),Am(n).zo(e)}function rP(n,e){n.yu.Ot(e),Am(n).Ho(e)}function oN(n){n.yu=new YV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Am(n).start(),n.gu.uu()}function aN(n){return Wl(n)&&!Am(n).No()&&n.du.size>0}function Wl(n){return 0===Ze(n)._u.size}function iP(n){n.yu=void 0}function m$(n){return lN.apply(this,arguments)}function lN(){return lN=(0,W.Z)(function*(n){n.du.forEach((e,t)=>{sN(n,e)})}),lN.apply(this,arguments)}function _$(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,W.Z)(function*(n,e){iP(n),aN(n)?(n.gu.hu(e),oN(n)):n.gu.set("Unknown")}),uN.apply(this,arguments)}function y$(n,e,t){return cN.apply(this,arguments)}function cN(){return cN=(0,W.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof ZR&&2===e.state&&e.cause)try{yield(r=(0,W.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mI(n,r)}else if(e instanceof X1?n.yu.Kt(e):e instanceof qR?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(vt.min()))try{const r=yield Wk(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.Zt(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.du.get(m);v&&i.du.set(m,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const m=i.du.get(f);if(!m)return;i.du.set(f,m.withResumeToken(je.EMPTY_BYTE_STRING,m.snapshotVersion)),rP(i,f);const v=new Fc(m.target,f,1,m.sequenceNumber);sN(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),yield mI(n,r)}var r}),cN.apply(this,arguments)}function mI(n,e,t){return dN.apply(this,arguments)}function dN(){return dN=(0,W.Z)(function*(n,e,t){if(!s(e))throw e;n._u.add(1),yield Cm(n),n.gu.set("Offline"),t||(t=()=>Wk(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield ob(n)}))}),dN.apply(this,arguments)}function sP(n,e){return e().catch(t=>mI(n,t,e))}function Sm(n){return hN.apply(this,arguments)}function hN(){return hN=(0,W.Z)(function*(n){const e=Ze(n),t=Uc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;v$(e);)try{const i=yield r$(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,b$(e,i)}catch(i){yield mI(e,i)}oP(e)&&aP(e)}),hN.apply(this,arguments)}function v$(n){return Wl(n)&&n.fu.length<10}function b$(n,e){n.fu.push(e);const t=Uc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function oP(n){return Wl(n)&&!Uc(n).No()&&n.fu.length>0}function aP(n){Uc(n).start()}function w$(n){return fN.apply(this,arguments)}function fN(){return fN=(0,W.Z)(function*(n){Uc(n).eu()}),fN.apply(this,arguments)}function D$(n){return pN.apply(this,arguments)}function pN(){return pN=(0,W.Z)(function*(n){const e=Uc(n);for(const t of n.fu)e.Xo(t.mutations)}),pN.apply(this,arguments)}function E$(n,e,t){return gN.apply(this,arguments)}function gN(){return gN=(0,W.Z)(function*(n,e,t){const r=n.fu.shift(),i=RA.from(r,e,t);yield sP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sm(n)}),gN.apply(this,arguments)}function I$(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,W.Z)(function*(n,e){var t;e&&Uc(n).Yo&&(yield(t=(0,W.Z)(function*(r,i){if(jR(a=i.code)&&a!==ie.ABORTED){const c=r.fu.shift();Uc(r).Mo(),yield sP(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Sm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),oP(n)&&aP(n)}),mN.apply(this,arguments)}function lP(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,W.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Wl(t);t._u.add(3),yield Cm(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ob(t)}),_N.apply(this,arguments)}function yN(n,e){return vN.apply(this,arguments)}function vN(){return vN=(0,W.Z)(function*(n,e){const t=Ze(n);e?(t._u.delete(2),yield ob(t)):e||(t._u.add(2),yield Cm(t),t.gu.set("Unknown"))}),vN.apply(this,arguments)}function Am(n){return n.pu||(n.pu=function(e,t,r){const i=Ze(e);return i.su(),new c$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:m$.bind(null,n),Zr:_$.bind(null,n),Wo:y$.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.pu.Mo(),aN(n)?oN(n):n.gu.set("Unknown")):(yield n.pu.stop(),iP(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Uc(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ze(e);return i.su(),new d$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:w$.bind(null,n),Zr:I$.bind(null,n),tu:D$.bind(null,n),Zo:E$.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.Iu.Mo(),yield Sm(n)):(yield n.Iu.stop(),n.fu.length>0&&(Me("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class bN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new bN(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),s(n))return new ye(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Om{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=G0(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new Om(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Om)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Om;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uP{constructor(){this.Tu=new or(We.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):at():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mm{constructor(e,t,r,i,a,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Mm(e,t,Om.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class T${constructor(){this.Au=void 0,this.listeners=[]}}class C${constructor(){this.queries=new Pc(e=>CR(e),U0),this.onlineState="Unknown",this.Ru=new Set}}function wN(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new T$),i)try{a.Au=yield t.onListen(r)}catch(c){const f=Nm(c,`Initialization of query '${TA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&TN(t)}),DN.apply(this,arguments)}function EN(n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),IN.apply(this,arguments)}function S$(n,e){const t=Ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Pu(i)&&(r=!0);c.Au=i}}r&&TN(t)}function A$(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function TN(n){n.Ru.forEach(e=>{e.next()})}class CN{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class N${constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class cP{constructor(e){this.yt=e}Ji(e){return Wa(this.yt,e)}Yi(e){return e.metadata.exists?rk(this.yt,e.document,!1):Rn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vr(e)}}class O${constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Yt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new cP(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Gt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,W.Z)(function*(){const t=yield function i$(n,e,t,r){return KA.apply(this,arguments)}(e.localStore,new cP(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield s$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function dP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hP{constructor(e){this.key=e}}class fP{constructor(e){this.key=e}}class pP{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=AR(e),this.Qu=new Om(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new uP,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,C)=>{const N=i.get(E),x=$0(this.query,C)?C:null,G=!!N&&this.mutatedKeys.has(N.key),Y=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let re=!1;N&&x?N.data.isEqual(x.data)?G!==Y&&(r.track({type:3,doc:x}),re=!0):this.Hu(N,x)||(r.track({type:2,doc:x}),re=!0,(m&&this.Gu(x,m)>0||v&&this.Gu(x,v)<0)&&(f=!0)):!N&&x?(r.track({type:0,doc:x}),re=!0):N&&!x&&(r.track({type:1,doc:N}),re=!0,(m||v)&&(f=!0)),re&&(x?(c=c.add(x),a=Y?a.add(E):a.delete(E)):(c=c.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Qu:c,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,E)=>function(C,N){const x=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return x(C)-x(N)}(v.type,E.type)||this.Gu(v.doc,E.doc)),this.Ju(r);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,m=f!==this.Uu;return this.Uu=f,0!==a.length||m?{snapshot:new Mm(this.query,e.Qu,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new uP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Gt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new fP(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new hP(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Gt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Mm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class M${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class x${constructor(e){this.key=e,this.nc=!1}}class R${constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Pc(f=>CR(f),U0),this.rc=new Map,this.oc=new Set,this.uc=new or(We.comparator),this.cc=new Map,this.ac=new jA,this.hc={},this.lc=new Map,this.fc=rf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function k$(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,W.Z)(function*(n,e){const t=YN(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield Im(t.localStore,Zi(e));t.isPrimaryClient&&gI(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield AN(t,e,r,"current"===f,c.resumeToken)}return i}),SN.apply(this,arguments)}function AN(n,e,t,r,i){return NN.apply(this,arguments)}function NN(){return NN=(0,W.Z)(function*(n,e,t,r,i){n._c=(C,N,x)=>{return(G=(0,W.Z)(function*(Y,re,fe,Ie){let qe=re.view.Wu(fe);qe.$i&&(qe=yield dI(Y.localStore,re.query,!1).then(({documents:He})=>re.view.Wu(He,qe)));const Ue=Ie&&Ie.targetChanges.get(re.targetId),Be=re.view.applyChanges(qe,Y.isPrimaryClient,Ue);return VN(Y,re.targetId,Be.Xu),Be.snapshot}),function(Y,re,fe,Ie){return G.apply(this,arguments)})(n,C,N,x);var G};const a=yield dI(n.localStore,e,!0),c=new pP(e,a.Hi),f=c.Wu(a.documents),m=q0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,m);VN(n,t,v.Xu);const E=new M$(e,t,c);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),NN.apply(this,arguments)}function P$(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,W.Z)(function*(n,e){const t=Ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!U0(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ab(t.remoteStore,r.targetId),xm(t,r.targetId)}).catch(Ha))):(xm(t,r.targetId),yield Tm(t.localStore,r.targetId,!0))}),ON.apply(this,arguments)}function MN(){return MN=(0,W.Z)(function*(n,e,t){const r=JN(n);try{const i=yield function(a,c){const f=Ze(a),m=Tn.now(),v=c.reduce((N,x)=>N.add(x.key),Gt());let E,C;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let x=fs(),G=Gt();return f.Gi.getEntries(N,v).next(Y=>{x=Y,x.forEach((re,fe)=>{fe.isValidDocument()||(G=G.add(re))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,x)).next(Y=>{E=Y;const re=[];for(const fe of c){const Ie=GV(fe,E.get(fe.key).overlayedDocument);null!=Ie&&re.push(new zl(fe.key,Ie,wR(Ie.value.mapValue),Vn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,m,re,c)}).next(Y=>{C=Y;const re=Y.applyToLocalDocumentSet(E,G);return f.documentOverlayCache.saveOverlays(N,Y.batchId,re)})}).then(()=>({batchId:C.batchId,changes:zR(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.hc[a.currentUser.toKey()];m||(m=new or(Bt)),m=m.insert(c,f),a.hc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield ql(r,i.changes),yield Sm(r.remoteStore)}catch(i){const a=Nm(i,"Failed to persist write");t.reject(a)}}),MN.apply(this,arguments)}function gP(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,W.Z)(function*(n,e){const t=Ze(n);try{const r=yield n$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?pt(c.nc):i.removedDocuments.size>0&&(pt(c.nc),c.nc=!1))}),yield ql(t,r,e)}catch(r){yield Ha(r)}}),xN.apply(this,arguments)}function mP(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Ze(a);f.onlineState=c;let m=!1;f.queries.forEach((v,E)=>{for(const C of E.listeners)C.bu(c)&&(m=!0)}),m&&TN(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L$(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,W.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new or(We.comparator);c=c.insert(a,Rn.newNoDocument(a,vt.min()));const f=Gt().add(a),m=new W0(vt.min(),new Map,new En(Bt),c,f);yield gP(r,m),r.uc=r.uc.remove(a),r.cc.delete(e),UN(r)}else yield Tm(r.localStore,e,!1).then(()=>xm(r,e,t)).catch(Ha)}),RN.apply(this,arguments)}function B$(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield t$(t.localStore,e);BN(t,r,null),LN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ql(t,i)}catch(i){yield Ha(i)}}),kN.apply(this,arguments)}function V$(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,W.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(a,c){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next(E=>(pt(null!==E),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);BN(r,e,t),LN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ql(r,i)}catch(i){yield Ha(i)}}),PN.apply(this,arguments)}function FN(){return FN=(0,W.Z)(function*(n,e){const t=Ze(n);Wl(t.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=Ze(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Nm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),FN.apply(this,arguments)}function LN(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function BN(n,e,t){const r=Ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function xm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||_P(n,r)})}function _P(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(ab(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),UN(n))}function VN(n,e,t){for(const r of t)r instanceof hP?(n.ac.addReference(r.key,e),$$(n,r)):r instanceof fP?(Me("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||_P(n,r.key)):at()}function $$(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Me("SyncEngine","New document in limbo: "+t),n.oc.add(r),UN(n))}function UN(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new We(Yt.fromString(e)),r=n.fc.next();n.cc.set(r,new x$(t)),n.uc=n.uc.insert(t,r),gI(n.remoteStore,new Fc(Zi(pm(t.path)),r,2,D.at))}}function ql(n,e,t){return $N.apply(this,arguments)}function $N(){return $N=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[],c=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,m)=>{c.push(r._c(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const E=WA.Ci(m.targetId,v);a.push(E)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(f=(0,W.Z)(function*(m,v){const E=Ze(m);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ne.forEach(v,N=>ne.forEach(N.Si,x=>E.persistence.referenceDelegate.addReference(C,N.targetId,x)).next(()=>ne.forEach(N.Di,x=>E.persistence.referenceDelegate.removeReference(C,N.targetId,x)))))}catch(C){if(!s(C))throw C;Me("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const N=C.targetId;if(!C.fromCache){const x=E.qi.get(N),Y=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);E.qi=E.qi.insert(N,Y)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),$N.apply(this,arguments)}function j$(n,e){return jN.apply(this,arguments)}function jN(){return jN=(0,W.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=yield zk(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new ye(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ql(t,r.ji)}var i}),jN.apply(this,arguments)}function H$(n,e){const t=Ze(n),r=t.cc.get(e);if(r&&r.nc)return Gt().add(r.key);{let i=Gt();const a=t.rc.get(e);if(!a)return i;for(const c of a){const f=t.ic.get(c);i=i.unionWith(f.view.ju)}return i}}function G$(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,W.Z)(function*(n,e){const t=Ze(n),r=yield dI(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&VN(t,e.targetId,i.Xu),i}),HN.apply(this,arguments)}function z$(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,W.Z)(function*(n,e){const t=Ze(n);return Kk(t.localStore,e).then(r=>ql(t,r))}),GN.apply(this,arguments)}function W$(n,e,t,r){return zN.apply(this,arguments)}function zN(){return zN=(0,W.Z)(function*(n,e,t,r){const i=Ze(n),a=yield function(c,f){const m=Ze(c),v=Ze(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Tn(E,f).next(C=>C?m.localDocuments.getDocuments(E,C):ne.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Sm(i.remoteStore):"acknowledged"===t||"rejected"===t?(BN(i,e,r||null),LN(i,e),f=e,Ze(Ze(i.localStore).mutationQueue).An(f)):at(),yield ql(i,a)):Me("SyncEngine","Cannot apply mutation batch with id: "+e)}),zN.apply(this,arguments)}function WN(){return WN=(0,W.Z)(function*(n,e){const t=Ze(n);if(YN(t),JN(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield yP(t,r.toArray());t.dc=!0,yield yN(t.remoteStore,!0);for(const a of i)gI(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(xm(t,c),Tm(t.localStore,c,!0))),ab(t.remoteStore,c)}),yield i,yield yP(t,r),function(a){const c=Ze(a);c.cc.forEach((f,m)=>{ab(c.remoteStore,m)}),c.ac.fs(),c.cc=new Map,c.uc=new or(We.comparator)}(t),t.dc=!1,yield yN(t.remoteStore,!1)}}),WN.apply(this,arguments)}function yP(n,e,t){return qN.apply(this,arguments)}function qN(){return qN=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[];for(const c of e){let f;const m=r.rc.get(c);if(m&&0!==m.length){f=yield Im(r.localStore,Zi(m[0]));for(const v of m){const E=r.ic.get(v),C=yield G$(r,E);C.snapshot&&a.push(C.snapshot)}}else{const v=yield Zk(r.localStore,c);f=yield Im(r.localStore,v),yield AN(r,vP(v),c,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(a),i}),qN.apply(this,arguments)}function vP(n){return IR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Z$(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).vi()}function K$(n,e,t,r){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,W.Z)(function*(n,e,t,r){const i=Ze(n);if(i.dc)return void Me("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield Kk(i.localStore,SR(a[0])),f=W0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,je.EMPTY_BYTE_STRING);yield ql(i,c,f);break}case"rejected":yield Tm(i.localStore,e,!0),xm(i,e,r);break;default:at()}}),ZN.apply(this,arguments)}function Y$(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,W.Z)(function*(n,e,t){const r=YN(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Me("SyncEngine","Adding an already active target "+i);continue}const a=yield Zk(r.localStore,i),c=yield Im(r.localStore,a);yield AN(r,vP(a),c.targetId,!1,c.resumeToken),gI(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield Tm(r.localStore,i,!1).then(()=>{ab(r.remoteStore,i),xm(r,i)}).catch(Ha))}}),KN.apply(this,arguments)}function YN(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L$.bind(null,e),e.sc.Wo=S$.bind(null,e.eventManager),e.sc.wc=A$.bind(null,e.eventManager),e}function JN(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}class bP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.yt=sb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Gk(this.persistence,new Hk,e.initialUser,this.yt)}yc(e){return new $k(uI.Bs,this.yt)}gc(e){return new Xk}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wP extends bP{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield JN(r.Ac.syncEngine),yield Sm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Gk(this.persistence,new Hk,e.initialUser,this.yt)}Tc(e,t){return new UU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new y(t,this.persistence);return new p(e.asyncQueue,r)}yc(e){const t=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new GA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,tP(),pI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Xk}}class Q$ extends wP{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof eN&&(r.sharedClientState.syncEngine={Fr:W$.bind(null,i),$r:K$.bind(null,i),Br:Y$.bind(null,i),vi:Z$.bind(null,i),Mr:z$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,W.Z)(function*(c){yield function q$(n,e){return WN.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=tP();if(!eN.C(t))throw new ye(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class QN{initialize(e,t){var r=this;return(0,W.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=j$.bind(null,r.syncEngine),yield yN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new C$}createDatastore(e){const t=sb(e.databaseInfo.databaseId),r=new u$(e.databaseInfo);return new h$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>mP(this.syncEngine,f,0),c=eP.C()?new eP:new o$,new g$(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,v){const E=new R$(r,i,a,c,f,m);return v&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const r=Ze(t);Me("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Cm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XN(n,e,t){if(!t)throw new ye(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DP(n,e,t,r){if(!0===e&&!0===r)throw new ye(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EP(n){if(!We.isDocumentKey(n))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IP(n){if(We.isDocumentKey(n))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _I(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_I(n);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TP(n,e){if(e<=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const CP=new Map;class SP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,DP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new N0;switch(t.type){case"gapi":return new nR(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CP.get(e);t&&(Me("ComponentProvider","Removing Datastore"),CP.delete(e),t.terminate())}(this),Promise.resolve()}}function AP(n,e,t,r={}){var i;const a=(n=en(n,lb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&to("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=xr.MOCK_USER;else{c=(0,gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xr(m)}n._authCredentials=new lm(new am(c,f))}}class kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class Za extends mi{constructor(e,t,r){super(e,t,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new We(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function NP(n,e,...t){if(n=(0,gt.m9)(n),XN("collection","path",e),n instanceof lb){const r=Yt.fromString(e,...t);return IP(r),new Za(n,null,r)}{if(!(n instanceof kn||n instanceof Za))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return IP(r),new Za(n.firestore,null,r)}}function yI(n,e,...t){if(n=(0,gt.m9)(n),1===arguments.length&&(e=B1.R()),XN("doc","path",e),n instanceof lb){const r=Yt.fromString(e,...t);return EP(r),new kn(n,null,new We(r))}{if(!(n instanceof kn||n instanceof Za))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return EP(r),new kn(n.firestore,n instanceof Za?n.converter:null,new We(r))}}function OP(n,e){return n=(0,gt.m9)(n),e=(0,gt.m9)(e),(n instanceof kn||n instanceof Za)&&(e instanceof kn||e instanceof Za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eO(n,e){return n=(0,gt.m9)(n),e=(0,gt.m9)(e),n instanceof mi&&e instanceof mi&&n.firestore===e.firestore&&U0(n._query,e._query)&&n.converter===e.converter}function MP(n,e=10240){let t=0;return{read:()=>(0,W.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ej{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new yr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new N$(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,W.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,W.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,W.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ye(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,W.Z)(function*(a,c){const f=Ze(a),m=K0(f.yt)+"/documents",v={documents:c.map(x=>Z0(f.yt,x))},E=yield f._o("BatchGetDocuments",m,v,c.length),C=new Map;E.forEach(x=>{const G=function nU(n,e){return"found"in e?function(t,r){pt(!!r.found);const i=Wa(t,r.found.name),a=vr(r.found.updateTime),c=r.found.createTime?vr(r.found.createTime):vt.min(),f=new gi({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,a,c,f)}(n,e):"missing"in e?function(t,r){pt(!!r.missing),pt(!!r.readTime);const i=Wa(t,r.missing),a=vr(r.readTime);return Rn.newNoDocument(i,a)}(n,e):at()}(f.yt,x);C.set(G.key.toString(),G)});const N=[];return c.forEach(x=>{const G=C.get(x.toString());pt(!!G),N.push(G)}),N}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ym(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=We.fromPath(i);e.mutations.push(new CA(a,e.precondition(a)))}),yield(r=(0,W.Z)(function*(i,a){const c=Ze(i),f=K0(c.yt)+"/documents",m={writes:a.map(v=>Y0(c.yt,v))};yield c.ao("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ye(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?Vn.exists(!1):Vn.updateTime(t):Vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new ye(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(t)}return Vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ij{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new tN(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,W.Z)(function*(){const t=new rj(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!K(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jR(t)}return!1}}class sj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=B1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,W.Z)(function*(f){Me("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Nm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function xP(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,W.Z)(function*(a){r.isEqual(a)||(yield zk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tO.apply(this,arguments)}function RP(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rO(n);Me("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>lP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>lP(e.remoteStore,a)),n.onlineComponents=e}),nO.apply(this,arguments)}function rO(n){return iO.apply(this,arguments)}function iO(){return iO=(0,W.Z)(function*(n){return n.offlineComponents||(Me("FirestoreClient","Using default OfflineComponentProvider"),yield xP(n,new bP)),n.offlineComponents}),iO.apply(this,arguments)}function bI(n){return sO.apply(this,arguments)}function sO(){return sO=(0,W.Z)(function*(n){return n.onlineComponents||(Me("FirestoreClient","Using default OnlineComponentProvider"),yield RP(n,new QN)),n.onlineComponents}),sO.apply(this,arguments)}function kP(n){return rO(n).then(e=>e.persistence)}function wI(n){return rO(n).then(e=>e.localStore)}function oO(n){return bI(n).then(e=>e.remoteStore)}function aO(n){return bI(n).then(e=>e.syncEngine)}function Rm(n){return lO.apply(this,arguments)}function lO(){return lO=(0,W.Z)(function*(n){const e=yield bI(n),t=e.eventManager;return t.onListen=k$.bind(null,e.syncEngine),t.onUnlisten=P$.bind(null,e.syncEngine),t}),lO.apply(this,arguments)}function FP(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,c,f,m){const v=new vI({next:C=>{a.enqueueAndForget(()=>EN(i,E));const N=C.docs.has(c);!N&&C.fromCache?m.reject(new ye(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&f&&"server"===f.source?m.reject(new ye(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),E=new CN(pm(c.path),v,{includeMetadataChanges:!0,Nu:!0});return wN(i,E)}(yield Rm(n),n.asyncQueue,e,t,r)})),r.promise}function LP(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,c,f,m){const v=new vI({next:C=>{a.enqueueAndForget(()=>EN(i,E)),C.fromCache&&"server"===f.source?m.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),E=new CN(c,v,{includeMetadataChanges:!0,Nu:!0});return wN(i,E)}(yield Rm(n),n.asyncQueue,e,t,r)})),r.promise}class fj{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new tN(this,"async_queue_retry"),this.Wc=()=>{const t=pI();t&&Me("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=pI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=pI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new yr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,W.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!s(t))throw t;Me("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=bN.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&at()}verifyOperationInProgress(){}Xc(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function uO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class pj{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pn extends lb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fj,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BP(this),this._firestoreClient.terminate()}}function mj(n,e){const t="object"==typeof n?n:(0,Zt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Zt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,gt.P0)("firestore");a&&AP(i,...a)}return i}function br(n){return n._firestoreClient||BP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BP(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new I(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new sj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function VP(n,e,t){const r=new yr;return n.asyncQueue.enqueue((0,W.Z)(function*(){try{yield xP(n,t),yield RP(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===ie.FAILED_PRECONDITION||c.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;to("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function UP(n){if(n._initialized||n._terminated)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(je.fromBase64String(e))}catch(t){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ka(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class af{constructor(e){this._methodName=e}}class DI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const Tj=/^__.*__$/;class Cj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _m(e,this.data,t,this.fieldTransforms)}}class $P{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class EI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new EI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return CI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jP(this.sa)&&Tj.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Sj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||sb(e)}da(e,t,r,i=!1){return new EI({sa:e,methodName:t,fa:r,path:Kn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function lf(n){const e=n._freezeSettings(),t=sb(n._databaseId);return new Sj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function II(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);fO("Data must be an object, but it was:",c,r);const f=zP(r,c);let m,v;if(a.merge)m=new hs(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const E=[];for(const C of a.mergeFields){const N=pO(e,C,t);if(!c.contains(N))throw new ye(ie.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);qP(E,N)||E.push(N)}m=new hs(E),v=c.fieldTransforms.filter(C=>m.covers(C.field))}else m=null,v=c.fieldTransforms;return new Cj(new gi(f),m,v)}class ub extends af{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ub}}function HP(n,e,t){return new EI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class cO extends af{_toFieldTransform(e){return new j0(e.path,new gm)}isEqual(e){return e instanceof cO}}class Aj extends af{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=HP(this,e,!0),r=this._a.map(a=>uf(a,t)),i=new Yh(r);return new j0(e.path,i)}isEqual(e){return this===e}}class Nj extends af{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=HP(this,e,!0),r=this._a.map(a=>uf(a,t)),i=new Jh(r);return new j0(e.path,i)}isEqual(e){return this===e}}class Oj extends af{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new mm(e.yt,MR(e.yt,this.wa));return new j0(e.path,t)}isEqual(e){return this===e}}function dO(n,e,t,r){const i=n.da(1,e,t);fO("Data must be an object, but it was:",i,r);const a=[],c=gi.empty();R(r,(m,v)=>{const E=TI(e,m,t);v=(0,gt.m9)(v);const C=i.ca(E);if(v instanceof ub)a.push(E);else{const N=uf(v,C);null!=N&&(a.push(E),c.set(E,N))}});const f=new hs(a);return new $P(c,f,i.fieldTransforms)}function hO(n,e,t,r,i,a){const c=n.da(1,e,t),f=[pO(e,r,t)],m=[i];if(a.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(pO(e,a[N])),m.push(a[N+1]);const v=[],E=gi.empty();for(let N=f.length-1;N>=0;--N)if(!qP(v,f[N])){const x=f[N];let G=m[N];G=(0,gt.m9)(G);const Y=c.ca(x);if(G instanceof ub)v.push(x);else{const re=uf(G,Y);null!=re&&(v.push(x),E.set(x,re))}}const C=new hs(v);return new $P(E,C,c.fieldTransforms)}function GP(n,e,t,r=!1){return uf(t,n.da(r?4:3,e))}function uf(n,e){if(WP(n=(0,gt.m9)(n)))return fO("Unsupported field value:",e,n),zP(n,e);if(n instanceof af)return function(t,r){if(!jP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=uf(c,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return MR(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Tn.fromDate(t);return{timestampValue:vm(r.yt,i)}}if(t instanceof Tn){const i=new Tn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vm(r.yt,i)}}if(t instanceof DI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ka)return{bytesValue:QR(r.yt,t._byteString)};if(t instanceof kn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:SA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${_I(t)}`)}(n,e)}function zP(n,e){const t={};return H(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R(n,(r,i)=>{const a=uf(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function WP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Tn||n instanceof DI||n instanceof Ka||n instanceof kn||n instanceof af)}function fO(n,e,t){if(!WP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_I(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function pO(n,e,t){if((e=(0,gt.m9)(e))instanceof Zl)return e._internalPath;if("string"==typeof e)return TI(n,e);throw CI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Mj=new RegExp("[~\\*/\\[\\]]");function TI(n,e,t){if(e.search(Mj)>=0)throw CI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zl(...e.split("."))._internalPath}catch{throw CI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CI(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new ye(ie.INVALID_ARGUMENT,f+n+m)}function qP(n,e){return n.some(t=>t.isEqual(e))}class cb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xj extends cb{data(){return super.data()}}function SI(n,e){return"string"==typeof e?TI(n,e):e instanceof Zl?e._internalPath:e._delegate._internalPath}function ZP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gO{}class db extends gO{}function $c(n,e,...t){let r=[];e instanceof gO&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof km).length,c=i.filter(f=>f instanceof hb).length;if(a>1||a>0&&c>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class hb extends db{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hb(e,t,r)}_apply(e){const t=this._parse(e);return QP(e._query,t),new mi(e.firestore,e.converter,IA(e._query,t))}_parse(e){const t=lf(e.firestore);return function(i,a,c,f,m,v,E){let C;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){JP(E,v);const N=[];for(const x of E)N.push(YP(f,i,x));C={arrayValue:{values:N}}}else C=YP(f,i,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||JP(E,v),C=GP(c,"where",E,"in"===v||"not-in"===v);return Xt.create(m,v,C)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class km extends gO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new km(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)QP(a,f),a=IA(a,f)}(e._query,t),new mi(e.firestore,e.converter,IA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mO extends db{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mO(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new ye(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ye(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new hm(i,a);return function(f,m){if(null===DA(f)){const v=q1(f);null!==v&&XP(0,v,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new mi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Gl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class AI extends db{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new AI(e,t,r)}_apply(e){return new mi(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}}class NI extends db{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new NI(e,t,r)}_apply(e){const t=KP(e,this.type,this._docOrFields,this._inclusive);return new mi(e.firestore,e.converter,(i=t,new Gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class OI extends db{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new OI(e,t,r)}_apply(e){const t=KP(e,this.type,this._docOrFields,this._inclusive);return new mi(e.firestore,e.converter,(i=t,new Gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function KP(n,e,t,r){if(t[0]=(0,gt.m9)(t[0]),t[0]instanceof cb)return function(i,a,c,f,m){if(!f)throw new ye(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const E of Kh(i))if(E.field.isKeyField())v.push(qh(a,f.key));else{const C=f.data.field(E.field);if(xn(C))throw new ye(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const N=E.field.canonicalString();throw new ye(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(C)}return new kc(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lf(n.firestore);return function(a,c,f,m,v,E){const C=a.explicitOrderBy;if(v.length>C.length)throw new ye(ie.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let x=0;x<v.length;x++){const G=v[x];if(C[x].field.isKeyField()){if("string"!=typeof G)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!EA(a)&&-1!==G.indexOf("/"))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const Y=a.path.child(Yt.fromString(G));if(!We.isDocumentKey(Y))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const re=new We(Y);N.push(qh(c,re))}else{const Y=GP(f,m,G);N.push(Y)}}return new kc(N,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function YP(n,e,t){if("string"==typeof(t=(0,gt.m9)(t))){if(""===t)throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&-1!==t.indexOf("/"))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!We.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qh(n,new We(r))}if(t instanceof kn)return qh(n,t._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_I(t)}.`)}function JP(n,e){if(!Array.isArray(n)||0===n.length)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function QP(n,e){if(e.isInequality()){const r=q1(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=DA(n);null!==a&&XP(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ye(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function XP(n,e,t){if(!t.isEqual(e))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _O{convertValue(e,t="none"){switch(Wh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return R(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new DI(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(P0(e));default:return null}}convertTimestamp(e){const t=me(e);return new Tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);pt(lk(r));const i=new T(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(t)||Zn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function MI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $j extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}class cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kl extends cb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fb extends Kl{data(e={}){return super.data(e)}}class jc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fb(this._firestore,this._userDataWriter,r.key,r,new cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new fb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new fb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:jj(c.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function tF(n,e){return n instanceof Kl&&e instanceof Kl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jc&&e instanceof jc&&n._firestore===e._firestore&&eO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hc extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function nF(n,e,t){n=en(n,kn);const r=en(n.firestore,Pn),i=MI(n.converter,e,t);return Pm(r,[II(lf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vn.none())])}function rF(n,e,t,...r){n=en(n,kn);const i=en(n.firestore,Pn),a=lf(i);let c;return c="string"==typeof(e=(0,gt.m9)(e))||e instanceof Zl?hO(a,"updateDoc",n._key,e,t,r):dO(a,"updateDoc",n._key,e),Pm(i,[c.toMutation(n._key,Vn.exists(!0))])}function iF(n,...e){var t,r,i;n=(0,gt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||uO(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(uO(e[c])){const C=e[c];e[c]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[c+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[c+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let m,v,E;if(n instanceof kn)v=en(n.firestore,Pn),E=pm(n._key.path),m={next:C=>{e[c]&&e[c](yO(v,n,C))},error:e[c+1],complete:e[c+2]};else{const C=en(n,mi);v=en(C.firestore,Pn),E=C._query;const N=new Hc(v);m={next:x=>{e[c]&&e[c](new jc(v,N,C,x))},error:e[c+1],complete:e[c+2]},ZP(n._query)}return function(C,N,x,G){const Y=new vI(G),re=new CN(N,Y,x);return C.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return wN(yield Rm(C),re)})),()=>{Y.bc(),C.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return EN(yield Rm(C),re)}))}}(br(v),E,f,m)}function Pm(n,e){return function(t,r){const i=new yr;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function F$(n,e,t){return MN.apply(this,arguments)}(yield aO(t),r,i)})),i.promise}(br(n),e)}function yO(n,e,t){const r=t.docs.get(e._key),i=new Hc(n);return new Kl(n,i,e._key,r,new cf(t.hasPendingWrites,t.fromCache),e.converter)}const Qj={maxAttempts:5};class sF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lf(e)}set(e,t,r){this._verifyNotCommitted();const i=Gc(e,this._firestore),a=MI(i.converter,t,r),c=II(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Vn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Gc(e,this._firestore);let c;return c="string"==typeof(t=(0,gt.m9)(t))||t instanceof Zl?hO(this._dataReader,"WriteBatch.update",a._key,t,r,i):dO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gc(e,this._firestore);return this._mutations=this._mutations.concat(new ym(t._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gc(n,e){if((n=(0,gt.m9)(n)).firestore!==e)throw new ye(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lf(e)}get(e){const t=Gc(e,this._firestore),r=new $j(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const a=i[0];if(a.isFoundDocument())return new cb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new cb(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=Gc(e,this._firestore),a=MI(i.converter,t,r),c=II(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Gc(e,this._firestore);let c;return c="string"==typeof(t=(0,gt.m9)(t))||t instanceof Zl?hO(this._dataReader,"Transaction.update",a._key,t,r,i):dO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Gc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gc(e,this._firestore),r=new Hc(this._firestore);return super.get(e).then(i=>new Kl(this._firestore,r,t._key,i._document,new cf(!1,!1),t.converter))}}function vO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function aF(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function lF(){if(!function Ke(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hh=Zt.SDK_VERSION,(0,Zt._registerComponent)(new is.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Pn(new eR(t.getProvider("auth-internal")),new L1(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(P1,"3.8.3",n),(0,Zt.registerVersion)(P1,"3.8.3","esm2017")}();class pb{constructor(e){this._delegate=e}static fromBase64String(e){return lF(),new pb(Ka.fromBase64String(e))}static fromUint8Array(e){return aF(),new pb(Ka.fromUint8Array(e))}toBase64(){return lF(),this._delegate.toBase64()}toUint8Array(){return aF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bO(n){return function lH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class uH{enableIndexedDbPersistence(e,t){return function _j(n,e){UP(n=en(n,Pn));const t=br(n),r=n._freezeSettings(),i=new QN;return VP(t,i,new wP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yj(n){UP(n=en(n,Pn));const e=br(n),t=n._freezeSettings(),r=new QN;return VP(e,r,new Q$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vj(n){if(n._initialized&&!n._terminated)throw new ye(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(t=(0,W.Z)(function*(r){if(!no.C())return Promise.resolve();const i=r+"main";yield no.delete(i)}),function(r){return t.apply(this,arguments)})(zA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof T||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&to("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){AP(this._delegate,e,t,r)}enableNetwork(){return function wj(n){return function oj(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield kP(n),t=yield oO(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i._u.delete(0),ob(i)}(t)}))}(br(n=en(n,Pn)))}(this._delegate)}disableNetwork(){return function Dj(n){return function aj(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield kP(n),t=yield oO(n);return e.setNetworkEnabled(!1),(r=(0,W.Z)(function*(i){const a=Ze(i);a._u.add(0),yield Cm(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(br(n=en(n,Pn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,DP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bj(n){return function(e){const t=new yr;return e.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function U$(n,e){return FN.apply(this,arguments)}(yield aO(e),t)})),t.promise}(br(n=en(n,Pn)))}(this._delegate)}onSnapshotsInSync(e){return function Jj(n,e){return function cj(n,e){const t=new vI(e);return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Rm(n),i=t,Ze(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Rm(n),i=t,void Ze(r).Ru.delete(i);var r,i}))}}(br(n=en(n,Pn)),uO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fm(this,NP(this._delegate,e))}catch(t){throw Yi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ro(this,yI(this._delegate,e))}catch(t){throw Yi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ji(this,function X$(n,e){if(n=en(n,lb),XN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mi(n,null,(t=e,new Gl(Yt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Yi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eH(n,e,t){n=en(n,Pn);const r=Object.assign(Object.assign({},Qj),t);return function(i){if(i.maxAttempts<1)throw new ye(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new yr;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const m=yield function PP(n){return bI(n).then(e=>e.datastore)}(i);new ij(i.asyncQueue,m,c,a,f).run()})),f.promise}(br(n),i=>e(new Xj(n,i)),r)}(this._delegate,t=>e(new cF(this,t)))}batch(){return br(this._delegate),new dF(new sF(this._delegate,e=>Pm(this._delegate,e)))}loadBundle(e){return function Ej(n,e){const t=br(n=en(n,Pn)),r=new pj;return function dj(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return MP(m,v);if(m instanceof ArrayBuffer)return MP(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new ej(m,c);var m}(t,sb(e));n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function J$(n,e,t){const r=Ze(n);var i;(i=(0,W.Z)(function*(a,c,f){try{const m=yield c.getMetadata();if(yield function(N,x){const G=Ze(N),Y=vr(x.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",re=>G.Ns.getBundleMetadata(re,x.id)).then(re=>!!re&&re.createTime.compareTo(Y)>=0)}(a.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=m).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(dP(m));const v=new O$(m,a.localStore,c.yt);let E=yield c.mc();for(;E;){const N=yield v.Fu(E);N&&f._updateProgress(N),E=yield c.mc()}const C=yield v.complete();return yield ql(a,C.Lu,void 0),yield function(N,x){const G=Ze(N);return G.persistence.runTransaction("Save bundle","readwrite",Y=>G.Ns.saveBundleMetadata(Y,x))}(a.localStore,m),f._completeWith(C.progress),Promise.resolve(C.Bu)}catch(m){return to("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var N}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield aO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Ij(n,e){return function hj(n,e){return n.asyncQueue.enqueue((0,W.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield wI(n),e)}))}(br(n=en(n,Pn)),e).then(t=>t?new mi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ji(this,t):null)}}class xI extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new pb(new Ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ro.forKey(t,this.firestore,null)}}class cF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}get(e){const t=hf(e);return this._delegate.get(t).then(r=>new gb(this._firestore,new Kl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hf(e);return r?(vO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hf(e);return this._delegate.delete(t),this}}class dF{constructor(e){this._delegate=e}set(e,t,r){const i=hf(e);return r?(vO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class df{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=df.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new df(e,new xI(e),t),i.set(t,a)),a}}df.INSTANCES=new WeakMap;class ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ro(t,new kn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new ro(t,new kn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fm(this.firestore,NP(this._delegate,e))}catch(t){throw Yi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,gt.m9)(e))instanceof kn&&OP(this._delegate,e)}set(e,t){t=vO("DocumentReference.set",t);try{return t?nF(this._delegate,e,t):nF(this._delegate,e)}catch(r){throw Yi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rF(this._delegate,e):rF(this._delegate,e,t,...r)}catch(i){throw Yi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Kj(n){return Pm(en(n.firestore,Pn),[new ym(n._key,Vn.none())])}(this._delegate)}onSnapshot(...e){const t=hF(e),r=fF(e,i=>new gb(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return iF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Gj(n){n=en(n,kn);const e=en(n.firestore,Pn),t=br(e),r=new Hc(e);return function lj(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,c){try{const f=yield function(m,v){const E=Ze(m);return E.persistence.runTransaction("read document","readonly",C=>E.localDocuments.getDocument(C,v))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new ye(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Nm(f,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield wI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Kl(e,r,n._key,i,new cf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function zj(n){n=en(n,kn);const e=en(n.firestore,Pn);return FP(br(e),n._key,{source:"server"}).then(t=>yO(e,n,t))}(this._delegate):function Hj(n){n=en(n,kn);const e=en(n.firestore,Pn);return FP(br(e),n._key).then(t=>yO(e,n,t))}(this._delegate),t.then(r=>new gb(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ro(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}function Yi(n,e,t){return n.message=n.message.replace(e,t),n}function hF(n){for(const e of n)if("object"==typeof e&&!bO(e))return e;return{}}function fF(n,e){var t,r;let i;return i=bO(n[0])?n[0]:bO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class gb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ro(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tF(this._delegate,e._delegate)}}class mb extends gb{data(e){const t=this._delegate.data(e);return function $l(n,e){n||at()}(void 0!==t),t}}class Ji{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}where(e,t,r){try{return new Ji(this.firestore,$c(this._delegate,function Rj(n,e,t){const r=e,i=SI("where",n);return hb._create(i,r,t)}(e,t,r)))}catch(i){throw Yi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ji(this.firestore,$c(this._delegate,function kj(n,e="asc"){const t=e,r=SI("orderBy",n);return mO._create(r,t)}(e,t)))}catch(r){throw Yi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ji(this.firestore,$c(this._delegate,function Pj(n){return TP("limit",n),AI._create("limit",n,"F")}(e)))}catch(t){throw Yi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ji(this.firestore,$c(this._delegate,function Fj(n){return TP("limitToLast",n),AI._create("limitToLast",n,"L")}(e)))}catch(t){throw Yi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ji(this.firestore,$c(this._delegate,function Lj(...n){return NI._create("startAt",n,!0)}(...e)))}catch(t){throw Yi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ji(this.firestore,$c(this._delegate,function Bj(...n){return NI._create("startAfter",n,!1)}(...e)))}catch(t){throw Yi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ji(this.firestore,$c(this._delegate,function Vj(...n){return OI._create("endBefore",n,!1)}(...e)))}catch(t){throw Yi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ji(this.firestore,$c(this._delegate,function Uj(...n){return OI._create("endAt",n,!0)}(...e)))}catch(t){throw Yi(t,"endAt()","Query.endAt()")}}isEqual(e){return eO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function qj(n){n=en(n,mi);const e=en(n.firestore,Pn),t=br(e),r=new Hc(e);return function uj(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,c){try{const f=yield dI(i,a,!0),m=new pP(a,f.Hi),v=m.Wu(f.documents),E=m.applyChanges(v,!1);c.resolve(E.snapshot)}catch(f){const m=Nm(f,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield wI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new jc(e,r,n,i))}(this._delegate):"server"===e?.source?function Zj(n){n=en(n,mi);const e=en(n.firestore,Pn),t=br(e),r=new Hc(e);return LP(t,n._query,{source:"server"}).then(i=>new jc(e,r,n,i))}(this._delegate):function Wj(n){n=en(n,mi);const e=en(n.firestore,Pn),t=br(e),r=new Hc(e);return ZP(n._query),LP(t,n._query).then(i=>new jc(e,r,n,i))}(this._delegate),t.then(r=>new wO(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=hF(e),r=fF(e,i=>new wO(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return iF(this._delegate,t,r)}withConverter(e){return new Ji(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}class dH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ji(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new mb(this._firestore,r))})}isEqual(e){return tF(this._delegate,e._delegate)}}class Fm extends Ji{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ro(this.firestore,e):null}doc(e){try{return new ro(this.firestore,void 0===e?yI(this._delegate):yI(this._delegate,e))}catch(t){throw Yi(t,"doc()","CollectionReference.doc()")}}add(e){return function Yj(n,e){const t=en(n.firestore,Pn),r=yI(n),i=MI(n.converter,e);return Pm(t,[II(lf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ro(this.firestore,t))}isEqual(e){return OP(this._delegate,e._delegate)}withConverter(e){return new Fm(this.firestore,this._delegate.withConverter(e?df.getInstance(this.firestore,e):null))}}function hf(n){return en(n,kn)}class DO{constructor(...e){this._delegate=new Zl(...e)}static documentId(){return new DO(Kn.keyField().canonicalString())}isEqual(e){return(e=(0,gt.m9)(e))instanceof Zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nH(){return new cO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ff(e)}static delete(){const e=function tH(){return new ub("deleteField")}();return e._methodName="FieldValue.delete",new ff(e)}static arrayUnion(...e){const t=function rH(...n){return new Aj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ff(t)}static arrayRemove(...e){const t=function iH(...n){return new Nj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ff(t)}static increment(e){const t=function sH(n){return new Oj("increment",n)}(e);return t._methodName="FieldValue.increment",new ff(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hH={Firestore:uF,GeoPoint:DI,Timestamp:Tn,Blob:pb,Transaction:cF,WriteBatch:dF,DocumentReference:ro,DocumentSnapshot:gb,Query:Ji,QueryDocumentSnapshot:mb,QuerySnapshot:wO,CollectionReference:Fm,FieldPath:DO,FieldValue:ff,setLogLevel:function cH(n){!function Xx(n){Ul.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function pH(n){(function fH(n,e){n.INTERNAL.registerComponent(new is.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hH)))})(n,(e,t)=>new uF(e,t,new uH)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Av.Z);var _b=F(6451);class gH extends Kt.x{constructor(e=1/0,t=1/0,r=eh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var mH=F(3099);function EO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,mH.B)({connector:()=>new gH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pF(n,e){return(0,Lr.m)(e)?gn(()=>n,e):gn(()=>n)}class Lm{constructor(e){return e}}class gF{constructor(){return(0,Zt.getApps)()}}const IO=new l.OlP("angularfire2._apps"),yH={provide:Lm,useFactory:function _H(n){return n&&1===n.length?n[0]:new Lm((0,Zt.getApp)())},deps:[[new l.FiY,IO]]},vH={provide:gF,deps:[[new l.FiY,IO]]};function bH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Lm(r)}}let wH=(()=>{class n{constructor(t){(0,Zt.registerVersion)("angularfire",mh.full,"core"),(0,Zt.registerVersion)("angularfire",mh.full,"app"),(0,Zt.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yH,vH]}),n})();const EH=Tv(Zt.initializeApp,!0),TO=new Map,mF={activated:!1,tokenObservers:[]},IH={initialized:!1,enabled:!1};function _i(n){return TO.get(n)||Object.assign({},mF)}function RI(){return IH}class OH{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new gt.BH,yield function MH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yF(n){if(!_i(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function AO(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,W.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(C){throw Qi.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==c.status)throw Qi.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(C){throw Qi.create("fetch-parse-error",{originalErrorMessage:C?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),E=Date.now();return{token:f.token,expireTimeMillis:E+v,issuedAtTimeMillis:E}}),NO.apply(this,arguments)}function PH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const yb="firebase-app-check-store";let FI=null;function bF(){return FI||(FI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yb,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t?.message}))}}),FI)}function OO(){return OO=(0,W.Z)(function*(n,e){const r=(yield bF()).transaction(yb,"readwrite"),a=r.objectStore(yb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var v;f(Qi.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),OO.apply(this,arguments)}const vb=new Ms.Yd("@firebase/app-check");function RO(n,e){return(0,gt.hl)()?function VH(n,e){return function wF(n,e){return OO.apply(this,arguments)}(function EF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IF(){return RI().enabled}function TF(){return PO.apply(this,arguments)}function PO(){return PO=(0,W.Z)(function*(){const n=RI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PO.apply(this,arguments)}const zH={error:"UNKNOWN_ERROR"};function WH(n){return gt.US.encodeString(JSON.stringify(n),!1)}function LI(n){return FO.apply(this,arguments)}function FO(){return FO=(0,W.Z)(function*(n,e=!1){const t=n.app;yF(t);const r=_i(t);let a,i=r.token;if(i&&!Bm(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Bm(m)?i=m:yield RO(t,void 0))}if(!e&&i&&Bm(i))return{token:i.token};let f,c=!1;if(IF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=AO(PH(t,yield TF()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield RO(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield _i(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?vb.warn(m.message):vb.error(m),a=m}return i?a?f=Bm(i)?{token:i.token,internalError:a}:AF(a):(f={token:i.token},r.token=i,yield RO(t,i)):f=AF(a),c&&SF(t,f),f}),FO.apply(this,arguments)}function BO(n,e){const t=_i(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function CF(n){const{app:e}=n,t=_i(e);let r=t.tokenRefresher;r||(r=function qH(n){const{app:e}=n;return new OH((0,W.Z)(function*(){let r;if(r=_i(e).token?yield LI(n,!0):yield LI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=_i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function SF(n,e){const t=_i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Bm(n){return n.expireTimeMillis-Date.now()>0}function AF(n){return{token:WH(zH),error:n}}class ZH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_i(this.app);for(const t of e)BO(this.app,t.next);return Promise.resolve()}}const FF="app-check-internal";!function lG(){(0,Zt._registerComponent)(new is.wA("app-check",n=>function KH(n,e){return new ZH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FF).initialize()})),(0,Zt._registerComponent)(new is.wA(FF,n=>function YH(n){return{getToken:e=>LI(n,e),addTokenListener:e=>function LO(n,e,t,r){const{app:i}=n,a=_i(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Bm(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),CF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>CF(n))}(n,"INTERNAL",e),removeTokenListener:e=>BO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zt.registerVersion)("@firebase/app-check","0.6.3")}();class VI{constructor(){return Ev("app-check")}}typeof window<"u"&&window;var fG=F(9260);const BF=new l.OlP("angularfire2.auth.use-emulator"),VF=new l.OlP("angularfire2.auth.settings"),UF=new l.OlP("angularfire2.auth.tenant-id"),$F=new l.OlP("angularfire2.auth.langugage-code"),jF=new l.OlP("angularfire2.auth.use-device-language"),HF=new l.OlP("angularfire.auth.persistence"),GF=(n,e,t,r,i,a,c,f)=>(0,qi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[v,E]of Object.entries(c))m.settings[v]=E;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]);let zF=(()=>{class n{constructor(t,r,i,a,c,f,m,v,E,C,N,x){const G=new Kt.x,Y=ot(void 0).pipe((0,gc.Q)(c.outsideAngular),gn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,Ye.U)(()=>(0,qi.on)(t,a,r)),(0,Ye.U)(re=>GF(re,a,f,v,E,C,m,N)),EO({bufferSize:1,refCount:!1}));if(Ff(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{Y.pipe(Cs()).subscribe();const fe=Y.pipe(gn(Ue=>Ue.getRedirectResult().then(Be=>Be,()=>null)),Mi,EO({bufferSize:1,refCount:!1})),Ie=Y.pipe(gn(Ue=>new Wn.y(Be=>({unsubscribe:a.runOutsideAngular(()=>Ue.onAuthStateChanged(He=>Be.next(He),He=>Be.error(He),()=>Be.complete()))})))),qe=Y.pipe(gn(Ue=>new Wn.y(Be=>({unsubscribe:a.runOutsideAngular(()=>Ue.onIdTokenChanged(He=>Be.next(He),He=>Be.error(He),()=>Be.complete()))}))));this.authState=fe.pipe(pF(Ie),(0,pc.R)(c.outsideAngular),(0,gc.Q)(c.insideAngular)),this.user=fe.pipe(pF(qe),(0,pc.R)(c.outsideAngular),(0,gc.Q)(c.insideAngular)),this.idToken=this.user.pipe(gn(Ue=>Ue?(0,qt.D)(Ue.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(gn(Ue=>Ue?(0,qt.D)(Ue.getIdTokenResult()):ot(null))),this.credential=(0,_b.T)(fe,G,this.authState.pipe(on(Ue=>!Ue))).pipe((0,Ye.U)(Ue=>Ue?.user?Ue:null),(0,pc.R)(c.outsideAngular),(0,gc.Q)(c.insideAngular))}return(0,qi.pX)(this,Y,a,{spy:{apply:(re,fe,Ie)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ie.then(qe=>G.next(qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qi.Dh),l.LFG(qi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sg),l.LFG(BF,8),l.LFG(VF,8),l.LFG(UF,8),l.LFG($F,8),l.LFG(jF,8),l.LFG(HF,8),l.LFG(VI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function WF(n,e){return function gG(n,e=th){return new Wn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HO(n,e){return WF(n,e).pipe((0,Ye.U)(t=>({payload:t,type:"query"})))}function UI(n,e){return HO(n,e).pipe($i(void 0),Cv(),(0,Ye.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(E=>E.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function qF(n,e,t){return UI(n,t).pipe(pa((r,i)=>function _G(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function yG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),yh(),(0,Ye.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function GO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ZF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class KF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ye.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($i(void 0),Cv(),on(([r,i])=>i.length>0||!r),(0,Ye.U)(([r,i])=>i),Mi)}auditTrail(e){return this.stateChanges(e).pipe(pa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZF(e);return qF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mi)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mi)}get(e){return(0,qt.D)(this.query.get(e)).pipe(Mi)}add(e){return this.ref.add(e)}doc(e){return new YF(this.ref.doc(e),this.afs)}}class YF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=XF(r,t);return new KF(i,a,this.afs)}snapshotChanges(){return function mG(n,e){return WF(n,e).pipe($i(void 0),Cv(),(0,Ye.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mi)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qt.D)(this.ref.get(e)).pipe(Mi)}}class vG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),on(t=>t.length>0),Mi):UI(this.query,this.afs.schedulers.outsideAngular).pipe(Mi)}auditTrail(e){return this.stateChanges(e).pipe(pa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZF(e);return qF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mi)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Mi)}get(e){return(0,qt.D)(this.query.get(e)).pipe(Mi)}}const JF=new l.OlP("angularfire2.enableFirestorePersistence"),QF=new l.OlP("angularfire2.firestore.persistenceSettings"),bG=new l.OlP("angularfire2.firestore.settings"),wG=new l.OlP("angularfire2.firestore.use-emulator");function XF(n,e=(t=>t)){return{query:e(n),ref:n}}let zO=(()=>{class n{constructor(t,r,i,a,c,f,m,v,E,C,N,x,G,Y,re,fe,Ie){this.schedulers=m;const qe=(0,qi.on)(t,f,r),Ue=E;C&&GF(qe,f,N,G,Y,re,x,fe),[this.firestore,this.persistenceEnabled$]=(0,qi.cc)(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const Be=f.runOutsideAngular(()=>qe.firestore());if(a&&Be.settings(a),Ue&&Be.useEmulator(...Ue),i&&!Ff(c)){const He=()=>{try{return(0,qt.D)(Be.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(St){return typeof console<"u"&&console.warn(St),ot(!1)}};return[Be,f.runOutsideAngular(He)]}return[Be,ot(!1)]},[a,Ue,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=XF(i,r),f=this.schedulers.ngZone.run(()=>a);return new KF(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new vG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new YF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qi.Dh),l.LFG(qi.xv,8),l.LFG(JF,8),l.LFG(bG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sg),l.LFG(QF,8),l.LFG(wG,8),l.LFG(zF,8),l.LFG(BF,8),l.LFG(VF,8),l.LFG(UF,8),l.LFG($F,8),l.LFG(jF,8),l.LFG(HF,8),l.LFG(VI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DG=(()=>{class n{constructor(){fG.Z.registerVersion("angularfire",mh.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:JF,useValue:!0},{provide:QF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zO]}),n})();var EG=F(1144);const IG=["addListener","removeListener"],TG=["addEventListener","removeEventListener"],CG=["on","off"];function Vr(n,e,t,r){if((0,Lr.m)(t)&&(r=t,t=void 0),r)return Vr(n,e,t).pipe(Ws(r));const[i,a]=function NG(n){return(0,Lr.m)(n.addEventListener)&&(0,Lr.m)(n.removeEventListener)}(n)?TG.map(c=>f=>n[c](e,f,t)):function SG(n){return(0,Lr.m)(n.addListener)&&(0,Lr.m)(n.removeListener)}(n)?IG.map(eL(n,e)):function AG(n){return(0,Lr.m)(n.on)&&(0,Lr.m)(n.off)}(n)?CG.map(eL(n,e)):[];if(!i&&(0,EG.z)(n))return(0,Ar.z)(c=>Vr(c,e,t))((0,Ai.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Wn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function eL(n,e){return t=>r=>n[t](e,r)}var OG=F(3532);function $I(n=0,e,t=ay){let r=-1;return null!=e&&((0,OG.K)(e)?t=e:r=e),new Wn.y(i=>{let a=function MG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:xG}=Array;function tL(n){return 1===n.length&&xG(n[0])?n[0]:n}var jI=F(5032);const Yl=new Wn.y(jI.Z);function HI(...n){const e=(0,wo.jO)(n),t=tL(n);return t.length?new Wn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,Ai.Xf)(t[c]).subscribe((0,pn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(v=>v.shift());r.next(e?e(...m):m),i.some((v,E)=>!v.length&&a[E])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):Ui.E}function Yn(n){return(0,In.e)((e,t)=>{(0,Ai.Xf)(n).subscribe((0,pn.x)(t,()=>t.complete(),jI.Z)),!t.closed&&e.subscribe(t)})}function WO(...n){const e=(0,wo.jO)(n);return(0,In.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,Ai.Xf)(n[m]).subscribe((0,pn.x)(r,v=>{a[m]=v,!f&&!c[m]&&(c[m]=!0,(f=c.every(Bi.y))&&(c=null))},jI.Z));t.subscribe((0,pn.x)(r,m=>{if(f){const v=[m,...a];r.next(e?e(...v):v)}}))})}function rL(n,e){return e?t=>Do(e.pipe(mn(1),function PG(){return(0,In.e)((n,e)=>{n.subscribe((0,pn.x)(e,jI.Z))})}()),t.pipe(rL(n))):(0,Ar.z)((t,r)=>(0,Ai.Xf)(n(t,r)).pipe(mn(1),gl(t)))}function iL(n,e=th){const t=$I(n,e);return rL(()=>t)}const gs=new l.OlP("NgValueAccessor");function Hz(n,e){}function Gz(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,Hz,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function zz(n,e){}function Wz(n,e){}function qz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.KtG(a.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,Wz,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const Zz=function(n,e){return{$implicit:n,opened:e}};function Kz(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,zz,0,0,"ng-template",6),l.qZA(),l.YNc(3,qz,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,Zz,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function Yz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const iT=["*"];function Jz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function Qz(n,e){}function Xz(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,Qz,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function e6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function t6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const n6=["ngbDatepickerDayView",""],r6=["month"],i6=["year"];function s6(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function o6(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function a6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function l6(n,e){1&n&&l._UZ(0,"div",0)}function u6(n,e){1&n&&l._UZ(0,"div",0)}function c6(n,e){if(1&n&&(l.YNc(0,l6,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,u6,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function d6(n,e){if(1&n&&l.YNc(0,c6,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function h6(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function f6(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function p6(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,h6,2,1,"div",3),l.YNc(2,f6,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function g6(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function m6(n,e){}function _6(n,e){if(1&n&&l.YNc(0,m6,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function y6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,_6,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function v6(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,g6,2,1,"div",9),l.YNc(2,y6,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function b6(n,e){1&n&&l.YNc(0,v6,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const w6=["defaultDayTemplate"],D6=["content"];function E6(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function I6(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function T6(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,I6,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function C6(n,e){if(1&n&&l.YNc(0,T6,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function S6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateEvent(i))})("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function A6(n,e){}function N6(n,e){}const O6=["dialog"],M6=["ngbNavOutlet",""];function x6(n,e){}const R6=function(n){return{$implicit:n}};function k6(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,x6,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,R6,t.active||r.isPanelTransitioning(t)))}}function P6(n,e){if(1&n&&l.YNc(0,k6,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function F6(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function L6(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function B6(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function V6(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function U6(n,e){1&n&&l._uU(0,"...")}function $6(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function j6(n,e){if(1&n&&(l._uU(0),l.YNc(1,$6,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function H6(n,e){}const G6=function(n){return{disabled:!0,currentPage:n}};function z6(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,H6,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,G6,t))}}function W6(n,e){}const q6=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function Z6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(2).selectPage(a),l.KtG(i.preventDefault())}),l.YNc(1,W6,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,a=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,q6,i,t,a))}}function K6(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,z6,2,4,"a",18),l.YNc(2,Z6,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,a=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||a),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function Y6(n,e){1&n&&l.YNc(0,K6,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function J6(n,e){}const IM=function(n,e){return{disabled:n,currentPage:e}};function Q6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,J6,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,IM,t.previousDisabled(),t.page))}}function X6(n,e){}const eW=function(n){return{disabled:n}};function tW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page-1),l.KtG(i.preventDefault())}),l.YNc(2,X6,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,eW,t.previousDisabled()))}}function nW(n,e){}function rW(n,e){}function iW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page+1),l.KtG(i.preventDefault())}),l.YNc(2,rW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,IM,t.nextDisabled(),t.page))}}function sW(n,e){}function oW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,sW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,IM,t.nextDisabled(),t.page))}}const aW=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function cW(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function dW(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function hW(n,e){}function fW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(a+1))})("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(a+1))}),l.YNc(3,hW,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function pW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function gW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function mW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function _W(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function yW(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function vW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function bW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function wW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,vW,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(a.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(-a.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,bW,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function DW(n,e){1&n&&l._UZ(0,"div",5)}function EW(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function IW(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function TW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,EW,2,1,"ng-container",25),l.YNc(3,IW,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function CW(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function SW(n,e){}function AW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,SW,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function NW(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function OW(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function MW(n,e){if(1&n&&(l.YNc(0,NW,2,3,"span",1),l.YNc(1,OW,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function vi(n){return parseInt(`${n}`,10)}function T2(n){return null!=n?`${n}`:""}function sT(n,e,t=0){return Math.max(Math.min(n,e),t)}function Ob(n){return"string"==typeof n}function ar(n){return!isNaN(vi(n))}function Jn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function yf(n){return null!=n}function Gm(n){return ar(n)?`0${n}`.slice(-2):""}function S2(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function zm(n){return(n||document.body).getBoundingClientRect()}function A2(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const N2={animation:!0,transitionTimerDelayMs:5},BW=()=>{},{transitionTimerDelayMs:VW}=N2,Mb=new Map,ii=(n,e,t,r)=>{let i=r.context||{};const a=Mb.get(e);if(a)switch(r.runningTransition){case"continue":return Ui.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Mb.delete(e)}const c=t(e,r.animation,i)||BW;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),ot(void 0).pipe(function FW(n){return e=>new Wn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Kt.x,m=new Kt.x,v=f.pipe(function kG(...n){return e=>Do(e,ot(...n))}(!0));Mb.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const E=function LW(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const C=Vr(e,"transitionend").pipe(Yn(v),on(({target:x})=>x===e));(function nL(...n){return 1===(n=tL(n)).length?(0,Ai.Xf)(n[0]):new Wn.y(function RG(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Ai.Xf)(n[r]).subscribe((0,pn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})($I(E+VW).pipe(Yn(v)),C,m).pipe(Yn(v)).subscribe(()=>{Mb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},O2=(n,e,t)=>{let{direction:r,maxSize:i,dimension:a}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function $W(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,a),t.maxSize=i,n.style[a]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),zm(n),c.add("collapsing")),n.style[a]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[a]=""};f()};let Wm=(()=>{class n{constructor(){this.animation=N2.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jW=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HW=0,TM=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),M2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),x2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),CM=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+HW++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,M2,4),l.Suo(i,TM,4),l.Suo(i,x2,4)),2&t){let a;l.iGM(a=l.CRH())&&(r.titleTpls=a),l.iGM(a=l.CRH())&&(r.headerTpls=a),l.iGM(a=l.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),GW=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),R2=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>SM)),l.Y36(CM,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),SM=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Ob(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,ii(this._ngZone,r,O2,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&ii(this._ngZone,r.panelDiv,O2,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jW),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,CM,4),2&t){let a;l.iGM(a=l.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,Gz,3,3,"ng-template",0,1,l.W1O),l.YNc(2,Kz,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[fr,Ti,R2,GW,TM,jn],encapsulation:2}),n})(),k2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[SM]}),n})();const zW=({classList:n})=>{n.remove("show")};let WW=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qW=(()=>{class n{constructor(t,r,i,a){this._renderer=r,this._element=i,this._zone=a,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=ii(this._zone,this._element.nativeElement,zW,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WW),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:iT,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,Yz,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[jn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),P2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qW]}),n})();var Kc=(()=>(function(n){n.START="start",n.END="end"}(Kc||(Kc={})),Kc))();const F2=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),xb=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},oT=n=>{xb(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},ZW=(n,e,{direction:t})=>{const{classList:r}=n;return e?(F2(n)?xb(r):(r.add("carousel-item-"+(t===Kc.START?"next":"prev")),zm(n),r.add("carousel-item-"+t)),()=>{oT(r),r.add("active")}):(xb(r),oT(r),void r.add("active"))},KW=(n,e,{direction:t})=>{const{classList:r}=n;return e?(F2(n)?xb(r):r.add("carousel-item-"+t),()=>{oT(r),r.remove("active")}):(xb(r),oT(r),void r.remove("active"))};let YW=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JW=0,QW=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+JW++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),XW=(()=>{class n{constructor(t,r,i,a,c){this._platformId=r,this._ngZone=i,this._cd=a,this._container=c,this.NgbSlideEventSource=vf,this._destroy$=new Kt.x,this._interval$=new Bn(0),this._mouseHover$=new Bn(!1),this._focused$=new Bn(!1),this._pauseOnHover$=new Bn(!1),this._pauseOnFocus$=new Bn(!1),this._pause$=new Bn(!1),this._wrap$=new Bn(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(vf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(vf.ARROW_RIGHT)}ngAfterContentInit(){Li(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Vi([this.slide.pipe((0,Ye.U)(r=>r.current),$i(this.activeId)),this._wrap$,this.slides.changes.pipe($i(null))]).pipe((0,Ye.U)(([r,i])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(r);return i?a.length>1:c<a.length-1}),yh());Vi([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Ye.U)(([r,i,a,c,f,m,v])=>r||i&&a||c&&f||!v?0:m),yh(),gn(r=>r>0?$I(r,r):Yl),Yn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(vf.TIMER)))}),this.slides.changes.pipe(Yn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Mb.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Kc.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Kc.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],v=this._getSlideById(this.activeId);if(v){const x=ii(this._ngZone,this._getSlideElement(v.id),KW,f);x.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),m.push(x)}const E=this.activeId;this.activeId=c.id;const C=this._getSlideById(this.activeId),N=ii(this._ngZone,this._getSlideElement(c.id),ZW,f);N.subscribe(()=>{C?.slid.emit({isShown:!0,direction:r,source:i})}),m.push(N),HI(...m).pipe(mn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:E,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Kc.END:Kc.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(YW),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,QW,4),2&t){let a;l.iGM(a=l.CRH())&&(r.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,Jz,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,Xz,4,4,"div",3),l.qZA(),l.YNc(4,e6,4,0,"button",4),l.YNc(5,t6,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[fr,Ti,jn],encapsulation:2,changeDetection:0}),n})();var vf=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(vf||(vf={})),vf))();let L2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XW]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ur{constructor(e,t,r){this.year=Jn(e)?e:null,this.month=Jn(t)?t:null,this.day=Jn(r)?r:null}static from(e){return e instanceof Ur?e:e?new Ur(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function qm(n,e){return!function eq(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function V2(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function aT(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function AM(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function U2(n){return new Ur(n.getFullYear(),n.getMonth()+1,n.getDate())}function lT(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let uT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function uq(){return new cq}()},providedIn:"root"}),n})(),cq=(()=>{class n extends uT{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=lT(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),U2(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=lT(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=lT(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return U2(new Date)}isValid(t){if(!(t&&Jn(t.year)&&Jn(t.month)&&Jn(t.day)&&0!==t.year))return!1;const r=lT(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bf=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function dq(n){return new hq(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),hq=(()=>{class n extends bf{constructor(t){super(),this._locale=t,this._monthsShort=Re(t,Ge.Standalone,Oe.Abbreviated),this._monthsFull=Re(t,Ge.Standalone,Oe.Wide)}getWeekdayLabel(t,r){const i=De(this._locale,Ge.Standalone,void 0===r?Oe.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return hn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),NM=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Jn(i=vi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Jn(i=vi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(qm(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(qm(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?Oe.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new Kt.x,this._dateSelect$=new Kt.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Oe.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(on(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(on(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>({...i,...a}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&qm(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){AM(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||V2(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(qm(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&AM(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Ur.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:m,outsideDays:v}=t;t.months.forEach(E=>{E.weeks.forEach(C=>{C.days.forEach(N=>{c&&(N.context.focused=c.equals(N.date)&&f),N.tabindex=!m&&c&&N.date.equals(c)&&c.month===E.number?0:-1,!0===m&&(N.context.disabled=!0),void 0!==a&&(N.context.selected=null!==a&&a.equals(N.date)),E.number!==N.date.month&&(N.hidden="hidden"===v||"collapsed"===v||i>1&&N.date.after(r[0].firstDate)&&N.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function tq(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=aT(r.focusDate,r.minDate,r.maxDate),r.firstDate=aT(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=aT(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=aT(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function oq(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(v,E)=>{const C=Object.assign(n.getNext(e,"m",E),{day:1});if(c[E]=null,!i){const N=f.findIndex(x=>x.firstDate.equals(C));-1!==N&&(c[E]=f.splice(N,1)[0])}return C}).forEach((v,E)=>{null===c[E]&&(c[E]=function aq(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:v,outsideDays:E,weekdayWidth:C,weekdaysVisible:N}=t,x=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function lq(n,e,t){const r=n.getDaysPerWeek(),i=new Ur(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,m),N||(i.weekdays.length=0);for(let G=0;G<n.getWeeksPerMonth();G++){let Y=i.weeks[G];Y||(Y=i.weeks[G]={number:0,days:[],collapsed:!0});const re=Y.days;for(let fe=0;fe<n.getDaysPerWeek();fe++){0===G&&N&&(i.weekdays[fe]=r.getWeekdayLabel(n.getWeekday(e),C));const Ie=new Ur(e.year,e.month,e.day),qe=n.getNext(Ie),Ue=r.getDayAriaLabel(Ie);let Be=!!(c&&Ie.before(c)||f&&Ie.after(f));!Be&&v&&(Be=v(Ie,{month:i.number,year:i.year}));let He=Ie.equals(x),St=a?a(Ie,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Ie.month===i.number&&(i.firstDate=Ie),Ie.month===i.number&&qe.month!==i.number&&(i.lastDate=Ie);let Jt=re[fe];Jt||(Jt=re[fe]={}),Jt.date=Ie,Jt.context=Object.assign(Jt.context||{},{$implicit:Ie,date:Ie,data:St,currentMonth:i.number,currentYear:i.year,disabled:Be,focused:!1,selected:!1,today:He}),Jt.tabindex=-1,Jt.ariaLabel=Ue,Jt.hidden=!1,e=qe}Y.number=n.getWeekNumber(re.map(fe=>fe.date),m),Y.collapsed="collapsed"===E&&re[0].date.month!==i.number&&re[re.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!AM(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function rq(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function nq(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function sq(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function iq(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uT),l.LFG(bf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Zm=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(Zm||(Zm={})),Zm))();let fq=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:n6,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),pq=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ur(this.date.year,vi(t),1))}changeYear(t){this.select.emit(new Ur(vi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(r6,7,l.SBq),l.Gf(i6,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,s6,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,o6,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[fr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),gq=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Zm,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,a6,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,d6,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[jn,fr,pq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var nn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(nn||(nn={})),nn))();let mq=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case nn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case nn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case nn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case nn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case nn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case nn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case nn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case nn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case nn.Enter:case nn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OM=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Oe.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function _q(){return new yq}()},providedIn:"root"}),n})(),yq=(()=>{class n extends MM{fromModel(t){return t&&Jn(t.year)&&Jn(t.month)&&Jn(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Jn(t.year)&&Jn(t.month)&&Jn(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),xM=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bf),l.Y36((0,l.Gpc)(()=>cT)),l.Y36(mq),l.Y36(NM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,p6,3,2,"div",0),l.YNc(1,b6,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[jn,fr,Ti],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),cT=(()=>{class n{constructor(t,r,i,a,c,f,m,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=v,this._controlValue=null,this._destroyed$=new Kt.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=E=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(E=>this[E]=a[E]),t.dateSelect$.pipe(Yn(this._destroyed$)).subscribe(E=>{this.dateSelect.emit(E)}),t.model$.pipe(Yn(this._destroyed$)).subscribe(E=>{const C=E.firstDate,N=this.model?this.model.firstDate:null;this._publicState={maxDate:E.maxDate,minDate:E.minDate,firstDate:E.firstDate,lastDate:E.lastDate,focusedDate:E.focusDate,months:E.months.map(fe=>fe.firstDate)};let x=!1;if(!C.equals(N)&&(this.navigate.emit({current:N?{year:N.year,month:N.month}:null,next:{year:C.year,month:C.month},preventDefault:()=>x=!0}),x&&null!==N))return void this._service.open(N);const G=E.selectedDate,Y=E.focusDate,re=this.model?this.model.focusDate:null;this.model=E,qm(G,this._controlValue)&&(this._controlValue=G,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(G))),qm(Y,re)&&re&&E.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ur.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(mn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ur.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Vr(this._contentEl.nativeElement,"focusin"),r=Vr(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,_b.T)(t,r).pipe(on(({target:a,relatedTarget:c})=>!(S2(a,"ngb-dp-day")&&S2(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),Yn(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;V2(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Zm.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Zm.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ur.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(NM),l.Y36(uT),l.Y36(bf),l.Y36(OM),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(MM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,$2,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(w6,7),l.Gf(D6,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:gs,useExisting:(0,l.Gpc)(()=>n),multi:!0},NM]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,E6,1,5,"ng-template",null,0,l.W1O),l.YNc(2,C6,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,S6,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,A6,0,0,"ng-template",6),l.qZA(),l.YNc(9,N6,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[jn,fr,Ti,fq,xM,gq],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const G2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function z2(n){const e=Array.from(n.querySelectorAll(G2)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let iB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cT,xM]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ef{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Hq=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(mn(1)).subscribe(()=>{ii(this._zone,this._el.nativeElement,(t,r)=>{r&&zm(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ii(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class lB{close(e){}dismiss(e){}}class Gq{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Kt.x,this._dismissed=new Kt.x,this._hidden=new Kt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Yn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Yn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function C2(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ot(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),HI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Pb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Pb||(Pb={})),Pb))();let zq=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Kt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Kt.x,this.hidden=new Kt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ob(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(mn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=HI(ii(this._zone,t,()=>t.classList.remove("show"),r),ii(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};HI(ii(this._zone,this._elRef.nativeElement,(a,c)=>{c&&zm(a),a.classList.add("show")},t),ii(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Vr(t,"keydown").pipe(Yn(this._closed$),on(i=>i.which===nn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Pb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Vr(this._dialogEl.nativeElement,"mousedown").pipe(Yn(this._closed$),qn(()=>r=!1),gn(()=>Vr(t,"mouseup").pipe(Yn(this._closed$),mn(1))),on(({target:i})=>t===i)).subscribe(()=>{r=!0}),Vr(t,"click").pipe(Yn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Pb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=z2(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ii(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ae),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(O6,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:iT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Wq=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qq=(()=>{class n{constructor(t,r,i,a,c,f,m){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=a,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new Kt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Vr(e,"focusin").pipe(Yn(t),(0,Ye.U)(a=>a.target));Vr(e,"keydown").pipe(Yn(t),on(a=>a.which===nn.Tab),WO(i)).subscribe(([a,c])=>{const[f,m]=z2(e);(c===f||c===e)&&a.shiftKey&&(m.focus(),a.preventDefault()),c===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&Vr(e,"click").pipe(Yn(t),WO(i),(0,Ye.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:yf(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new lB,m=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,m,r,f,i);let E=!1!==i.backdrop?this._attachBackdrop(a):void 0,C=this._attachWindowComponent(a,v.nodes),N=new Gq(C,v,E,i.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(C),N.hidden.pipe(mn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=x=>{N.close(x)},f.dismiss=x=>{N.dismiss(x)},this._applyWindowOptions(C.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),E&&E.instance&&(this._applyBackdropOptions(E.instance,i),E.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(Hq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(zq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{yf(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{yf(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):Ob(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new Ef([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new Ef([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Ef([[r]])}_createFromComponent(t,r,i,a,c){const f=l.zs3.create({providers:[{provide:lB,useValue:a}],parent:t}),m=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=m.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Ef([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ae),l.LFG(Wq),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(qq),l.LFG(Zq))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Kq]}),n})();const Qq=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Xq=(n,e)=>{e&&zm(n),n.classList.add("show")};let VM=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),fB=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Yn(this.nav.destroy$),$i(this._activePane?.item||null),yh(),function FG(n){return on((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?ii(this._ngZone,this._activePane.elRef.nativeElement,Qq,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),ii(this._ngZone,this._activePane.elRef.nativeElement,Xq,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(VM,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:M6,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,P6,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[VM,fr,jn,Ti],encapsulation:2,changeDetection:0}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fB]}),n})(),e8=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),mB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),_B=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),yB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),vB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),bB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),wB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),DB=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=sT(t,this.pageCount,1),this.page!==r&&ar(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ar(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(e8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,gB,5),l.Suo(i,mB,5),l.Suo(i,_B,5),l.Suo(i,yB,5),l.Suo(i,vB,5),l.Suo(i,bB,5),l.Suo(i,wB,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.tplEllipsis=a.first),l.iGM(a=l.CRH())&&(r.tplFirst=a.first),l.iGM(a=l.CRH())&&(r.tplLast=a.first),l.iGM(a=l.CRH())&&(r.tplNext=a.first),l.iGM(a=l.CRH())&&(r.tplNumber=a.first),l.iGM(a=l.CRH())&&(r.tplPrevious=a.first),l.iGM(a=l.CRH())&&(r.tplPages=a.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,a,c,f,m;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,i=$localize`:@@ngb.pagination.last:`,a=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,m=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,F6,2,0,"ng-template",null,0,l.W1O),l.YNc(2,L6,2,0,"ng-template",null,1,l.W1O),l.YNc(4,B6,2,0,"ng-template",null,2,l.W1O),l.YNc(6,V6,2,0,"ng-template",null,3,l.W1O),l.YNc(8,U6,1,0,"ng-template",null,4,l.W1O),l.YNc(10,j6,2,2,"ng-template",null,5,l.W1O),l.YNc(12,Y6,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,Q6,3,9,"li",7),l.YNc(16,tW,3,8,"li",7),l.YNc(17,nW,0,0,"ng-template",8),l.YNc(18,iW,3,9,"li",7),l.YNc(19,oW,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,aW,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[jn,fr,Ti],encapsulation:2,changeDetection:0}),n})(),EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[DB]}),n})(),TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),o8=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a8=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!ar(t)||t<=0?100:t}get max(){return this._max}getValue(){return sT(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(o8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:iT,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,cW,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[jn,r_],encapsulation:2,changeDetection:0}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a8]}),n})(),l8=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u8=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case nn.ArrowDown:case nn.ArrowLeft:this.update(this.rate-1);break;case nn.ArrowUp:case nn.ArrowRight:this.update(this.rate+1);break;case nn.Home:this.update(0);break;case nn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=sT(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*sT(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let a;l.iGM(a=l.CRH())&&(r.starTemplateFromContent=a.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(a){return r.handleKeyDown(a)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:gs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,dW,1,1,"ng-template",null,0,l.W1O),l.YNc(2,fW,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[fr,Ti],encapsulation:2,changeDetection:0}),n})(),SB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[u8]}),n})();class AB{constructor(e,t,r){this.hour=vi(e),this.minute=vi(t),this.second=vi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=ar(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){ar(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){ar(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return ar(this.hour)&&ar(this.minute)&&(!e||ar(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let c8=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function d8(){return new h8}()},providedIn:"root"}),n})(),h8=(()=>{class n extends NB{fromModel(t){return t&&Jn(t.hour)&&Jn(t.minute)?{hour:t.hour,minute:t.minute,second:Jn(t.second)?t.second:null}:null}toModel(t){return t&&Jn(t.hour)&&Jn(t.minute)?{hour:t.hour,minute:t.minute,second:Jn(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function f8(n){return new p8(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),p8=(()=>{class n extends OB{constructor(t){super(),this._periods=ce(t,Ge.Standalone,Oe.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const g8=/[^0-9]/g;let m8=(()=>{class n{constructor(t,r,i,a){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=a,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Jn(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Jn(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Jn(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new AB(r.hour,r.minute,r.second):new AB,!this.seconds&&(!r||!ar(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=vi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(vi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(vi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(g8,"")}formatHour(t){return ar(t)?Gm(this.meridian?t%12==0?12:t%12:t%24):Gm(NaN)}formatMinSec(t){return Gm(ar(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!ar(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(c8),l.Y36(NB),l.Y36(l.sBO),l.Y36(OB))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:gs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,a,c,f,m,v,E,C,N,x,G;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,m=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,E=$localize`:@@ngb.timepicker.seconds:Seconds`,C=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,N=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,x=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,G=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],c,f,m,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",E,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],C,N,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],x,G]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,pW,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(a){return r.updateHour(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeHour(r.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeHour(-r.hourStep),a.preventDefault()}),l.qZA(),l.YNc(5,gW,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,mW,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(a){return r.updateMinute(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeMinute(r.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeMinute(-r.minuteStep),a.preventDefault()}),l.qZA(),l.YNc(11,_W,4,7,"button",3),l.qZA(),l.YNc(12,yW,2,0,"div",8),l.YNc(13,wW,4,9,"div",9),l.YNc(14,DW,1,0,"div",8),l.YNc(15,TW,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[jn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[m8]}),n})();const _8=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),zm(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},y8=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let v8=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),w8=(()=>{class n{constructor(t,r,i,a){this.ariaLive=t,this._zone=i,this._element=a,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(mn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=ii(this._zone,this._element.nativeElement,y8,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=ii(this._zone,this._element.nativeElement,_8,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(v8),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,b8,7,l.Rgc),2&t){let a;l.iGM(a=l.CRH())&&(r.contentHeaderTpl=a.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:iT,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,CW,2,1,"ng-template",null,0,l.W1O),l.YNc(2,AW,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[jn,Ti],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[w8]}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),D8=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=T2(this.result),i=Array.isArray(this.term)?this.term:[this.term],a=v=>this.accentSensitive?v:A2(v),c=i.map(v=>function kW(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(a(T2(v)))).filter(v=>v),f=this.accentSensitive?r:A2(r),m=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let v=0;this.parts=m.map(E=>r.substring(v,v+=E.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,MW,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[jn,fr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function E8(){return 100}});let kB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[D8]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const I8=[k2,P2,L2,B2,iB,aB,uB,pB,PB,EB,TB,CB,SB,MB,xB,RB,kB];let T8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[I8,k2,P2,L2,B2,iB,aB,uB,pB,PB,EB,TB,CB,SB,MB,xB,RB,kB]}),n})();const C8=function(n){return["panos-search",n]},S8=function(){return{search:"app"}},A8=function(){return{search:"game"}},N8=function(){return{search:"art"}};class Fb{constructor(){this.searchClass=""}activateSearch(){this.searchClass=""==this.searchClass?"active":""}}Fb.\u0275fac=function(e){return new(e||Fb)},Fb.\u0275cmp=l.Xpm({type:Fb,selectors:[["app-navbar"]],decls:12,vars:9,consts:[[1,"navbar",2,"justify-content","unset"],["clickable","",1,"nav-link",3,"click"],["name","search"],[3,"ngClass"],["routerLink","",1,"nav-link"],["routerLink","",1,"nav-link",3,"queryParams"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l.NdJ("click",function(){return t.activateSearch()}),l._UZ(2,"ion-icon",2),l.qZA(),l._UZ(3,"input",3),l.TgZ(4,"a",4),l._uU(5,"All Projects"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"Apps"),l.qZA(),l.TgZ(8,"a",5),l._uU(9,"Games"),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Art"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngClass",l.VKq(4,C8,t.searchClass)),l.xp6(3),l.Q6J("queryParams",l.DdM(6,S8)),l.xp6(2),l.Q6J("queryParams",l.DdM(7,A8)),l.xp6(2),l.Q6J("queryParams",l.DdM(8,N8)))},dependencies:[FM,xt,Wu]});const O8=function(n){return{search:n}};function M8(n,e){if(1&n&&(l.TgZ(0,"a",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("queryParams",l.VKq(2,O8,t)),l.xp6(1),l.Oqu(t)}}function x8(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.name)}}function R8(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.ALo(2,"slice"),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.AsE("",l.Dn7(2,2,t.name,0,19),"",t.name.length>19?"...":"","")}}function k8(n,e){if(1&n&&(l.TgZ(0,"div",14),l._UZ(1,"div",15),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("innerHtml",t.details,l.oJD)}}function P8(n,e){if(1&n&&l._UZ(0,"img",16),2&n){const t=l.oxw().$implicit;l.s9C("src",t.icon,l.LSH)}}function F8(n,e){1&n&&l._UZ(0,"div",7)}function L8(n,e){if(1&n&&(l.TgZ(0,"a",17),l._uU(1,"Show More"),l.qZA()),2&n){const t=l.oxw().$implicit;l.s9C("href",t.details,l.LSH)}}function B8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,a=l.oxw();return l.KtG(a.showMore(i))}),l._uU(1,"Show More"),l.qZA()}}const V8=function(n){return{display:n}},U8=function(n){return["panos-card",n]};function $8(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"div",3),l.YNc(2,M8,2,4,"a",4),l.qZA(),l._UZ(3,"div",5),l.YNc(4,x8,2,1,"h5",6),l.YNc(5,R8,3,6,"h5",6),l._UZ(6,"div",5),l.TgZ(7,"h6"),l._uU(8),l.ALo(9,"date"),l.qZA(),l._UZ(10,"div",7),l.YNc(11,k8,2,1,"div",8),l.YNc(12,P8,1,1,"img",9),l.YNc(13,F8,1,0,"div",10),l.YNc(14,L8,2,1,"a",11),l.YNc(15,B8,2,0,"a",12),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.s9C("id",t.name),l.Q6J("ngStyle",l.VKq(15,V8,""==r.search||t.tags.includes(r.search.toUpperCase())?"block":"none"))("ngClass",l.VKq(17,U8,t==r.selectedItem?"active":"")),l.xp6(2),l.Q6J("ngForOf",t.tags),l.xp6(2),l.Q6J("ngIf",t==r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(3),l.hij(" ",l.xi3(9,12,t.date,"longDate")," "),l.xp6(3),l.Q6J("ngIf",t==r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem&&t.details.length>0&&t.details.length<100),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem&&t.details.length>100)}}class Lb{showMore(e){this.selectedItem=e,Nav_ScrollIntoView(e.name)}constructor(e,t){this.route=e,this.selectedItem={},this.search="",this.search="",this.items=t.collection("projects").valueChanges().pipe((0,Ye.U)(r=>r.sort((i,a)=>new Date(i.date)>new Date(a.date)?-1:1)))}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Lb.\u0275fac=function(e){return new(e||Lb)(l.Y36(Ta),l.Y36(zO))},Lb.\u0275cmp=l.Xpm({type:Lb,selectors:[["app-project"]],decls:3,vars:3,consts:[[1,"page"],[3,"id","ngStyle","ngClass",4,"ngFor","ngForOf"],[3,"id","ngStyle","ngClass"],[1,"panos-tags"],["routerLink","","class","panos-tag",3,"queryParams",4,"ngFor","ngForOf"],[2,"height","10px"],[4,"ngIf"],[2,"height","2px"],["style","overflow: auto;height: calc(100vh - 150px);",4,"ngIf"],["class","panos-card-image",3,"src",4,"ngIf"],["style","height:2px",4,"ngIf"],["class","panos-card-show-more",3,"href",4,"ngIf"],["class","panos-card-show-more","clickable","",3,"click",4,"ngIf"],["routerLink","",1,"panos-tag",3,"queryParams"],[2,"overflow","auto","height","calc(100vh - 150px)"],[2,"padding","20px","overflow-wrap","anywhere",3,"innerHtml"],[1,"panos-card-image",3,"src"],[1,"panos-card-show-more",3,"href"],["clickable","",1,"panos-card-show-more",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,$8,16,19,"div",1),l.ALo(2,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,1,t.items)))},dependencies:[xt,fr,jn,qr,Wu,Vs,i_,Ir]});class Bb{constructor(e,t){this.route=e,this.title="Portfolio",this.search="",this.search="",this.items=t.collection("projects").valueChanges().pipe((0,Ye.U)(r=>r.sort((i,a)=>new Date(i.date)>new Date(a.date)?-1:1)))}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Bb.\u0275fac=function(e){return new(e||Bb)(l.Y36(Ta),l.Y36(zO))},Bb.\u0275cmp=l.Xpm({type:Bb,selectors:[["app-root"]],decls:12,vars:0,consts:[[2,"max-width","1080px","margin","0 auto","padding","10px"],[1,"header",2,"padding-top","30px","padding-left","30px"],[1,"logo"],[1,"footer-copyrights"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"a",2),l._uU(3,"PANOS PETRIDISOGLOU"),l.qZA()(),l._UZ(4,"br")(5,"app-navbar")(6,"app-project"),l.TgZ(7,"div",3),l._uU(8," Copyrights 2023\xa9 "),l._UZ(9,"br"),l._uU(10,"Template made with \u{1f52e} by Panos Petridisoglou "),l.qZA()(),l._UZ(11,"router-outlet"))},dependencies:[$_,Fb,Lb]});const H8={connector:()=>new Kt.x};function FB(n,e=H8){const{connector:t}=e;return(0,In.e)((r,i)=>{const a=t();(0,Ai.Xf)(n(function j8(n){return new Wn.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}const Vb="Service workers are disabled or not supported by this browser";class _T{constructor(e){if(this.serviceWorker=e,e){const r=Vr(e,"controllerchange").pipe((0,Ye.U)(()=>e.controller)),a=Do(Ou(()=>ot(e.controller)),r);this.worker=a.pipe(on(E=>!!E)),this.registration=this.worker.pipe(gn(()=>e.getRegistration()));const v=Vr(e,"message").pipe((0,Ye.U)(E=>E.data)).pipe(on(E=>E&&E.type)).pipe(function z8(n){return n?e=>FB(n)(e):e=>function G8(n,e){const t=(0,Lr.m)(n)?n:()=>n;return(0,Lr.m)(e)?FB(e,{connector:t}):r=>new Mu(r,t)}(new Kt.x)(e)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function W8(n){return Ou(()=>Ts(new Error(n)))}(Vb)}postMessage(e,t){return this.worker.pipe(mn(1),qn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(on(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(mn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(on(t=>t.nonce===e),mn(1),(0,Ye.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let q8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Kt.x,!t.isEnabled)return this.messages=Yl,this.notificationClicks=Yl,void(this.subscription=Yl);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ye.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ye.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Ye.U)(i=>i.pushManager));const r=this.pushManager.pipe(gn(i=>i.getSubscription()));this.subscription=(0,_b.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Vb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe(gn(c=>c.subscribe(r)),mn(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(mn(1),gn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Vb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_T))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Z8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Yl,this.available=Yl,this.activated=Yl,void(this.unrecoverable=Yl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(on(r=>"VERSION_READY"===r.type),(0,Ye.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_T))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class UM{}const LB=new l.OlP("NGSW_REGISTER_SCRIPT");function K8(n,e,t,r){return()=>{if(!Li(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=ot(null);break;case"registerWithDelay":i=BB(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,_b.T)(VB(n),BB(+f[0])):VB(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>i.pipe(mn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function BB(n){return ot(null).pipe(iL(n))}function VB(n){return n.get(l.z2F).isStable.pipe(on(t=>t))}function Y8(n,e){return new _T(Li(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let J8=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:LB,useValue:t},{provide:UM,useValue:r},{provide:_T,useFactory:Y8,deps:[UM,l.Lbi]},{provide:l.ip1,useFactory:K8,deps:[l.zs3,LB,UM,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[q8,Z8]}),n})();const UB={firebase:{projectId:"bio-site-panospet",appId:"1:105141969644:web:854d5aba223588475ffbc9",storageBucket:"bio-site-panospet.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAVI8RKwFQvtLnmAJba33mb1QhfbL2DPeo",authDomain:"bio-site-panospet.firebaseapp.com",messagingSenderId:"105141969644",measurementId:"G-MTF5MB90YP"},production:!1};F(2722);class jB{constructor(){return Ev("auth")}}class HM{constructor(e){return e}}const HB="firestore",GM=new l.OlP("angularfire2.firestore-instances");function r4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new HM(r)}}const i4={provide:class t4{constructor(){return Ev(HB)}},deps:[[new l.FiY,GM]]},s4={provide:HM,useFactory:function n4(n,e){const t=function Cg(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(HB,n,e);return t&&new HM(t)},deps:[[new l.FiY,GM],Lm]};let o4=(()=>{class n{constructor(){(0,Zt.registerVersion)("angularfire",mh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[s4,i4]}),n})();const l4=Tv(mj,!0);let Ym={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const zB=/[&<>"']/,c4=new RegExp(zB.source,"g"),WB=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,d4=new RegExp(WB.source,"g"),h4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qB=n=>h4[n];function bi(n,e){if(e){if(zB.test(n))return n.replace(c4,qB)}else if(WB.test(n))return n.replace(d4,qB);return n}const f4=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ZB(n){return n.replace(f4,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const p4=/(^|[^\[])\^/g;function Cn(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,i)=>(i=(i=i.source||i).replace(p4,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const g4=/[^\w:]/g,m4=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function KB(n,e,t){if(n){let r;try{r=decodeURIComponent(ZB(t)).replace(g4,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!m4.test(t)&&(t=function b4(n,e){yT[" "+n]||(yT[" "+n]=_4.test(n)?n+"/":bT(n,"/",!0));const t=-1===(n=yT[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(y4,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(v4,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const yT={},_4=/^[^:]+:\/*[^/]*$/,y4=/^([^:]+:)[\s\S]*$/,v4=/^([^:]+:\/*[^/]*)[\s\S]*$/,vT={exec:function(){}};function Go(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function YB(n,e){const r=n.replace(/\|/g,(a,c,f)=>{let m=!1,v=c;for(;--v>=0&&"\\"===f[v];)m=!m;return m?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function bT(n,e,t){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const a=n.charAt(r-i-1);if(a!==e||t){if(a===e||!t)break;i++}else i++}return n.slice(0,r-i)}function JB(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function QB(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function XB(n,e,t,r){const i=e.href,a=e.title?bi(e.title):null,c=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const f={type:"link",raw:t,href:i,title:a,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,f}return{type:"image",raw:t,href:i,title:a,text:bi(c)}}class zM{constructor(e){this.options=e||Ym}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:bT(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=function D4(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(i=>{const a=i.match(/^\s+/);if(null===a)return i;const[c]=a;return c.length>=r.length?i.slice(r.length):i}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=bT(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:a,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,a,c,f,m,v,E,C,N,x,G,Y=t[1].trim();const re=Y.length>1,fe={type:"list",raw:"",ordered:re,start:re?+Y.slice(0,-1):"",loose:!1,items:[]};Y=re?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic&&(Y=re?Y:"[*+-]");const Ie=new RegExp(`^( {0,3}${Y})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(G=!1,(t=Ie.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),E=t[2].split("\n",1)[0].replace(/^\t+/,Ue=>" ".repeat(3*Ue.length)),C=e.split("\n",1)[0],this.options.pedantic?(c=2,x=E.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,x=E.slice(c),c+=t[1].length),m=!1,!E&&/^ *$/.test(C)&&(r+=C+"\n",e=e.substring(C.length+1),G=!0),!G){const Ue=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Be=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),He=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),St=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(N=e.split("\n",1)[0],C=N,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(He.test(C)||St.test(C)||Ue.test(C)||Be.test(e)));){if(C.search(/[^ ]/)>=c||!C.trim())x+="\n"+C.slice(c);else{if(m||E.search(/[^ ]/)>=4||He.test(E)||St.test(E)||Be.test(E))break;x+="\n"+C}!m&&!C.trim()&&(m=!0),r+=N+"\n",e=e.substring(N.length+1),E=C.slice(c)}}fe.loose||(v?fe.loose=!0:/\n *\n *$/.test(r)&&(v=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(x),i&&(a="[ ] "!==i[0],x=x.replace(/^\[[ xX]\] +/,""))),fe.items.push({type:"list_item",raw:r,task:!!i,checked:a,loose:!1,text:x}),fe.raw+=r}fe.items[fe.items.length-1].raw=r.trimRight(),fe.items[fe.items.length-1].text=x.trimRight(),fe.raw=fe.raw.trimRight();const qe=fe.items.length;for(f=0;f<qe;f++)if(this.lexer.state.top=!1,fe.items[f].tokens=this.lexer.blockTokens(fe.items[f].text,[]),!fe.loose){const Ue=fe.items[f].tokens.filter(He=>"space"===He.type),Be=Ue.length>0&&Ue.some(He=>/\n.*\n/.test(He.raw));fe.loose=Be}if(fe.loose)for(f=0;f<qe;f++)fe.items[f].loose=!0;return fe}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):bi(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:YB(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let a,c,f,m,i=r.align.length;for(a=0;a<i;a++)r.align[a]=/^ *-+: *$/.test(r.align[a])?"right":/^ *:-+: *$/.test(r.align[a])?"center":/^ *:-+ *$/.test(r.align[a])?"left":null;for(i=r.rows.length,a=0;a<i;a++)r.rows[a]=YB(r.rows[a],r.header.length).map(v=>({text:v}));for(i=r.header.length,c=0;c<i;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(i=r.rows.length,c=0;c<i;c++)for(m=r.rows[c],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:bi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):bi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=bT(r.slice(0,-1),"\\");if((r.length-c.length)%2==0)return}else{const c=function w4(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if("\\"===n[i])i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(c>-1){const m=(0===t[0].indexOf("!")?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let i=t[2],a="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],a=c[3])}else a=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),XB(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return XB(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const a=i[1]||i[2]||"";if(!a||a&&(""===r||this.rules.inline.punctuation.exec(r))){const c=i[0].length-1;let f,m,v=c,E=0;const C="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(C.lastIndex=0,t=t.slice(-1*e.length+c);null!=(i=C.exec(t));){if(f=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!f)continue;if(m=f.length,i[3]||i[4]){v+=m;continue}if((i[5]||i[6])&&c%3&&!((c+m)%3)){E+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+E);const N=e.slice(0,c+i.index+(i[0].length-f.length)+m);if(Math.min(c,m)%2){const G=N.slice(1,-1);return{type:"em",raw:N,text:G,tokens:this.lexer.inlineTokens(G)}}const x=N.slice(2,-2);return{type:"strong",raw:N,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=bi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,a;return"@"===r[2]?(i=bi(this.options.mangle?t(r[1]):r[1]),a="mailto:"+i):(i=bi(r[1]),a=i),{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,a;if("@"===r[2])i=bi(this.options.mangle?t(r[0]):r[0]),a="mailto:"+i;else{let c;do{c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(c!==r[0]);i=bi(r[0]),a="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):bi(r[0]):r[0]:bi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Ct={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:vT,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ct.def=Cn(Ct.def).replace("label",Ct._label).replace("title",Ct._title).getRegex(),Ct.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ct.listItemStart=Cn(/^( *)(bull) */).replace("bull",Ct.bullet).getRegex(),Ct.list=Cn(Ct.list).replace(/bull/g,Ct.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ct.def.source+")").getRegex(),Ct._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ct._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ct.html=Cn(Ct.html,"i").replace("comment",Ct._comment).replace("tag",Ct._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ct.paragraph=Cn(Ct._paragraph).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.blockquote=Cn(Ct.blockquote).replace("paragraph",Ct.paragraph).getRegex(),Ct.normal=Go({},Ct),Ct.gfm=Go({},Ct.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ct.gfm.table=Cn(Ct.gfm.table).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.gfm.paragraph=Cn(Ct._paragraph).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ct.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.pedantic=Go({},Ct.normal,{html:Cn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ct._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vT,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cn(Ct.normal._paragraph).replace("hr",Ct.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ct.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ht={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:vT,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:vT,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function E4(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function eV(n){let t,r,e="";const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}ht._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ht.punctuation=Cn(ht.punctuation).replace(/punctuation/g,ht._punctuation).getRegex(),ht.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ht.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ht._comment=Cn(Ct._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ht.emStrong.lDelim=Cn(ht.emStrong.lDelim).replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimAst=Cn(ht.emStrong.rDelimAst,"g").replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimUnd=Cn(ht.emStrong.rDelimUnd,"g").replace(/punct/g,ht._punctuation).getRegex(),ht._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ht._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ht._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ht.autolink=Cn(ht.autolink).replace("scheme",ht._scheme).replace("email",ht._email).getRegex(),ht._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ht.tag=Cn(ht.tag).replace("comment",ht._comment).replace("attribute",ht._attribute).getRegex(),ht._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ht._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ht._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ht.link=Cn(ht.link).replace("label",ht._label).replace("href",ht._href).replace("title",ht._title).getRegex(),ht.reflink=Cn(ht.reflink).replace("label",ht._label).replace("ref",Ct._label).getRegex(),ht.nolink=Cn(ht.nolink).replace("ref",Ct._label).getRegex(),ht.reflinkSearch=Cn(ht.reflinkSearch,"g").replace("reflink",ht.reflink).replace("nolink",ht.nolink).getRegex(),ht.normal=Go({},ht),ht.pedantic=Go({},ht.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Cn(/^!?\[(label)\]\((.*?)\)/).replace("label",ht._label).getRegex(),reflink:Cn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ht._label).getRegex()}),ht.gfm=Go({},ht.normal,{escape:Cn(ht.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ht.gfm.url=Cn(ht.gfm.url,"i").replace("email",ht.gfm._extended_email).getRegex(),ht.breaks=Go({},ht.gfm,{br:Cn(ht.br).replace("{2,}","*").getRegex(),text:Cn(ht.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ql{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ym,this.options.tokenizer=this.options.tokenizer||new zM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ct.normal,inline:ht.normal};this.options.pedantic?(t.block=Ct.pedantic,t.inline=ht.pedantic):this.options.gfm&&(t.block=Ct.gfm,t.inline=this.options.breaks?ht.breaks:ht.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ct,inline:ht}}static lex(e,t){return new Ql(t).lex(e)}static lexInline(e,t){return new Ql(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,i,a,c;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>!!(r=f.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=e.slice(1);let v;this.options.extensions.startBlock.forEach(function(E){v=E.call({lexer:this},m),"number"==typeof v&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(a=e.substring(0,f+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){i=t[t.length-1],c&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),c=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,a,f,m,v,c=e;if(this.tokens.links){const E=Object.keys(this.tokens.links);if(E.length>0)for(;null!=(f=this.tokenizer.rules.inline.reflinkSearch.exec(c));)E.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,f.index)+"["+QB("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(f=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,f.index)+"["+QB("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(f=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,f.index+f[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(E=>!!(r=E.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,c,v)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,eV)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,eV))){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let E=1/0;const C=e.slice(1);let N;this.options.extensions.startInline.forEach(function(x){N=x.call({lexer:this},C),"number"==typeof N&&N>=0&&(E=Math.min(E,N))}),E<1/0&&E>=0&&(a=e.substring(0,E+1))}if(r=this.tokenizer.inlineText(a,E4)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(v=r.raw.slice(-1)),m=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const E="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(E);break}throw new Error(E)}}return t}}class Ub{constructor(e){this.options=e||Ym}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,i);null!=a&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+bi(i)+'">'+(r?e:bi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:bi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=KB(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(null===(e=KB(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class tV{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class nV{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Qa{constructor(e){this.options=e||Ym,this.options.renderer=this.options.renderer||new Ub,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tV,this.slugger=new nV}static parse(e,t){return new Qa(t).parse(e)}static parseInline(e,t){return new Qa(t).parseInline(e)}parse(e,t=!0){let i,a,c,f,m,v,E,C,N,x,G,Y,re,fe,Ie,qe,Ue,Be,He,r="";const St=e.length;for(i=0;i<St;i++)if(x=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(He=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==He||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=He||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,ZB(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(C="",E="",f=x.header.length,a=0;a<f;a++)E+=this.renderer.tablecell(this.parseInline(x.header[a].tokens),{header:!0,align:x.align[a]});for(C+=this.renderer.tablerow(E),N="",f=x.rows.length,a=0;a<f;a++){for(v=x.rows[a],E="",m=v.length,c=0;c<m;c++)E+=this.renderer.tablecell(this.parseInline(v[c].tokens),{header:!1,align:x.align[c]});N+=this.renderer.tablerow(E)}r+=this.renderer.table(C,N);continue;case"blockquote":N=this.parse(x.tokens),r+=this.renderer.blockquote(N);continue;case"list":for(G=x.ordered,Y=x.start,re=x.loose,f=x.items.length,N="",a=0;a<f;a++)Ie=x.items[a],qe=Ie.checked,Ue=Ie.task,fe="",Ie.task&&(Be=this.renderer.checkbox(qe),re?Ie.tokens.length>0&&"paragraph"===Ie.tokens[0].type?(Ie.tokens[0].text=Be+" "+Ie.tokens[0].text,Ie.tokens[0].tokens&&Ie.tokens[0].tokens.length>0&&"text"===Ie.tokens[0].tokens[0].type&&(Ie.tokens[0].tokens[0].text=Be+" "+Ie.tokens[0].tokens[0].text)):Ie.tokens.unshift({type:"text",text:Be}):fe+=Be),fe+=this.parse(Ie.tokens,re),N+=this.renderer.listitem(fe,Ue,qe);r+=this.renderer.list(N,G,Y);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(N=x.tokens?this.parseInline(x.tokens):x.text;i+1<St&&"text"===e[i+1].type;)x=e[++i],N+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=t?this.renderer.paragraph(N):N;continue;default:{const Jt='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(Jt);throw new Error(Jt)}}return r}parseInline(e,t){t=t||this.renderer;let i,a,c,r="";const f=e.length;for(i=0;i<f;i++)if(a=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(c=this.options.extensions.renderers[a.type].call({parser:this},a),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)))r+=c||"";else switch(a.type){case"escape":case"text":r+=t.text(a.text);break;case"html":r+=t.html(a.text);break;case"link":r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break;case"image":r+=t.image(a.href,a.title,a.text);break;case"strong":r+=t.strong(this.parseInline(a.tokens,t));break;case"em":r+=t.em(this.parseInline(a.tokens,t));break;case"codespan":r+=t.codespan(a.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(a.tokens,t));break;default:{const m='Token with "'+a.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}}return r}}function Mt(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),JB(e=Go({},Mt.defaults,e||{})),t){const i=e.highlight;let a;try{a=Ql.lex(n,e)}catch(m){return t(m)}const c=function(m){let v;if(!m)try{e.walkTokens&&Mt.walkTokens(a,e.walkTokens),v=Qa.parse(a,e)}catch(E){m=E}return e.highlight=i,m?t(m):t(null,v)};if(!i||i.length<3||(delete e.highlight,!a.length))return c();let f=0;return Mt.walkTokens(a,function(m){"code"===m.type&&(f++,setTimeout(()=>{i(m.text,m.lang,function(v,E){if(v)return c(v);null!=E&&E!==m.text&&(m.text=E,m.escaped=!0),f--,0===f&&c()})},0))}),void(0===f&&c())}function r(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+bi(i.message+"",!0)+"</pre>";throw i}try{const i=Ql.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(Mt.walkTokens(i,e.walkTokens)).then(()=>Qa.parse(i,e)).catch(r);Mt.walkTokens(i,e.walkTokens)}return Qa.parse(i,e)}catch(i){r(i)}}Mt.options=Mt.setOptions=function(n){return Go(Mt.defaults,n),function u4(n){Ym=n}(Mt.defaults),Mt},Mt.getDefaults=function GB(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Mt.defaults=Ym,Mt.use=function(...n){const e=Mt.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Go({},t);if(r.async=Mt.defaults.async||r.async,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const a=e.renderers[i.name];e.renderers[i.name]=a?function(...c){let f=i.renderer.apply(this,c);return!1===f&&(f=a.apply(this,c)),f}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){const i=Mt.defaults.renderer||new Ub;for(const a in t.renderer){const c=i[a];i[a]=(...f)=>{let m=t.renderer[a].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.renderer=i}if(t.tokenizer){const i=Mt.defaults.tokenizer||new zM;for(const a in t.tokenizer){const c=i[a];i[a]=(...f)=>{let m=t.tokenizer[a].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.tokenizer=i}if(t.walkTokens){const i=Mt.defaults.walkTokens;r.walkTokens=function(a){let c=[];return c.push(t.walkTokens.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}Mt.setOptions(r)})},Mt.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(Mt,r)),r.type){case"table":for(const i of r.header)t=t.concat(Mt.walkTokens(i.tokens,e));for(const i of r.rows)for(const a of i)t=t.concat(Mt.walkTokens(a.tokens,e));break;case"list":t=t.concat(Mt.walkTokens(r.items,e));break;default:Mt.defaults.extensions&&Mt.defaults.extensions.childTokens&&Mt.defaults.extensions.childTokens[r.type]?Mt.defaults.extensions.childTokens[r.type].forEach(function(i){t=t.concat(Mt.walkTokens(r[i],e))}):r.tokens&&(t=t.concat(Mt.walkTokens(r.tokens,e)))}return t},Mt.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");JB(e=Go({},Mt.defaults,e||{}));try{const t=Ql.lexInline(n,e);return e.walkTokens&&Mt.walkTokens(t,e.walkTokens),Qa.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+bi(t.message+"",!0)+"</pre>";throw t}},Mt.Parser=Qa,Mt.parser=Qa.parse,Mt.Renderer=Ub,Mt.TextRenderer=tV,Mt.Lexer=Ql,Mt.lexer=Ql.lex,Mt.Tokenizer=zM,Mt.Slugger=nV,Mt.parse=Mt;class WM{}class Yc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class I4{encodeKey(e){return iV(e)}encodeValue(e){return iV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const C4=/%(\d[a-f0-9])/gi,S4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iV(n){return encodeURIComponent(n).replace(C4,(e,t)=>S4[t]??e)}function wT(n){return`${n}`}class Jc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new I4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],m=t.get(c)||[];m.push(f),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(wT):[wT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(wT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(wT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class A4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oV(n){return typeof Blob<"u"&&n instanceof Blob}function aV(n){return typeof FormData<"u"&&n instanceof FormData}class $b{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function N4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Yc),this.context||(this.context=new A4),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Jc,this.urlWithParams=t}serializeBody(){return null===this.body?null:sV(this.body)||oV(this.body)||aV(this.body)||function O4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aV(this.body)?null:oV(this.body)?this.body.type||null:sV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((C,N)=>C.set(N,e.setHeaders[N]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((C,N)=>C.set(N,e.setParams[N]),v)),new $b(t,r,a,{params:v,headers:m,context:E,reportProgress:f,responseType:i,withCredentials:c})}}var wi=(()=>((wi=wi||{})[wi.Sent=0]="Sent",wi[wi.UploadProgress=1]="UploadProgress",wi[wi.ResponseHeader=2]="ResponseHeader",wi[wi.DownloadProgress=3]="DownloadProgress",wi[wi.Response=4]="Response",wi[wi.User=5]="User",wi))();class M4{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qM extends M4{constructor(e={}){super(e),this.type=wi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ZM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uV=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof $b)a=t;else{let m,v;m=i.headers instanceof Yc?i.headers:new Yc(i.headers),i.params&&(v=i.params instanceof Jc?i.params:new Jc({fromObject:i.params})),a=new $b(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=ot(a).pipe(Eo(m=>this.handler.handle(m)));if(t instanceof $b||"events"===i.observe)return c;const f=c.pipe(on(m=>m instanceof qM));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,Ye.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,Ye.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ZM(i,r))}post(t,r,i={}){return this.request("POST",t,ZM(i,r))}put(t,r,i={}){return this.request("PUT",t,ZM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(WM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YM=(()=>{class n{constructor(){this._buttonClick$=new Kt.x,this.copied$=this._buttonClick$.pipe(gn(()=>(0,_b.T)(ot(!0),$I(3e3).pipe(gl(!1)))),yh(),EO(1)),this.copiedText$=this.copied$.pipe($i(!1),(0,Ye.U)(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return r.onCopyToClipboardClick()}),l.ALo(1,"async"),l._uU(2),l.ALo(3,"async"),l.qZA()),2&t&&(l.ekj("copied",l.lcZ(1,3,r.copied$)),l.xp6(2),l.Oqu(l.lcZ(3,5,r.copiedText$)))},dependencies:[Vs],encapsulation:2,changeDetection:0}),n})();class q4{}class K4{}const mV=new l.OlP("SECURITY_CONTEXT");let JM=(()=>{class n{constructor(t,r,i,a,c,f){this.platform=t,this.securityContext=r,this.http=i,this.clipboardOptions=a,this.sanitizer=f,this.DEFAULT_MARKED_OPTIONS={renderer:new Ub},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Kt.x,this.reload$=this._reload$.asObservable(),this.options=c}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:a,emoji:c,mermaid:f,disableSanitizer:m}=r,v={...this.options,...r.markedOptions};f&&(this.renderer=this.extendRenderer(v.renderer||new Ub));const E=this.trimIndentation(t),C=i?this.decodeHtml(E):E,N=c?this.parseEmoji(C):C,x=this.parseMarked(N,v,a);return(m?x:this.sanitizer.sanitize(this.securityContext,x))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:a,clipboardOptions:c,katex:f,katexOptions:m,mermaid:v,mermaidOptions:E}=r;a&&this.renderClipboard(t,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),f&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...m}),v&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...E}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,Ye.U)(r=>this.handleExtension(t,r)))}highlight(t){if(!Li(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Li(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const i=t.code;return t.code=function(a,c,f){return"mermaid"===c?`<div class="mermaid">${a}</div>`:i.call(this,a,c,f)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const i=t.lastIndexOf("://"),a=i>-1?t.substring(i+4):t,c=a.lastIndexOf("/"),f=c>-1?a.substring(c+1).split("?")[0]:"",m=f.lastIndexOf("."),v=m>-1?f.substring(m+1):"";return v&&"md"!==v?"```"+v+"\n"+r+"\n```":r}parseMarked(t,r,i=!1){return i?Mt.parseInline(t,r):Mt.parse(t,r)}parseEmoji(t){if(!Li(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Li(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,i){if(!Li(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:a,buttonTemplate:c}=i,f=t.querySelectorAll("pre");for(let m=0;m<f.length;m++){const v=f.item(m),E=document.createElement("div");E.style.position="relative",v.parentNode.insertBefore(E,v),E.appendChild(v);const C=document.createElement("div");let N,x;C.style.position="absolute",C.style.top=".5em",C.style.right=".5em",C.style.opacity="0",C.style.transition="opacity 250ms ease-out",E.insertAdjacentElement("beforeend",C),v.onmouseover=()=>C.style.opacity="1",v.onmouseout=()=>C.style.opacity="0",N=a?r.createComponent(a).hostView:c?r.createEmbeddedView(c):r.createComponent(YM).hostView,N.rootNodes.forEach(G=>{G.onmouseover=()=>C.style.opacity="1",C.appendChild(G),x=new ClipboardJS(G,{text:()=>v.innerText})}),N.onDestroy(()=>x.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Li(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=t.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(i=>{let a=r;return i.length>0&&(a=isNaN(a)?i.search(/\S|$/):Math.min(i.search(/\S|$/),a)),isNaN(r)&&(r=a),a?i.substring(a):i}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi),l.LFG(mV),l.LFG(uV,8),l.LFG(q4,8),l.LFG(K4,8),l.LFG(Id))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),n5=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[JM,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:mV,useValue:t&&null!=t.sanitize?t.sanitize:l.q3G.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[td]}),n})();var _V;!function(n){let e;var i;let t,r;(i=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(_V||(_V={}));class Xm{}Xm.\u0275fac=function(e){return new(e||Xm)},Xm.\u0275mod=l.oAB({type:Xm,bootstrap:[Bb]}),Xm.\u0275inj=l.cJS({providers:[{provide:qi.Dh,useValue:UB.firebase}],imports:[T8,rp,Na,J8.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),function DH(n,...e){return{ngModule:wH,providers:[{provide:IO,useFactory:bH(n),multi:!0,deps:[l.R0b,l.zs3,Sg,...e]}]}}(()=>EH(UB.firebase)),function a4(n,...e){return{ngModule:o4,providers:[{provide:GM,useFactory:r4(n),multi:!0,deps:[l.R0b,l.zs3,Sg,gF,[new l.FiY,jB],[new l.FiY,VI],...e]}]}}(()=>l4()),DG,n5.forRoot()]}),w_().bootstrapModule(Xm).catch(n=>console.error(n))},9751:(bt,Te,F)=>{F.d(Te,{y:()=>pe});var l=F(930),V=F(727),k=F(8822),se=F(9635),ve=F(2416),ae=F(576),Ve=F(2806);let pe=(()=>{class q{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const it=new q;return it.source=this,it.operator=Ne,it}subscribe(Ne,it,st){const ee=function $(q){return q&&q instanceof l.Lv||function j(q){return q&&(0,ae.m)(q.next)&&(0,ae.m)(q.error)&&(0,ae.m)(q.complete)}(q)&&(0,V.Nn)(q)}(Ne)?Ne:new l.Hp(Ne,it,st);return(0,Ve.x)(()=>{const{operator:Ce,source:_e}=this;ee.add(Ce?Ce.call(ee,_e):_e?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(it){Ne.error(it)}}forEach(Ne,it){return new(it=xe(it))((st,ee)=>{const Ce=new l.Hp({next:_e=>{try{Ne(_e)}catch(Ae){ee(Ae),Ce.unsubscribe()}},error:ee,complete:st});this.subscribe(Ce)})}_subscribe(Ne){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Ne)}[k.L](){return this}pipe(...Ne){return(0,se.U)(Ne)(this)}toPromise(Ne){return new(Ne=xe(Ne))((it,st)=>{let ee;this.subscribe(Ce=>ee=Ce,Ce=>st(Ce),()=>it(ee))})}}return q.create=$e=>new q($e),q})();function xe(q){var $e;return null!==($e=q??ve.v.Promise)&&void 0!==$e?$e:Promise}},7579:(bt,Te,F)=>{F.d(Te,{x:()=>Ve});var l=F(9751),V=F(727);const se=(0,F(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=F(8737),ae=F(2806);let Ve=(()=>{class xe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const q=new pe(this,this);return q.operator=$,q}_throwIfClosed(){if(this.closed)throw new se}next($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next($)}})}error($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:q}=this;for(;q.length;)q.shift().error($)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:q,isStopped:$e,observers:Ne}=this;return q||$e?V.Lc:(this.currentObservers=null,Ne.push($),new V.w0(()=>{this.currentObservers=null,(0,ve.P)(Ne,$)}))}_checkFinalizedStatuses($){const{hasError:q,thrownError:$e,isStopped:Ne}=this;q?$.error($e):Ne&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return xe.create=(j,$)=>new pe(j,$),xe})();class pe extends Ve{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===q||q.call($,j)}error(j){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===q||q.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,q;return null!==(q=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==q?q:V.Lc}}},930:(bt,Te,F)=>{F.d(Te,{Hp:()=>st,Lv:()=>q});var l=F(576),V=F(727),k=F(2416),se=F(7849),ve=F(5032);const ae=xe("C",void 0,void 0);function xe(Se,we,be){return{kind:Se,value:we,error:be}}var j=F(3410),$=F(2806);class q extends V.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,V.Nn)(we)&&we.add(this)):this.destination=Ae}static create(we,be,ke){return new st(we,be,ke)}next(we){this.isStopped?_e(function pe(Se){return xe("N",Se,void 0)}(we),this):this._next(we)}error(we){this.isStopped?_e(function Ve(Se){return xe("E",void 0,Se)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?_e(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ne(Se,we){return $e.call(Se,we)}class it{constructor(we){this.partialObserver=we}next(we){const{partialObserver:be}=this;if(be.next)try{be.next(we)}catch(ke){ee(ke)}}error(we){const{partialObserver:be}=this;if(be.error)try{be.error(we)}catch(ke){ee(ke)}else ee(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(be){ee(be)}}}class st extends q{constructor(we,be,ke){let J;if(super(),(0,l.m)(we)||!we)J={next:we??void 0,error:be??void 0,complete:ke??void 0};else{let Q;this&&k.v.useDeprecatedNextContext?(Q=Object.create(we),Q.unsubscribe=()=>this.unsubscribe(),J={next:we.next&&Ne(we.next,Q),error:we.error&&Ne(we.error,Q),complete:we.complete&&Ne(we.complete,Q)}):J=we}this.destination=new it(J)}}function ee(Se){k.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Se):(0,se.h)(Se)}function _e(Se,we){const{onStoppedNotification:be}=k.v;be&&j.z.setTimeout(()=>be(Se,we))}const Ae={closed:!0,next:ve.Z,error:function Ce(Se){throw Se},complete:ve.Z}},727:(bt,Te,F)=>{F.d(Te,{Lc:()=>ae,w0:()=>ve,Nn:()=>Ve});var l=F(576);const k=(0,F(3888).d)(xe=>function($){xe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((q,$e)=>`${$e+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var se=F(8737);class ve{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ne of $)Ne.remove(this);else $.remove(this);const{initialTeardown:q}=this;if((0,l.m)(q))try{q()}catch(Ne){j=Ne instanceof k?Ne.errors:[Ne]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ne of $e)try{pe(Ne)}catch(it){j=j??[],it instanceof k?j=[...j,...it.errors]:j.push(it)}}if(j)throw new k(j)}}add(j){var $;if(j&&j!==this)if(this.closed)pe(j);else{if(j instanceof ve){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,se.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,se.P)($,j),j instanceof ve&&j._removeParent(this)}}ve.EMPTY=(()=>{const xe=new ve;return xe.closed=!0,xe})();const ae=ve.EMPTY;function Ve(xe){return xe instanceof ve||xe&&"closed"in xe&&(0,l.m)(xe.remove)&&(0,l.m)(xe.add)&&(0,l.m)(xe.unsubscribe)}function pe(xe){(0,l.m)(xe)?xe():xe.unsubscribe()}},2416:(bt,Te,F)=>{F.d(Te,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Te,F)=>{F.d(Te,{E:()=>V});const V=new(F(9751).y)(ve=>ve.complete())},8996:(bt,Te,F)=>{F.d(Te,{D:()=>we});var l=F(8421),V=F(5363),k=F(9468),ae=F(9751),pe=F(2202),xe=F(576),j=F(9672);function q(be,ke){if(!be)throw new Error("Iterable cannot be null");return new ae.y(J=>{(0,j.f)(J,ke,()=>{const Q=be[Symbol.asyncIterator]();(0,j.f)(J,ke,()=>{Q.next().then(de=>{de.done?J.complete():J.next(de.value)})},0,!0)})})}var $e=F(3670),Ne=F(8239),it=F(1144),st=F(6495),ee=F(2206),Ce=F(4532),_e=F(3260);function we(be,ke){return ke?function Se(be,ke){if(null!=be){if((0,$e.c)(be))return function se(be,ke){return(0,l.Xf)(be).pipe((0,k.R)(ke),(0,V.Q)(ke))}(be,ke);if((0,it.z)(be))return function Ve(be,ke){return new ae.y(J=>{let Q=0;return ke.schedule(function(){Q===be.length?J.complete():(J.next(be[Q++]),J.closed||this.schedule())})})}(be,ke);if((0,Ne.t)(be))return function ve(be,ke){return(0,l.Xf)(be).pipe((0,k.R)(ke),(0,V.Q)(ke))}(be,ke);if((0,ee.D)(be))return q(be,ke);if((0,st.T)(be))return function $(be,ke){return new ae.y(J=>{let Q;return(0,j.f)(J,ke,()=>{Q=be[pe.h](),(0,j.f)(J,ke,()=>{let de,Ge;try{({value:de,done:Ge}=Q.next())}catch(Oe){return void J.error(Oe)}Ge?J.complete():J.next(de)},0,!0)}),()=>(0,xe.m)(Q?.return)&&Q.return()})}(be,ke);if((0,_e.L)(be))return function Ae(be,ke){return q((0,_e.Q)(be),ke)}(be,ke)}throw(0,Ce.z)(be)}(be,ke):(0,l.Xf)(be)}},8421:(bt,Te,F)=>{F.d(Te,{Xf:()=>$e});var l=F(655),V=F(1144),k=F(8239),se=F(9751),ve=F(3670),ae=F(2206),Ve=F(4532),pe=F(6495),xe=F(3260),j=F(576),$=F(7849),q=F(8822);function $e(Se){if(Se instanceof se.y)return Se;if(null!=Se){if((0,ve.c)(Se))return function Ne(Se){return new se.y(we=>{const be=Se[q.L]();if((0,j.m)(be.subscribe))return be.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,V.z)(Se))return function it(Se){return new se.y(we=>{for(let be=0;be<Se.length&&!we.closed;be++)we.next(Se[be]);we.complete()})}(Se);if((0,k.t)(Se))return function st(Se){return new se.y(we=>{Se.then(be=>{we.closed||(we.next(be),we.complete())},be=>we.error(be)).then(null,$.h)})}(Se);if((0,ae.D)(Se))return Ce(Se);if((0,pe.T)(Se))return function ee(Se){return new se.y(we=>{for(const be of Se)if(we.next(be),we.closed)return;we.complete()})}(Se);if((0,xe.L)(Se))return function _e(Se){return Ce((0,xe.Q)(Se))}(Se)}throw(0,Ve.z)(Se)}function Ce(Se){return new se.y(we=>{(function Ae(Se,we){var be,ke,J,Q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(be=(0,l.KL)(Se);!(ke=yield be.next()).done;)if(we.next(ke.value),we.closed)return}catch(de){J={error:de}}finally{try{ke&&!ke.done&&(Q=be.return)&&(yield Q.call(be))}finally{if(J)throw J.error}}we.complete()})})(Se,we).catch(be=>we.error(be))})}},6451:(bt,Te,F)=>{F.d(Te,{T:()=>ae});var l=F(8189),V=F(8421),k=F(515),se=F(3269),ve=F(8996);function ae(...Ve){const pe=(0,se.yG)(Ve),xe=(0,se._6)(Ve,1/0),j=Ve;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,l.J)(xe)((0,ve.D)(j,pe)):k.E}},5403:(bt,Te,F)=>{F.d(Te,{x:()=>V});var l=F(930);function V(se,ve,ae,Ve,pe){return new k(se,ve,ae,Ve,pe)}class k extends l.Lv{constructor(ve,ae,Ve,pe,xe,j){super(ve),this.onFinalize=xe,this.shouldUnsubscribe=j,this._next=ae?function($){try{ae($)}catch(q){ve.error(q)}}:super._next,this._error=pe?function($){try{pe($)}catch(q){ve.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch($){ve.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(bt,Te,F)=>{F.d(Te,{U:()=>k});var l=F(4482),V=F(5403);function k(se,ve){return(0,l.e)((ae,Ve)=>{let pe=0;ae.subscribe((0,V.x)(Ve,xe=>{Ve.next(se.call(ve,xe,pe++))}))})}},8189:(bt,Te,F)=>{F.d(Te,{J:()=>k});var l=F(5577),V=F(4671);function k(se=1/0){return(0,l.z)(V.y,se)}},5577:(bt,Te,F)=>{F.d(Te,{z:()=>pe});var l=F(4004),V=F(8421),k=F(4482),se=F(9672),ve=F(5403),Ve=F(576);function pe(xe,j,$=1/0){return(0,Ve.m)(j)?pe((q,$e)=>(0,l.U)((Ne,it)=>j(q,Ne,$e,it))((0,V.Xf)(xe(q,$e))),$):("number"==typeof j&&($=j),(0,k.e)((q,$e)=>function ae(xe,j,$,q,$e,Ne,it,st){const ee=[];let Ce=0,_e=0,Ae=!1;const Se=()=>{Ae&&!ee.length&&!Ce&&j.complete()},we=ke=>Ce<q?be(ke):ee.push(ke),be=ke=>{Ne&&j.next(ke),Ce++;let J=!1;(0,V.Xf)($(ke,_e++)).subscribe((0,ve.x)(j,Q=>{$e?.(Q),Ne?we(Q):j.next(Q)},()=>{J=!0},void 0,()=>{if(J)try{for(Ce--;ee.length&&Ce<q;){const Q=ee.shift();it?(0,se.f)(j,it,()=>be(Q)):be(Q)}Se()}catch(Q){j.error(Q)}}))};return xe.subscribe((0,ve.x)(j,we,()=>{Ae=!0,Se()})),()=>{st?.()}}(q,$e,xe,$)))}},5363:(bt,Te,F)=>{F.d(Te,{Q:()=>se});var l=F(9672),V=F(4482),k=F(5403);function se(ve,ae=0){return(0,V.e)((Ve,pe)=>{Ve.subscribe((0,k.x)(pe,xe=>(0,l.f)(pe,ve,()=>pe.next(xe),ae),()=>(0,l.f)(pe,ve,()=>pe.complete(),ae),xe=>(0,l.f)(pe,ve,()=>pe.error(xe),ae)))})}},3099:(bt,Te,F)=>{F.d(Te,{B:()=>ve});var l=F(8421),V=F(7579),k=F(930),se=F(4482);function ve(Ve={}){const{connector:pe=(()=>new V.x),resetOnError:xe=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=Ve;return q=>{let $e,Ne,it,st=0,ee=!1,Ce=!1;const _e=()=>{Ne?.unsubscribe(),Ne=void 0},Ae=()=>{_e(),$e=it=void 0,ee=Ce=!1},Se=()=>{const we=$e;Ae(),we?.unsubscribe()};return(0,se.e)((we,be)=>{st++,!Ce&&!ee&&_e();const ke=it=it??pe();be.add(()=>{st--,0===st&&!Ce&&!ee&&(Ne=ae(Se,$))}),ke.subscribe(be),!$e&&st>0&&($e=new k.Hp({next:J=>ke.next(J),error:J=>{Ce=!0,_e(),Ne=ae(Ae,xe,J),ke.error(J)},complete:()=>{ee=!0,_e(),Ne=ae(Ae,j),ke.complete()}}),(0,l.Xf)(we).subscribe($e))})(q)}}function ae(Ve,pe,...xe){if(!0===pe)return void Ve();if(!1===pe)return;const j=new k.Hp({next:()=>{j.unsubscribe(),Ve()}});return(0,l.Xf)(pe(...xe)).subscribe(j)}},9468:(bt,Te,F)=>{F.d(Te,{R:()=>V});var l=F(4482);function V(k,se=0){return(0,l.e)((ve,ae)=>{ae.add(k.schedule(()=>ve.subscribe(ae),se))})}},3410:(bt,Te,F)=>{F.d(Te,{z:()=>l});const l={setTimeout(V,k,...se){const{delegate:ve}=l;return ve?.setTimeout?ve.setTimeout(V,k,...se):setTimeout(V,k,...se)},clearTimeout(V){const{delegate:k}=l;return(k?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(bt,Te,F)=>{F.d(Te,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Te,F)=>{F.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,Te,F)=>{F.d(Te,{_6:()=>ae,jO:()=>se,yG:()=>ve});var l=F(576),V=F(3532);function k(Ve){return Ve[Ve.length-1]}function se(Ve){return(0,l.m)(k(Ve))?Ve.pop():void 0}function ve(Ve){return(0,V.K)(k(Ve))?Ve.pop():void 0}function ae(Ve,pe){return"number"==typeof k(Ve)?Ve.pop():pe}},8737:(bt,Te,F)=>{function l(V,k){if(V){const se=V.indexOf(k);0<=se&&V.splice(se,1)}}F.d(Te,{P:()=>l})},3888:(bt,Te,F)=>{function l(V){const se=V(ve=>{Error.call(ve),ve.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}F.d(Te,{d:()=>l})},2806:(bt,Te,F)=>{F.d(Te,{O:()=>se,x:()=>k});var l=F(2416);let V=null;function k(ve){if(l.v.useDeprecatedSynchronousErrorHandling){const ae=!V;if(ae&&(V={errorThrown:!1,error:null}),ve(),ae){const{errorThrown:Ve,error:pe}=V;if(V=null,Ve)throw pe}}else ve()}function se(ve){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ve)}},9672:(bt,Te,F)=>{function l(V,k,se,ve=0,ae=!1){const Ve=k.schedule(function(){se(),ae?V.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(V.add(Ve),!ae)return Ve}F.d(Te,{f:()=>l})},4671:(bt,Te,F)=>{function l(V){return V}F.d(Te,{y:()=>l})},1144:(bt,Te,F)=>{F.d(Te,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(bt,Te,F)=>{F.d(Te,{D:()=>V});var l=F(576);function V(k){return Symbol.asyncIterator&&(0,l.m)(k?.[Symbol.asyncIterator])}},576:(bt,Te,F)=>{function l(V){return"function"==typeof V}F.d(Te,{m:()=>l})},3670:(bt,Te,F)=>{F.d(Te,{c:()=>k});var l=F(8822),V=F(576);function k(se){return(0,V.m)(se[l.L])}},6495:(bt,Te,F)=>{F.d(Te,{T:()=>k});var l=F(2202),V=F(576);function k(se){return(0,V.m)(se?.[l.h])}},8239:(bt,Te,F)=>{F.d(Te,{t:()=>V});var l=F(576);function V(k){return(0,l.m)(k?.then)}},3260:(bt,Te,F)=>{F.d(Te,{L:()=>se,Q:()=>k});var l=F(655),V=F(576);function k(ve){return(0,l.FC)(this,arguments,function*(){const Ve=ve.getReader();try{for(;;){const{value:pe,done:xe}=yield(0,l.qq)(Ve.read());if(xe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{Ve.releaseLock()}})}function se(ve){return(0,V.m)(ve?.getReader)}},3532:(bt,Te,F)=>{F.d(Te,{K:()=>V});var l=F(576);function V(k){return k&&(0,l.m)(k.schedule)}},4482:(bt,Te,F)=>{F.d(Te,{A:()=>V,e:()=>k});var l=F(576);function V(se){return(0,l.m)(se?.lift)}function k(se){return ve=>{if(V(ve))return ve.lift(function(ae){try{return se(ae,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,Te,F)=>{function l(){}F.d(Te,{Z:()=>l})},9635:(bt,Te,F)=>{F.d(Te,{U:()=>k,z:()=>V});var l=F(4671);function V(...se){return k(se)}function k(se){return 0===se.length?l.y:1===se.length?se[0]:function(ae){return se.reduce((Ve,pe)=>pe(Ve),ae)}}},7849:(bt,Te,F)=>{F.d(Te,{h:()=>k});var l=F(2416),V=F(3410);function k(se){V.z.setTimeout(()=>{const{onUnhandledError:ve}=l.v;if(!ve)throw se;ve(se)})}},4532:(bt,Te,F)=>{function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Te,{z:()=>l})},655:(bt,Te,F)=>{function se(te,oe){var ce={};for(var De in te)Object.prototype.hasOwnProperty.call(te,De)&&oe.indexOf(De)<0&&(ce[De]=te[De]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(De=Object.getOwnPropertySymbols(te);Re<De.length;Re++)oe.indexOf(De[Re])<0&&Object.prototype.propertyIsEnumerable.call(te,De[Re])&&(ce[De[Re]]=te[De[Re]])}return ce}function q(te,oe,ce,De){return new(ce||(ce=Promise))(function(Pe,Xe){function Qe(yt){try{Dt(De.next(yt))}catch(nt){Xe(nt)}}function yn(yt){try{Dt(De.throw(yt))}catch(nt){Xe(nt)}}function Dt(yt){yt.done?Pe(yt.value):function Re(Pe){return Pe instanceof ce?Pe:new ce(function(Xe){Xe(Pe)})}(yt.value).then(Qe,yn)}Dt((De=De.apply(te,oe||[])).next())})}function Se(te){return this instanceof Se?(this.v=te,this):new Se(te)}function we(te,oe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,De=ce.apply(te,oe||[]),Pe=[];return Re={},Xe("next"),Xe("throw"),Xe("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Xe(rn){De[rn]&&(Re[rn]=function(vn){return new Promise(function($n,sn){Pe.push([rn,vn,$n,sn])>1||Qe(rn,vn)})})}function Qe(rn,vn){try{!function yn(rn){rn.value instanceof Se?Promise.resolve(rn.value.v).then(Dt,yt):nt(Pe[0][2],rn)}(De[rn](vn))}catch($n){nt(Pe[0][3],$n)}}function Dt(rn){Qe("next",rn)}function yt(rn){Qe("throw",rn)}function nt(rn,vn){rn(vn),Pe.shift(),Pe.length&&Qe(Pe[0][0],Pe[0][1])}}function ke(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,oe=te[Symbol.asyncIterator];return oe?oe.call(te):(te=function st(te){var oe="function"==typeof Symbol&&Symbol.iterator,ce=oe&&te[oe],De=0;if(ce)return ce.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&De>=te.length&&(te=void 0),{value:te&&te[De++],done:!te}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ce={},De("next"),De("throw"),De("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function De(Pe){ce[Pe]=te[Pe]&&function(Xe){return new Promise(function(Qe,yn){!function Re(Pe,Xe,Qe,yn){Promise.resolve(yn).then(function(Dt){Pe({value:Dt,done:Qe})},Xe)}(Qe,yn,(Xe=te[Pe](Xe)).done,Xe.value)})}}}F.d(Te,{FC:()=>we,KL:()=>ke,_T:()=>se,mG:()=>q,qq:()=>Se})},4650:(bt,Te,F)=>{F.d(Te,{$8M:()=>ip,$WT:()=>oo,$Z:()=>vD,AFp:()=>c0,ALo:()=>vc,AaK:()=>pe,AsE:()=>dh,BQk:()=>eg,CHM:()=>l_,CRH:()=>Vg,CZH:()=>Ps,CqO:()=>JD,D6c:()=>V1,DdM:()=>Pv,Dn7:()=>$v,EJc:()=>C1,EiD:()=>WT,EpF:()=>KD,F$t:()=>tE,F4k:()=>YD,FYo:()=>zu,FiY:()=>zs,Gf:()=>d1,GfV:()=>Ww,Gpc:()=>$,Hsn:()=>nE,Ikx:()=>gg,JOm:()=>Ni,JVY:()=>Lu,JZr:()=>st,KtG:()=>u_,L6k:()=>Cw,LAX:()=>UT,LFG:()=>Le,LMc:()=>pA,LSH:()=>j_,Lbi:()=>KS,Lck:()=>bh,MAs:()=>WD,MGl:()=>tg,MMx:()=>Mv,MT6:()=>fg,NdJ:()=>$y,OlP:()=>ln,Oqu:()=>lg,P3R:()=>Pw,PXZ:()=>b0,Q6J:()=>Fy,QGY:()=>Uy,Qsj:()=>zw,QtT:()=>Tv,R0b:()=>cs,RDi:()=>LT,Rgc:()=>bc,SBq:()=>Sa,SDv:()=>Mi,Sil:()=>XS,Suo:()=>Nh,TTD:()=>ou,TgZ:()=>Ly,Tol:()=>og,Udp:()=>Jy,VKq:()=>Mg,W1O:()=>Jv,WLB:()=>Fv,X6Q:()=>sA,XFs:()=>lt,Xpm:()=>qo,Xts:()=>G_,Y36:()=>Yu,YKP:()=>vh,YNc:()=>zD,Yjl:()=>Xa,Yz7:()=>nt,Z0I:()=>sn,ZZ4:()=>M0,_Bn:()=>Ft,_UZ:()=>qD,_Vd:()=>Gu,_c5:()=>cA,_uU:()=>yE,aQg:()=>Mc,c2e:()=>T1,cJS:()=>vn,cg1:()=>uv,dDg:()=>Lh,dqk:()=>Nt,eBb:()=>Sw,eFA:()=>D0,ekj:()=>uh,eoX:()=>_0,f3M:()=>et,g9A:()=>I1,h0i:()=>ko,hGG:()=>zh,hij:()=>ug,iGM:()=>qv,ifc:()=>Ee,ip1:()=>Sc,jDz:()=>wh,kEZ:()=>XE,kL8:()=>xE,lG2:()=>Mf,lcZ:()=>Ih,lqb:()=>Tl,lri:()=>m0,mCW:()=>zd,n5z:()=>bd,oAB:()=>Zo,oJD:()=>xp,oxw:()=>eE,pB0:()=>Ta,pQV:()=>Iv,q3G:()=>ir,q4F:()=>qw,qLn:()=>Kd,qOj:()=>Yp,qZA:()=>By,qzn:()=>Ia,rWj:()=>im,s9C:()=>jy,sBO:()=>aA,s_b:()=>Ch,soG:()=>Ac,tb:()=>h0,tp0:()=>Bi,uIk:()=>BD,vHH:()=>ee,vpe:()=>us,wAp:()=>Et,xi3:()=>kg,xp6:()=>oD,ynx:()=>Vy,z2F:()=>Uo,z3N:()=>Ns,zSh:()=>Hu,zs3:()=>Al});var l=F(7579),V=F(727),k=F(9751),se=F(6451),ve=F(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function Ve(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function xe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ae({__forward_ref__:ae});function $(s){return s.__forward_ref__=$,s.toString=function(){return pe(this())},s}function q(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function Ne(s){return s&&!!s.\u0275providers}const st="https://g.co/ng/security#xss";class ee extends Error{constructor(o,u){super(function Ce(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,o){throw new ee(-201,!1)}function Qe(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function nt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function vn(s){return{providers:s.providers||[],imports:s.imports||[]}}function $n(s){return lr(s,ki)||lr(s,bn)}function sn(s){return null!==$n(s)}function lr(s,o){return s.hasOwnProperty(o)?s[o]:null}function si(s){return s&&(s.hasOwnProperty(ms)||s.hasOwnProperty(kr))?s[ms]:null}const ki=ae({\u0275prov:ae}),ms=ae({\u0275inj:ae}),bn=ae({ngInjectableDef:ae}),kr=ae({ngInjectorDef:ae});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Pr;function ur(s){const o=Pr;return Pr=s,o}function cr(s,o,u){const d=$n(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&lt.Optional?null:void 0!==o?o:void ke(pe(s))}const Nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qn={},Fn="__NG_DI_FLAG__",Ii="ngTempTokenPath",Pi=/\n/gm,_s="__source";let Ht;function oi(s){const o=Ht;return Ht=s,o}function Xn(s,o=lt.Default){if(void 0===Ht)throw new ee(-203,!1);return null===Ht?cr(s,void 0,o):Ht.get(s,o&lt.Optional?null:void 0,o)}function Le(s,o=lt.Default){return(function Di(){return Pr}()||Xn)(q(s),o)}function et(s,o=lt.Default){return Le(s,wt(o))}function wt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ot(s){const o=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ee(900,!1);let h,p=lt.Default;for(let y=0;y<d.length;y++){const D=d[y],I=U(D);"number"==typeof I?-1===I?h=D.token:p|=I:h=D}o.push(Le(h,p))}else o.push(Le(d))}return o}function zt(s,o){return s[Fn]=o,s.prototype[Fn]=o,s}function U(s){return s[Fn]}function L(s){return{toString:s}.toString()}var O=(()=>((O=O||{})[O.OnPush=0]="OnPush",O[O.Default=1]="Default",O))(),Ee=(()=>{return(s=Ee||(Ee={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ee;var s})();const ct={},ze=[],Rt=ae({\u0275cmp:ae}),_t=ae({\u0275dir:ae}),fn=ae({\u0275pipe:ae}),er=ae({\u0275mod:ae}),kt=ae({\u0275fac:ae}),Dr=ae({__NG_ELEMENT_ID__:ae});let Xl=0;function qo(s){return L(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===O.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ze,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ee.Emulated,id:"c"+Xl++,styles:s.styles||ze,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return h.inputs=Xc(s.inputs,d),h.outputs=Xc(s.outputs),y&&y.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Nf).filter(hr):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Er).filter(hr):null,h})}function Nf(s){return Qt(s)||Sn(s)}function hr(s){return null!==s}function Zo(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||ze,declarations:s.declarations||ze,imports:s.imports||ze,exports:s.exports||ze,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Xc(s,o){if(null==s)return ct;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const Mf=qo;function Xa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Qt(s){return s[Rt]||null}function Sn(s){return s[_t]||null}function Er(s){return s[fn]||null}function oo(s){const o=Qt(s)||Sn(s)||Er(s);return null!==o&&o.standalone}function Gr(s,o){const u=s[er]||null;if(!u&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return u}function li(s){return Array.isArray(s)&&"object"==typeof s[1]}function ui(s){return Array.isArray(s)&&!0===s[1]}function vs(s){return 0!=(4&s.flags)}function el(s){return s.componentOffset>-1}function iu(s){return 1==(1&s.flags)}function Ir(s){return null!==s.template}function Wb(s){return 0!=(256&s[2])}function lo(s,o){return s.hasOwnProperty(kt)?s[kt]:null}class Yb{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ou(){return au}function au(s){return s.type.prototype.ngOnChanges&&(s.setInput=rl),rd}function rd(){const s=Lf(this),o=s?.current;if(o){const u=s.previous;if(u===ct)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function rl(s,o,u,d){const h=this.declaredInputs[u],p=Lf(s)||function id(s,o){return s[lu]=o}(s,{previous:ct,current:null}),y=p.current||(p.current={}),D=p.previous,I=D[h];y[h]=new Yb(I&&I.currentValue,o,D===ct),s[d]=o}ou.ngInherit=!0;const lu="__ngSimpleChanges__";function Lf(s){return s[lu]||null}function Gn(s){for(;Array.isArray(s);)s=s[0];return s}function ea(s,o){return Gn(o[s])}function Tr(s,o){return Gn(o[s.index])}function Bf(s,o){return s.data[o]}function uo(s,o){return s[o]}function Cr(s,o){const u=o[s];return li(u)?u:u[0]}function co(s){return 64==(64&s[2])}function ws(s,o){return null==o?null:s[o]}function Vf(s){s[18]=0}function sl(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Pt={lFrame:p_(null),bindingsEnabled:!0};function Uf(){return Pt.bindingsEnabled}function ue(){return Pt.lFrame.lView}function Wt(){return Pt.lFrame.tView}function l_(s){return Pt.lFrame.contextLView=s,s[8]}function u_(s){return Pt.lFrame.contextLView=null,s}function rr(){let s=c_();for(;null!==s&&64===s.type;)s=s.parent;return s}function c_(){return Pt.lFrame.currentTNode}function ta(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ts(s,o){const u=Pt.lFrame;u.currentTNode=s,u.isParent=o}function hu(){return Pt.lFrame.isParent}function jf(){Pt.lFrame.isParent=!1}function Fr(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ci(){return Pt.lFrame.bindingIndex}function ho(){return Pt.lFrame.bindingIndex++}function Us(s){const o=Pt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function pu(s){Pt.lFrame.inI18n=s}function zf(s,o){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=s,$s(o)}function $s(s){Pt.lFrame.currentDirectiveIndex=s}function h_(){return Pt.lFrame.currentQueryIndex}function Wf(s){Pt.lFrame.currentQueryIndex=s}function Xb(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function f_(s,o,u){if(u&lt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&lt.Host||(h=Xb(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Pt.lFrame=ew();return d.currentTNode=o,d.lView=s,!0}function qf(s){const o=ew(),u=s[1];Pt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function ew(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?p_(s):o}function p_(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function g_(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const tw=g_;function m_(){const s=g_();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kr(){return Pt.lFrame.selectedIndex}function Ds(s){Pt.lFrame.selectedIndex=s}function un(){const s=Pt.lFrame;return Bf(s.tView,s.selectedIndex)}function al(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:A}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function dd(s,o,u){ia(s,o,3,u)}function fo(s,o,u,d){(3&s[2])===u&&ia(s,o,u,d)}function ra(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function ia(s,o,u,d){const p=d??-1,y=o.length-1;let D=0;for(let I=void 0!==d?65535&s[18]:0;I<y;I++)if("number"==typeof o[I+1]){if(D=o[I],null!=d&&D>=d)break}else o[I]<0&&(s[18]+=65536),(D<p||-1==p)&&(__(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function __(s,o,u,d){const h=u[d]<0,p=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class gu{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function mu(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],y=u[d++],D=u[d++];s.setAttribute(o,y,D,p)}else{const p=h,y=u[++d];pd(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Hs(s){return 3===s||4===s||6===s}function pd(s){return 64===s.charCodeAt(0)}function Is(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||_u(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function _u(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){y=-1;break}if(D>o){y=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function gd(s){return-1!==s}function sa(s){return 32767&s}function po(s,o){let u=function v_(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let yu=!0;function Gs(s){const o=yu;return yu=s,o}let vu=0;const Si={};function go(s,o){const u=Jf(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,bu(d.data,s),bu(o,null),bu(d.blueprint,null));const h=_d(s,o),p=s.injectorIndex;if(gd(h)){const y=sa(h),D=po(h,o),I=D[1].data;for(let T=0;T<8;T++)o[p+T]=D[y+T]|I[y+T]}return o[p+8]=h,p}function bu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Jf(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function _d(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=rp(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function yd(s,o,u){!function Yf(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Dr)&&(d=u[Dr]),null==d&&(d=u[Dr]=vu++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Xf(s,o,u){if(u&lt.Optional||void 0!==s)return s;ke()}function ep(s,o,u,d){if(u&lt.Optional&&void 0===d&&(d=null),!(u&(lt.Self|lt.Host))){const h=s[9],p=ur(void 0);try{return h?h.get(o,d,u&lt.Optional):cr(o,d,u&lt.Optional)}finally{ur(p)}}return Xf(d,0,u)}function wu(s,o,u,d=lt.Default,h){if(null!==s){if(1024&o[2]){const y=function np(s,o,u,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=vd(p,y,u,d|lt.Self,Si);if(D!==Si)return D;let I=p.parent;if(!I){const T=y[21];if(T){const A=T.get(u,Si,d);if(A!==Si)return A}I=rp(y),y=y[15]}p=I}return h}(s,o,u,d,Si);if(y!==Si)return y}const p=vd(s,o,u,d,Si);if(p!==Si)return p}return ep(o,u,d,h)}function vd(s,o,u,d,h){const p=function b_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Dr)?s[Dr]:void 0;return"number"==typeof o?o>=0?255&o:w_:o}(u);if("function"==typeof p){if(!f_(o,s,d))return d&lt.Host?Xf(h,0,d):ep(o,u,d,h);try{const y=p(d);if(null!=y||d&lt.Optional)return y;ke()}finally{tw()}}else if("number"==typeof p){let y=null,D=Jf(s,o),I=-1,T=d&lt.Host?o[16][6]:null;for((-1===D||d&lt.SkipSelf)&&(I=-1===D?_d(s,o):o[D+8],-1!==I&&cl(d,!1)?(y=o[1],D=sa(I),o=po(I,o)):D=-1);-1!==D;){const A=o[1];if(tp(p,D,A.data)){const R=lw(D,o,u,y,d,T);if(R!==Si)return R}I=o[D+8],-1!==I&&cl(d,o[1].data[D+8]===T)&&tp(p,D,o)?(y=A,D=sa(I),o=po(I,o)):D=-1}}return h}function lw(s,o,u,d,h,p){const y=o[1],D=y.data[s+8],A=aa(D,y,u,null==d?el(D)&&yu:d!=y&&0!=(3&D.type),h&lt.Host&&p===D);return null!==A?mo(o,y,A,D):Si}function aa(s,o,u,d,h){const p=s.providerIndexes,y=o.data,D=1048575&p,I=s.directiveStart,A=p>>20,H=h?D+A:s.directiveEnd;for(let K=d?D:D+A;K<H;K++){const le=y[K];if(K<I&&u===le||K>=I&&le.type===u)return K}if(h){const K=y[I];if(K&&Ir(K)&&K.type===u)return I}return null}function mo(s,o,u,d){let h=s[u];const p=o.data;if(function hd(s){return s instanceof gu}(h)){const y=h;y.resolving&&function Se(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ee(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(p[u]));const D=Gs(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?ur(y.injectImpl):null;f_(s,d,lt.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Kf(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=au(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==I&&ur(I),Gs(D),y.resolving=!1,tw()}}return h}function tp(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function cl(s,o){return!(s&lt.Self||s&lt.Host&&o)}class _o{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return wu(this._tNode,this._lView,o,wt(d),u)}}function w_(){return new _o(rr(),ue())}function bd(s){return L(()=>{const o=s.prototype.constructor,u=o[kt]||la(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[kt]||la(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function la(s){return $e(s)?()=>{const o=la(q(s));return o&&o()}:lo(s)}function rp(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function ip(s){return function Qf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(Hs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(rr(),s)}const dl="__parameters__";function ca(s,o,u){return L(()=>{const d=function Dd(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return D.annotation=y,D;function D(I,T,A){const R=I.hasOwnProperty(dl)?I[dl]:Object.defineProperty(I,dl,{value:[]})[dl];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(y),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class ln{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bo(s,o){s.forEach(u=>Array.isArray(u)?bo(u,o):o(u))}function I_(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Ed(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ha(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function Sr(s,o,u){let d=qt(s,o);return d>=0?s[1|d]=u:(d=~d,function Id(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function lp(s,o){const u=qt(s,o);if(u>=0)return s[1|u]}function qt(s,o){return function ot(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const zs=zt(ca("Optional"),8),Bi=zt(ca("SkipSelf"),4);var Ni=(()=>((Ni=Ni||{})[Ni.Important=1]="Important",Ni[Ni.DashCase=2]="DashCase",Ni))();const Lt=/^>|^->|<!--|-->|--!>|<!-$/g,ml=/(<|>)/;const Rd=new Map;let kd=0;const Ld="__ngContext__";function gr(s,o){li(o)?(s[Ld]=o[20],function Pd(s){Rd.set(s[20],s)}(o)):s[Ld]=o}let Z;function ge(s,o){return Z(s,o)}function dt(s){const o=s[3];return ui(o)?o[3]:o}function Nr(s){return qs(s[13])}function Hi(s){return qs(s[4])}function qs(s){for(;null!==s&&!ui(s);)s=s[4];return s}function Io(s,o,u,d,h){if(null!=d){let p,y=!1;ui(d)?p=d:li(d)&&(y=!0,d=d[0]);const D=Gn(d);0===s&&null!==u?null==h?_w(o,u,D):Pu(o,u,D,h||null,!0):1===s&&null!==u?Pu(o,u,D,h||null,!0):2===s?wa(o,D,y):3===s&&o.destroyNode(D),null!=p&&function ww(s,o,u,d,h){const p=u[7];p!==Gn(u)&&Io(o,s,d,p,h);for(let D=10;D<u.length;D++){const I=u[D];vl(I[1],I,s,o,d,p)}}(o,s,p,u,h)}}function To(s,o){return s.createText(o)}function ma(s,o,u){s.setValue(o,u)}function Bd(s,o){return s.createComment(function As(s){return s.replace(Lt,o=>o.replace(ml,"\u200b$1\u200b"))}(o))}function _a(s,o,u){return s.createElement(o,u)}function vp(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,sl(h,-1)),u.splice(d,1)}function O_(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&vp(h,d),o>0&&(s[u-1][4]=d[4]);const p=Ed(s,10+o);!function _p(s,o){vl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function mw(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&vl(s,o,u,3,null,null),function yl(s){let o=s[13];if(!o)return $d(s[1],s);for(;o;){let u=null;if(li(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)li(o)&&$d(o[1],o),o=o[3];null===o&&(o=s),li(o)&&$d(o[1],o),u=o&&o[4]}o=u}}(o)}}function $d(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function MT(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof gu)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const D=h[p[y]],I=p[y+1];try{I.call(D)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function bp(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=u[p+1]];u[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&ui(o[3])){u!==o[3]&&vp(u,o);const d=o[19];null!==d&&d.detachView(s)}!function Ru(s){Rd.delete(s[20])}(o)}}function ya(s,o,u){return wp(s,o.parent,u)}function wp(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Ee.None||p===Ee.Emulated)return null}return Tr(d,u)}}function Pu(s,o,u,d,h){s.insertBefore(o,u,d,h)}function _w(s,o,u){s.appendChild(o,u)}function yw(s,o,u,d,h){null!==d?Pu(s,o,u,d,h):_w(s,o,u)}function va(s,o){return s.parentNode(o)}function M_(s,o,u){return R_(s,o,u)}function x_(s,o,u){return 40&s.type?Tr(s,u):null}let ba,bl,F_,Cp,R_=x_;function vw(s,o){R_=s,ba=o}function Ep(s,o,u,d){const h=ya(s,d,o),p=o[11],D=M_(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)yw(p,h,u[I],D,!1);else yw(p,h,u,D,!1);void 0!==ba&&ba(p,d,o,u,h)}function jd(s,o){if(null!==o){const u=o.type;if(3&u)return Tr(o,s);if(4&u)return Hd(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return jd(s,d);{const h=s[o.index];return ui(h)?Hd(-1,h):Gn(h)}}if(32&u)return ge(o,s)()||Gn(s[o.index]);{const d=bw(s,o);return null!==d?Array.isArray(d)?d[0]:jd(dt(s[16]),d):jd(s,o.next)}}return null}function bw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Hd(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return jd(d,h)}return o[7]}function wa(s,o,u){const d=va(s,o);d&&function xT(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function k_(s,o,u,d,h,p,y){for(;null!=u;){const D=d[u.index],I=u.type;if(y&&0===o&&(D&&gr(Gn(D),d),u.flags|=2),32!=(32&u.flags))if(8&I)k_(s,o,u.child,d,h,p,!1),Io(o,s,h,D,p);else if(32&I){const T=ge(u,d);let A;for(;A=T();)Io(o,s,h,A,p);Io(o,s,h,D,p)}else 16&I?P_(s,o,d,u,h,p):Io(o,s,h,D,p);u=y?u.projectionNext:u.next}}function vl(s,o,u,d,h,p){k_(u,d,s.firstChild,o,h,p,!1)}function P_(s,o,u,d,h,p){const y=u[16],I=y[6].projection[d.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Io(o,s,h,I[T],p);else k_(s,o,I,y[3],h,p,!0)}function Ip(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function Da(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&mu(s,o,d),null!==h&&Ip(s,o,h),null!==p&&function Zs(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function Ea(s){return function Tp(){if(void 0===bl&&(bl=null,Nt.trustedTypes))try{bl=Nt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bl}()?.createHTML(s)||s}function LT(s){F_=s}function Dw(){return void 0!==F_?F_:typeof document<"u"?document:void 0}function L_(){if(void 0===Cp&&(Cp=null,Nt.trustedTypes))try{Cp=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Cp}function Ew(s){return L_()?.createHTML(s)||s}function B_(s){return L_()?.createScriptURL(s)||s}class wl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class rx extends wl{getTypeName(){return"HTML"}}class BT extends wl{getTypeName(){return"Style"}}class ix extends wl{getTypeName(){return"Script"}}class VT extends wl{getTypeName(){return"URL"}}class Tw extends wl{getTypeName(){return"ResourceURL"}}function Ns(s){return s instanceof wl?s.changingThisBreaksApplicationSecurity:s}function Ia(s,o){const u=function Co(s){return s instanceof wl&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${st})`)}return u===o}function Lu(s){return new rx(s)}function Cw(s){return new BT(s)}function Sw(s){return new ix(s)}function UT(s){return new VT(s)}function Ta(s){return new Tw(s)}function V_(s){const o=new Sp(s);return function Aw(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch{return!1}}()?new $T(o):o}class $T{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Ea(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Sp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ea(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Ea(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const U_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zd(s){return(s=String(s)).match(U_)?s:"unsafe:"+s}function Os(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Dl(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const Nw=Os("area,br,col,hr,img,wbr"),Bu=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ow=Os("rp,rt"),Ap=Dl(Nw,Dl(Bu,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dl(Ow,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dl(Ow,Bu)),Np=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vu=Dl(Np,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Op=Os("script,style,template");class $_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Ap.hasOwnProperty(u))return this.sanitizedSomething=!0,!Op.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,D=y.toLowerCase();if(!Vu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let I=p.value;Np[D]&&(I=zd(I)),this.buf.push(" ",y,'="',Mp(I),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Ap.hasOwnProperty(u)&&!Nw.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Mp(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const GT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zT=/([^\#-~ |!])/g;function Mp(s){return s.replace(/&/g,"&amp;").replace(GT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(zT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wd;function WT(s,o){let u=null;try{Wd=Wd||V_(s);let d=o?String(o):"";u=Wd.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=Wd.getInertBodyElement(d)}while(d!==p);return Ea((new $_).sanitizeChildren(xw(u)||u))}finally{if(u){const d=xw(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function xw(s){return"content"in s&&function ax(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function xp(s){const o=Ca();return o?Ew(o.sanitize(ir.HTML,s)||""):Ia(s,"HTML")?Ew(Ns(s)):WT(Dw(),_e(s))}function j_(s){const o=Ca();return o?o.sanitize(ir.URL,s)||"":Ia(s,"URL")?Ns(s):zd(_e(s))}function Rw(s){const o=Ca();if(o)return B_(o.sanitize(ir.RESOURCE_URL,s)||"");if(Ia(s,"ResourceURL"))return B_(Ns(s));throw new ee(904,!1)}function Pw(s,o,u){return function qd(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Rw:j_}(o,u)(s)}function Ca(){const s=ue();return s&&s[12]}const G_=new ln("ENVIRONMENT_INITIALIZER"),Fw=new ln("INJECTOR",-1),El=new ln("INJECTOR_DEF_TYPES");class Uu{get(o,u=Qn){if(u===Qn){const d=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw d.name="NullInjectorError",d}return u}}function KT(...s){return{\u0275providers:$u(0,s),\u0275fromNgModule:!0}}function $u(s,...o){const u=[],d=new Set;let h;return bo(o,p=>{const y=p;z_(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&ju(h,u),u}function ju(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];W_(h,p=>{o.push(p)})}}function z_(s,o,u,d){if(!(s=q(s)))return!1;let h=null,p=si(s);const y=!p&&Qt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=si(I),!p)return!1;h=I}const D=d.has(h);if(y){if(D)return!1;if(d.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)z_(T,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let T;d.add(h);try{bo(p.imports,A=>{z_(A,o,u,d)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&ju(T,o)}if(!D){const T=lo(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:ze},{provide:El,useValue:h,multi:!0},{provide:G_,useValue:()=>Le(h),multi:!0})}const I=p.providers;null==I||D||W_(I,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}function W_(s,o){for(let u of s)Ne(u)&&(u=u.\u0275providers),Array.isArray(u)?W_(u,o):o(u)}const YT=ae({provide:String,useValue:ae});function q_(s){return null!==s&&"object"==typeof s&&YT in s}function Il(s){return"function"==typeof s}const Hu=new ln("Set Injector scope."),So={},QT={};let K_;function Rp(){return void 0===K_&&(K_=new Uu),K_}class Tl{}class Bw extends Tl{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zd(o,y=>this.processProvider(y)),this.records.set(Fw,Cl(void 0,this)),h.has("environment")&&this.records.set(Tl,Cl(void 0,this));const p=this.records.get(Hu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(El.multi,ze,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=oi(this),d=ur(void 0);try{return o()}finally{oi(u),ur(d)}}get(o,u=Qn,d=lt.Default){this.assertNotDestroyed(),d=wt(d);const h=oi(this),p=ur(void 0);try{if(!(d&lt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const I=function Uw(s){return"function"==typeof s||"object"==typeof s&&s instanceof ln}(o)&&$n(o);D=I&&this.injectableDefInScope(I)?Cl(Y_(o),So):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&lt.Self?Rp():this.parent).get(o,u=d&lt.Optional&&u===Qn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Ii]=y[Ii]||[]).unshift(pe(o)),h)throw y;return function B(s,o,u,d){const h=s[Ii];throw o[_s]&&h.unshift(o[_s]),s.message=function z(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let D=o[y];p.push(y+":"+("string"==typeof D?JSON.stringify(D):pe(D)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Pi,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Ii]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{ur(p),oi(h)}}resolveInjectorInitializers(){const o=oi(this),u=ur(void 0);try{const d=this.get(G_.multi,ze,lt.Self);for(const h of d)h()}finally{oi(o),ur(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(pe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(o){let u=Il(o=q(o))?o:q(o&&o.provide);const d=function eC(s){return q_(s)?Cl(void 0,s.useValue):Cl(Vw(s),So)}(o);if(Il(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Cl(void 0,So,!0),h.factory=()=>Ot(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===So&&(u.value=QT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function J_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Y_(s){const o=$n(s),u=null!==o?o.factory:lo(s);if(null!==u)return u;if(s instanceof ln)throw new ee(204,!1);if(s instanceof Function)return function XT(s){const o=s.length;if(o>0)throw ha(o,"?"),new ee(204,!1);const u=function Hr(s){const o=s&&(s[ki]||s[bn]);if(o){const u=function Ri(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ee(204,!1)}function Vw(s,o,u){let d;if(Il(s)){const h=q(s);return lo(h)||Y_(h)}if(q_(s))d=()=>q(s.useValue);else if(function JT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ot(s.deps||[]));else if(function Lw(s){return!(!s||!s.useExisting)}(s))d=()=>Le(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function tC(s){return!!s.deps}(s))return lo(h)||Y_(h);d=()=>new h(...Ot(s.deps))}return d}function Cl(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Zd(s,o){for(const u of s)Array.isArray(u)?Zd(u,o):u&&Ne(u)?Zd(u.\u0275providers,o):o(u)}class kp{}class $w{}class Pp{resolveComponentFactory(o){throw function nC(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Gu=(()=>{class s{}return s.NULL=new Pp,s})();function Hw(){return Ao(rr(),ue())}function Ao(s,o){return new Sa(Tr(s,o))}let Sa=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Hw,s})();function Gw(s){return s instanceof Sa?s.nativeElement:s}class zu{}let zw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function rC(){const s=ue(),u=Cr(rr().index,s);return(li(u)?u:s)[11]}(),s})(),iC=(()=>{class s{}return s.\u0275prov=nt({token:s,providedIn:"root",factory:()=>null}),s})();class Ww{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const qw=new Ww("15.1.3"),Q_={};function X_(s){return s.ngOriginalError}class Kd{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&X_(o);for(;u&&X_(u);)u=X_(u);return u||null}}function Aa(s){return s instanceof Function?s():s}function Xw(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const eD="ng-template";function tD(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==Xw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Lp(s){return 4===s.type&&s.value!==eD}function dC(s,o,u){return o===(4!==s.type||u?s.value:eD)}function nD(s,o,u){let d=4;const h=s.attrs||[],p=function Bp(s){for(let o=0;o<s.length;o++)if(Hs(s[o]))return o;return s.length}(h);let y=!1;for(let D=0;D<o.length;D++){const I=o[D];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!dC(s,I,u)||""===I&&1===o.length){if(Jr(d))return!1;y=!0}}else{const T=8&d?I:o[++D];if(8&d&&null!==s.attrs){if(!tD(s.attrs,T,u)){if(Jr(d))return!1;y=!0}continue}const R=ey(8&d?"class":I,h,Lp(s),u);if(-1===R){if(Jr(d))return!1;y=!0;continue}if(""!==T){let H;H=R>p?"":h[R+1].toLowerCase();const K=8&d?H:null;if(K&&-1!==Xw(K,T,0)||2&d&&T!==H){if(Jr(d))return!1;y=!0}}}}else{if(!y&&!Jr(d)&&!Jr(I))return!1;if(y&&Jr(I))continue;y=!1,d=I|1&d}}return Jr(d)||y}function Jr(s){return 0==(1&s)}function ey(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Vp(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function rD(s,o,u=!1){for(let d=0;d<o.length;d++)if(nD(s,o[d],u))return!0;return!1}function sD(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function ty(s,o){return s?":not("+o.trim()+")":o}function hC(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const D=s[++u];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Jr(y)&&(o+=ty(p,h),h=""),d=y,p=p||!Jr(d);u++}return""!==h&&(o+=ty(p,h)),o}const Vt={};function oD(s){Yd(Wt(),ue(),Kr()+s,!1)}function Yd(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&dd(o,p,u)}else{const p=s.preOrderHooks;null!==p&&fo(o,p,0,u)}Ds(u)}function Wu(s,o=null,u=null,d){const h=dD(s,o,u,d);return h.resolveInjectorInitializers(),h}function dD(s,o=null,u=null,d,h=new Set){const p=[u||ze,KT(s)];return d=d||("object"==typeof s?void 0:pe(s)),new Bw(p,o||Rp(),d||null,h)}let Al=(()=>{class s{static create(u,d){if(Array.isArray(u))return Wu({name:""},d,u,"");{const h=u.name??"";return Wu({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Qn,s.NULL=new Uu,s.\u0275prov=nt({token:s,providedIn:"any",factory:()=>Le(Fw)}),s.__NG_ELEMENT_ID__=-1,s})();function Yu(s,o=lt.Default){const u=ue();return null===u?Le(s,o):wu(rr(),u,q(s),o)}function vD(){throw new Error("invalid")}function bD(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const y=s.data[p];Wf(u[d]),y.contentQueries(2,o[p],p)}}}function sy(s,o,u,d,h,p,y,D,I,T,A){const R=o.blueprint.slice();return R[0]=h,R[2]=76|d,(null!==A||s&&1024&s[2])&&(R[2]|=1024),Vf(R),R[3]=R[15]=s,R[8]=u,R[10]=y||s&&s[10],R[11]=D||s&&s[11],R[12]=I||s&&s[12]||null,R[9]=T||s&&s[9]||null,R[6]=p,R[20]=function ns(){return kd++}(),R[21]=A,R[16]=2==o.type?s[16]:R,R}function Ju(s,o,u,d,h){let p=s.data[o];if(null===p)p=Na(s,o,u,d,h),function Gf(){return Pt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=ta();p.injectorIndex=null===y?-1:y.injectorIndex}return ts(p,!0),p}function Na(s,o,u,d,h){const p=c_(),y=hu(),I=s.data[o]=function W(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}function Xd(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Qu(s,o,u){qf(o);try{const d=s.viewQuery;null!==d&&fy(1,d,u);const h=s.template;null!==h&&oy(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bD(s,o),s.staticViewQueries&&fy(2,s.viewQuery,u);const p=s.components;null!==p&&function AC(s,o){for(let u=0;u<o.length;u++)hy(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,m_()}}function jp(s,o,u,d){const h=o[2];if(128!=(128&h)){qf(o);try{Vf(o),function na(s){return Pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&oy(s,o,u,2,d);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&dd(o,T,null)}else{const T=s.preOrderHooks;null!==T&&fo(o,T,0,null),ra(o,0)}if(function MD(s){for(let o=Nr(s);null!==o;o=Hi(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d];512&h[2]||sl(h[3],1),h[2]|=512}}}(o),function cy(s){for(let o=Nr(s);null!==o;o=Hi(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];co(d)&&jp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&bD(s,o),y){const T=s.contentCheckHooks;null!==T&&dd(o,T)}else{const T=s.contentHooks;null!==T&&fo(o,T,1),ra(o,1)}!function SC(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Ds(~h);else{const p=h,y=u[++d],D=u[++d];zf(y,p),D(2,o[p])}}}finally{Ds(-1)}}(s,o);const D=s.components;null!==D&&function wD(s,o){for(let u=0;u<o.length;u++)FC(s,o[u])}(o,D);const I=s.viewQuery;if(null!==I&&fy(2,I,d),y){const T=s.viewCheckHooks;null!==T&&dd(o,T)}else{const T=s.viewHooks;null!==T&&fo(o,T,2),ra(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,sl(o[3],-1))}finally{m_()}}}function oy(s,o,u,d,h){const p=Kr(),y=2&d;try{Ds(-1),y&&o.length>22&&Yd(s,o,22,!1),u(d,h)}finally{Ds(p)}}function eh(s,o,u){if(vs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}function Nl(s,o,u){Uf()&&(function RC(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;el(u)&&function ND(s,o,u){const d=Tr(o,s),h=th(u),p=s[10],y=Wp(s,sy(s,h,null,u.onPush?32:16,d,o,p,p.createRenderer(d,u),null,null,null));s[o.index]=y}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||go(u,o),gr(d,o);const y=u.initialInputs;for(let D=h;D<p;D++){const I=s.data[D],T=mo(o,s,D,u);gr(T,o),null!==y&&kC(0,D-h,T,I,0,y),Ir(I)&&(Cr(u.index,o)[8]=mo(o,s,D,u))}}(s,o,u,Tr(u,o)),64==(64&u.flags)&&TD(s,o,u))}function Hp(s,o,u=Tr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],D=-1===y?u(o,s):s[y];s[h++]=D}}}function th(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ay(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ay(s,o,u,d,h,p,y,D,I,T){const A=22+d,R=A+h,H=function Zt(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Vt);return u}(A,R),K="function"==typeof T?T():T;return H[1]={type:s,blueprint:H,template:u,queries:null,viewQuery:D,declTNode:o,data:H.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:K,incompleteFirstPass:!1}}function DD(s,o,u,d){const h=py(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&xD(s).push(d,h.length-1))}function gt(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?is(u,o,h,p):d.hasOwnProperty(h)&&is(u,o,d[h],p)}return u}function is(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Oi(s,o,u,d,h,p,y,D){const I=Tr(o,u);let A,T=o.inputs;!D&&null!=T&&(A=T[d])?(qp(s,u,A,d,h),el(o)&&Gp(u,o.index)):3&o.type&&(d=function Xu(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(I,d,h))}function Gp(s,o){const u=Cr(o,s);16&u[2]||(u[2]|=32)}function zp(s,o,u,d){let h=!1;if(Uf()){const p=null===d?null:{"":-1},y=function CD(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];if(rD(o,y.selectors,!1))if(d||(d=[]),Ir(y))if(null!==y.findHostDirectiveDefs){const D=[];h=h||new Map,y.findHostDirectiveDefs(y,D,h),d.unshift(...D,y),nh(s,o,D.length)}else d.unshift(y),nh(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let D,I;null===y?D=I=null:[D,I]=y,null!==D&&(h=!0,ID(s,o,u,D,p,I)),p&&function SD(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new ee(-301,!1);d.push(o[h],p)}}}(u,d,p)}return u.mergedAttrs=Is(u.mergedAttrs,u.attrs),h}function ID(s,o,u,d,h,p){for(let T=0;T<d.length;T++)yd(go(u,o),s,d[T].type);!function uy(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let T=0;T<d.length;T++){const A=d[T];A.providersResolver&&A.providersResolver(A)}let y=!1,D=!1,I=Xd(s,o,d.length,null);for(let T=0;T<d.length;T++){const A=d[T];u.mergedAttrs=Is(u.mergedAttrs,A.hostAttrs),AD(s,u,o,I,A),ly(I,A,h),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const R=A.type.prototype;!y&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!D&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),I++}!function Ms(s,o,u){const h=o.directiveEnd,p=s.data,y=o.attrs,D=[];let I=null,T=null;for(let A=o.directiveStart;A<h;A++){const R=p[A],H=u?u.get(R):null,le=H?H.outputs:null;I=gt(R.inputs,A,I,H?H.inputs:null),T=gt(R.outputs,A,T,le);const Fe=null===I||null===y||Lp(o)?null:PC(I,A,y);D.push(Fe)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=I,o.outputs=T}(s,u,p)}function TD(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,y=function Qb(){return Pt.lFrame.currentDirectiveIndex}();try{Ds(p);for(let D=d;D<h;D++){const I=s.data[D],T=o[D];$s(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&No(I,T)}}finally{Ds(-1),$s(y)}}function No(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function nh(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function ly(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;Ir(o)&&(u[""]=s)}}function AD(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=lo(h.type)),y=new gu(p,Ir(h),Yu);s.blueprint[d]=y,u[d]=y,function MC(s,o,u,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~o.index;(function xC(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=D&&y.push(D),y.push(u,d,p)}}(s,o,d,Xd(s,u,h.hostVars,Vt),h)}function rh(s,o,u,d,h,p,y){if(null==p)s.removeAttribute(o,h,u);else{const D=null==y?_e(p):y(p,d||"",h);s.setAttribute(o,h,D,u)}}function kC(s,o,u,d,h,p){const y=p[o];if(null!==y){const D=d.setInput;for(let I=0;I<y.length;){const T=y[I++],A=y[I++],R=y[I++];null!==D?d.setInput(u,R,T,A):u[A]=R}}}function PC(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let D=0;D<y.length;D+=2)if(y[D]===o){d.push(p,y[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function OD(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function FC(s,o){const u=Cr(o,s);if(co(u)){const d=u[1];48&u[2]?jp(d,u,d.template,u[8]):u[5]>0&&dy(u)}}function dy(s){for(let d=Nr(s);null!==d;d=Hi(d))for(let h=10;h<d.length;h++){const p=d[h];if(co(p))if(512&p[2]){const y=p[1];jp(y,p,y.template,p[8])}else p[5]>0&&dy(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Cr(u[d],s);co(h)&&h[5]>0&&dy(h)}}function hy(s,o){const u=Cr(o,s),d=u[1];(function LC(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Qu(d,u,u[8])}function Wp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Oa(s){for(;s;){s[2]|=32;const o=dt(s);if(Wb(s)&&!o)return s;s=o}return null}function Oo(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{jp(s,o,s.template,u)}catch(y){throw d&&gy(o,y),y}finally{h.end&&h.end()}}function fy(s,o,u){Wf(0),o(s,u)}function py(s){return s[7]||(s[7]=[])}function xD(s){return s.cleanup||(s.cleanup=[])}function gy(s,o){const u=s[9],d=u?u.get(Kd,null):null;d&&d.handleError(o)}function qp(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],D=u[p++],I=o[y],T=s.data[y];null!==T.setInput?T.setInput(I,h,d,D):I[D]=h}}function Mo(s,o,u){const d=ea(o,s);ma(s[11],d,u)}function Zp(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const D=o[y];"number"==typeof D?p=D:1==p?h=xe(h,D):2==p&&(d=xe(d,D+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function Ks(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(Gn(p)),ui(p))for(let D=10;D<p.length;D++){const I=p[D],T=I[1].firstChild;null!==T&&Ks(I[1],I,T,d)}const y=u.type;if(8&y)Ks(s,o,u.child,d);else if(32&y){const D=ge(u,o);let I;for(;I=D();)d.push(I)}else if(16&y){const D=bw(o,u);if(Array.isArray(D))d.push(...D);else{const I=dt(o[16]);Ks(I[1],I,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Ol{get rootNodes(){const o=this._lView,u=o[1];return Ks(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ui(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(O_(o,d),Ed(u,d))}this._attachedToViewContainer=!1}mw(this._lView[1],this._lView)}onDestroy(o){DD(this._lView[1],this._lView,null,o)}markForCheck(){Oa(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Oo(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vd(s,o){vl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=o}}class my extends Ol{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Oo(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ih extends Gu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Qt(o);return new xo(u,this.ngModule)}}function Kp(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class yy{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=wt(d);const h=this.injector.get(o,Q_,d);return h!==Q_||u===Q_?h:this.parentInjector.get(o,u,d)}}class xo extends $w{get inputs(){return Kp(this.componentDef.inputs)}get outputs(){return Kp(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function fC(s){return s.map(hC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof Tl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new yy(o,p):o,D=y.get(zu,null);if(null===D)throw new ee(407,!1);const I=y.get(iC,null),T=D.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=d?function NC(s,o,u){return s.selectRootElement(o,u===Ee.ShadowDom)}(T,d,this.componentDef.encapsulation):_a(T,A,function _y(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),H=this.componentDef.onPush?288:272,K=ay(0,null,null,1,0,null,null,null,null,null),le=sy(null,K,null,H,null,null,D,T,I,y,null);let Fe,Ke;qf(le);try{const je=this.componentDef;let It,me=null;je.findHostDirectiveDefs?(It=[],me=new Map,je.findHostDirectiveDefs(je,It,me),It.push(je)):It=[je];const ut=function by(s,o){const u=s[1];return s[22]=o,Ju(u,22,2,"#host",null)}(le,R),cn=function VC(s,o,u,d,h,p,y,D){const I=h[1];!function UC(s,o,u,d){for(const h of s)o.mergedAttrs=Is(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Zp(o,o.mergedAttrs,!0),null!==u&&Da(d,u,o))}(d,s,o,y);const T=p.createRenderer(o,u),A=sy(h,th(u),null,u.onPush?32:16,h[s.index],s,p,T,D||null,null,null);return I.firstCreatePass&&nh(I,s,d.length-1),Wp(h,A),h[s.index]=A}(ut,R,je,It,le,D,T);Ke=Bf(K,22),R&&function wy(s,o,u,d){if(d)mu(s,u,["ng-version",qw.full]);else{const{attrs:h,classes:p}=function pC(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!Jr(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&mu(s,u,h),p&&p.length>0&&Ip(s,u,p.join(" "))}}(T,je,R,d),void 0!==u&&function jC(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(Ke,this.ngContentSelectors,u),Fe=function $C(s,o,u,d,h,p){const y=rr(),D=h[1],I=Tr(y,h);ID(D,h,y,u,null,d);for(let A=0;A<u.length;A++)gr(mo(h,D,y.directiveStart+A,y),h);TD(D,h,y),I&&gr(I,h);const T=mo(h,D,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=T,null!==p)for(const A of p)A(T,o);return eh(D,y,s),T}(cn,je,It,me,le,[Dy]),Qu(K,le,null)}finally{m_()}return new vy(this.componentType,Fe,Ao(Ke,le),le,Ke)}}class vy extends kp{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new my(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;qp(p[1],p,h,o,u),Gp(p,this._tNode.index)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Dy(){const s=rr();al(ue()[1],s)}function Yp(s){let o=function Ey(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(Ir(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ee(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Iy(s.inputs),y.declaredInputs=Iy(s.declaredInputs),y.outputs=Iy(s.outputs);const D=h.hostBindings;D&&Cy(s,D);const I=h.viewQuery,T=h.contentQueries;if(I&&Ty(s,I),T&&GC(s,T),Ve(s.inputs,h.inputs),Ve(s.declaredInputs,h.declaredInputs),Ve(s.outputs,h.outputs),Ir(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const D=p[y];D&&D.ngInherit&&D(s),D===Yp&&(u=!1)}}o=Object.getPrototypeOf(o)}!function HC(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Is(h.hostAttrs,u=Is(u,h.hostAttrs))}}(d)}function Iy(s){return s===ct?{}:s===ze?[]:s}function Ty(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function GC(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function Cy(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Qp=null;function Ml(){if(!Qp){const s=Nt.Symbol;if(s&&s.iterator)Qp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Qp=d)}}}return Qp}function ec(s){return!!Oy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ml()in s)}function Oy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ys(s,o,u){return s[o]=u}function Qr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function tc(s,o,u,d){const h=Qr(s,o,u);return Qr(s,o+1,d)||h}function BD(s,o,u,d){const h=ue();return Qr(h,ho(),o)&&(Wt(),function ss(s,o,u,d,h,p){const y=Tr(s,o);rh(o[11],y,p,s.value,u,d,h)}(un(),h,s,o,u,d)),BD}function xa(s,o,u,d){return Qr(s,ho(),u)?o+_e(u)+d:Vt}function Rl(s,o,u,d,h,p){const D=tc(s,ci(),u,h);return Us(2),D?o+_e(u)+d+_e(h)+p:Vt}function zD(s,o,u,d,h,p,y,D){const I=ue(),T=Wt(),A=s+22,R=T.firstCreatePass?function Ix(s,o,u,d,h,p,y,D,I){const T=o.consts,A=Ju(o,s,4,y||null,ws(T,D));zp(o,u,A,ws(T,I)),al(o,A);const R=A.tViews=ay(2,A,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),R.queries=o.queries.embeddedTView(A)),A}(A,T,I,o,u,d,h,p,y):T.data[A];ts(R,!1);const H=I[11].createComment("");Ep(T,I,H,R),gr(H,I),Wp(I,I[A]=OD(H,I,H,R)),iu(R)&&Nl(T,I,R),null!=y&&Hp(I,R,D)}function WD(s){return uo(function Hf(){return Pt.lFrame.contextLView}(),22+s)}function Fy(s,o,u){const d=ue();return Qr(d,ho(),o)&&Oi(Wt(),un(),d,s,o,d[11],u,!1),Fy}function sh(s,o,u,d,h){const y=h?"class":"style";qp(s,u,o.inputs[y],y,d)}function Ly(s,o,u,d){const h=ue(),p=Wt(),y=22+s,D=h[11],I=h[y]=_a(D,o,function ow(){return Pt.lFrame.currentNamespace}()),T=p.firstCreatePass?function Tx(s,o,u,d,h,p,y){const D=o.consts,T=Ju(o,s,2,h,ws(D,p));return zp(o,u,T,ws(D,y)),null!==T.attrs&&Zp(T,T.attrs,!1),null!==T.mergedAttrs&&Zp(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,0,o,u,d):p.data[y];return ts(T,!0),Da(D,I,T),32!=(32&T.flags)&&Ep(p,h,I,T),0===function ud(){return Pt.lFrame.elementDepthCount}()&&gr(I,h),function o_(){Pt.lFrame.elementDepthCount++}(),iu(T)&&(Nl(p,h,T),eh(p,T,h)),null!==d&&Hp(h,T),Ly}function By(){let s=rr();hu()?jf():(s=s.parent,ts(s,!1));const o=s;!function cd(){Pt.lFrame.elementDepthCount--}();const u=Wt();return u.firstCreatePass&&(al(u,s),vs(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function y_(s){return 0!=(8&s.flags)}(o)&&sh(u,o,ue(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function js(s){return 0!=(16&s.flags)}(o)&&sh(u,o,ue(),o.stylesWithoutHost,!1),By}function qD(s,o,u,d){return Ly(s,o,u,d),By(),qD}function Vy(s,o,u){const d=ue(),h=Wt(),p=s+22,y=h.firstCreatePass?function Xp(s,o,u,d,h){const p=o.consts,y=ws(p,d),D=Ju(o,s,8,"ng-container",y);return null!==y&&Zp(D,y,!0),zp(o,u,D,ws(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,d,o,u):h.data[p];ts(y,!0);const D=d[p]=d[11].createComment("");return Ep(h,d,D,y),gr(D,d),iu(y)&&(Nl(h,d,y),eh(h,y,d)),null!=u&&Hp(d,y),Vy}function eg(){let s=rr();const o=Wt();return hu()?jf():(s=s.parent,ts(s,!1)),o.firstCreatePass&&(al(o,s),vs(s)&&o.queries.elementEnd(s)),eg}function KD(){return ue()}function Uy(s){return!!s&&"function"==typeof s.then}function YD(s){return!!s&&"function"==typeof s.subscribe}const JD=YD;function $y(s,o,u,d){const h=ue(),p=Wt(),y=rr();return function XD(s,o,u,d,h,p,y){const D=iu(d),T=s.firstCreatePass&&xD(s),A=o[8],R=py(o);let H=!0;if(3&d.type||y){const Fe=Tr(d,o),Ke=y?y(Fe):Fe,je=R.length,It=y?ut=>y(Gn(ut[d.index])):d.index;let me=null;if(!y&&D&&(me=function qC(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const D=o[7],I=h[p+2];return D.length>I?D[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=p,me.__ngLastListenerFn__=p,H=!1;else{p=ka(d,o,A,p,!1);const ut=u.listen(Ke,h,p);R.push(p,ut),T&&T.push(h,It,je,je+1)}}else p=ka(d,o,A,p,!1);const K=d.outputs;let le;if(H&&null!==K&&(le=K[h])){const Fe=le.length;if(Fe)for(let Ke=0;Ke<Fe;Ke+=2){const cn=o[le[Ke]][le[Ke+1]].subscribe(p),xn=R.length;R.push(p,cn),T&&T.push(h,d.index,xn,-(xn+1))}}}(p,h,h[11],y,s,o,d),$y}function oh(s,o,u,d){try{return!1!==u(d)}catch(h){return gy(s,h),!1}}function ka(s,o,u,d,h){return function p(y){if(y===Function)return d;Oa(s.componentOffset>-1?Cr(s.index,o):o);let I=oh(o,0,d,y),T=p.__ngNextListenerFn__;for(;T;)I=oh(o,0,T,y)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function eE(s=1){return function nw(s){return(Pt.lFrame.contextLView=function AT(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function ZC(s,o){let u=null;const d=function iD(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?rD(s,p,!0):sD(d,p))return h}else u=h}return u}function tE(s){const o=ue()[16][6];if(!o.projection){const d=o.projection=ha(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?ZC(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function nE(s,o=0,u){const d=ue(),h=Wt(),p=Ju(h,22+s,16,null,u||null);null===p.projection&&(p.projection=o),jf(),32!=(32&p.flags)&&function RT(s,o,u){P_(o[11],0,o,u,ya(s,u,o),M_(u.parent||o[6],u,o))}(h,d,p)}function jy(s,o,u){return tg(s,"",o,"",u),jy}function tg(s,o,u,d,h){const p=ue(),y=xa(p,o,u,d);return y!==Vt&&Oi(Wt(),un(),p,s,y,p[11],h,!1),tg}function ah(s,o){return s<<17|o<<2}function Pa(s){return s>>17&32767}function aE(s){return 2|s}function os(s){return(131068&s)>>2}function Rs(s,o){return-131069&s|o<<2}function lh(s){return 1|s}function lE(s,o,u,d,h){const p=s[u+1],y=null===o;let D=d?Pa(p):os(p),I=!1;for(;0!==D&&(!1===I||y);){const A=s[D+1];tS(s[D],o)&&(I=!0,s[D+1]=d?lh(A):aE(A)),D=d?Pa(A):os(A)}I&&(s[u+1]=d?aE(p):lh(p))}function tS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&qt(s,o)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fa(s){return s.substring(mr.key,mr.keyEnd)}function qy(s,o){const u=mr.textEnd;return u===o?-1:(o=mr.keyEnd=function Ky(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,mr.key=o,u),lc(s,o,u))}function lc(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function Jy(s,o,u){return zi(s,o,u,!1),Jy}function uh(s,o){return zi(s,o,null,!0),uh}function og(s){ls(Sr,as,s,!0)}function as(s,o){for(let u=function Wy(s){return function sg(s){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=s.length}(s),qy(s,lc(s,0,mr.textEnd))}(o);u>=0;u=qy(o,u))Sr(s,Fa(o),!0)}function zi(s,o,u,d){const h=ue(),p=Wt(),y=Us(2);p.firstUpdatePass&&fE(p,s,y,d),o!==Vt&&Qr(h,y,o)&&mE(p,p.data[Kr()],h,h[11],s,h[y+1]=function rS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(Ns(s)))),s}(o,u),d,y)}function ls(s,o,u,d){const h=Wt(),p=Us(2);h.firstUpdatePass&&fE(h,null,p,d);const y=ue();if(u!==Vt&&Qr(y,p,u)){const D=h.data[Kr()];if(_E(D,d)&&!hE(h,p)){let I=d?D.classesWithoutHost:D.stylesWithoutHost;null!==I&&(u=xe(I,u||"")),sh(h,D,y,u,d)}else!function nv(s,o,u,d,h,p,y,D){h===Vt&&(h=ze);let I=0,T=0,A=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==A||null!==R;){const H=I<h.length?h[I+1]:void 0,K=T<p.length?p[T+1]:void 0;let Fe,le=null;A===R?(I+=2,T+=2,H!==K&&(le=R,Fe=K)):null===R||null!==A&&A<R?(I+=2,le=A):(T+=2,le=R,Fe=K),null!==le&&mE(s,o,u,d,le,Fe,y,D),A=I<h.length?h[I]:null,R=T<p.length?p[T]:null}}(h,D,y,y[11],y[p+1],y[p+1]=function tv(s,o,u){if(null==u||""===u)return ze;const d=[],h=Ns(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,p)}}function hE(s,o){return o>=s.expandoStartIndex}function fE(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Kr()],y=hE(s,u);_E(p,d)&&null===o&&!y&&(o=!1),o=function Xy(s,o,u,d){const h=function ol(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=uc(u=ch(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=ch(h,s,o,u,d),null===p){let I=function pE(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==os(d))return s[Pa(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=ch(null,s,o,I[1],d),I=uc(I,o.attrs,d),function ev(s,o,u,d){s[Pa(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function nS(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=uc(d,s[p].hostAttrs,u);return uc(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function eS(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,D=Pa(y),I=os(y);s[d]=u;let A,T=!1;if(Array.isArray(u)?(A=u[1],(null===A||qt(u,A)>0)&&(T=!0)):A=u,h)if(0!==I){const H=Pa(s[D+1]);s[d+1]=ah(H,D),0!==H&&(s[H+1]=Rs(s[H+1],d)),s[D+1]=function JC(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=ah(D,0),0!==D&&(s[D+1]=Rs(s[D+1],d)),D=d;else s[d+1]=ah(I,0),0===D?D=d:s[I+1]=Rs(s[I+1],d),I=d;T&&(s[d+1]=aE(s[d+1])),lE(s,A,d,!0),lE(s,A,d,!1),function Gy(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&qt(p,o)>=0&&(u[d+1]=lh(u[d+1]))}(o,A,s,d,p),y=ah(D,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}function ch(s,o,u,d,h){let p=null;const y=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<y&&(p=o[D],d=uc(d,p.hostAttrs,h),p!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function uc(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Sr(s,y,!!u||o[++p]))}return void 0===s?null:s}function mE(s,o,u,d,h,p,y,D){if(!(3&o.type))return;const I=s.data,T=I[D+1],A=function QC(s){return 1==(1&s)}(T)?rv(I,o,u,h,os(T),y):void 0;ag(A)||(ag(p)||function YC(s){return 2==(2&s)}(T)&&(p=rv(I,null,u,h,D,y)),function Gd(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:Ni.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ni.Important),s.setStyle(u,d,h,p))}}(d,y,ea(Kr(),u),h,p))}function rv(s,o,u,d,h,p){const y=null===o;let D;for(;h>0;){const I=s[h],T=Array.isArray(I),A=T?I[1]:I,R=null===A;let H=u[h+1];H===Vt&&(H=R?ze:void 0);let K=R?lp(H,d):A===d?H:void 0;if(T&&!ag(K)&&(K=lp(I,d)),ag(K)&&(D=K,y))return D;const le=s[h+1];h=y?Pa(le):os(le)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(D=lp(I,d))}return D}function ag(s){return void 0!==s}function _E(s,o){return 0!=(s.flags&(o?8:16))}function yE(s,o=""){const u=ue(),d=Wt(),h=s+22,p=d.firstCreatePass?Ju(d,h,1,o,null):d.data[h],y=u[h]=To(u[11],o);Ep(d,u,y,p),ts(p,!1)}function lg(s){return ug("",s,""),lg}function ug(s,o,u){const d=ue(),h=xa(d,s,o,u);return h!==Vt&&Mo(d,Kr(),h),ug}function dh(s,o,u,d,h){const p=ue(),y=Rl(p,s,o,u,d,h);return y!==Vt&&Mo(p,Kr(),y),dh}function fg(s,o,u,d,h){ls(Sr,as,Rl(ue(),s,o,u,d,h),!0)}function gg(s,o,u){const d=ue();return Qr(d,ho(),o)&&Oi(Wt(),un(),d,s,o,d[11],u,!0),gg}const La=void 0;var mS=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gS(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let cc={};function uv(s){const o=function Wi(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=RE(o);if(u)return u;const d=o.split("-")[0];if(u=RE(d),u)return u;if("en"===d)return mS;throw new ee(701,!1)}function xE(s){return uv(s)[Et.PluralCase]}function RE(s){return s in cc||(cc[s]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[s]),cc[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const _S=["zero","one","two","few","many"],dc="en-US",mg={marker:"element"},_g={marker:"ICU"};var Nn=(()=>((Nn=Nn||{})[Nn.SHIFT=2]="SHIFT",Nn[Nn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Nn[Nn.COMMENT=2]="COMMENT",Nn))();let yg=dc;function cv(s){(function Xe(s,o){null==s&&Qe(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(yg=s.toLowerCase().replace(/_/g,"-"))}function PE(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?x_(s,0,u):Gn(u[h])}function FE(s,o,u,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,D=null;if(3&o.type||(D=y,y=h),null!==y&&-1===o.componentOffset)for(let I=1;I<p.length;I++)Pu(s,y,u[p[I]],D,!1)}}function LE(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];vg(d)||vS(d,o)&&null===hv(d)&&bS(d,o.index)}}function vg(s){return!(64&s.type)}function vS(s,o){return vg(o)||s.index>o.index}function hv(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function bS(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(vw(PE,FE),s.insertBeforeIndex=o)}function Pl(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function DS(s,o,u){const d=Na(s,u,64,null,null);return LE(o,d),d}function hc(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function BE(s){return s>>>17}function bg(s){return(131070&s)>>>1}let fc=0,fh=0;function UE(s,o,u,d){const h=u[11];let y,p=null;for(let D=0;D<o.length;D++){const I=o[D];if("string"==typeof I){const T=o[++D];null===u[T]&&(u[T]=To(h,I))}else if("number"==typeof I)switch(1&I){case 0:const T=BE(I);let A,R;if(null===p&&(p=T,y=va(h,d)),T===p?(A=d,R=y):(A=null,R=Gn(u[T])),null!==R){const Fe=bg(I);Pu(h,R,u[Fe],A,!1);const je=Pl(s,Fe);if(null!==je&&"object"==typeof je){const It=hc(je,u);null!==It&&UE(s,je.create[It],u,u[je.anchorIdx])}}break;case 1:const K=o[++D],le=o[++D];rh(h,ea(I>>>1,u),null,null,K,le,null)}else switch(I){case _g:const T=o[++D],A=o[++D];null===u[A]&&gr(u[A]=Bd(h,T),u);break;case mg:const R=o[++D],H=o[++D];null===u[H]&&gr(u[H]=_a(h,R,null),u)}}}function Js(s,o,u,d,h){for(let p=0;p<u.length;p++){const y=u[p],D=u[++p];if(y&h){let I="";for(let T=p+1;T<=p+D;T++){const A=u[T];if("string"==typeof A)I+=A;else if("number"==typeof A)if(A<0)I+=_e(o[d-A]);else{const R=A>>>2;switch(3&A){case 1:const H=u[++T],K=u[++T],le=s.data[R];"string"==typeof le?rh(o[11],o[R],null,le,H,I,K):Oi(s,le,o,H,I,o[11],K,!1);break;case 0:const Fe=o[R];null!==Fe&&ma(o[11],Fe,I);break;case 2:$E(s,Pl(s,R),o,I);break;case 3:mv(s,Pl(s,R),d,o)}}}}else{const I=u[p+1];if(I>0&&3==(3&I)){const A=Pl(s,I>>>2);o[A.currentCaseLViewIndex]<0&&mv(s,A,d,o)}}p+=D}}function mv(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=fc;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),Js(s,d,o.update[h],u,p)}}function $E(s,o,u,d){const h=function jE(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function yS(s,o){const u=xE(o)(parseInt(s,10)),d=_S[u];return void 0!==d?d:"other"}(o,function dv(){return yg}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(hc(o,u)!==h&&(ph(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[o.anchorIdx];y&&UE(s,o.create[h],u,y)}}function ph(s,o,u){let d=hc(o,u);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const D=ea(y,u);null!==D&&wa(u[11],D)}else ph(s,Pl(s,~y),u)}}}function HE(){const s=[];let u,d,o=-1;function p(D,I){o=0;const T=hc(D,I);d=null!==T?D.remove[T]:ze}function y(){if(o<d.length){const D=d[o++];return D>0?u[D]:(s.push(o,d),p(u[1].data[~D],u),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(D,I){for(u=I;s.length;)s.pop();return p(D.value,I),y}}const _v=/\ufffd(\d+):?\d*\ufffd/gi,TS=/\ufffd(\d+)\ufffd/,Dg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Mx=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Rx=/\uE500/g;function yv(s,o,u,d,h,p,y){const D=Xd(s,d,1,null);let I=D<<Nn.SHIFT,T=ta();o===T&&(T=null),null===T&&(I|=Nn.APPEND_EAGERLY),y&&(I|=Nn.COMMENT,function Je(s){void 0===Z&&(Z=s())}(HE)),h.push(I,null===p?"":p);const A=Na(s,D,y?32:1,null===p?"":p,null);LE(u,A);const R=A.index;return ts(A,!1),null!==T&&o!==T&&function fv(s,o){let u=s.insertBeforeIndex;null===u?(vw(PE,FE),u=s.insertBeforeIndex=[null,o]):(function Oe(s,o,u){s!=o&&Qe(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(T,R),A}function WE(s,o,u,d,h,p,y){const D=y.match(_v),I=yv(s,o,u,p,d,D?null:y,!1);D&&gh(h,y,I.index,null,0,null)}function gh(s,o,u,d,h,p){const y=s.length,D=y+1;s.push(null,null);const I=y+2,T=o.split(_v);let A=0;for(let R=0;R<T.length;R++){const H=T[R];if(1&R){const K=h+parseInt(H,10);s.push(-1-K),A|=qE(K)}else""!==H&&s.push(H)}return s.push(u<<2|(d?1:0)),d&&s.push(d,p),s[y]=A,s[D]=s.length-I,A}function qE(s){return 1<<Math.min(s,31)}function pc(s){let o,p,u="",d=0,h=!1;for(;null!==(o=Mx.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return u+=s.slice(d),u}function mh(s,o,u,d,h,p){let y=0;const D={type:h.type,currentCaseLViewIndex:Xd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Dv(s,o,u){s.push(qE(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,p),function wS(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,p,D);const I=h.values;for(let T=0;T<I.length;T++){const A=I[T],R=[];for(let H=0;H<A.length;H++){const K=A[H];if("string"!=typeof K){const le=R.push(K)-1;A[H]=`\x3c!--\ufffd${le}\ufffd--\x3e`}}y=bv(s,D,o,u,d,h.cases[T],A.join(""),R)|y}y&&function Bx(s,o,u){s.push(o,1,u<<2|3)}(u,y,p)}function vv(s){const o=[],u=[];let d=1,h=0;const p=_h(s=s.replace(Dg,function(y,D,I){return d="select"===I?0:1,h=parseInt(D.slice(1),10),""}));for(let y=0;y<p.length;){let D=p[y++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const I=_h(p[y++]);o.length>u.length&&u.push(I)}return{type:d,mainBinding:h,cases:o,values:u}}function _h(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const I=s.substring(o,D);Dg.test(I)?d.push(vv(I)):d.push(I),o=D+1}}else{if(0==u.length){const I=s.substring(o,D);d.push(I),o=D+1}u.push("{")}}const y=s.substring(o);return d.push(y),d}function bv(s,o,u,d,h,p,y,D){const I=[],T=[],A=[];o.cases.push(p),o.create.push(I),o.remove.push(T),o.update.push(A);const H=V_(Dw()).getInertBodyElement(y),K=xw(H)||H;return K?Ig(s,o,u,d,I,T,A,K,h,D,0):0}function Ig(s,o,u,d,h,p,y,D,I,T,A){let R=0,H=D.firstChild;for(;H;){const K=Xd(s,u,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const le=H,Fe=le.tagName.toLowerCase();if(Ap.hasOwnProperty(Fe)){ZE(h,mg,Fe,I,K),s.data[K]=Fe;const me=le.attributes;for(let ut=0;ut<me.length;ut++){const cn=me.item(ut),xn=cn.name.toLowerCase();cn.value.match(_v)?Vu.hasOwnProperty(xn)&&gh(y,cn.value,K,cn.name,0,Np[xn]?zd:null):Vx(h,K,cn)}R=Ig(s,o,u,d,h,p,y,H,K,T,A+1)|R,Tg(p,K,A)}break;case Node.TEXT_NODE:const Ke=H.textContent||"",je=Ke.match(_v);ZE(h,null,je?"":Ke,I,K),Tg(p,K,A),je&&(R=gh(y,Ke,K,null,0,null)|R);break;case Node.COMMENT_NODE:const It=TS.exec(H.textContent||"");if(It){const ut=T[parseInt(It[1],10)];ZE(h,_g,"",I,K),mh(s,u,d,I,ut,K),wv(p,K,A)}}H=H.nextSibling}return R}function Tg(s,o,u){0===u&&s.push(o)}function wv(s,o,u){0===u&&(s.push(~o),s.push(o))}function ZE(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function VE(s,o,u){return s|o<<17|u<<1}(0,d,h))}function Vx(s,o,u){s.push(o<<1|1,u.name,u.value)}function OS(s,o,u=-1){const d=Wt(),h=ue(),p=22+s,y=ws(d.consts,o),D=ta();d.firstCreatePass&&function Fx(s,o,u,d,h,p){const y=ta(),D=[],I=[],T=[[]];h=function gc(s,o){if(function Lx(s){return-1===s}(o))return pc(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return pc(s.substring(u,d))}}(h,p);const A=function kx(s){return s.replace(Rx," ")}(h).split(xx);for(let R=0;R<A.length;R++){let H=A[R];if(1&R){const K=47===H.charCodeAt(0),Fe=(H.charCodeAt(K?1:0),22+Number.parseInt(H.substring(K?2:1)));if(K)T.shift(),ts(ta(),!1);else{const Ke=DS(s,T[0],Fe);T.unshift([]),ts(Ke,!0)}}else{const K=_h(H);for(let le=0;le<K.length;le++){let Fe=K[le];if(1&le){const Ke=Fe;if("object"!=typeof Ke)throw new Error(`Unable to parse ICU expression in "${h}" message.`);mh(s,u,I,o,Ke,yv(s,y,T[0],u,D,"",!0).index)}else""!==Fe&&WE(s,y,T[0],D,I,u,Fe)}}}s.data[d]={create:D,update:I}}(d,null===D?0:D.index,h,p,y,u);const I=d.data[p],A=wp(d,D===h[6]?null:D,h);(function gv(s,o,u,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],D=o[p],T=(y&Nn.APPEND_EAGERLY)===Nn.APPEND_EAGERLY,A=y>>>Nn.SHIFT;let R=s[A];null===R&&(R=s[A]=(y&Nn.COMMENT)===Nn.COMMENT?h.createComment(D):To(h,D)),T&&null!==u&&Pu(h,u,R,d,!1)}})(h,I.create,A,D&&8&D.type?h[D.index]:null),pu(!0)}function Mi(s,o,u){OS(s,o,u),function MS(){pu(!1)}()}function Iv(s){return function pv(s){s&&(fc|=1<<Math.min(fh,31)),fh++}(Qr(ue(),ho(),s)),Iv}function Tv(s){!function ES(s,o,u){if(fh>0){const d=s.data[u];Js(s,o,Array.isArray(d)?d:d.update,ci()-fh-1,fc)}fc=0,fh=0}(Wt(),ue(),s+22)}function Sv(s,o,u,d,h){if(s=q(s),Array.isArray(s))for(let p=0;p<s.length;p++)Sv(s[p],o,u,d,h);else{const p=Wt(),y=ue();let D=Il(s)?s:q(s.provide),I=Vw(s);const T=rr(),A=1048575&T.providerIndexes,R=T.directiveStart,H=T.providerIndexes>>20;if(Il(s)||!s.multi){const K=new gu(I,h,Yu),le=Av(D,o,h?A:A+H,R);-1===le?(yd(go(T,y),p,D),qi(p,s,o.length),o.push(D),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(K),y.push(K)):(u[le]=K,y[le]=K)}else{const K=Av(D,o,A+H,R),le=Av(D,o,A,A+H),Ke=le>=0&&u[le];if(h&&!Ke||!h&&!(K>=0&&u[K])){yd(go(T,y),p,D);const je=function Nv(s,o,u,d,h){const p=new gu(s,u,Yu);return p.multi=[],p.index=o,p.componentProviders=0,RS(p,h,d&&!u),p}(h?Ro:kS,u.length,h,d,I);!h&&Ke&&(u[le].providerFactory=je),qi(p,s,o.length,0),o.push(D),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(je),y.push(je)}else qi(p,s,K>-1?K:le,RS(u[h?le:K],I,!h&&d));!h&&d&&Ke&&u[le].componentProviders++}}}function qi(s,o,u,d){const h=Il(o),p=function Z_(s){return!!s.useClass}(o);if(h||p){const I=(p?q(o.useClass):o).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=T.indexOf(u);-1===A?T.push(u,[d,I]):T[A+1].push(d,I)}else T.push(u,I)}}}function RS(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Av(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function kS(s,o,u,d){return ft(this.multi,[])}function Ro(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=mo(u,u[1],this.providerFactory.index,d);p=D.slice(0,y),ft(h,p);for(let I=y;I<D.length;I++)p.push(D[I])}else p=[],ft(h,p);return p}function ft(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Ft(s,o=[]){return u=>{u.providersResolver=(d,h)=>function yh(s,o,u){const d=Wt();if(d.firstCreatePass){const h=Ir(s);Sv(u,d.data,d.blueprint,h,!0),Sv(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class ko{}class vh{}function bh(s,o){return new Ag(s,o??null)}class Ag extends ko{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ih(this);const d=Gr(o);this._bootstrapComponents=Aa(d.bootstrap),this._r3Injector=dD(o,u,[{provide:ko,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ov extends vh{constructor(o){super(),this.moduleType=o}create(o){return new Ag(this.moduleType,o)}}class PS extends ko{constructor(o,u,d){super(),this.componentFactoryResolver=new ih(this),this.instance=null;const h=new Bw([...o,{provide:ko,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],u||Rp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Mv(s,o,u=null){return new PS(s,o,u).injector}let Xr=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=$u(0,u.type),h=d.length>0?Mv([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=nt({token:s,providedIn:"environment",factory:()=>new s(Le(Tl))}),s})();function wh(s){s.getStandaloneInjector=o=>o.get(Xr).getOrCreateStandaloneInjector(s)}function Pv(s,o,u){const d=Fr()+s,h=ue();return h[d]===Vt?Ys(h,d,u?o.call(u):o()):function xl(s,o){return s[o]}(h,d)}function Mg(s,o,u,d){return Rg(ue(),Fr(),s,o,u,d)}function Fv(s,o,u,d,h){return Uv(ue(),Fr(),s,o,u,d,h)}function XE(s,o,u,d,h,p){return t1(ue(),Fr(),s,o,u,d,h,p)}function Eh(s,o){const u=s[o];return u===Vt?void 0:u}function Rg(s,o,u,d,h,p){const y=o+u;return Qr(s,y,h)?Ys(s,y+1,p?d.call(p,h):d(h)):Eh(s,y+1)}function Uv(s,o,u,d,h,p,y){const D=o+u;return tc(s,D,h,p)?Ys(s,D+2,y?d.call(y,h,p):d(h,p)):Eh(s,D+2)}function t1(s,o,u,d,h,p,y,D){const I=o+u;return function nc(s,o,u,d,h){const p=tc(s,o,u,d);return Qr(s,o+2,h)||p}(s,I,h,p,y)?Ys(s,I+3,D?d.call(D,h,p,y):d(h,p,y)):Eh(s,I+3)}function vc(s,o){const u=Wt();let d;const h=s+22;u.firstCreatePass?(d=function VS(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=lo(d.type)),y=ur(Yu);try{const D=Gs(!1),I=p();return Gs(D),function Py(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,ue(),h,I),I}finally{ur(y)}}function Ih(s,o,u){const d=s+22,h=ue(),p=uo(h,d);return Va(h,d)?Rg(h,Fr(),o,p.transform,u,p):p.transform(u)}function kg(s,o,u,d){const h=s+22,p=ue(),y=uo(p,h);return Va(p,h)?Uv(p,Fr(),o,y.transform,u,d,y):y.transform(u,d)}function $v(s,o,u,d,h){const p=s+22,y=ue(),D=uo(y,p);return Va(y,p)?t1(y,Fr(),o,D.transform,u,d,h,D):D.transform(u,d,h)}function Va(s,o){return s[1].data[o].pure}function Th(s){return o=>{setTimeout(s,void 0,o)}}const us=class jv extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),y=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=Th(p),h&&(h=Th(h)),y&&(y=Th(y)));const D=super.subscribe({next:h,error:p,complete:y});return o instanceof V.w0&&o.add(D),D}};function Hv(){return this._results[Ml()]()}class Pg{get changes(){return this._changes||(this._changes=new us)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ml(),d=Pg.prototype;d[u]||(d[u]=Hv)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function Yr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function hw(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bc=(()=>{class s{}return s.__NG_ELEMENT_ID__=a1,s})();const US=bc,o1=class extends US{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=sy(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Qu(d,h,o),new Ol(h)}};function a1(){return wc(rr(),ue())}function wc(s,o){return 4&s.type?new o1(o,s,Ao(s,o)):null}let Ch=(()=>{class s{}return s.__NG_ELEMENT_ID__=$S,s})();function $S(){return Mr(rr(),ue())}const Gv=Ch,Fg=class extends Gv{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Ao(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const o=_d(this._hostTNode,this._hostLView);if(gd(o)){const u=po(o,this._hostLView),d=sa(o);return new _o(u[1].data[d+8],u)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Lg(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(u||{},p);return this.insert(y,h),y}createComponent(o,u,d,h,p){const y=o&&!function Iu(s){return"function"==typeof s}(o);let D;if(y)D=u;else{const R=u||{};D=R.index,d=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const I=y?o:new xo(Qt(o)),T=d||this.parentInjector;if(!p&&null==I.ngModule){const H=(y?T:this.parentInjector).get(Tl,null);H&&(p=H)}const A=I.create(T,h,void 0,p);return this.insert(A.hostView,D),A}insert(o,u){const d=o._lView,h=d[1];if(function s_(s){return ui(s[3])}(d)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const R=d[3],H=new Fg(R,R[6],R[3]);H.detach(H.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function N_(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],I_(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function Ud(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,y,p);const D=Hd(p,y),I=d[11],T=va(I,y[7]);return null!==T&&function yp(s,o,u,d,h,p){d[0]=h,d[6]=o,vl(s,d,u,1,h,p)}(h,y[6],I,d,T,D),o.attachToViewContainerRef(),I_(sr(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Lg(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=O_(this._lContainer,u);d&&(Ed(sr(this._lContainer),u),mw(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=O_(this._lContainer,u);return d&&null!=Ed(sr(this._lContainer),u)?new Ol(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function Lg(s){return s[8]}function sr(s){return s[8]||(s[8]=[])}function Mr(s,o){let u;const d=o[s.index];if(ui(d))u=d;else{let h;if(8&s.type)h=Gn(d);else{const p=o[11];h=p.createComment("");const y=Tr(s,o);Pu(p,va(p,y),h,function Fu(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=u=OD(d,o,h,s),Wp(o,u)}return new Fg(u,s,o)}class Dc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Dc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Sh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Yv(o,u).matches&&this.queries[u].setDirty()}}class l1{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class zv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new zv(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Bg{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Bg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,jS(u,p)),this.matchTNodeWithReadOption(o,u,aa(u,o,p,!1,!1))}else d===bc?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,aa(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Sa||h===Ch||h===bc&&4&u.type)this.addMatch(u.index,-2);else{const p=aa(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function jS(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function u1(s,o,u,d){return-1===u?function HS(s,o){return 11&s.type?Ao(s,o):4&s.type?wc(s,o):null}(o,s):-2===u?function Wv(s,o,u){return u===Sa?Ao(o,s):u===bc?wc(o,s):u===Ch?Mr(o,s):void 0}(s,o,d):mo(s,s[1],u,o)}function c1(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=u.matches,D=[];for(let I=0;I<y.length;I+=2){const T=y[I];D.push(T<0?null:u1(o,p[T],y[I+1],u.metadata.read))}h.matches=D}return h.matches}function Ah(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=c1(s,o,h,u);for(let D=0;D<p.length;D+=2){const I=p[D];if(I>0)d.push(y[D/2]);else{const T=p[D+1],A=o[-I];for(let R=10;R<A.length;R++){const H=A[R];H[17]===H[3]&&Ah(H[1],H,T,d)}if(null!==A[9]){const R=A[9];for(let H=0;H<R.length;H++){const K=R[H];Ah(K[1],K,T,d)}}}}}return d}function qv(s){const o=ue(),u=Wt(),d=h_();Wf(d+1);const h=Yv(u,d);if(s.dirty&&function ld(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ah(u,o,d,[]):c1(u,o,h,d);s.reset(p,Gw),s.notifyOnChanges()}return!0}return!1}function d1(s,o,u){const d=Wt();d.firstCreatePass&&(h1(d,new l1(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),Kv(d,ue(),o)}function Nh(s,o,u,d){const h=Wt();if(h.firstCreatePass){const p=rr();h1(h,new l1(o,u,d),p.index),function Oh(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}Kv(h,ue(),u)}function Vg(){return function Zv(s,o){return s[19].queries[o].queryList}(ue(),h_())}function Kv(s,o,u){const d=new Pg(4==(4&u));DD(s,o,d,d.destroy),null===o[19]&&(o[19]=new Sh),o[19].queries.push(new Dc(d))}function h1(s,o,u){null===s.queries&&(s.queries=new zv),s.queries.track(new Bg(o,u))}function Yv(s,o){return s.queries.getByIndex(o)}function Jv(s,o){return wc(s,o)}function Jg(...s){}const Sc=new ln("Application Initializer");let Ps=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Jg,this.reject=Jg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Uy(p))u.push(p);else if(JD(p)){const y=new Promise((D,I)=>{p.subscribe({complete:D,error:I})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Le(Sc,8))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const c0=new ln("AppId",{providedIn:"root",factory:function d0(){return`${ja()}${ja()}${ja()}`}});function ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const I1=new ln("Platform Initializer"),KS=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new ln("appBootstrapListener");let T1=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ac=new ln("LocaleId",{providedIn:"root",factory:()=>et(Ac,lt.Optional|lt.SkipSelf)||function f0(){return typeof $localize<"u"&&$localize.locale||dc}()}),C1=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let XS=(()=>{class s{compileModuleSync(u){return new Ov(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Aa(Gr(u).declarations).reduce((y,D)=>{const I=Qt(D);return I&&y.push(new xo(I)),y},[]);return new QS(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const eA=(()=>Promise.resolve(0))();function On(s){typeof Zone>"u"?eA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class cs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new us(!1),this.onMicrotaskEmpty=new us(!1),this.onStable=new us(!1),this.onError=new us(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function A1(){let s=Nt.requestAnimationFrame,o=Nt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function O1(s){const o=()=>{!function N1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Nt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Nc(s),s.isCheckStableRunning=!0,rm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Nc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,D)=>{try{return g0(s),u.invokeTask(h,p,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Xs(s)}},onInvoke:(u,d,h,p,y,D,I)=>{try{return g0(s),u.invoke(h,p,y,D,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),Xs(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Nc(s),rm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new ee(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,tA,Jg,Jg);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const tA={};function rm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Nc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function g0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Xs(s){s._nesting--,rm(s)}class M1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new us,this.onMicrotaskEmpty=new us,this.onStable=new us,this.onError=new us}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const m0=new ln(""),im=new ln("");let Oc,Lh=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oc||(function y0(s){Oc=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),On(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())On(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Le(cs),Le(_0),Le(im))},s.\u0275prov=nt({token:s,factory:s.\u0275fac}),s})(),_0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Oc?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Vo=null;const Bh=new ln("AllowMultipleToken"),v0=new ln("PlatformDestroyListeners");class b0{constructor(o,u){this.name=o,this.token=u}}function D0(s,o,u=[]){const d=`Platform: ${o}`,h=new ln(d);return(p=[])=>{let y=sm();if(!y||y.injector.get(Bh,!1)){const D=[...u,...p,{provide:h,useValue:!0}];s?s(D):function w0(s){if(Vo&&!Vo.get(Bh,!1))throw new ee(400,!1);Vo=s;const o=s.get(I0);(function Uh(s){const o=s.get(I1,null);o&&o.forEach(u=>u())})(s)}(function E0(s=[],o){return Al.create({name:o,providers:[{provide:Hu,useValue:"platform"},{provide:v0,useValue:new Set([()=>Vo=null])},...s]})}(D,d))}return function Vl(s){const o=sm();if(!o)throw new ee(401,!1);return o}()}}function sm(){return Vo?.get(I0)??null}let I0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function xi(s,o){let u;return u="noop"===s?new M1:("zone.js"===s?void 0:s)||new cs(o),u}(d?.ngZone,function $h(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:cs,useValue:h}];return h.run(()=>{const y=Al.create({providers:p,parent:this.injector,name:u.moduleType.name}),D=u.create(y),I=D.injector.get(Kd,null);if(!I)throw new ee(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:A=>{I.handleError(A)}});D.onDestroy(()=>{om(this._modules,D),T.unsubscribe()})}),function T0(s,o,u){try{const d=u();return Uy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const T=D.injector.get(Ps);return T.runInitializers(),T.donePromise.then(()=>(cv(D.injector.get(Ac,dc)||dc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=C0({},d);return function Vh(s,o,u){const d=new Ov(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Uo);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ee(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(v0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Le(Al))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function C0(s,o){return Array.isArray(o)?o.reduce(C0,s):{...s,...o}}let Uo=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new k.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{cs.assertNotInAngularZone(),On(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ve.B)()))}bootstrap(u,d){const h=u instanceof $w;if(!this._injector.get(Ps).done)throw!h&&oo(u),new ee(405,false);let y;y=h?u:this._injector.get(Gu).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const D=function x1(s){return s.isBoundToModule}(y)?void 0:this._injector.get(ko),T=y.create(Al.NULL,[],d||y.selector,D),A=T.location.nativeElement,R=T.injector.get(m0,null);return R?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),om(this.components,T),R?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;om(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(h0,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>om(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Le(cs),Le(Tl),Le(Kd))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function om(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function sA(){return!1}let aA=(()=>{class s{}return s.__NG_ELEMENT_ID__=P1,s})();function P1(s){return function xr(s,o,u){if(el(s)&&!u){const d=Cr(s.index,o);return new Ol(d,d)}return 47&s.type?new Ol(o[16],o):null}(rr(),ue(),16==(16&s))}class L1{constructor(){}supports(o){return ec(o)}create(o){return new uA(o)}}const rR=(s,o)=>o;class uA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rR}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<O0(d,h,p)?u:d,D=O0(y,h,p),I=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const T=D-h,A=I-h;if(T!=A){for(let H=0;H<T;H++){const K=H<p.length?p[H]:p[H]=0,le=K+H;A<=le&&le<T&&(p[H]=K+1)}p[y.previousIndex]=A-T}}D!==I&&o(y,D,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ec(o))throw new ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],y=this._trackByFn(D,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,D)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,D),d=!0),u=u._next}else h=0,function Ny(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Ml()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,D=>{y=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,D,y,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new B1(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new jl),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jl),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class B1{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bt{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class jl{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new Bt,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O0(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class Tn{constructor(){}supports(o){return o instanceof Map||Oy(o)}create(){return new vt}}class vt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Oy(o)))throw new ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Gh(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class Gh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yt(){return new M0([new L1])}let M0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Yt()),deps:[[s,new Bi,new zs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ee(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:Yt}),s})();function We(){return new Mc([new Tn])}let Mc=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||We()),deps:[[s,new Bi,new zs]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ee(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:We}),s})();const cA=D0(null,"core",[]);let zh=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Le(Uo))},s.\u0275mod=Zo({type:s}),s.\u0275inj=vn({}),s})();function V1(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function pA(s,o){const u=Qt(s),d=o.elementInjector||Rp();return new xo(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(bt,Te,F)=>{F.d(Te,{Z:()=>it});var l=F(2090),V=F(4859),k=F(9681),se=F(1877);class ve{constructor(ee,Ce){this._delegate=ee,this.firebase=Ce,(0,k._addComponent)(ee,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ee,Ce=k._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(ee);return!Ae.isInitialized()&&"EXPLICIT"===(null===(_e=Ae.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:Ce})}_removeServiceInstance(ee,Ce=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(Ce)}_addComponent(ee){(0,k._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,k._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function xe(){const st=function pe(st){const ee={},Ce={__esModule:!0,initializeApp:function Se(J,Q={}){const de=k.initializeApp(J,Q);if((0,l.r3)(ee,de.name))return ee[de.name];const Ge=new st(de,Ce);return ee[de.name]=Ge,Ge},app:Ae,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function be(J){const Q=J.name,de=Q.replace("-compat","");if(k._registerComponent(J)&&"PUBLIC"===J.type){const Ge=(Oe=Ae())=>{if("function"!=typeof Oe[de])throw Ve.create("invalid-app-argument",{appName:Q});return Oe[de]()};void 0!==J.serviceProps&&(0,l.ZB)(Ge,J.serviceProps),Ce[de]=Ge,st.prototype[de]=function(...Oe){return this._getService.bind(this,Q).apply(this,J.multipleInstances?Oe:[])}}return"PUBLIC"===J.type?Ce[de]:null},removeApp:function _e(J){delete ee[J]},useAsService:function ke(J,Q){return"serverAuth"===Q?null:Q},modularAPIs:k}};function Ae(J){if(!(0,l.r3)(ee,J=J||k._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:J});return ee[J]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function we(){return Object.keys(ee).map(J=>ee[J])}}),Ae.App=st,Ce}(ve);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function ee(Ce){(0,l.ZB)(st,Ce)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),st}(),$=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=j;!function Ne(st){(0,k.registerVersion)("@firebase/app-compat","0.2.3",st)}()},9681:(bt,Te,F)=>{F.r(Te),F.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>yn,_addOrOverwriteComponent:()=>Dt,_apps:()=>Xe,_clearComponents:()=>vn,_components:()=>Qe,_getProvider:()=>nt,_registerComponent:()=>yt,_removeServiceInstance:()=>rn,deleteApp:()=>ms,getApp:()=>si,getApps:()=>ki,initializeApp:()=>Ri,onLog:()=>lt,registerVersion:()=>kr,setLogLevel:()=>Pr});var l=F(5861),V=F(4859),k=F(1877),se=F(2090),ve=F(8766);class ae{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function Ve(Le){return"VERSION"===Le.getComponent()?.type}(et)){const wt=et.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(et=>et).join(" ")}}const pe="@firebase/app",j=new k.Yd("@firebase/app"),Re="[DEFAULT]",Pe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Qe=new Map;function yn(Le,he){try{Le.container.addComponent(he)}catch(et){j.debug(`Component ${he.name} failed to register with FirebaseApp ${Le.name}`,et)}}function Dt(Le,he){Le.container.addOrOverwriteComponent(he)}function yt(Le){const he=Le.name;if(Qe.has(he))return j.debug(`There were multiple attempts to register component ${he}.`),!1;Qe.set(he,Le);for(const et of Xe.values())yn(et,Le);return!0}function nt(Le,he){const et=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Le.container.getProvider(he)}function rn(Le,he,et=Re){nt(Le,he).clearInstance(et)}function vn(){Qe.clear()}const sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(he,et,wt){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Hr="9.17.1";function Ri(Le,he={}){let et=Le;"object"!=typeof he&&(he={name:he});const wt=Object.assign({name:Re,automaticDataCollectionEnabled:!1},he),Ot=wt.name;if("string"!=typeof Ot||!Ot)throw sn.create("bad-app-name",{appName:String(Ot)});if(et||(et=(0,se.aH)()),!et)throw sn.create("no-options");const zt=Xe.get(Ot);if(zt){if((0,se.vZ)(et,zt.options)&&(0,se.vZ)(wt,zt.config))return zt;throw sn.create("duplicate-app",{appName:Ot})}const U=new V.H0(Ot);for(const z of Qe.values())U.addComponent(z);const B=new lr(et,wt,U);return Xe.set(Ot,B),B}function si(Le=Re){const he=Xe.get(Le);if(!he&&Le===Re)return Ri();if(!he)throw sn.create("no-app",{appName:Le});return he}function ki(){return Array.from(Xe.values())}function ms(Le){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(Le){const he=Le.name;Xe.has(he)&&(Xe.delete(he),yield Promise.all(Le.container.getProviders().map(et=>et.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function kr(Le,he,et){var wt;let Ot=null!==(wt=Pe[Le])&&void 0!==wt?wt:Le;et&&(Ot+=`-${et}`);const zt=Ot.match(/\s|\//),U=he.match(/\s|\//);if(zt||U){const B=[`Unable to register library "${Ot}" with version "${he}":`];return zt&&B.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),zt&&U&&B.push("and"),U&&B.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void j.warn(B.join(" "))}yt(new V.wA(`${Ot}-version`,()=>({library:Ot,version:he}),"VERSION"))}function lt(Le,he){if(null!==Le&&"function"!=typeof Le)throw sn.create("invalid-log-argument");(0,k.Am)(Le,he)}function Pr(Le){(0,k.Ub)(Le)}const cr="firebase-heartbeat-store";let Ei=null;function Nt(){return Ei||(Ei=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(Le,he)=>{0===he&&Le.createObjectStore(cr)}}).catch(Le=>{throw sn.create("idb-open",{originalErrorMessage:Le.message})})),Ei}function Tt(){return(Tt=(0,l.Z)(function*(Le){try{return(yield Nt()).transaction(cr).objectStore(cr).get(Fn(Le))}catch(he){if(he instanceof se.ZR)j.warn(he.message);else{const et=sn.create("idb-get",{originalErrorMessage:he?.message});j.warn(et.message)}}})).apply(this,arguments)}function hn(Le,he){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(Le,he){try{const wt=(yield Nt()).transaction(cr,"readwrite");return yield wt.objectStore(cr).put(he,Fn(Le)),wt.done}catch(et){if(et instanceof se.ZR)j.warn(et.message);else{const wt=sn.create("idb-set",{originalErrorMessage:et?.message});j.warn(wt.message)}}})).apply(this,arguments)}function Fn(Le){return`${Le.name}!${Le.options.appId}`}class Pi{constructor(he){this.container=he,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Ht(et),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var he=this;return(0,l.Z)(function*(){const wt=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Ut();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!he._heartbeatsCache.heartbeats.some(zt=>zt.date===Ot))return he._heartbeatsCache.heartbeats.push({date:Ot,agent:wt}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(zt=>{const U=new Date(zt.date).valueOf();return Date.now()-U<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,l.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const et=Ut(),{heartbeatsToSend:wt,unsentEntries:Ot}=function _s(Le,he=1024){const et=[];let wt=Le.slice();for(const Ot of Le){const zt=et.find(U=>U.agent===Ot.agent);if(zt){if(zt.dates.push(Ot.date),oi(et)>he){zt.dates.pop();break}}else if(et.push({agent:Ot.agent,dates:[Ot.date]}),oi(et)>he){et.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:et,unsentEntries:wt}}(he._heartbeatsCache.heartbeats),zt=(0,se.L)(JSON.stringify({version:2,heartbeats:wt}));return he._heartbeatsCache.lastSentHeartbeatDate=et,Ot.length>0?(he._heartbeatsCache.heartbeats=Ot,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),zt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,l.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function mt(Le){return Tt.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var et=this;return(0,l.Z)(function*(){var wt;if(yield et._canUseIndexedDBPromise){const zt=yield et.read();return hn(et.app,{lastSentHeartbeatDate:null!==(wt=he.lastSentHeartbeatDate)&&void 0!==wt?wt:zt.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var et=this;return(0,l.Z)(function*(){var wt;if(yield et._canUseIndexedDBPromise){const zt=yield et.read();return hn(et.app,{lastSentHeartbeatDate:null!==(wt=he.lastSentHeartbeatDate)&&void 0!==wt?wt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...he.heartbeats]})}})()}}function oi(Le){return(0,se.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function Xn(Le){yt(new V.wA("platform-logger",he=>new ae(he),"PRIVATE")),yt(new V.wA("heartbeat",he=>new Pi(he),"PRIVATE")),kr(pe,"0.9.3",Le),kr(pe,"0.9.3","esm2017"),kr("fire-js","")}("")},4859:(bt,Te,F)=>{F.d(Te,{H0:()=>pe,wA:()=>k});var l=F(5861),V=F(2090);class k{constructor(j,$,q){this.name=j,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class ve{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const q=new V.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:$});$e&&q.resolve($e)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const q=this.normalizeInstanceIdentifier(j?.identifier),$e=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ne){if($e)return null;throw Ne}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Ve(xe){return"EAGER"===xe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[$,q]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier($);try{const Ne=this.getOrInitializeService({instanceIdentifier:$e});q.resolve(Ne)}catch{}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...$.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:q,options:$});for(const[Ne,it]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ne)&&it.resolve($e);return $e}onInit(j,$){var q;const $e=this.normalizeInstanceIdentifier($),Ne=null!==(q=this.onInitCallbacks.get($e))&&void 0!==q?q:new Set;Ne.add(j),this.onInitCallbacks.set($e,Ne);const it=this.instances.get($e);return it&&j(it,$e),()=>{Ne.delete(j)}}invokeOnInitCallbacks(j,$){const q=this.onInitCallbacks.get($);if(q)for(const $e of q)try{$e(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let q=this.instances.get(j);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=j,xe===se?void 0:xe),options:$}),this.instances.set(j,q),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,q)}catch{}var xe;return q||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ve(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Te,F)=>{F.d(Te,{Am:()=>xe,Ub:()=>pe,Yd:()=>Ve,in:()=>V});const l=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const k={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},se=V.INFO,ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ae=(j,$,...q)=>{if($<j.logLevel)return;const $e=(new Date).toISOString(),Ne=ve[$];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ne](`[${$e}]  ${j.name}:`,...q)};class Ve{constructor($){this.name=$,this._logLevel=se,this._logHandler=ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in V))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?k[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...$),this._logHandler(this,V.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...$),this._logHandler(this,V.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,V.INFO,...$),this._logHandler(this,V.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,V.WARN,...$),this._logHandler(this,V.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...$),this._logHandler(this,V.ERROR,...$)}}function pe(j){l.forEach($=>{$.setLogLevel(j)})}function xe(j,$){for(const q of l){let $e=null;$&&$.level&&($e=k[$.level]),q.userLogHandler=null===j?null:(Ne,it,...st)=>{const ee=st.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");it>=($e??Ne.logLevel)&&j({level:V[it].toLowerCase(),message:ee,args:st,type:Ne.name})}}}},9260:(bt,Te,F)=>{F.d(Te,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(bt,Te,F)=>{F.r(Te);var l=F(5861),V=F(3942),k=F(2722),se=F(2090),Ve=(F(9681),F(1877),F(4859));function pe(){return window}function $(){return($=(0,l.Z)(function*(L,O,P){var X;const{BuildInfo:Ee}=pe();(0,k.ap)(O.sessionId,"AuthEvent did not contain a session ID");const ct=yield Ce(O.sessionId),ze={};return(0,k.aq)()?ze.ibi=Ee.packageName:(0,k.ar)()?ze.apn=Ee.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),Ee.displayName&&(ze.appDisplayName=Ee.displayName),ze.sessionId=ct,(0,k.at)(L,P,O.type,void 0,null!==(X=O.eventId)&&void 0!==X?X:void 0,ze)})).apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(L){const{BuildInfo:O}=pe(),P={};(0,k.aq)()?P.iosBundleId=O.packageName:(0,k.ar)()?P.androidPackageName=O.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),yield(0,k.au)(L,P)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(L,O,P){const{cordova:X}=pe();let Ee=()=>{};try{yield new Promise((ct,ze)=>{let Rt=null;function _t(){var kt;ct();const Dr=null===(kt=X.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof Dr&&Dr(),"function"==typeof P?.close&&P.close()}function fn(){Rt||(Rt=window.setTimeout(()=>{ze((0,k.aw)(L,"redirect-cancelled-by-user"))},2e3))}function er(){"visible"===document?.visibilityState&&fn()}O.addPassiveListener(_t),document.addEventListener("resume",fn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",er,!1),Ee=()=>{O.removePassiveListener(_t),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",er,!1),Rt&&window.clearTimeout(Rt)}})}finally{Ee()}})).apply(this,arguments)}function Ce(L){return _e.apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(L){const O=Ae(L),P=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(P)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ae(L){if((0,k.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const O=new ArrayBuffer(L.length),P=new Uint8Array(O);for(let X=0;X<L.length;X++)P[X]=L.charCodeAt(X);return P}class we extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(O)),super.onEvent(O)}initialized(){var O=this;return(0,l.Z)(function*(){yield O.initPromise})()}}function J(L){return Q.apply(this,arguments)}function Q(){return(Q=(0,l.Z)(function*(L){const O=yield Oe()._get(At(L));return O&&(yield Oe()._remove(At(L))),O})).apply(this,arguments)}function Ge(){const L=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<20;P++){const X=Math.floor(Math.random()*O.length);L.push(O.charAt(X))}return L.join("")}function Oe(){return(0,k.az)(k.b)}function At(L){return(0,k.aA)("authEvent",L.config.apiKey,L.name)}function oe(L){if(!L?.includes("?"))return{};const[O,...P]=L.split("?");return(0,se.zd)(P.join("?"))}const Re=class De{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var P=this;return(0,l.Z)(function*(){const X=O._key();let Ee=P.eventManagers.get(X);return Ee||(Ee=new we(O),P.eventManagers.set(X,Ee),P.attachCallbackListeners(O,Ee)),Ee})()}_openPopup(O){(0,k.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,P,X,Ee){var ct=this;return(0,l.Z)(function*(){!function ee(L){var O,P,X,Ee,ct,ze,Rt,_t,fn,er;const kt=pe();(0,k.ax)("function"==typeof(null===(O=kt?.universalLinks)||void 0===O?void 0:O.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(P=kt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(ct=null===(Ee=null===(X=kt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===ct?void 0:ct.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(_t=null===(Rt=null===(ze=kt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===Rt?void 0:Rt.browsertab)||void 0===_t?void 0:_t.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(er=null===(fn=kt?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===er?void 0:er.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const ze=yield ct._initialize(O);yield ze.initialized(),ze.resetRedirect(),(0,k.aD)(),yield ct._originValidation(O);const Rt=function be(L,O,P=null){return{type:O,eventId:P,urlResponse:null,sessionId:Ge(),postBody:null,tenantId:L.tenantId,error:(0,k.aw)(L,"no-auth-event")}}(O,X,Ee);yield function ke(L,O){return Oe()._set(At(L),O)}(O,Rt);const _t=yield function j(L,O,P){return $.apply(this,arguments)}(O,Rt,P),fn=yield function Ne(L){const{cordova:O}=pe();return new Promise(P=>{O.plugins.browsertab.isAvailable(X=>{let Ee=null;X?O.plugins.browsertab.openUrl(L):Ee=O.InAppBrowser.open(L,(0,k.av)()?"_blank":"_system","location=yes"),P(Ee)})})}(_t);return function it(L,O,P){return st.apply(this,arguments)}(O,ze,fn)})()}_isIframeWebStorageSupported(O,P){throw new Error("Method not implemented.")}_originValidation(O){const P=O._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function q(L){return $e.apply(this,arguments)}(O)),this.originValidationPromises[P]}attachCallbackListeners(O,P){const{universalLinks:X,handleOpenURL:Ee,BuildInfo:ct}=pe(),ze=setTimeout((0,l.Z)(function*(){yield J(O),P.onEvent(Pe())}),500),Rt=function(){var er=(0,l.Z)(function*(kt){clearTimeout(ze);const Dr=yield J(O);let Xl=null;Dr&&kt?.url&&(Xl=function de(L,O){var P,X;const Ee=function te(L){const O=oe(L),P=O.link?decodeURIComponent(O.link):void 0,X=oe(P).link,Ee=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return oe(Ee).link||Ee||X||P||L}(O);if(Ee.includes("/__/auth/callback")){const ct=oe(Ee),ze=ct.firebaseError?function tt(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,Rt=null===(X=null===(P=ze?.code)||void 0===P?void 0:P.split("auth/"))||void 0===X?void 0:X[1],_t=Rt?(0,k.aw)(Rt):null;return _t?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ee,postBody:null}}return null}(Dr,kt.url)),P.onEvent(Xl||Pe())});return function(Dr){return er.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,Rt);const _t=Ee,fn=`${ct.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var er=(0,l.Z)(function*(kt){if(kt.toLowerCase().startsWith(fn)&&Rt({url:kt}),"function"==typeof _t)try{_t(kt)}catch(Dr){console.error(Dr)}});return function(kt){return er.apply(this,arguments)}}()}};function Pe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function yt(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function rn(L=(0,se.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){try{const L=self.localStorage,O=k.aI();if(L)return L.setItem(O,"1"),L.removeItem(O),!function lr(L=(0,se.z$)()){return function $n(){return(0,se.w1)()&&11===document?.documentMode}()||function sn(L=(0,se.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,se.hl)()}catch{return Ri()&&(0,se.hl)()}return!1}function Ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function si(){return(function nt(){return"http:"===yt()||"https:"===yt()}()||(0,se.ru)()||rn())&&!function vn(){return(0,se.b$)()||(0,se.UG)()}()&&Hr()&&!Ri()}function ki(){return rn()&&typeof document<"u"}function bn(){return(bn=(0,l.Z)(function*(){return!!ki()&&new Promise(L=>{const O=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),L(!0)})})})).apply(this,arguments)}const lt={LOCAL:"local",NONE:"none",SESSION:"session"},Pr=k.ax,Di="persistence";function cr(L){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(L){yield L._initializationPromise;const O=mt(),P=k.aA(Di,L.config.apiKey,L.name);O&&O.setItem(P,L._getPersistence())})).apply(this,arguments)}function mt(){var L;try{return(null===(L=function kr(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Tt=k.ax;class hn{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(Re),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,P,X,Ee){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(O,P,X,Ee)})()}_openRedirect(O,P,X,Ee){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(O,P,X,Ee)})()}_isIframeWebStorageSupported(O,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,P)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return ki()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,l.Z)(function*(){if(O.underlyingResolver)return;const P=yield function ms(){return bn.apply(this,arguments)}();O.underlyingResolver=P?O.cordovaResolver:O.browserResolver})()}}function Qn(L){return L.unwrap()}function Ii(L){return Pi(L)}function Pi(L){const{_tokenResponse:O}=L instanceof se.ZR?L.customData:L;if(!O)return null;if(!(L instanceof se.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(L);const P=O.providerId;if(!P||P===k.o.PASSWORD)return null;let X;switch(P){case k.o.GOOGLE:X=k.Q;break;case k.o.FACEBOOK:X=k.N;break;case k.o.GITHUB:X=k.T;break;case k.o.TWITTER:X=k.W;break;default:const{oauthIdToken:Ee,oauthAccessToken:ct,oauthTokenSecret:ze,pendingToken:Rt,nonce:_t}=O;return ct||ze||Ee||Rt?Rt?P.startsWith("saml.")?k.aL._create(P,Rt):k.J._fromParams({providerId:P,signInMethod:P,pendingToken:Rt,idToken:Ee,accessToken:ct}):new k.U(P).credential({idToken:Ee,accessToken:ct,rawNonce:_t}):null}return L instanceof se.ZR?X.credentialFromError(L):X.credentialFromResult(L)}function Ut(L,O){return O.catch(P=>{throw P instanceof se.ZR&&function dr(L,O){var P;const X=null===(P=O.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new oi(L,k.an(L,O));else if(X){const Ee=Pi(O),ct=O;Ee&&(ct.credential=Ee,ct.tenantId=X.tenantId||void 0,ct.email=X.email||void 0,ct.phoneNumber=X.phoneNumber||void 0)}}(L,P),P}).then(P=>{const Ee=P.user;return{operationType:P.operationType,credential:Ii(P),additionalUserInfo:k.al(P),user:Xn.getOrCreate(Ee)}})}function _s(L,O){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(L,O){const P=yield O;return{verificationId:P.verificationId,confirm:X=>Ut(L,P.confirm(X))}})).apply(this,arguments)}class oi{constructor(O,P){this.resolver=P,this.auth=function Fn(L){return L.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Ut(Qn(this.auth),this.resolver.resolveSignIn(O))}}class Xn{constructor(O){this._delegate=O,this.multiFactor=k.ao(O)}static getOrCreate(O){return Xn.USER_MAP.has(O)||Xn.USER_MAP.set(O,new Xn(O)),Xn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k.Z(P._delegate,O))})()}linkWithPhoneNumber(O,P){var X=this;return(0,l.Z)(function*(){return _s(X.auth,k.l(X._delegate,O,P))})()}linkWithPopup(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k.d(P._delegate,O,hn))})()}linkWithRedirect(O){var P=this;return(0,l.Z)(function*(){return yield cr(k.aE(P.auth)),k.g(P._delegate,O,hn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var P=this;return(0,l.Z)(function*(){return Ut(P.auth,k._(P._delegate,O))})()}reauthenticateWithPhoneNumber(O,P){return _s(this.auth,k.r(this._delegate,O,P))}reauthenticateWithPopup(O){return Ut(this.auth,k.e(this._delegate,O,hn))}reauthenticateWithRedirect(O){var P=this;return(0,l.Z)(function*(){return yield cr(k.aE(P.auth)),k.h(P._delegate,O,hn)})()}sendEmailVerification(O){return k.ab(this._delegate,O)}unlink(O){var P=this;return(0,l.Z)(function*(){return yield k.ak(P._delegate,O),P})()}updateEmail(O){return k.ag(this._delegate,O)}updatePassword(O){return k.ah(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.af(this._delegate,O)}verifyBeforeUpdateEmail(O,P){return k.ac(this._delegate,O,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xn.USER_MAP=new WeakMap;const Le=k.ax;let he=(()=>{class L{constructor(P,X){if(this.app=P,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=P.options;Le(Ee,"invalid-api-key",{appName:P.name}),Le(Ee,"invalid-api-key",{appName:P.name});const ct=typeof window<"u"?hn:void 0;this._delegate=X.initialize({options:{persistence:wt(Ee,P.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,X){k.G(this._delegate,P,X)}applyActionCode(P){return k.a2(this._delegate,P)}checkActionCode(P){return k.a3(this._delegate,P)}confirmPasswordReset(P,X){return k.a1(this._delegate,P,X)}createUserWithEmailAndPassword(P,X){var Ee=this;return(0,l.Z)(function*(){return Ut(Ee._delegate,k.a5(Ee._delegate,P,X))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return k.aa(this._delegate,P)}isSignInWithEmailLink(P){return k.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,l.Z)(function*(){Le(si(),P._delegate,"operation-not-supported-in-this-environment");const X=yield k.j(P._delegate,hn);return X?Ut(P._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Xe(L,O){(0,k.aE)(L)._logFramework(O)}(this._delegate,P)}onAuthStateChanged(P,X,Ee){const{next:ct,error:ze,complete:Rt}=et(P,X,Ee);return this._delegate.onAuthStateChanged(ct,ze,Rt)}onIdTokenChanged(P,X,Ee){const{next:ct,error:ze,complete:Rt}=et(P,X,Ee);return this._delegate.onIdTokenChanged(ct,ze,Rt)}sendSignInLinkToEmail(P,X){return k.a7(this._delegate,P,X)}sendPasswordResetEmail(P,X){return k.a0(this._delegate,P,X||void 0)}setPersistence(P){var X=this;return(0,l.Z)(function*(){let Ee;switch(function ur(L,O){Pr(Object.values(lt).includes(O),L,"invalid-persistence-type"),(0,se.b$)()?Pr(O!==lt.SESSION,L,"unsupported-persistence-type"):(0,se.UG)()?Pr(O===lt.NONE,L,"unsupported-persistence-type"):Ri()?Pr(O===lt.NONE||O===lt.LOCAL&&(0,se.hl)(),L,"unsupported-persistence-type"):Pr(O===lt.NONE||Hr(),L,"unsupported-persistence-type")}(X._delegate,P),P){case lt.SESSION:Ee=k.a;break;case lt.LOCAL:Ee=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case lt.NONE:Ee=k.L;break;default:return k.as("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return Ut(this._delegate,k.X(this._delegate))}signInWithCredential(P){return Ut(this._delegate,k.Y(this._delegate,P))}signInWithCustomToken(P){return Ut(this._delegate,k.$(this._delegate,P))}signInWithEmailAndPassword(P,X){return Ut(this._delegate,k.a6(this._delegate,P,X))}signInWithEmailLink(P,X){return Ut(this._delegate,k.a9(this._delegate,P,X))}signInWithPhoneNumber(P,X){return _s(this._delegate,k.s(this._delegate,P,X))}signInWithPopup(P){var X=this;return(0,l.Z)(function*(){return Le(si(),X._delegate,"operation-not-supported-in-this-environment"),Ut(X._delegate,k.c(X._delegate,P,hn))})()}signInWithRedirect(P){var X=this;return(0,l.Z)(function*(){return Le(si(),X._delegate,"operation-not-supported-in-this-environment"),yield cr(X._delegate),k.f(X._delegate,P,hn)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return k.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=lt,L})();function et(L,O,P){let X=L;"function"!=typeof L&&({next:X,error:O,complete:P}=L);const Ee=X;return{next:ze=>Ee(ze&&Xn.getOrCreate(ze)),error:O,complete:P}}function wt(L,O){const P=function Nt(L,O){const P=mt();if(!P)return[];const X=k.aA(Di,L,O);switch(P.getItem(X)){case lt.NONE:return[k.L];case lt.LOCAL:return[k.i,k.a];case lt.SESSION:return[k.a];default:return[]}}(L,O);if(typeof self<"u"&&!P.includes(k.i)&&P.push(k.i),typeof window<"u")for(const X of[k.b,k.a])P.includes(X)||P.push(X);return P.includes(k.L)||P.push(k.L),P}class Ot{constructor(){this.providerId="phone",this._delegate=new k.P(Qn(V.Z.auth()))}static credential(O,P){return k.P.credential(O,P)}verifyPhoneNumber(O,P){return this._delegate.verifyPhoneNumber(O,P)}unwrap(){return this._delegate}}Ot.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Ot.PROVIDER_ID=k.P.PROVIDER_ID;const zt=k.ax;class U{constructor(O,P,X=V.Z.app()){var Ee;zt(null===(Ee=X.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new k.R(O,P,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(L){L.INTERNAL.registerComponent(new Ve.wA("auth-compat",O=>{const P=O.getProvider("app-compat").getImmediate(),X=O.getProvider("auth");return new he(P,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Ot,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:U,TwitterAuthProvider:k.W,Auth:he,AuthCredential:k.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.3.3")}(V.Z)},8766:(bt,Te,F)=>{F.d(Te,{Lj:()=>Se,X3:()=>Ae});var l=F(5861);let k,se;const Ve=new WeakMap,pe=new WeakMap,xe=new WeakMap,j=new WeakMap,$=new WeakMap;let Ne={get(Q,de,Ge){if(Q instanceof IDBTransaction){if("done"===de)return pe.get(Q);if("objectStoreNames"===de)return Q.objectStoreNames||xe.get(Q);if("store"===de)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Ce(Q[de])},set:(Q,de,Ge)=>(Q[de]=Ge,!0),has:(Q,de)=>Q instanceof IDBTransaction&&("done"===de||"store"===de)||de in Q};function ee(Q){return"function"==typeof Q?function st(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...de){return Q.apply(_e(this),de),Ce(Ve.get(this))}:function(...de){return Ce(Q.apply(_e(this),de))}:function(de,...Ge){const Oe=Q.call(_e(this),de,...Ge);return xe.set(Oe,de.sort?de.sort():[de]),Ce(Oe)}}(Q):(Q instanceof IDBTransaction&&function $e(Q){if(pe.has(Q))return;const de=new Promise((Ge,Oe)=>{const At=()=>{Q.removeEventListener("complete",tt),Q.removeEventListener("error",te),Q.removeEventListener("abort",te)},tt=()=>{Ge(),At()},te=()=>{Oe(Q.error||new DOMException("AbortError","AbortError")),At()};Q.addEventListener("complete",tt),Q.addEventListener("error",te),Q.addEventListener("abort",te)});pe.set(Q,de)}(Q),((Q,de)=>de.some(Ge=>Q instanceof Ge))(Q,function ve(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ne):Q)}function Ce(Q){if(Q instanceof IDBRequest)return function q(Q){const de=new Promise((Ge,Oe)=>{const At=()=>{Q.removeEventListener("success",tt),Q.removeEventListener("error",te)},tt=()=>{Ge(Ce(Q.result)),At()},te=()=>{Oe(Q.error),At()};Q.addEventListener("success",tt),Q.addEventListener("error",te)});return de.then(Ge=>{Ge instanceof IDBCursor&&Ve.set(Ge,Q)}).catch(()=>{}),$.set(de,Q),de}(Q);if(j.has(Q))return j.get(Q);const de=ee(Q);return de!==Q&&(j.set(Q,de),$.set(de,Q)),de}const _e=Q=>$.get(Q);function Ae(Q,de,{blocked:Ge,upgrade:Oe,blocking:At,terminated:tt}={}){const te=indexedDB.open(Q,de),oe=Ce(te);return Oe&&te.addEventListener("upgradeneeded",ce=>{Oe(Ce(te.result),ce.oldVersion,ce.newVersion,Ce(te.transaction))}),Ge&&te.addEventListener("blocked",()=>Ge()),oe.then(ce=>{tt&&ce.addEventListener("close",()=>tt()),At&&ce.addEventListener("versionchange",()=>At())}).catch(()=>{}),oe}function Se(Q,{blocked:de}={}){const Ge=indexedDB.deleteDatabase(Q);return de&&Ge.addEventListener("blocked",()=>de()),Ce(Ge).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],ke=new Map;function J(Q,de){if(!(Q instanceof IDBDatabase)||de in Q||"string"!=typeof de)return;if(ke.get(de))return ke.get(de);const Ge=de.replace(/FromIndex$/,""),Oe=de!==Ge,At=be.includes(Ge);if(!(Ge in(Oe?IDBIndex:IDBObjectStore).prototype)||!At&&!we.includes(Ge))return;const tt=function(){var te=(0,l.Z)(function*(oe,...ce){const De=this.transaction(oe,At?"readwrite":"readonly");let Re=De.store;return Oe&&(Re=Re.index(ce.shift())),(yield Promise.all([Re[Ge](...ce),At&&De.done]))[0]});return function(ce){return te.apply(this,arguments)}}();return ke.set(de,tt),tt}!function it(Q){Ne=Q(Ne)}(Q=>({...Q,get:(de,Ge,Oe)=>J(de,Ge)||Q.get(de,Ge,Oe),has:(de,Ge)=>!!J(de,Ge)||Q.has(de,Ge)}))},5861:(bt,Te,F)=>{function l(k,se,ve,ae,Ve,pe,xe){try{var j=k[pe](xe),$=j.value}catch(q){return void ve(q)}j.done?se($):Promise.resolve($).then(ae,Ve)}function V(k){return function(){var se=this,ve=arguments;return new Promise(function(ae,Ve){var pe=k.apply(se,ve);function xe($){l(pe,ae,Ve,xe,j,"next",$)}function j($){l(pe,ae,Ve,xe,j,"throw",$)}xe(void 0)})}}F.d(Te,{Z:()=>V})}},bt=>{bt(bt.s=5708)}]);