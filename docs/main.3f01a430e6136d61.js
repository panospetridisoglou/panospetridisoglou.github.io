"use strict";(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[179],{2011:(vt,Ee,k)=>{k.d(Ee,{Dh:()=>Fe,GT:()=>ye,cc:()=>Ve,on:()=>Oe,pX:()=>ie,xv:()=>fe});var l=k(4650),B=k(9260);vt=k.hmd(vt);const x=["ngOnDestroy"],ie=(ee,Ie,me,Ce={})=>new Proxy(ee,{get:(Te,be)=>me.runOutsideAngular(()=>{var ve;if(ee[be])return!(null===(ve=Ce?.spy)||void 0===ve)&&ve.get&&Ce.spy.get(be,ee[be]),ee[be];if(x.indexOf(be)>-1)return()=>{};const Re=Ie.toPromise().then(K=>{const Q=K&&K[be];return"function"==typeof Q?Q.bind(K):Q&&Q.then?Q.then(de=>me.run(()=>de)):me.run(()=>Q)});return new Proxy(()=>{},{get:(K,Q)=>Re[Q],apply:(K,Q,de)=>Re.then($e=>{var Ae;const Tt=$e&&$e(...de);return!(null===(Ae=Ce?.spy)||void 0===Ae)&&Ae.apply&&Ce.spy.apply(be,de,Tt),Tt})})})}),ye=(ee,Ie)=>{Ie.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Ce=>{Object.defineProperty(ee.prototype,Ce,Object.getOwnPropertyDescriptor(me.prototype||me,Ce))})})};class ae{constructor(Ie){return Ie}}const Fe=new l.OlP("angularfire2.app.options"),fe=new l.OlP("angularfire2.app.name");function Oe(ee,Ie,me){const Te="object"==typeof me&&me||{};Te.name=Te.name||"string"==typeof me&&me||"[DEFAULT]";const ve=B.Z.apps.filter(Re=>Re&&Re.name===Te.name)[0]||Ie.runOutsideAngular(()=>B.Z.initializeApp(ee,Te));try{JSON.stringify(ee)!==JSON.stringify(ve.options)&&j("error",`${ve.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(ve)}const j=(ee,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Ie)};function Ve(ee,Ie,me,Ce,Te){const[,be,ve]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===ee)||[];if(be)return function Se(ee,Ie){try{return ee.toString()===Ie.toString()}catch{return ee===Ie}}(Te,ve)||(it("error",`${Ie} was already initialized on the ${me} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Te,was:ve})),be;{const Re=Ce();return globalThis.\u0275AngularfireInstanceCache.push([ee,Re,Te]),Re}}const rt=!!vt.hot,it=(ee,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ee](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2722:(vt,Ee,k)=>{k.d(Ee,{$:()=>Ef,A:()=>$,B:()=>Se,G:()=>pf,H:()=>En,J:()=>Bn,L:()=>U,M:()=>mf,N:()=>Sb,P:()=>zb,Q:()=>Vm,R:()=>ud,T:()=>Ab,U:()=>qu,V:()=>za,W:()=>Um,X:()=>vf,Y:()=>Gr,Z:()=>Wc,_:()=>Ju,a:()=>Ja,a0:()=>$m,a1:()=>If,a2:()=>Mt,a3:()=>Mb,a4:()=>jm,a5:()=>Tf,a6:()=>Gm,a7:()=>le,a8:()=>Hm,a9:()=>zm,aA:()=>V,aB:()=>fd,aC:()=>jn,aD:()=>fl,aE:()=>ur,aI:()=>Rs,aL:()=>Ha,aa:()=>qi,ab:()=>Sf,ac:()=>qm,af:()=>qo,ag:()=>Os,ah:()=>Nf,ak:()=>Ob,al:()=>Rf,an:()=>Lb,ao:()=>Qc,ap:()=>de,aq:()=>mt,ar:()=>ct,as:()=>Ce,at:()=>bs,au:()=>Kf,av:()=>cn,aw:()=>Te,ax:()=>K,ay:()=>pd,az:()=>Ae,b:()=>Jc,c:()=>ld,d:()=>Zb,e:()=>qb,f:()=>gl,g:()=>Yf,h:()=>Zf,i:()=>Lf,j:()=>hd,k:()=>bd,l:()=>ho,m:()=>Kb,o:()=>fe,r:()=>Hb,s:()=>Gb,u:()=>iT});var l=k(5861),B=k(2090),x=k(9681),ie=k(1877),ye=k(655),ae=k(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function W(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new ie.Yd("@firebase/auth");function me(b,...g){Ie.logLevel<=ie.in.ERROR&&Ie.error(`Auth (${x.SDK_VERSION}): ${b}`,...g)}function Ce(b,...g){throw Re(b,...g)}function Te(b,...g){return Re(b,...g)}function be(b,g,m){const w=Object.assign(Object.assign({},rt()),{[g]:m});return new B.LL("auth","Firebase",w).create(g,{appName:b.name})}function ve(b,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ce(b,"argument-error"),be(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(b,...g){if("string"!=typeof b){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(m,...w)}return it.create(b,...g)}function K(b,g,...m){if(!b)throw Re(g,...m)}function Q(b){const g="INTERNAL ASSERTION FAILED: "+b;throw me(g),new Error(g)}function de(b,g){b||Q(g)}const $e=new Map;function Ae(b){de(b instanceof Function,"Expected a class definition");let g=$e.get(b);return g?(de(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,$e.set(b,g),g)}function te(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function oe(){return"http:"===ce()||"https:"===ce()}function ce(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class xe{constructor(g,m){this.shortDelay=g,this.longDelay=m,de(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function we(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ke(b,g){de(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Ye{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wt=new xe(3e4,6e4);function _t(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function tt(b,g,m,w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(b,g,m,w,S={}){return gn(b,S,(0,l.Z)(function*(){let O={},Z={};w&&("GET"===g?Z=w:O={body:JSON.stringify(w)});const pe=(0,B.xO)(Object.assign({key:b.config.apiKey},Z)).slice(1),Ze=yield b._getAdditionalHeaders();return Ze["Content-Type"]="application/json",b.languageCode&&(Ze["X-Firebase-Locale"]=b.languageCode),Ye.fetch()(Br(b,b.config.apiHost,m,pe),Object.assign({method:g,headers:Ze,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function gn(b,g,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(b,g,m){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},pn),g);try{const S=new Si(b),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw ei(b,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const pe=O.ok?Z.errorMessage:Z.error.message,[Ze,dt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw ei(b,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ze)throw ei(b,"email-already-in-use",Z);if("USER_DISABLED"===Ze)throw ei(b,"user-disabled",Z);const Bt=w[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw be(b,Bt,dt);Ce(b,Bt)}}catch(S){if(S instanceof B.ZR)throw S;Ce(b,"network-request-failed")}})).apply(this,arguments)}function Xt(b,g,m,w){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(b,g,m,w,S={}){const O=yield tt(b,g,m,w,S);return"mfaPendingCredential"in O&&Ce(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Br(b,g,m,w){const S=`${g}${m}?${w}`;return b.config.emulator?Ke(b.config,S):`${b.config.apiScheme}://${S}`}class Si{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Te(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(b,g,m){const w={appName:b.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Te(b,g,w);return S.customData._tokenResponse=m,S}function ls(){return(ls=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function mn(b,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function at(b,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function mi(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function _i(){return(_i=(0,l.Z)(function*(b,g=!1){const m=(0,B.m9)(b),w=yield m.getIdToken(g),S=gt(w);K(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Z=O?.sign_in_provider;return{claims:S,token:w,authTime:mi(Ct(S.auth_time)),issuedAtTime:mi(Ct(S.iat)),expirationTime:mi(Ct(S.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(b){return 1e3*Number(b)}function gt(b){const[g,m,w]=b.split(".");if(void 0===g||void 0===m||void 0===w)return me("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(m);return S?JSON.parse(S):(me("Failed to decode base64 JWT payload"),null)}catch(S){return me("Caught error parsing JWT payload as JSON",S?.toString()),null}}function ln(b,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(b,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof B.ZR&&Rn(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Rn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class yi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class ar{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ni(b){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(b){var g;const m=b.auth,w=yield b.getIdToken(),S=yield ln(b,at(m,{idToken:w}));K(S?.users.length,m,"internal-error");const O=S.users[0];b._notifyReloadListener(O);const Z=null!==(g=O.providerUserInfo)&&void 0!==g&&g.length?Zn(O.providerUserInfo):[],pe=ti(b.providerData,Z),Bt=!!b.isAnonymous&&!(b.email&&O.passwordHash||pe?.length),un={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new ar(O.createdAt,O.lastLoginAt),isAnonymous:Bt};Object.assign(b,un)})).apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(b){const g=(0,B.m9)(b);yield Ni(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ti(b,g){return[...b.filter(w=>!g.some(S=>S.providerId===w.providerId)),...g]}function Zn(b){return b.map(g=>{var{providerId:m}=g,w=(0,ye._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function he(){return(he=(0,l.Z)(function*(b,g){const m=yield gn(b,{},(0,l.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:O}=b.config,Z=Br(b,S,"/v1/token",`key=${O}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(Z,{method:"POST",headers:pe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){K(g.idToken,"internal-error"),K(typeof g.idToken<"u","internal-error"),K(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function It(b){const g=gt(b);return K(g,"internal-error"),K(typeof g.exp<"u","internal-error"),K(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,l.Z)(function*(){return K(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Z}=yield function ke(b,g){return he.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(S,O,Number(Z))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:S,expirationTime:O}=m,Z=new Qe;return w&&(K("string"==typeof w,"internal-error",{appName:g}),Z.refreshToken=w),S&&(K("string"==typeof S,"internal-error",{appName:g}),Z.accessToken=S),O&&(K("number"==typeof O,"internal-error",{appName:g}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return Q("not implemented")}}function bt(b,g){K("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class St{constructor(g){var{uid:m,auth:w,stsTokenManager:S}=g,O=(0,ye._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ar(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const w=yield ln(m,m.stsTokenManager.getToken(m.auth,g));return K(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function or(b){return _i.apply(this,arguments)}(this,g)}reload(){return function cs(b){return Ut.apply(this,arguments)}(this)}_assign(g){this!==g&&(K(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new St(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,l.Z)(function*(){let S=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),S=!0),m&&(yield Ni(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield ln(g,function Ai(b,g){return ls.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,S,O,Z,pe,Ze,dt,Bt;const un=null!==(w=m.displayName)&&void 0!==w?w:void 0,Ir=null!==(S=m.email)&&void 0!==S?S:void 0,ki=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Vs=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,mo=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,_o=null!==(Ze=m._redirectEventId)&&void 0!==Ze?Ze:void 0,ua=null!==(dt=m.createdAt)&&void 0!==dt?dt:void 0,Ed=null!==(Bt=m.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:la,emailVerified:tp,isAnonymous:np,providerData:Id,stsTokenManager:au}=m;K(la&&au,g,"internal-error");const h_=Qe.fromJSON(this.name,au);K("string"==typeof la,g,"internal-error"),bt(un,g.name),bt(Ir,g.name),K("boolean"==typeof tp,g,"internal-error"),K("boolean"==typeof np,g,"internal-error"),bt(ki,g.name),bt(Vs,g.name),bt(mo,g.name),bt(_o,g.name),bt(ua,g.name),bt(Ed,g.name);const Td=new St({uid:la,auth:g,email:Ir,emailVerified:tp,displayName:un,isAnonymous:np,photoURL:Vs,phoneNumber:ki,tenantId:mo,stsTokenManager:h_,createdAt:ua,lastLoginAt:Ed});return Id&&Array.isArray(Id)&&(Td.providerData=Id.map(rp=>Object.assign({},rp))),_o&&(Td._redirectEventId=_o),Td}static _fromIdTokenResponse(g,m,w=!1){return(0,l.Z)(function*(){const S=new Qe;S.updateFromServerResponse(m);const O=new St({uid:m.localId,auth:g,stsTokenManager:S,isAnonymous:w});return yield Ni(O),O})()}}const U=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,l.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return b.type="NONE",b})();function V(b,g,m){return`firebase:${b}:${g}:${m}`}class H{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=V(this.userKey,S.apiKey,O),this.fullPersistenceKey=V("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?St._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new H(Ae(U),g,w);const S=(yield Promise.all(m.map(function(){var dt=(0,l.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let O=S[0]||Ae(U);const Z=V(w,g.config.apiKey,g.name);let pe=null;for(const dt of m)try{const Bt=yield dt._get(Z);if(Bt){const un=St._fromJSON(g,Bt);dt!==O&&(pe=un),O=dt;break}}catch{}const Ze=S.filter(dt=>dt._shouldAllowMigration);return O._shouldAllowMigration&&Ze.length?(O=Ze[0],pe&&(yield O._set(Z,pe.toJSON())),yield Promise.all(m.map(function(){var dt=(0,l.Z)(function*(Bt){if(Bt!==O)try{yield Bt._remove(Z)}catch{}});return function(Bt){return dt.apply(this,arguments)}}())),new H(O,g,w)):new H(O,g,w)})()}}function F(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(De(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(N(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(je(g))return"Blackberry";if(At(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||X(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function N(b=(0,B.z$)()){return/firefox\//i.test(b)}function P(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function X(b=(0,B.z$)()){return/crios\//i.test(b)}function De(b=(0,B.z$)()){return/iemobile/i.test(b)}function ct(b=(0,B.z$)()){return/android/i.test(b)}function je(b=(0,B.z$)()){return/blackberry/i.test(b)}function At(b=(0,B.z$)()){return/webos/i.test(b)}function mt(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function cn(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function yr(b=(0,B.z$)()){return mt(b)||ct(b)||At(b)||je(b)||/windows phone/i.test(b)||De(b)}function Vo(b,g=[]){let m;switch(b){case"Browser":m=F((0,B.z$)());break;case"Worker":m=`${F((0,B.z$)())}-${b}`;break;default:m=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${w}`}class Lm{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=O=>new Promise((Z,pe)=>{try{Z(g(O))}catch(Ze){pe(Ze)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===g)return;const w=[];try{for(const S of m.queue)yield S(g),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class ff{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bo(this),this.idTokenSubscription=new Bo(this),this.beforeStateQueue=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=Ae(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield H.create(w,g),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let O=S,Z=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Ze=O?._redirectEventId,dt=yield m.tryRedirectSignIn(g);(!pe||pe===Ze)&&dt?.user&&(O=dt.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(pe){O=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){try{yield Ni(g)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Me(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const w=g?(0,B.m9)(g):null;return w&&K(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&K(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Ae(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&Ae(g)||m._popupRedirectResolver;K(w,m,"argument-error"),m.redirectPersistenceManager=yield H.create(m,[Ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return K(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,w,S):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function ur(b){return(0,B.m9)(b)}class Bo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pf(b,g,m){const w=ur(b);K(w._canInitEmulator,w,"emulator-config-failed"),K(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const S=!!m?.disableWarnings,O=Uc(g),{host:Z,port:pe}=function gf(b){const g=Uc(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:ja(w.substr(O.length+1))}}{const[O,Z]=w.split(":");return{host:O,port:ja(Z)}}}(g);w.config.emulator={url:`${O}//${Z}${null===pe?"":`:${pe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function qt(){function b(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Uc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function ja(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class En{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Q("not implemented")}_getIdTokenResponse(g){return Q("not implemented")}_linkToIdToken(g,m){return Q("not implemented")}_getReauthenticationResolver(g){return Q("not implemented")}}function vr(b,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:resetPassword",_t(b,g))})).apply(this,arguments)}function Ur(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nt(b,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:update",_t(b,g))})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithPassword",_t(b,g))})).apply(this,arguments)}function Oi(b,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:sendOobCode",_t(b,g))})).apply(this,arguments)}function Qn(b,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b,g){return Oi(b,g)})).apply(this,arguments)}function ju(b,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(b,g){return Oi(b,g)})).apply(this,arguments)}function Vt(b,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(b,g){return Oi(b,g)})).apply(this,arguments)}function Xs(b,g){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(b,g){return Oi(b,g)})).apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithEmailLink",_t(b,g))})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithEmailLink",_t(b,g))})).apply(this,arguments)}class jr extends En{constructor(g,m,w,S=null){super("password",w),this._email=g,this._password=m,this._tenantId=S}static _fromEmailAndPassword(g,m){return new jr(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new jr(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function In(b,g){return $r.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function jo(b,g){return Jn.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ce(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ur(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Gu(b,g){return ds.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:Ce(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ri(b,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithIdp",_t(b,g))})).apply(this,arguments)}class Bn extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Bn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S}=m,O=(0,ye._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new Bn(w,S);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(g){return ri(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,ri(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ri(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,B.xO)(m)}return g}}function $c(b,g){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:sendVerificationCode",_t(b,g))})).apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,g))})).apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(b,g){const m=yield Xt(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,g));if(m.temporaryProof)throw ei(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Tb={USER_NOT_FOUND:"user-not-found"};function si(){return(si=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Tb)})).apply(this,arguments)}class hs extends En{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new hs({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new hs({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function zu(b,g){return Go.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function eo(b,g){return lr.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ii(b,g){return si.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}=g;return w||m||S||O?new hs({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class br{constructor(g){var m,w,S,O,Z,pe;const Ze=(0,B.zd)((0,B.pd)(g)),dt=null!==(m=Ze.apiKey)&&void 0!==m?m:null,Bt=null!==(w=Ze.oobCode)&&void 0!==w?w:null,un=function Ga(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ze.mode)&&void 0!==S?S:null);K(dt&&Bt&&un,"argument-error"),this.apiKey=dt,this.operation=un,this.code=Bt,this.continueUrl=null!==(O=Ze.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Ze.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(pe=Ze.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const m=function Wu(b){const g=(0,B.zd)((0,B.pd)(b)).link,m=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||g||b}(g);try{return new br(m)}catch{return null}}}let mf=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,w){return jr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=br.parseLink(w);return K(S,"argument-error"),jr._fromEmailAndCode(m,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class fs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ho extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class qu extends Ho{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return K("providerId"in m&&"signInMethod"in m,"argument-error"),Bn._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return K(g.idToken||g.accessToken,"argument-error"),Bn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return qu.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return qu.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:Z,providerId:pe}=g;if(!w&&!S&&!m&&!O||!pe)return null;try{return new qu(pe)._credential({idToken:m,accessToken:w,nonce:Z,pendingToken:O})}catch{return null}}}let Sb=(()=>{class b extends Ho{constructor(){super("facebook.com")}static credential(m){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Vm=(()=>{class b extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ab=(()=>{class b extends Ho{constructor(){super("github.com")}static credential(m){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ha extends En{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return ri(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,ri(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ri(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S,pendingToken:O}=m;return w&&S&&O&&w===S?new Ha(w,O):null}static _create(g,m){return new Ha(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class za extends fs{constructor(g){K(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return za.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return za.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ha.fromJSON(g);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return Ha._create(w,m)}catch{return null}}}let Um=(()=>{class b extends Ho{constructor(){super("twitter.com")}static credential(m,w){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Nb(b,g){return yf.apply(this,arguments)}function yf(){return(yf=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signUp",_t(b,g))})).apply(this,arguments)}class bi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,S=!1){return(0,l.Z)(function*(){const O=yield St._fromIdTokenResponse(g,w,S),Z=jc(w);return new bi({user:O,providerId:Z,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const S=jc(w);return new bi({user:g,providerId:S,_tokenResponse:w,operationType:m})})()}}function jc(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function vf(b){return bf.apply(this,arguments)}function bf(){return(bf=(0,l.Z)(function*(b){var g;const m=ur(b);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new bi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Nb(m,{returnSecureToken:!0}),S=yield bi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Wa extends B.ZR{constructor(g,m,w,S){var O;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Wa.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,S){return new Wa(g,m,w,S)}}function wf(b,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Wa._fromErrorAndOperation(b,O,g,w):O})}function to(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Ob(b,g){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(b,g){const m=(0,B.m9)(b);yield qa(!0,m,g);const{providerUserInfo:w}=yield mn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),S=to(w||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Yu(b,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(b,g,m=!1){const w=yield ln(b,g._linkToIdToken(b.auth,yield b.getIdToken()),m);return bi._forOperation(b,"link",w)})).apply(this,arguments)}function qa(b,g,m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(b,g,m){yield Ni(g);const S=!1===b?"provider-already-linked":"no-such-provider";K(to(g.providerData).has(m)===b,g.auth,S)})).apply(this,arguments)}function Df(b,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(b,g,m=!1){const{auth:w}=b,S="reauthenticate";try{const O=yield ln(b,wf(w,S,g,b),m);K(O.idToken,w,"internal-error");const Z=gt(O.idToken);K(Z,w,"internal-error");const{sub:pe}=Z;return K(b.uid===pe,w,"user-mismatch"),bi._forOperation(b,S,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(w,"user-mismatch"),O}})).apply(this,arguments)}function zc(b,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(b,g,m=!1){const w="signIn",S=yield wf(b,w,g),O=yield bi._fromIdTokenResponse(b,w,S);return m||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Gr(b,g){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(b,g){return zc(ur(b),g)})).apply(this,arguments)}function Wc(b,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(b,g){const m=(0,B.m9)(b);return yield qa(!1,m,g.providerId),Yu(m,g)})).apply(this,arguments)}function Ju(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(b,g){return Df((0,B.m9)(b),g)})).apply(this,arguments)}function wr(b,g){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:signInWithCustomToken",_t(b,g))})).apply(this,arguments)}function Ef(b,g){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(b,g){const m=ur(b),w=yield wr(m,{token:g,returnSecureToken:!0}),S=yield bi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Dr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Zc._fromServerResponse(g,m):Ce(g,"internal-error")}}class Zc extends Dr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Zc(m)}}function ro(b,g,m){var w;K((null===(w=m.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),K(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function $m(b,g,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b),S={requestType:"PASSWORD_RESET",email:g};m&&ro(w,S,m),yield ju(w,S)})).apply(this,arguments)}function If(b,g,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(b,g,m){yield vr((0,B.m9)(b),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Mt(b,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(b,g){yield nt((0,B.m9)(b),{oobCode:g})})).apply(this,arguments)}function Mb(b,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(b,g){const m=(0,B.m9)(b),w=yield vr(m,{oobCode:g}),S=w.requestType;switch(K(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(w.mfaInfo,m,"internal-error");default:K(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=Dr._fromServerResponse(ur(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function jm(b,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(b,g){const{data:m}=yield Mb((0,B.m9)(b),g);return m.email})).apply(this,arguments)}function Tf(b,g,m){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,l.Z)(function*(b,g,m){const w=ur(b),S=yield Nb(w,{returnSecureToken:!0,email:g,password:m}),O=yield bi._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Gm(b,g,m){return Gr((0,B.m9)(b),mf.credential(g,m))}function le(b,g,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b),S={requestType:"EMAIL_SIGNIN",email:g};K(m.handleCodeInApp,w,"argument-error"),m&&ro(w,S,m),yield Vt(w,S)})).apply(this,arguments)}function Hm(b,g){return"EMAIL_SIGNIN"===br.parseLink(g)?.operation}function zm(b,g,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b),S=mf.credentialWithLink(g,m||te());return K(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Gr(w,S)})).apply(this,arguments)}function Wm(b,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:createAuthUri",_t(b,g))})).apply(this,arguments)}function qi(b,g){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(b,g){const w={identifier:g,continueUri:oe()?te():"http://localhost"},{signinMethods:S}=yield Wm((0,B.m9)(b),w);return S||[]})).apply(this,arguments)}function Sf(b,g){return Af.apply(this,arguments)}function Af(){return(Af=(0,l.Z)(function*(b,g){const m=(0,B.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&ro(m.auth,S,g);const{email:O}=yield Qn(m.auth,S);O!==b.email&&(yield b.reload())})).apply(this,arguments)}function qm(b,g,m){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};m&&ro(w.auth,O,m);const{email:Z}=yield Xs(w.auth,O);Z!==b.email&&(yield b.reload())})).apply(this,arguments)}function Mr(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(b,g){return tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qo(b,g){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(b,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,B.m9)(b),O={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Z=yield ln(w,Mr(w.auth,O));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const pe=w.providerData.find(({providerId:Ze})=>"password"===Ze);pe&&(pe.displayName=w.displayName,pe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Os(b,g){return nl((0,B.m9)(b),g,null)}function Nf(b,g){return nl((0,B.m9)(b),null,g)}function nl(b,g,m){return Of.apply(this,arguments)}function Of(){return(Of=(0,l.Z)(function*(b,g,m){const{auth:w}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const Z=yield ln(b,Ur(w,O));yield b._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Ms{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class Ka extends Ms{constructor(g,m,w,S){super(g,m,w),this.username=S}}class Zm extends Ms{constructor(g,m){super(g,"facebook.com",m)}}class Mf extends Ka{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class xb extends Ms{constructor(g,m){super(g,"google.com",m)}}class Ym extends Ka{constructor(g,m,w){super(g,"twitter.com",m,w)}}function Rf(b){const{user:g,_tokenResponse:m}=b;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Rb(b){var g,m;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const Z=null===(m=null===(g=gt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new Ms(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new Zm(O,S);case"github.com":return new Mf(O,S);case"google.com":return new xb(O,S);case"twitter.com":return new Ym(O,S,b.screenName||null);case"custom":case"anonymous":return new Ms(O,null);default:return new Ms(O,w,S)}}(m)}class on{constructor(g,m,w){this.type=g,this.credential=m,this.auth=w}static _fromIdtoken(g,m){return new on("enroll",g,m)}static _fromMfaPendingCredential(g){return new on("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return on._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return on._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xf{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=ur(g),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(pe=>Dr._fromServerResponse(w,pe));K(S.mfaPendingCredential,w,"internal-error");const Z=on._fromMfaPendingCredential(S.mfaPendingCredential);return new xf(Z,O,function(){var pe=(0,l.Z)(function*(Ze){const dt=yield Ze._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const Bt=Object.assign(Object.assign({},S),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(m.operationType){case"signIn":const un=yield bi._fromIdTokenResponse(w,m.operationType,Bt);return yield w._updateCurrentUser(un.user),un;case"reauthenticate":return K(m.user,w,"internal-error"),bi._forOperation(m.user,m.operationType,Bt);default:Ce(w,"internal-error")}});return function(Ze){return pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function Lb(b,g){var m;const w=(0,B.m9)(b),S=g;return K(g.customData.operationType,w,"argument-error"),K(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),xf._fromError(w,S)}function Vb(b,g){return tt(b,"POST","/v2/accounts/mfaEnrollment:start",_t(b,g))}class Pf{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Dr._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Pf(g)}getSession(){var g=this;return(0,l.Z)(function*(){return on._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var w=this;return(0,l.Z)(function*(){const S=g,O=yield w.getSession(),Z=yield ln(w.user,S._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,S=yield m.user.getIdToken();try{const O=yield ln(m.user,function Ub(b,g){return tt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(b,g))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==w),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Qa=new WeakMap;function Qc(b){const g=(0,B.m9)(b);return Qa.has(g)||Qa.set(g,Pf._fromUser(g)),Qa.get(g)}const so="__sak";class Zo{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jc=(()=>{class b extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yo(){const b=(0,B.z$)();return P(b)||mt(b)}()&&function $u(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&m(w,O,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((pe,Ze,dt)=>{this.notifyListeners(pe,dt)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const O=()=>{const pe=this.storage.getItem(S);!w&&this.localCache[S]===pe||this.notifyListeners(S,pe)},Z=this.storage.getItem(S);!function Nt(){return(0,B.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,O=this;return(0,l.Z)(function*(){yield S().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const O=yield w().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return b.type="LOCAL",b})(),Ja=(()=>{class b extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return b.type="SESSION",b})();let e_=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const S=new b(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const S=m,{eventId:O,eventType:Z,data:pe}=S.data,Ze=w.handlersMap[Z];if(!Ze?.size)return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const dt=Array.from(Ze).map(function(){var un=(0,l.Z)(function*(Ir){return Ir(S.origin,pe)});return function(Ir){return un.apply(this,arguments)}}()),Bt=yield function $b(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(dt);S.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:Bt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Rs(b="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return b+m}class Xc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var S=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,pe;return new Promise((Ze,dt)=>{const Bt=Rs("",20);O.port1.start();const un=setTimeout(()=>{dt(new Error("unsupported_event"))},w);pe={messageChannel:O,onMessage(Ir){const ki=Ir;if(ki.data.eventId===Bt)switch(ki.data.status){case"ack":clearTimeout(un),Z=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ze(ki.data.response);break;default:clearTimeout(un),clearTimeout(Z),dt(new Error("invalid_response"))}}},S.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:g,eventId:Bt,data:m},[O.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function $n(){return window}function xs(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function _s(){return(_s=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ko="firebaseLocalStorageDb",oo="firebaseLocalStorage",ol="fbase_key";class Ps{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Xa(b,g){return b.transaction([oo],g?"readwrite":"readonly").objectStore(oo)}function Qo(){const b=indexedDB.open(Ko,1);return new Promise((g,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(oo,{keyPath:ol})}catch(S){m(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(oo)?g(w):(w.close(),yield function nd(){const b=indexedDB.deleteDatabase(Ko);return new Ps(b).toPromise()}(),g(yield Qo()))}))})}function al(b,g,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(b,g,m){const w=Xa(b,!0).put({[ol]:g,value:m});return new Ps(w).toPromise()})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,g){const m=Xa(b,!1).get(g),w=yield new Ps(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ul(b,g){const m=Xa(b,!0).delete(g);return new Ps(m).toPromise()}const Lf=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Qo()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return xs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=e_._getInstance(function td(){return xs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function ed(){return _s.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xc(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(S=O[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function sl(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Qo();return yield al(m,so,"1"),yield ul(m,so),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(O=>al(O,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(O=>function kf(b,g){return ao.apply(this,arguments)}(O,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>ul(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(Z=>{const pe=Xa(Z,!1).getAll();return new Ps(pe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Z,value:pe}of w)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(pe)&&(m.notifyListeners(Z,pe),S.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Vf(b,g){return tt(b,"POST","/v2/accounts/mfaSignIn:start",_t(b,g))}function sd(){return(sd=(0,l.Z)(function*(b){return(yield tt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jo(b){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=S=>{const O=Te("internal-error");O.customData=S,m(O)},w.type="text/javascript",w.charset="UTF-8",function jb(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function uo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const eu=1e12;class lo{constructor(g){this.auth=g,this.counter=eu,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new r_(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||eu;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||eu))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(g||eu))||void 0===w||w.execute(),""})()}}class r_{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;K(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function od(b){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xo=uo("rcb"),$f=new xe(3e4,6e4);class Gf{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=$n().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return K(function ea(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($n().grecaptcha):new Promise((w,S)=>{const O=$n().setTimeout(()=>{S(Te(g,"network-request-failed"))},$f.get());$n()[Xo]=()=>{$n().clearTimeout(O),delete $n()[Xo];const pe=$n().grecaptcha;if(!pe)return void S(Te(g,"internal-error"));const Ze=pe.render;pe.render=(dt,Bt)=>{const un=Ze(dt,Bt);return this.counter++,un},this.hostLanguage=m,w(pe)},Jo(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Xo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=$n().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tu{load(g){return(0,l.Z)(function*(){return new lo(g)})()}clearedOneInstance(){}}const co="recaptcha",ad={theme:"light",type:"image"};class ud{constructor(g,m=Object.assign({},ad),w){this.parameters=m,this.type=co,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(w),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tu:new Gf,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const Z=pe=>{pe&&(g.tokenChangeListeners.delete(Z),O(pe))};g.tokenChangeListeners.add(Z),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=$n()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){K(oe()&&!xs(),g.auth,"internal-error"),yield function ta(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function ll(b){return sd.apply(this,arguments)}(g.auth);K(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class i_{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=hs._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Gb(b,g,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(b,g,m){const w=ur(b),S=yield dl(w,g,(0,B.m9)(m));return new i_(S,O=>Gr(w,O))})).apply(this,arguments)}function ho(b,g,m){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b);yield qa(!1,w,"phone");const S=yield dl(w.auth,g,(0,B.m9)(m));return new i_(S,O=>Wc(w,O))})).apply(this,arguments)}function Hb(b,g,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b),S=yield dl(w.auth,g,(0,B.m9)(m));return new i_(S,O=>Ju(w,O))})).apply(this,arguments)}function dl(b,g,m){return s_.apply(this,arguments)}function s_(){return(s_=(0,l.Z)(function*(b,g,m){var w;const S=yield m.verify();try{let O;if(K("string"==typeof S,b,"argument-error"),K(m.type===co,b,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const Z=O.session;if("phoneNumber"in O)return K("enroll"===Z.type,b,"internal-error"),(yield Vb(b,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===Z.type,b,"internal-error");const pe=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return K(pe,b,"missing-multi-factor-info"),(yield Vf(b,{mfaPendingCredential:Z.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield $c(b,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Z}}finally{m._reset()}})).apply(this,arguments)}function iT(b,g){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(b,g){yield Yu((0,B.m9)(b),g)})).apply(this,arguments)}let zb=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=ur(m)}verifyPhoneNumber(m,w){return dl(this.auth,m,(0,B.m9)(w))}static credential(m,w){return hs._fromVerification(m,w)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?hs._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function nu(b,g){return g?Ae(g):(K(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Pn extends En{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ri(g,this._buildIdpRequest())}_linkToIdToken(g,m){return ri(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return ri(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function zf(b){return zc(b.auth,new Pn(b),b.bypassAuthState)}function hl(b){const{auth:g,user:m}=b;return K(m,g,"internal-error"),Df(m,new Pn(b),b.bypassAuthState)}function Wb(b){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(b){const{auth:g,user:m}=b;return K(m,g,"internal-error"),Yu(m,new Pn(b),b.bypassAuthState)})).apply(this,arguments)}class fo{constructor(g,m,w,S,O=!1){this.auth=g,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(w,S){g.pendingPromise={resolve:w,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:Z,error:pe,type:Ze}=g;if(pe)return void m.reject(pe);const dt={auth:m.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ze)(dt))}catch(Bt){m.reject(Bt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return zf;case"linkViaPopup":case"linkViaRedirect":return Wb;case"reauthViaPopup":case"reauthViaRedirect":return hl;default:Ce(this.auth,"internal-error")}}resolve(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const o_=new xe(2e3,1e4);function ld(b,g,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(b,g,m){const w=ur(b);ve(b,g,fs);const S=nu(w,m);return new Rr(w,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function qb(b,g,m){return a_.apply(this,arguments)}function a_(){return(a_=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b);ve(w.auth,g,fs);const S=nu(w.auth,m);return new Rr(w.auth,"reauthViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}function Zb(b,g,m){return u_.apply(this,arguments)}function u_(){return(u_=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b);ve(w.auth,g,fs);const S=nu(w.auth,m);return new Rr(w.auth,"linkViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}let Rr=(()=>{class b extends fo{constructor(m,w,S,O,Z){super(m,w,O,Z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return K(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){de(1===m.filter.length,"Popup operations only handle one event");const w=Rs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,o_.get())};m()}}return b.currentPopupAction=null,b})();const Ht=new Map;class po extends fo{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=Ht.get(m.auth._key());if(!w){try{const O=(yield function ut(b,g){return en.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}Ht.set(m.auth._key(),w)}return m.bypassAuthState||Ht.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const S=yield w.auth._redirectUserForId(g.eventId);if(S)return w.user=S,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function en(){return(en=(0,l.Z)(function*(b,g){const m=pl(g),w=qf(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function kn(b,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(b,g){return qf(b)._set(pl(g),"true")})).apply(this,arguments)}function fl(){Ht.clear()}function jn(b,g){Ht.set(b._key(),g)}function qf(b){return Ae(b._redirectPersistence)}function pl(b){return V("pendingRedirect",b.config.apiKey,b.name)}function gl(b,g,m){return function dd(b,g,m){return ks.apply(this,arguments)}(b,g,m)}function ks(){return(ks=(0,l.Z)(function*(b,g,m){const w=ur(b);ve(b,g,fs),yield w._initializationPromise;const S=nu(w,m);return yield kn(S,w),S._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Zf(b,g,m){return function Mi(b,g,m){return st.apply(this,arguments)}(b,g,m)}function st(){return(st=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b);ve(w.auth,g,fs),yield w.auth._initializationPromise;const S=nu(w.auth,m);yield kn(S,w.auth);const O=yield ia(w);return S._openRedirect(w.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function Yf(b,g,m){return function ru(b,g,m){return Fs.apply(this,arguments)}(b,g,m)}function Fs(){return(Fs=(0,l.Z)(function*(b,g,m){const w=(0,B.m9)(b);ve(w.auth,g,fs),yield w.auth._initializationPromise;const S=nu(w.auth,m);yield qa(!1,w,g.providerId),yield kn(S,w.auth);const O=yield ia(w);return S._openRedirect(w.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function hd(b,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(b,g){return yield ur(b)._initializationPromise,fd(b,g,!1)})).apply(this,arguments)}function fd(b,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(b,g,m=!1){const w=ur(b),S=nu(w,g),Z=yield new po(w,S,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,g)),Z})).apply(this,arguments)}function ia(b){return ml.apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(b){const g=Rs(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class pd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function yl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Di(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Di(g)){const S=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,S))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(go(g))}saveEventToCache(g){this.cachedEventUids.add(go(g)),this.lastProcessedEventTime=Date.now()}}function go(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Di({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Kf(b){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(b,g={}){return tt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const ys=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xi=/^https?/;function wn(){return(wn=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Kf(b);for(const m of g)try{if(Qf(m))return}catch{}Ce(b,"unauthorized-domain")})).apply(this,arguments)}function Qf(b){const g=te(),{protocol:m,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const Z=new URL(b);return""===Z.hostname&&""===w?"chrome-extension:"===m&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===w}if(!xi.test(m))return!1;if(ys.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const vl=new xe(3e4,6e4);function vn(){const b=$n().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let Zi=null;function sn(b){return Zi=Zi||function hn(b){return new Promise((g,m)=>{var w,S,O;function Z(){vn(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vn(),m(Te(b,"network-request-failed"))},timeout:vl.get()})}if(null!==(S=null===(w=$n().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(O=$n().gapi)||void 0===O||!O.load){const pe=uo("iframefcb");return $n()[pe]=()=>{gapi.load?Z():m(Te(b,"network-request-failed"))},Jo(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ze=>m(Ze))}Z()}}).catch(g=>{throw Zi=null,g})}(b),Zi}const Er=new xe(5e3,15e3),Yb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(b){const g=b.config;K(g.authDomain,b,"auth-domain-config-required");const m=g.emulator?Ke(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:x.SDK_VERSION},S=Ls.get(b.config.apiHost);S&&(w.eid=S);const O=b._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function vs(){return vs=(0,l.Z)(function*(b){const g=yield sn(b),m=$n().gapi;return K(m,b,"internal-error"),g.open({where:document.body,url:sa(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yb,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(O,Z){yield w.restyle({setHideOnLeave:!1});const pe=Te(b,"network-request-failed"),Ze=$n().setTimeout(()=>{Z(pe)},Er.get());function dt(){$n().clearTimeout(Ze),O(w)}w.ping(dt).then(dt,()=>{Z(pe)})});return function(O,Z){return S.apply(this,arguments)}}()))}),vs.apply(this,arguments)}const l_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bs(b,g,m,w,S,O){K(b.config.authDomain,b,"auth-domain-config-required"),K(b.config.apiKey,b,"invalid-api-key");const Z={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:w,v:x.SDK_VERSION,eventId:S};if(g instanceof fs){g.setDefaultLanguage(b.languageCode),Z.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(Z.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ze,dt]of Object.entries(O||{}))Z[Ze]=dt}if(g instanceof Ho){const Ze=g.getScopes().filter(dt=>""!==dt);Ze.length>0&&(Z.scopes=Ze.join(","))}b.tenantId&&(Z.tid=b.tenantId);const pe=Z;for(const Ze of Object.keys(pe))void 0===pe[Ze]&&delete pe[Ze];return`${function yd({config:b}){return b.emulator?Ke(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(pe).slice(1)}`}const vd="webStorageSupport",bd=class Yi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=fd,this._overrideRedirectResult=jn}_openPopup(g,m,w,S){var O=this;return(0,l.Z)(function*(){var Z;de(null===(Z=O.eventManagers[g._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const pe=bs(g,m,w,te(),S);return function Ei(b,g,m,w=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let pe="";const Ze=Object.assign(Object.assign({},l_),{width:w.toString(),height:S.toString(),top:O,left:Z}),dt=(0,B.z$)().toLowerCase();m&&(pe=X(dt)?"_blank":m),N(dt)&&(g=g||"http://localhost",Ze.scrollbars="yes");const Bt=Object.entries(Ze).reduce((Ir,[ki,Vs])=>`${Ir}${ki}=${Vs},`,"");if(function Yn(b=(0,B.z$)()){var g;return mt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(dt)&&"_self"!==pe)return function xt(b,g){const m=document.createElement("a");m.href=b,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",pe),new wl(null);const un=window.open(g||"",pe,Bt);K(un,b,"popup-blocked");try{un.focus()}catch{}return new wl(un)}(g,pe,Rs())})()}_openRedirect(g,m,w,S){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(g),function il(b){$n().location.href=b}(bs(g,m,w,te(),S)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(de(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const w=yield function Gn(b){return vs.apply(this,arguments)}(g),S=new pd(g);return w.register("authEvent",O=>(K(O?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:S},m.iframes[g._key()]=w,S})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(vd,{type:vd},S=>{var O;const Z=null===(O=S?.[0])||void 0===O?void 0:O[vd];void 0!==Z&&m(!!Z),Ce(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function gd(b){return wn.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return yr()||P()||mt()}};class wd{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return Q("unexpected MultiFactorSessionType")}}}class Dl extends wd{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Dl(g)}_finalizeEnroll(g,m,w){return function Bb(b,g){return tt(b,"POST","/v2/accounts/mfaEnrollment:finalize",_t(b,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bf(b,g){return tt(b,"POST","/v2/accounts/mfaSignIn:finalize",_t(b,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kb=(()=>{class b{constructor(){}static assertion(m){return Dl._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var Kt="@firebase/auth";class ou{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function cr(b){(0,x._registerComponent)(new ae.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),{apiKey:O,authDomain:Z}=w.options;return((pe,Ze)=>{K(O&&!O.includes(":"),"invalid-api-key",{appName:pe.name}),K(!Z?.includes(":"),"argument-error",{appName:pe.name});const dt={apiKey:O,authDomain:Z,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(b)},Bt=new ff(pe,Ze,dt);return function et(b,g){const m=g?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Ae);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(Bt,m),Bt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new ae.wA("auth-internal",g=>{const m=ur(g.getProvider("auth").getImmediate());return new ou(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(Kt,"0.21.3",function Dd(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,x.registerVersion)(Kt,"0.21.3","esm2017")}("Browser")},2090:(vt,Ee,k)=>{k.d(Ee,{$s:()=>Qe,BH:()=>be,G6:()=>ce,L:()=>fe,LL:()=>pn,P0:()=>me,Pz:()=>Te,Sg:()=>ve,UG:()=>Q,US:()=>ae,ZB:()=>$,ZR:()=>Ye,aH:()=>Ce,b$:()=>Ae,eu:()=>Me,hl:()=>we,jU:()=>de,m9:()=>jt,ne:()=>_i,pd:()=>sr,r3:()=>Si,ru:()=>$e,tV:()=>Oe,uI:()=>K,vZ:()=>mn,w1:()=>et,xO:()=>Or,xb:()=>Ai,z$:()=>Re,zI:()=>xe,zd:()=>mi});const ie=function(U){const V=[];let H=0;for(let F=0;F<U.length;F++){let N=U.charCodeAt(F);N<128?V[H++]=N:N<2048?(V[H++]=N>>6|192,V[H++]=63&N|128):55296==(64512&N)&&F+1<U.length&&56320==(64512&U.charCodeAt(F+1))?(N=65536+((1023&N)<<10)+(1023&U.charCodeAt(++F)),V[H++]=N>>18|240,V[H++]=N>>12&63|128,V[H++]=N>>6&63|128,V[H++]=63&N|128):(V[H++]=N>>12|224,V[H++]=N>>6&63|128,V[H++]=63&N|128)}return V},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let N=0;N<U.length;N+=3){const P=U[N],X=N+1<U.length,De=X?U[N+1]:0,ct=N+2<U.length,je=ct?U[N+2]:0;let cn=(15&De)<<2|je>>6,Yn=63&je;ct||(Yn=64,X||(cn=64)),F.push(H[P>>2],H[(3&P)<<4|De>>4],H[cn],H[Yn])}return F.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ie(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let H=0,F=0;for(;H<U.length;){const N=U[H++];if(N<128)V[F++]=String.fromCharCode(N);else if(N>191&&N<224){const P=U[H++];V[F++]=String.fromCharCode((31&N)<<6|63&P)}else if(N>239&&N<365){const ct=((7&N)<<18|(63&U[H++])<<12|(63&U[H++])<<6|63&U[H++])-65536;V[F++]=String.fromCharCode(55296+(ct>>10)),V[F++]=String.fromCharCode(56320+(1023&ct))}else{const P=U[H++],X=U[H++];V[F++]=String.fromCharCode((15&N)<<12|(63&P)<<6|63&X)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const H=V?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let N=0;N<U.length;){const P=H[U.charAt(N++)],De=N<U.length?H[U.charAt(N)]:0;++N;const je=N<U.length?H[U.charAt(N)]:64;++N;const mt=N<U.length?H[U.charAt(N)]:64;if(++N,null==P||null==De||null==je||null==mt)throw Error();F.push(P<<2|De>>4),64!==je&&(F.push(De<<4&240|je>>2),64!==mt&&F.push(je<<6&192|mt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},fe=function(U){return function(U){const V=ie(U);return ae.encodeByteArray(V,!0)}(U).replace(/\./g,"")},Oe=function(U){try{return ae.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const H in V)!V.hasOwnProperty(H)||!W(H)||(U[H]=$(U[H],V[H]));return U}function W(U){return"__proto__"!==U}const ee=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&Oe(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},me=U=>{const V=(U=>{var V,H;return null===(H=null===(V=ee())||void 0===V?void 0:V.emulatorHosts)||void 0===H?void 0:H[U]})(U);if(!V)return;const H=V.lastIndexOf(":");if(H<=0||H+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const F=parseInt(V.substring(H+1),10);return"["===V[0]?[V.substring(1,H-1),F]:[V.substring(0,H),F]},Ce=()=>{var U;return null===(U=ee())||void 0===U?void 0:U.config},Te=U=>{var V;return null===(V=ee())||void 0===V?void 0:V[`_${U}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,H)=>{this.resolve=V,this.reject=H})}wrapCallback(V){return(H,F)=>{H?this.reject(H):this.resolve(F),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(H):V(H,F))}}}function ve(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=V||"demo-project",N=U.iat||0,P=U.sub||U.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:N,exp:N+3600,auth_time:N,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},U);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(X)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Q(){var U;const V=null===(U=ee())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return"object"==typeof self&&self.self===self}function $e(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const U=Re();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ce(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((U,V)=>{try{let H=!0;const F="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(F);N.onsuccess=()=>{N.result.close(),H||self.indexedDB.deleteDatabase(F),U(!0)},N.onupgradeneeded=()=>{H=!1},N.onerror=()=>{var P;V((null===(P=N.error)||void 0===P?void 0:P.message)||"")}}catch(H){V(H)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ye extends Error{constructor(V,H,F){super(H),this.code=V,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}}class pn{constructor(V,H,F){this.service=V,this.serviceName=H,this.errors=F}create(V,...H){const F=H[0]||{},N=`${this.service}/${V}`,P=this.errors[V],X=P?function wt(U,V){return U.replace(_t,(H,F)=>{const N=V[F];return null!=N?String(N):`<${F}?>`})}(P,F):"Error";return new Ye(N,`${this.serviceName}: ${X} (${N}).`,F)}}const _t=/\{\$([^}]+)}/g;function Si(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function Ai(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function mn(U,V){if(U===V)return!0;const H=Object.keys(U),F=Object.keys(V);for(const N of H){if(!F.includes(N))return!1;const P=U[N],X=V[N];if(Nr(P)&&Nr(X)){if(!mn(P,X))return!1}else if(P!==X)return!1}for(const N of F)if(!H.includes(N))return!1;return!0}function Nr(U){return null!==U&&"object"==typeof U}function Or(U){const V=[];for(const[H,F]of Object.entries(U))Array.isArray(F)?F.forEach(N=>{V.push(encodeURIComponent(H)+"="+encodeURIComponent(N))}):V.push(encodeURIComponent(H)+"="+encodeURIComponent(F));return V.length?"&"+V.join("&"):""}function mi(U){const V={};return U.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[N,P]=F.split("=");V[decodeURIComponent(N)]=decodeURIComponent(P)}}),V}function sr(U){const V=U.indexOf("?");if(!V)return"";const H=U.indexOf("#",V);return U.substring(V,H>0?H:void 0)}function _i(U,V){const H=new Ct(U,V);return H.subscribe.bind(H)}class Ct{constructor(V,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{V(this)}).catch(F=>{this.error(F)})}next(V){this.forEachObserver(H=>{H.next(V)})}error(V){this.forEachObserver(H=>{H.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,H,F){let N;if(void 0===V&&void 0===H&&void 0===F)throw new Error("Missing Observer.");N=function It(U,V){if("object"!=typeof U||null===U)return!1;for(const H of V)if(H in U&&"function"==typeof U[H])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:H,complete:F},void 0===N.next&&(N.next=ln),void 0===N.error&&(N.error=ln),void 0===N.complete&&(N.complete=ln);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),P}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,V)}sendOne(V,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{H(this.observers[V])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function Qe(U,V=1e3,H=2){const F=V*Math.pow(H,U),N=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+N)}function jt(U){return U&&U._delegate?U._delegate:U}},6700:(vt,Ee,k)=>{var l=k(4650);let B=null;function x(){return B}class ye{}const ae=new l.OlP("DocumentToken");let Fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fe(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const Oe=new l.OlP("Location Initialized");let j=(()=>{class n extends Fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function W(){return new j((0,l.LFG)(ae))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let it=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ie)},providedIn:"root"}),n})();const ee=new l.OlP("appBaseHref");let Ie=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+rt(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+rt(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fe),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fe),l.LFG(ee,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Se(ve(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Ve,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(l.LFG(it))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new Ce((0,l.LFG)(it))}()},providedIn:"root"}),n})();function ve(n){return n.replace(/\/index.html$/,"")}var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),$e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Ae=(()=>((Ae=Ae||{})[Ae.Narrow=0]="Narrow",Ae[Ae.Abbreviated=1]="Abbreviated",Ae[Ae.Wide=2]="Wide",Ae[Ae.Short=3]="Short",Ae))(),Tt=(()=>((Tt=Tt||{})[Tt.Short=0]="Short",Tt[Tt.Medium=1]="Medium",Tt[Tt.Long=2]="Long",Tt[Tt.Full=3]="Full",Tt))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function ce(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return mn(a,t)}function we(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return mn(a,t)}function Me(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return mn(a,t)}function pn(n,e){return mn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function wt(n,e){return mn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function _t(n,e){return mn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function tt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===et.CurrencyDecimal)return t[l.wAp.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[l.wAp.NumberSymbols][et.Group]}return r}function Si(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Nr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const sr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,or={},_i=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function ln(n,e,t,r){let i=function P(n){if(De(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return qn(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(sr))return function X(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,_,v),e}(r)}const e=new Date(n);if(!De(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Rn(t,e)||e;let f,c=[];for(;e;){if(f=_i.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const E=c.pop();if(!E)break;e=E}}let _=i.getTimezoneOffset();r&&(_=H(r,_),i=function N(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function F(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(H(e,i)-i))}(i,r,!0));let v="";return c.forEach(E=>{const C=function V(n){if(U[n])return U[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(It.Eras,Ae.Abbreviated);break;case"GGGG":e=Ut(It.Eras,Ae.Wide);break;case"GGGGG":e=Ut(It.Eras,Ae.Narrow);break;case"y":e=Lt(gt.FullYear,1,0,!1,!0);break;case"yy":e=Lt(gt.FullYear,2,0,!0,!0);break;case"yyy":e=Lt(gt.FullYear,3,0,!1,!0);break;case"yyyy":e=Lt(gt.FullYear,4,0,!1,!0);break;case"Y":e=jt(1);break;case"YY":e=jt(2,!0);break;case"YYY":e=jt(3);break;case"YYYY":e=jt(4);break;case"M":case"L":e=Lt(gt.Month,1,1);break;case"MM":case"LL":e=Lt(gt.Month,2,1);break;case"MMM":e=Ut(It.Months,Ae.Abbreviated);break;case"MMMM":e=Ut(It.Months,Ae.Wide);break;case"MMMMM":e=Ut(It.Months,Ae.Narrow);break;case"LLL":e=Ut(It.Months,Ae.Abbreviated,$e.Standalone);break;case"LLLL":e=Ut(It.Months,Ae.Wide,$e.Standalone);break;case"LLLLL":e=Ut(It.Months,Ae.Narrow,$e.Standalone);break;case"w":e=St(1);break;case"ww":e=St(2);break;case"W":e=St(1,!0);break;case"d":e=Lt(gt.Date,1);break;case"dd":e=Lt(gt.Date,2);break;case"c":case"cc":e=Lt(gt.Day,1);break;case"ccc":e=Ut(It.Days,Ae.Abbreviated,$e.Standalone);break;case"cccc":e=Ut(It.Days,Ae.Wide,$e.Standalone);break;case"ccccc":e=Ut(It.Days,Ae.Narrow,$e.Standalone);break;case"cccccc":e=Ut(It.Days,Ae.Short,$e.Standalone);break;case"E":case"EE":case"EEE":e=Ut(It.Days,Ae.Abbreviated);break;case"EEEE":e=Ut(It.Days,Ae.Wide);break;case"EEEEE":e=Ut(It.Days,Ae.Narrow);break;case"EEEEEE":e=Ut(It.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Ut(It.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Ut(It.DayPeriods,Ae.Wide);break;case"aaaaa":e=Ut(It.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ut(It.DayPeriods,Ae.Abbreviated,$e.Standalone,!0);break;case"bbbb":e=Ut(It.DayPeriods,Ae.Wide,$e.Standalone,!0);break;case"bbbbb":e=Ut(It.DayPeriods,Ae.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(It.DayPeriods,Ae.Abbreviated,$e.Format,!0);break;case"BBBB":e=Ut(It.DayPeriods,Ae.Wide,$e.Format,!0);break;case"BBBBB":e=Ut(It.DayPeriods,Ae.Narrow,$e.Format,!0);break;case"h":e=Lt(gt.Hours,1,-12);break;case"hh":e=Lt(gt.Hours,2,-12);break;case"H":e=Lt(gt.Hours,1);break;case"HH":e=Lt(gt.Hours,2);break;case"m":e=Lt(gt.Minutes,1);break;case"mm":e=Lt(gt.Minutes,2);break;case"s":e=Lt(gt.Seconds,1);break;case"ss":e=Lt(gt.Seconds,2);break;case"S":e=Lt(gt.FractionalSeconds,1);break;case"SS":e=Lt(gt.FractionalSeconds,2);break;case"SSS":e=Lt(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Zn(Ct.Short);break;case"ZZZZZ":e=Zn(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Zn(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Zn(Ct.Long);break;default:return null}return U[n]=e,e}(E);v+=C?C(i,t,_):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function qn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Rn(n,e){const t=function oe(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(or[t]=or[t]||{},or[t][e])return or[t][e];let r="";switch(e){case"shortDate":r=pn(n,Tt.Short);break;case"mediumDate":r=pn(n,Tt.Medium);break;case"longDate":r=pn(n,Tt.Long);break;case"fullDate":r=pn(n,Tt.Full);break;case"shortTime":r=wt(n,Tt.Short);break;case"mediumTime":r=wt(n,Tt.Medium);break;case"longTime":r=wt(n,Tt.Long);break;case"fullTime":r=wt(n,Tt.Full);break;case"short":const i=Rn(n,"shortTime"),a=Rn(n,"shortDate");r=yi(_t(n,Tt.Short),[i,a]);break;case"medium":const c=Rn(n,"mediumTime"),f=Rn(n,"mediumDate");r=yi(_t(n,Tt.Medium),[c,f]);break;case"long":const _=Rn(n,"longTime"),v=Rn(n,"longDate");r=yi(_t(n,Tt.Long),[_,v]);break;case"full":const E=Rn(n,"fullTime"),C=Rn(n,"fullDate");r=yi(_t(n,Tt.Full),[E,C])}return r&&(or[t][e]=r),r}function yi(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ar(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function Lt(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function cs(n,e){switch(n){case gt.FullYear:return e.getFullYear();case gt.Month:return e.getMonth();case gt.Date:return e.getDate();case gt.Hours:return e.getHours();case gt.Minutes:return e.getMinutes();case gt.Seconds:return e.getSeconds();case gt.FractionalSeconds:return e.getMilliseconds();case gt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===gt.Hours)0===f&&-12===t&&(f=12);else if(n===gt.FractionalSeconds)return function Ni(n,e){return ar(n,3).substring(0,e)}(f,e);const _=tt(c,et.MinusSign);return ar(f,e,_,r,i)}}function Ut(n,e,t=$e.Format,r=!1){return function(i,a){return function ti(n,e,t,r,i,a){switch(t){case It.Months:return Me(e,i,r)[n.getMonth()];case It.Days:return we(e,i,r)[n.getDay()];case It.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const v=function ei(n){const e=(0,l.cg1)(n);return Si(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Nr(r):[Nr(r[0]),Nr(r[1])])}(e),E=function Ai(n,e,t){const r=(0,l.cg1)(n);Si(r);const a=mn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return mn(a,t)||[]}(e,i,r),C=v.findIndex(M=>{if(Array.isArray(M)){const[L,q]=M,J=c>=L.hours&&f>=L.minutes,se=c<q.hours||c===q.hours&&f<q.minutes;if(L.hours<q.hours){if(J&&se)return!0}else if(J||se)return!0}else if(M.hours===c&&M.minutes===f)return!0;return!1});if(-1!==C)return E[C]}return ce(e,i,r)[c<12?0:1];case It.Eras:return function xe(n,e){return mn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Zn(n){return function(e,t,r){const i=-1*r,a=tt(t,et.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ct.Short:return(i>=0?"+":"")+ar(c,2,a)+ar(Math.abs(i%60),2,a);case Ct.ShortGMT:return"GMT"+(i>=0?"+":"")+ar(c,1,a);case Ct.Long:return"GMT"+(i>=0?"+":"")+ar(c,2,a)+":"+ar(Math.abs(i%60),2,a);case Ct.Extended:return 0===r?"Z":(i>=0?"+":"")+ar(c,2,a)+":"+ar(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function bt(n){return qn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function St(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=bt(t),c=function Qe(n){const e=qn(n,0,1).getDay();return qn(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return ar(i,n,tt(r,et.MinusSign))}}function jt(n,e=!1){return function(t,r){return ar(bt(t).getFullYear(),n,tt(r,et.MinusSign),e)}}const U={};function H(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function De(n){return n instanceof Date&&!isNaN(n.valueOf())}const ct=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ja(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const ni=/\s+/,nt=[];let Ot=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=nt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ni):nt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ni):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ni).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Kn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Kn(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),_n(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _n(n,e){n.context.$implicit=e.item}let xn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let vi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function Bn(n,e){return new l.vHH(2100,!1)}class $c{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Hu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const zu=new Hu,Go=new $c;let eo=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return zu;if((0,l.F4k)(t))return Go;throw Bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ga=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wu=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let br=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return ln(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Bn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Ga,24),l.Y36(Wu,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Bm=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function _f(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function ff(n,e,t){return function Vo(n,e,t,r,i,a,c=!1){let f="",_=!1;if(isFinite(n)){let v=function Uc(n){let r,i,a,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],c=0;a<=f;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(v=function pf(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let E=e.minInt,C=e.minFrac,M=e.maxFrac;if(a){const Be=a.match(ct);if(null===Be)throw new Error(`${a} is not a valid digit info`);const Je=Be[1],We=Be[3],He=Be[5];null!=Je&&(E=ja(Je)),null!=We&&(C=ja(We)),null!=He?M=ja(He):null!=We&&C>M&&(M=C)}!function gf(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let C=c;C<r.length;C++)r[C]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let C=1;C<c;C++)r[C]=0}if(f>=5)if(c-1<0){for(let C=0;C>c;C--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let _=0!==a;const v=e+n.integerLen,E=r.reduceRight(function(C,M,L,q){return q[L]=(M+=C)<10?M:M-10,_&&(0===q[L]&&L>=v?q.pop():_=!1),M>=10?1:0},0);E&&(r.unshift(E),n.integerLen++)}(v,C,M);let L=v.digits,q=v.integerLen;const J=v.exponent;let se=[];for(_=L.every(Be=>!Be);q<E;q++)L.unshift(0);for(;q<0;q++)L.unshift(0);q>0?se=L.splice(q,L.length):(se=L,L=[0]);const Le=[];for(L.length>=e.lgSize&&Le.unshift(L.splice(-e.lgSize,L.length).join(""));L.length>e.gSize;)Le.unshift(L.splice(-e.gSize,L.length).join(""));L.length&&Le.unshift(L.join("")),f=Le.join(tt(t,r)),se.length&&(f+=tt(t,i)+se.join("")),J&&(f+=tt(t,et.Exponential)+"+"+J)}else f=tt(t,et.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Bo(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],_=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let E=0;E<_.length;E++){const C=_.charAt(E);"0"===C?t.minFrac=t.maxFrac=E+1:"#"===C?t.maxFrac=E+1:t.posSuf+=C}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,a){const E=i.length-t.posPre.length-t.posSuf.length,C=a.indexOf("#");t.negPre=a.substring(0,C).replace(/'/g,""),t.negSuf=a.slice(C+E).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Jt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Q.Percent),tt(e,et.MinusSign)),e,et.Group,et.Decimal,t,!0).replace(new RegExp("%","g"),tt(e,et.PercentSign))}(function za(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw Bn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Um=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw Bn();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const bi="browser";function Wa(n){return n===bi}function wf(n){return"server"===n}let Yu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Gc((0,l.LFG)(ae),window)}),n})();class Gc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ku(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qa(this.window.history)||qa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class so extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zo extends so{static makeCurrent(){!function ie(n){B||(B=n)}(new Zo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xm(){return Yo=Yo||document.querySelector("base"),Yo?Yo.getAttribute("href"):null}();return null==t?null:function rl(n){ms=ms||document.createElement("a"),ms.setAttribute("href",n);const e=ms.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ur(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ms,Yo=null;const Jc=new l.OlP("TRANSITION_ID"),Ja=[{provide:l.ip1,useFactory:function rT(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Jc,ae,l.zs3],multi:!0}];let e_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new l.OlP("EventManagerPlugins");let Xc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $n{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let il=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xs=(()=>{class n extends il{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ed),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ed))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ed(n){x().remove(n)}const _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sl=/%COMP%/g;function Xa(n,e){return e.flat(100).map(t=>t.replace(sl,n))}function nd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new al(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ul(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new Ff(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xa(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xc),l.LFG(xs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class al{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_s[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ao(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ao(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=_s[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=_s[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nd(r)):this.eventManager.addEventListener(e,t,nd(r))}}function ao(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ul extends al{constructor(e,t,r,i){super(e),this.component=r;const a=Xa(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function ol(n){return"_ngcontent-%COMP%".replace(sl,n)}(i+"-"+r.id),this.hostAttr=function Ps(n){return"_nghost-%COMP%".replace(sl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ff extends al{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Xa(i.id,i.styles);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rd=(()=>{class n extends $n{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const id=["alt","control","meta","shift"],Lf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bf=(()=>{class n extends $n{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),id.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),c+=v+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Lf[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),id.forEach(c=>{c!==i&&(0,Vf[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const r_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:bi},{provide:l.g9A,useValue:function n_(){Zo.makeCurrent()},multi:!0},{provide:ae,useFactory:function eu(){return(0,l.RDi)(document),document},deps:[]}]),od=new l.OlP(""),Xo=[{provide:l.rWj,useClass:class $b{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],$f=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Uf(){return new l.qLn},deps:[]},{provide:Rs,useClass:rd,multi:!0,deps:[ae,l.R0b,l.Lbi]},{provide:Rs,useClass:Bf,multi:!0,deps:[ae]},{provide:Qo,useClass:Qo,deps:[Xc,xs,l.AFp]},{provide:l.FYo,useExisting:Qo},{provide:il,useExisting:xs},{provide:xs,useClass:xs,deps:[ae]},{provide:Xc,useClass:Xc,deps:[Rs,l.R0b]},{provide:class Hc{},useClass:e_,deps:[]},[]];let jf=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Jc,useExisting:l.AFp},Ja]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(od,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...$f,...Xo],imports:[yf,l.hGG]}),n})(),ad=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function co(){return new ad((0,l.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Ht=k(8996),po=k(3269);function ut(...n){const e=(0,po.yG)(n);return(0,Ht.D)(n,e)}var en=k(7579);class kn extends en.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const fl=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jn=k(9751);const{isArray:qf}=Array,{getPrototypeOf:pl,prototype:gl,keys:dd}=Object;var Mi=k(4671),st=k(4004);const{isArray:Yf}=Array;function Fs(n){return(0,st.U)(e=>function ru(n,e){return Yf(e)?n(...e):n(e)}(n,e))}var dn=k(5403),fd=k(9672);function Ri(...n){const e=(0,po.yG)(n),t=(0,po.jO)(n),{args:r,keys:i}=function ks(n){if(1===n.length){const e=n[0];if(qf(e))return{args:e,keys:null};if(function Zf(n){return n&&"object"==typeof n&&pl(n)===gl}(e)){const t=dd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,Ht.D)([],e);const a=new jn.y(function ia(n,e,t=Mi.y){return r=>{ml(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)ml(e,()=>{const v=(0,Ht.D)(n[_],e);let E=!1;v.subscribe((0,dn.x)(r,C=>{a[_]=C,E||(E=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function hd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):Mi.y));return t?a.pipe(Fs(t)):a}function ml(n,e,t){n?(0,fd.f)(t,n,e):e()}var _l=k(8189);function go(...n){return function pd(){return(0,_l.J)(1)}()((0,Ht.D)(n,(0,po.yG)(n)))}var Di=k(8421);function yl(n){return new jn.y(e=>{(0,Di.Xf)(n()).subscribe(e)})}var Kf=k(9635),xr=k(576);function ys(n,e){const t=(0,xr.m)(n)?n:()=>n,r=i=>i.error(t());return new jn.y(e?i=>e.schedule(r,0,i):r)}var xi=k(515),gd=k(727),wn=k(4482);function Qf(){return(0,wn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vl extends jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gd.w0.EMPTY)}return e}refCount(){return Qf()(this)}}function vn(n,e){return(0,wn.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,dn.x)(r,_=>{i?.unsubscribe();let v=0;const E=a++;(0,Di.Xf)(n(_,E)).subscribe(i=(0,dn.x)(r,C=>r.next(e?e(_,C,E,v++):C),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function hn(n){return n<=0?()=>xi.E:(0,wn.e)((e,t)=>{let r=0;e.subscribe((0,dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zi(...n){const e=(0,po.yG)(n);return(0,wn.e)((t,r)=>{(e?go(n,t,e):go(n,t)).subscribe(r)})}function sn(n,e){return(0,wn.e)((t,r)=>{let i=0;t.subscribe((0,dn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Er=k(5577);function md(n){return(0,wn.e)((e,t)=>{let r=!1;e.subscribe((0,dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bl(n=Yb){return(0,wn.e)((e,t)=>{let r=!1;e.subscribe((0,dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Yb(){return new fl}function Ls(n,e){const t=arguments.length>=2;return r=>r.pipe(n?sn((i,a)=>n(i,a,r)):Mi.y,hn(1),t?md(e):bl(()=>new fl))}function sa(n,e){return(0,xr.m)(e)?(0,Er.z)(n,e,1):(0,Er.z)(n,1)}function Gn(n,e,t){const r=(0,xr.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,wn.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,dn.x)(a,_=>{var v;null===(v=r.next)||void 0===v||v.call(r,_),a.next(_)},()=>{var _;f=!1,null===(_=r.complete)||void 0===_||_.call(r),a.complete()},_=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,_),a.error(_)},()=>{var _,v;f&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Mi.y}function vs(n){return(0,wn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,dn.x)(t,void 0,void 0,c=>{a=(0,Di.Xf)(n(c,vs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function l_(n,e,t,r,i){return(a,c)=>{let f=t,_=e,v=0;a.subscribe((0,dn.x)(c,E=>{const C=v++;_=f?n(_,E,C):(f=!0,E),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function oa(n,e){return(0,wn.e)(l_(n,e,arguments.length>=2,!0))}function iu(n){return n<=0?()=>xi.E:(0,wn.e)((e,t)=>{let r=[];e.subscribe((0,dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _d(n,e){const t=arguments.length>=2;return r=>r.pipe(n?sn((i,a)=>n(i,a,r)):Mi.y,iu(1),t?md(e):bl(()=>new fl))}function wl(n){return(0,st.U)(()=>n)}function Ei(n){return(0,wn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const xt="primary",su=Symbol("RouteTitle");class c_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bs(n){return new c_(n)}function yd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!bd(n[i],e[i]))return!1;return!0}function bd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function wd(n){return Array.prototype.concat.apply([],n)}function Dl(n){return n.length>0?n[n.length-1]:null}function Kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Pi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Ht.D)(Promise.resolve(n)):ut(n)}const ou=!1,Dd={exact:function El(n,e,t){if(!Z(n.segments,e.segments)||!g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!El(n.children[r],e.children[r],t))return!1;return!0},subset:ep},cr={exact:function Xf(n,e){return Yi(n,e)},subset:function d_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bd(n[t],e[t]))},ignored:()=>!0};function aa(n,e,t){return Dd[t.paths](n.root,e.root,t.matrixParams)&&cr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ep(n,e,t){return b(n,e,e.segments,t)}function b(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Z(i,t)||e.hasChildren()||!g(i,t,r))}if(n.segments.length===t.length){if(!Z(n.segments,t)||!g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ep(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Z(n.segments,i)&&g(n.segments,i,r)&&n.children[xt])&&b(n.children[xt],e,a,r)}}function g(n,e,t){return e.every((r,i)=>cr[t](n[i].parameters,r.parameters))}class m{constructor(e=new w([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class w{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bs(this.parameters)),this._parameterMap}toString(){return la(this)}}function Z(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new dt},providedIn:"root"}),n})();class dt{parse(e){const t=new Qb(e);return new m(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ir(e.root,!0)}`,r=function np(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Vs(t)}=${Vs(i)}`).join("&"):`${Vs(t)}=${Vs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Bt=new dt;function un(n){return n.segments.map(e=>la(e)).join("/")}function Ir(n,e){if(!n.hasChildren())return un(n);if(e){const t=n.children[xt]?Ir(n.children[xt],!1):"",r=[];return Kt(n.children,(i,a)=>{a!==xt&&r.push(`${a}:${Ir(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pe(n,e){let t=[];return Kt(n.children,(r,i)=>{i===xt&&(t=t.concat(e(r,i)))}),Kt(n.children,(r,i)=>{i!==xt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===xt?[Ir(n.children[xt],!1)]:[`${i}:${Ir(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${un(n)}/${t[0]}`:`${un(n)}/(${t.join("//")})`}}function ki(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vs(n){return ki(n).replace(/%3B/gi,";")}function _o(n){return ki(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ua(n){return decodeURIComponent(n)}function Ed(n){return ua(n.replace(/\+/g,"%20"))}function la(n){return`${_o(n.path)}${function tp(n){return Object.keys(n).map(e=>`;${_o(e)}=${_o(n[e])}`).join("")}(n.parameters)}`}const Id=/^[^\/()?;=#]+/;function au(n){const e=n.match(Id);return e?e[0]:""}const h_=/^[^=?&#]+/,rp=/^[^&#]+/;class Qb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xt]=new w(e,t)),r}parseSegment(){const e=au(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,ou);return this.capture(e),new S(ua(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=au(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=au(this.remaining);i&&(r=i,this.capture(r))}e[ua(t)]=ua(r)}parseQueryParam(e){const t=function Td(n){const e=n.match(h_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function f_(n){const e=n.match(rp);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Ed(t),a=Ed(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=au(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,ou);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=xt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[xt]:new w([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,ou)}}function Cd(n){return n.segments.length>0?new w([],{[xt]:n}):n}function ip(n){const e={};for(const r of Object.keys(n.children)){const a=ip(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function sT(n){if(1===n.numberOfChildren&&n.children[xt]){const e=n.children[xt];return new w(n.segments.concat(e.segments),e.children)}return n}(new w(n.segments,e))}function ca(n){return n instanceof m}function oT(n,e,t,r,i){if(0===t.length)return Tl(e.root,e.root,e.root,r,i);const a=function m_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new g_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Kt(a.outlets,(_,v)=>{f[v]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new g_(t,e,r)}(t);return a.toRoot()?Tl(e.root,e.root,new w([],{}),r,i):function c(_){const v=function ap(n,e,t,r){if(n.isAbsolute)return new ha(e.root,!0,0);if(-1===r)return new ha(t,t===e.root,0);return function Sd(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new ha(r,!1,i-a)}(t,r+(op(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),E=v.processChildren?fa(v.segmentGroup,v.index,a.commands):Ad(v.segmentGroup,v.index,a.commands);return Tl(e.root,v.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function op(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function da(n){return"object"==typeof n&&null!=n&&n.outlets}function Tl(n,e,t,r,i){let c,a={};r&&Kt(r,(_,v)=>{a[v]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),c=n===e?t:p_(n,e,t);const f=Cd(ip(c));return new m(f,a,i)}function p_(n,e,t){const r={};return Kt(n.children,(i,a)=>{r[a]=i===e?t:p_(i,e,t)}),new w(n.segments,r)}class g_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&op(r[0]))throw new l.vHH(4003,!1);const i=r.find(da);if(i&&i!==Dl(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ha{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ad(n,e,t){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return fa(n,e,t);const r=function __(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(da(f))break;const _=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!nw(_,v,c))return a;r+=2}else{if(!nw(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new w(n.segments.slice(0,r.pathIndex),{});return a.children[xt]=new w(n.segments.slice(r.pathIndex),n.children),fa(a,0,i)}return r.match&&0===i.length?new w(n.segments,{}):r.match&&!n.hasChildren()?uu(n,e,t):r.match?fa(n,0,i):uu(n,e,t)}function fa(n,e,t){if(0===t.length)return new w(n.segments,{});{const r=function tw(n){return da(n[0])?n[0].outlets:{[xt]:n}}(t),i={};return!r[xt]&&n.children[xt]&&1===n.numberOfChildren&&0===n.children[xt].segments.length?fa(n.children[xt],e,t):(Kt(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Ad(n.children[c],e,a))}),Kt(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new w(n.segments,i))}}function uu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(da(a)){const _=aT(a.outlets);return new w(r,_)}if(0===i&&op(t[0])){r.push(new S(n.segments[e].path,y_(t[0]))),i++;continue}const c=da(a)?a.outlets[xt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&op(f)?(r.push(new S(c,y_(f))),i+=2):(r.push(new S(c,{})),i++)}return new w(r,{})}function aT(n){const e={};return Kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=uu(new w([],{}),0,t))}),e}function y_(n){const e={};return Kt(n,(t,r)=>e[r]=`${t}`),e}function nw(n,e,t){return n==t.path&&Yi(e,t.parameters)}const Nd="imperative";class Bs{constructor(e,t){this.id=e,this.url=t}}class up extends Bs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends Bs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lu extends Bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lp extends Bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ga extends Bs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uT extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lT extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DM extends Bs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cT extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v_ extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let hT=(()=>{class n{createUrlTree(t,r,i,a,c,f){return oT(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),fT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return hT.\u0275fac(e)},providedIn:"root"}),n})();class aw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Us(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Us(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cu(e,this._root).map(t=>t.value)}}function Us(n,e){if(n===e.value)return e;for(const t of e.children){const r=Us(n,t);if(r)return r}return null}function cu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cu(n,t);if(r.length)return r.unshift(e),r}return[]}class yo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Od(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pT extends aw{constructor(e,t){super(e),this.snapshot=t,E_(this,e)}toString(){return this.snapshot.toString()}}function gT(n,e){const t=function TM(n,e){const c=new dp([],{},{},"",{},xt,e,null,n.root,-1,{});return new uw("",new yo(c,[]))}(n,e),r=new kn([new S("",{})]),i=new kn({}),a=new kn({}),c=new kn({}),f=new kn(""),_=new Cl(r,i,c,f,a,xt,e,t.root);return _.snapshot=t.root,new pT(new yo(_,[]),t)}class Cl{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,st.U)(v=>v[su]))??ut(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>bs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>bs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function D_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function mT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class dp{get title(){return this.data?.[su]}constructor(e,t,r,i,a,c,f,_,v,E,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=v,this._lastPathIndex=E,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uw extends aw{constructor(e,t){super(t),this.url=e,E_(this,t)}toString(){return hp(this._root)}}function E_(n,e){e.value._routerState=n,e.children.forEach(t=>E_(n,t))}function hp(n){const e=n.children.length>0?` { ${n.children.map(hp).join(", ")} } `:"";return`${n.value}${e}`}function ws(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function vd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function du(n,e){const t=Yi(n.params,e.params)&&function O(n,e){return Z(n,e)&&n.every((t,r)=>Yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||du(n.parent,e.parent))}function Sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function cw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sl(n,r,i);return Sl(n,r)})}(n,e,t);return new yo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Sl(n,f)),c}}const r=function CM(n){return new Cl(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Sl(n,a));return new yo(r,i)}}const dw="ngNavigationCancelingError";function _T(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function fp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[dw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pp(n){return yT(n)&&ca(n.url)}function yT(n){return n&&n[dw]}class SM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Al,this.attachRef=null}}let Al=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new SM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gp=!1;let I_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=xt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Al),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,gp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,gp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,gp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,gp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new vT(t,f,i.injector);if(r&&function bT(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class vT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cl?this.route:e===Al?this.childContexts:this.parent.get(e,t)}}let mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[I_],encapsulation:2}),n})();function Md(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function S_(n){const e=n.children&&n.children.map(S_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xt&&(t.component=mp),t}function Ki(n){return n.outlet||xt}function pw(n,e){const t=n.filter(r=>Ki(r)===e);return t.push(...n.filter(r=>Ki(r)!==e)),t}function Rd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OM{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ws(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Od(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Kt(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Od(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Od(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Od(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new sw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new b_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ws(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),ws(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Rd(i.snapshot),_=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class DT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ma{constructor(e,t){this.component=e,this.route=t}}function A_(n,e,t){const r=n._root;return Nl(r,e?e._root:null,t,[r.value])}function hu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Nl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Od(e);return n.children.forEach(c=>{(function MM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function ET(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Z(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Z(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!du(n,e)||!Yi(n.queryParams,e.queryParams);default:return!du(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new DT(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Nl(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ma(f.outlet.component,c))}else c&&Ol(e,f,i),i.canActivateChecks.push(new DT(r)),Nl(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Kt(a,(c,f)=>Ol(c,t.getContext(f),i)),i}function Ol(n,e,t){const r=Od(n),i=n.value;Kt(r,(a,c)=>{Ol(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ma(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ml(n){return"function"==typeof n}function R_(n){return n instanceof fl||"EmptyError"===n?.name}const Rl=Symbol("INITIAL_VALUE");function vo(){return vn(n=>Ri(n.map(e=>e.pipe(hn(1),Zi(Rl)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===Rl)return Rl;if(!1===t||t instanceof m)return t}return!0}),sn(e=>e!==Rl),hn(1)))}function gu(n){return(0,Kf.z)(Gn(e=>{if(ca(e))throw _T(0,e)}),(0,st.U)(e=>!0===e))}const k_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bw(n,e,t,r,i){const a=xd(n,e,t);return a.matched?function NT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ut(i.map(c=>{const f=hu(c,n);return Pi(function _w(n){return n&&Ml(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(vo(),gu()):ut(!0)}(r=Md(e,r),e,t).pipe((0,st.U)(c=>!0===c?a:{...k_})):ut(a)}function xd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...k_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yd)(t,n,e);if(!i)return{...k_};const a={};Kt(i.posParams,(f,_)=>{a[_]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function yp(n,e,t,r){if(t.length>0&&function Dw(n,e,t){return t.some(r=>vp(n,e,r)&&Ki(r)!==xt)}(n,t,r)){const a=new w(e,function OT(n,e,t,r){const i={};i[xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ki(a)!==xt){const c=new w([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ki(a)]=c}return i}(n,e,r,new w(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function xM(n,e,t){return t.some(r=>vp(n,e,r))}(n,t,r)){const a=new w(n.segments,function ww(n,e,t,r,i){const a={};for(const c of r)if(vp(n,t,c)&&!i[Ki(c)]){const f=new w([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Ki(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new w(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xl(n,e,t,r){return!!(Ki(n)===r||r!==xt&&vp(e,t,n))&&("**"===n.path||xd(e,n,t).matched)}function Ew(n,e,t){return 0===e.length&&!n.children[t]}const bo=!1;class _a{constructor(e){this.segmentGroup=e||null}}class Iw{constructor(e){this.urlTree=e}}function Pl(n){return ys(new _a(n))}function Tw(n){return ys(new Iw(n))}class Sw{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=yp(this.urlTree.root,[],[],this.config).segmentGroup,t=new w(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,xt).pipe((0,st.U)(a=>this.createUrlTree(ip(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vs(a=>{if(a instanceof Iw)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof _a?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,xt).pipe((0,st.U)(i=>this.createUrlTree(ip(i),e.queryParams,e.fragment))).pipe(vs(i=>{throw i instanceof _a?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,bo)}createUrlTree(e,t,r){const i=Cd(e);return new m(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(a=>new w([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Ht.D)(i).pipe(sa(a=>{const c=r.children[a],f=pw(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,st.U)(_=>({segment:_,outlet:a})))}),oa((a,c)=>(a[c.outlet]=c.segment,a),{}),_d())}expandSegment(e,t,r,i,a,c){return(0,Ht.D)(r).pipe(sa(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(vs(v=>{if(v instanceof _a)return ut(null);throw v}))),Ls(f=>!!f),vs((f,_)=>{if(R_(f))return Ew(t,i,a)?ut(new w([],{})):Pl(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return xl(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Pl(t):Pl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tw(a):this.lineralizeSegments(r,a).pipe((0,Er.z)(c=>{const f=new w(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:v,positionalParamSegments:E}=xd(t,i,a);if(!f)return Pl(t);const C=this.applyRedirectCommands(_,i.redirectTo,E);return i.redirectTo.startsWith("/")?Tw(C):this.lineralizeSegments(i,C).pipe((0,Er.z)(M=>this.expandSegment(e,t,r,M.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Md(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,st.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new w(i,{})))):ut(new w(i,{}))):bw(t,r,i,e).pipe(vn(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Er.z)(E=>{const C=E.injector??e,M=E.routes,{segmentGroup:L,slicedSegments:q}=yp(t,f,_,M),J=new w(L.segments,L.children);if(0===q.length&&J.hasChildren())return this.expandChildren(C,M,J).pipe((0,st.U)(Je=>new w(f,Je)));if(0===M.length&&0===q.length)return ut(new w(f,{}));const se=Ki(r)===a;return this.expandSegment(C,J,M,q,se?xt:a,!0).pipe((0,st.U)(Be=>new w(f.concat(Be.segments),Be.children)))})):Pl(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function vw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ut(!0):ut(i.map(c=>{const f=hu(c,n);return Pi(function RM(n){return n&&Ml(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(vo(),gu())}(e,t,r).pipe((0,Er.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Gn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function RT(n){return ys(fp(bo,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[xt])return ys(new l.vHH(4e3,bo));i=i.children[xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new m(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kt(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Kt(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new w(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,bo);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class xT{}class PT{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=yp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,xt).pipe((0,st.U)(t=>{if(null===t)return null;const r=new dp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yo(r,t),a=new uw(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=D_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Ht.D)(Object.keys(r.children)).pipe(sa(i=>{const a=r.children[i],c=pw(t,i);return this.processSegmentGroup(e,c,a,i)}),oa((i,a)=>i&&a?(i.push(...a),i):null),function Jf(n,e=!1){return(0,wn.e)((t,r)=>{let i=0;t.subscribe((0,dn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),md(null),_d(),(0,st.U)(i=>{if(null===i)return null;const a=Aw(i);return function kT(n){n.sort((e,t)=>e.value.outlet===xt?-1:t.value.outlet===xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Ht.D)(t).pipe(sa(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Ls(c=>!!c),vs(c=>{if(R_(c))return Ew(r,i,a)?ut([]):ut(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!xl(t,r,i,a))return ut(null);let c;if("**"===t.path){const f=i.length>0?Dl(i).parameters:{},_=mu(r)+i.length;c=ut({snapshot:new dp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ow(t),Ki(t),t.component??t._loadedComponent??null,t,Nw(r),_,Mw(t)),consumedSegments:[],remainingSegments:[]})}else c=bw(r,t,i,e).pipe((0,st.U)(({matched:f,consumedSegments:_,remainingSegments:v,parameters:E})=>{if(!f)return null;const C=mu(r)+_.length;return{snapshot:new dp(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ow(t),Ki(t),t.component??t._loadedComponent??null,t,Nw(r),C,Mw(t)),consumedSegments:_,remainingSegments:v}}));return c.pipe(vn(f=>{if(null===f)return ut(null);const{snapshot:_,consumedSegments:v,remainingSegments:E}=f;e=t._injector??e;const C=t._loadedInjector??e,M=function FT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:q}=yp(r,v,E,M.filter(se=>void 0===se.redirectTo));if(0===q.length&&L.hasChildren())return this.processChildren(C,M,L).pipe((0,st.U)(se=>null===se?null:[new yo(_,se)]));if(0===M.length&&0===q.length)return ut([new yo(_,[])]);const J=Ki(t)===a;return this.processSegment(C,M,L,q,J?xt:a).pipe((0,st.U)(se=>null===se?null:[new yo(_,se)]))}))}}function LT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Aw(n){const e=[],t=new Set;for(const r of n){if(!LT(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Aw(r.children);e.push(new yo(r.value,i))}return e.filter(r=>!t.has(r))}function Nw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mu(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ow(n){return n.data||{}}function Mw(n){return n.resolve||{}}function kw(n){return"string"==typeof n.title||null===n.title}function wp(n){return vn(e=>{const t=n(e);return t?(0,Ht.D)(t).pipe((0,st.U)(()=>e)):ut(e)})}const Wr=new l.OlP("ROUTES");let V_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Pi(t.loadComponent()).pipe((0,st.U)(Vw),Gn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Ei(()=>{this.componentLoaders.delete(t)})),i=new vl(r,()=>new en.x).pipe(Qf());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,st.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,v,E=!1;Array.isArray(f)?v=f:(_=f.create(t).injector,v=wd(_.get(Wr,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(S_),injector:_}}),Ei(()=>{this.childrenLoaders.delete(r)})),c=new vl(a,()=>new en.x).pipe(Qf());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Pi(t()).pipe((0,st.U)(Vw),(0,Er.z)(i=>i instanceof l.YKP||Array.isArray(i)?ut(i):(0,Ht.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vw(n){return function Lw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ep=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new en.x,this.configLoader=(0,l.f3M)(V_),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Ze),this.rootContexts=(0,l.f3M)(Al),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(r=>0!==r.id),(0,st.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let i=!1,a=!1;return ut(r).pipe(Gn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new lp(c.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),xi.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Bw(c.source)&&(t.browserUrlTree=c.extractedUrl),ut(c).pipe(vn(E=>{const C=this.transitions?.getValue();return this.events.next(new up(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),C!==this.transitions?.getValue()?xi.E:Promise.resolve(E)}),function F_(n,e,t,r){return vn(i=>function Cw(n,e,t,r,i){return new Sw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Gn(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function PM(n,e,t,r,i){return(0,Er.z)(a=>function Pd(n,e,t,r,i,a,c="emptyOnly"){return new PT(n,e,t,r,i,c,a).recognize().pipe(vn(f=>null===f?function L_(n){return new jn.y(e=>e.error(n))}(new xT):ut(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,st.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Gn(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const M=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(M,E)}t.browserUrlTree=E.urlAfterRedirects}const C=new uT(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(C)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:C,source:M,restoredState:L,extras:q}=c,J=new up(E,this.urlSerializer.serialize(C),M,L);this.events.next(J);const se=gT(C,this.rootComponentType).snapshot;return ut(r={...c,targetSnapshot:se,urlAfterRedirects:C,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new lp(c.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),xi.E}}),Gn(c=>{const f=new lT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,st.U)(c=>r={...c,guards:A_(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function CT(n,e){return(0,Er.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?ut({...t,guardsResult:!0}):function x_(n,e,t,r){return(0,Ht.D)(n).pipe((0,Er.z)(i=>function AT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const _=Rd(e)??i,v=hu(f,_);return Pi(function M_(n){return n&&Ml(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):_.runInContext(()=>v(n,e,t,r))).pipe(Ls())})).pipe(vo()):ut(!0)}(i.component,i.route,t,e,r)),Ls(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Er.z)(f=>f&&function N_(n){return"boolean"==typeof n}(f)?function _p(n,e,t,r){return(0,Ht.D)(e).pipe(sa(i=>go(function yw(n,e){return null!==n&&e&&e(new cp(n)),ut(!0)}(i.route.parent,r),function pu(n,e){return null!==n&&e&&e(new iw(n)),ut(!0)}(i.route,r),function ST(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function mw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>yl(()=>ut(c.guards.map(_=>{const v=Rd(c.node)??t,E=hu(_,v);return Pi(function IT(n){return n&&Ml(n.canActivateChild)}(E)?E.canActivateChild(r,n):v.runInContext(()=>E(r,n))).pipe(Ls())})).pipe(vo())));return ut(a).pipe(vo())}(n,i.path,t),function P_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(a=>yl(()=>{const c=Rd(e)??t,f=hu(a,c);return Pi(function O_(n){return n&&Ml(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Ls())}));return ut(i).pipe(vo())}(n,i.route,t))),Ls(i=>!0!==i,!0))}(r,a,n,e):ut(f)),(0,st.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),Gn(c=>{if(r.guardsResult=c.guardsResult,ca(c.guardsResult))throw _T(0,c.guardsResult);const f=new DM(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),sn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),wp(c=>{if(c.guards.canActivateChecks.length)return ut(c).pipe(Gn(f=>{const _=new cT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),vn(f=>{let _=!1;return ut(f).pipe(function kM(n,e){return(0,Er.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let a=0;return(0,Ht.D)(i).pipe(sa(c=>function Rw(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!kw(i)&&(a[su]=i.title),function FM(n,e,t,r){const i=function xw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ut({});const a={};return(0,Ht.D)(i).pipe((0,Er.z)(c=>function Pw(n,e,t,r){const i=Rd(e)??r,a=hu(n,i);return Pi(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Ls(),Gn(f=>{a[c]=f}))),iu(1),wl(a),vs(c=>R_(c)?xi.E:ys(c)))}(a,n,e,r).pipe((0,st.U)(c=>(n._resolvedData=c,n.data=D_(n,t).resolve,i&&kw(i)&&(n.data[su]=i.title),null)))}(c.route,r,n,e)),Gn(()=>a++),iu(1),(0,Er.z)(c=>a===i.length?ut(t):xi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Gn({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Gn(f=>{const _=new v_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),wp(c=>{const f=_=>{const v=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(_.routeConfig).pipe(Gn(E=>{_.component=E}),(0,st.U)(()=>{})));for(const E of _.children)v.push(...f(E));return v};return Ri(f(c.targetSnapshot.root)).pipe(md(),hn(1))}),wp(()=>this.afterPreactivation()),(0,st.U)(c=>{const f=function lw(n,e,t){const r=Sl(n,e._root,t?t._root:void 0);return new pT(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),Gn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new OM(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Gn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new pa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ei(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vs(c=>{if(a=!0,yT(c)){pp(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new lu(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),pp(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Bw(r.source)};t.scheduleNavigation(_,Nd,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new ga(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return xi.E}))}))}cancelNavigationTransition(t,r,i){const a=new lu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bw(n){return n!==Nd}let B_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===xt);return r}getResolvedTitleForRoute(t){return t.data[su]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(UT)},providedIn:"root"}),n})(),UT=(()=>{class n extends B_{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ad))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(kt)},providedIn:"root"}),n})();class jT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kt=(()=>{class n extends jT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kd=new l.OlP("",{providedIn:"root",factory:()=>({})});let $w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(GT)},providedIn:"root"}),n})(),GT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gw(n){throw n}function HT(n,e,t){return e.parse("/")}const Hw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(kd,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Gw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||HT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)($w),this.routeReuseStrategy=(0,l.f3M)($T),this.urlCreationStrategy=(0,l.f3M)(fT),this.titleStrategy=(0,l.f3M)(B_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wd((0,l.f3M)(Wr,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Ep),this.urlSerializer=(0,l.f3M)(Ze),this.location=(0,l.f3M)(Ce),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new m,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gT(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(S_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,v=_?this.currentUrlTree.fragment:c;let E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...a};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=a||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ca(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Nd,null,r)}navigate(t,r={skipLocationChange:!1}){return function LM(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Hw}:!1===r?{...zT}:r,ca(t))return aa(this.currentUrlTree,t,i);const a=this.parseUrl(t);return aa(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,v,E;return c?(f=c.resolve,_=c.reject,v=c.promise):v=new Promise((C,M)=>{f=C,_=M}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kl=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new en.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof pa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fi),l.Y36(Cl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(it))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Ww{}let WT=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(sn(t=>t instanceof pa),sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Ht.D)(i).pipe((0,_l.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const a=i.pipe((0,Er.z)(c=>null===c?ut(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Ht.D)([a,c]).pipe((0,_l.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ww),l.LFG(V_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=new l.OlP("");let qT=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof w_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new w_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Fl(n,e){return{\u0275kind:n,\u0275providers:e}}function Ld(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Fi),i=n.get(Kw);1===n.get(Ip)&&r.initialNavigation(),n.get(Qw,null,l.XFs.Optional)?.setUpPreloading(),n.get(Yw,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Kw=new l.OlP("",{factory:()=>new en.x}),Ip=new l.OlP("",{providedIn:"root",factory:()=>1});const Qw=new l.OlP("");function JT(n){return Fl(0,[{provide:Qw,useExisting:WT},{provide:Ww,useExisting:n}])}const Tp=new l.OlP("ROUTER_FORROOT_GUARD"),$M=[Ce,{provide:Ze,useClass:dt},Fi,Al,{provide:Cl,useFactory:function U_(n){return n.routerState.root},deps:[Fi]},V_,[]];function j_(){return new l.PXZ("Router",Fi)}let Jw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$M,[],{provide:Wr,multi:!0,useValue:t},{provide:Tp,useFactory:tC,deps:[[Fi,new l.FiY,new l.tp0]]},{provide:kd,useValue:r||{}},r?.useHash?{provide:it,useClass:me}:{provide:it,useClass:Ie},{provide:Yw,useFactory:()=>{const n=(0,l.f3M)(Yu),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(kd),r=(0,l.f3M)(Ep),i=(0,l.f3M)(Ze);return t.scrollOffset&&n.setOffset(t.scrollOffset),new qT(i,r,n,e,t)}},r?.preloadingStrategy?JT(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:j_},r?.initialNavigation?eD(r):[],[{provide:tD,useFactory:Ld},{provide:l.tb,multi:!0,useExisting:tD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Wr,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tp,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mp]}),n})();function tC(n){return"guarded"}function eD(n){return["disabled"===n.initialNavigation?Fl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Fi);return()=>{e.setUpLocationChangeListener()}}},{provide:Ip,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fl(2,[{provide:Ip,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Fi),c=e.get(Kw);(function r(i){e.get(Fi).events.pipe(sn(c=>c instanceof pa||c instanceof lu||c instanceof ga),(0,st.U)(c=>c instanceof pa||c instanceof lu&&(0===c.code||1===c.code)&&null),sn(c=>null!==c),hn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Ep).afterPreactivation=()=>(i(!0),c.closed?ut(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const tD=new l.OlP("");class va{}va.\u0275fac=function(e){return new(e||va)},va.\u0275mod=l.oAB({type:va}),va.\u0275inj=l.cJS({imports:[Jw.forRoot([]),Jw]});class Vd extends gd.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const $l={setInterval(n,e,...t){const{delegate:r}=$l;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$l;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cp=k(8737);class H_ extends Vd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return $l.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&$l.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Cp.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Bd={now:()=>(Bd.delegate||Date).now(),delegate:void 0};class yu{constructor(e,t=yu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}yu.now=Bd.now;class Sp extends yu{constructor(e,t=yu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Ud=new Sp(H_),z_=Ud;var zt=k(9681);(0,zt.registerVersion)("firebase","9.17.1","app");var z=k(5861),pt=k(2090),Qi=k(4859),Ds=k(1877),jl=k(8766);const Ii="@firebase/installations",Ap="0.6.3",iC=`w:${Ap}`,Np="FIS_v2",wo=new pt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oD(n){return n instanceof pt.ZR&&n.code.includes("request-failed")}function $d({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function aD(n){return{token:n.token,requestStatus:2,expiresIn:uC(n.expiresIn),creationTime:Date.now()}}function W_(n,e){return q_.apply(this,arguments)}function q_(){return(q_=(0,z.Z)(function*(n,e){const r=(yield e.json()).error;return wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function uD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function lD(n,{refreshToken:e}){const t=uD(n);return t.append("Authorization",function lC(n){return`${Np} ${n}`}(e)),t}function Ji(n){return jd.apply(this,arguments)}function jd(){return(jd=(0,z.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function uC(n){return Number(n.replace("s","000"))}function cD(n,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,z.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=$d(n),i=uD(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Np,appId:n.appId,sdkVersion:iC})},_=yield Ji(()=>fetch(r,f));if(_.ok){const v=yield _.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:aD(v.authToken)}}throw yield W_("Create Installation",_)})).apply(this,arguments)}function dD(n){return new Promise(e=>{setTimeout(e,n)})}const Y_=/^[cdef][\w-]{21}$/;function dC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Op(n){return function cC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Y_.test(t)?t:""}catch{return""}}function ba(n){return`${n.appName}!${n.appId}`}const Do=new Map;function hC(n,e){const t=ba(n);J_(t,e),function hD(n,e){const t=function X_(){return!wa&&"BroadcastChannel"in self&&(wa=new BroadcastChannel("[Firebase] FID Change"),wa.onmessage=n=>{J_(n.data.key,n.data.fid)}),wa}();t&&t.postMessage({key:n,fid:e}),function Mp(){0===Do.size&&wa&&(wa.close(),wa=null)}()}(t,e)}function J_(n,e){const t=Do.get(n);if(t)for(const r of t)r(e)}let wa=null;const $s="firebase-installations-store";let vu=null;function ey(){return vu||(vu=(0,jl.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore($s)}})),vu}function Gd(n,e){return xp.apply(this,arguments)}function xp(){return(xp=(0,z.Z)(function*(n,e){const t=ba(n),i=(yield ey()).transaction($s,"readwrite"),a=i.objectStore($s),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&hC(n,e.fid),e})).apply(this,arguments)}function ty(n){return ny.apply(this,arguments)}function ny(){return(ny=(0,z.Z)(function*(n){const e=ba(n),r=(yield ey()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done})).apply(this,arguments)}function Io(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,z.Z)(function*(n,e){const t=ba(n),i=(yield ey()).transaction($s,"readwrite"),a=i.objectStore($s),c=yield a.get(t),f=e(c);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&hC(n,f.fid),f})).apply(this,arguments)}function fD(n){return iy.apply(this,arguments)}function iy(){return(iy=(0,z.Z)(function*(n){let e;const t=yield Io(n.appConfig,r=>{const i=fC(r),a=pC(n,i);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function fC(n){return Pp(n||{fid:dC(),registrationStatus:0})}function pC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(wo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gC(n,e){return sy.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mC(n)}:{installationEntry:e}}function sy(){return(sy=(0,z.Z)(function*(n,e){try{const t=yield cD(n,e);return Gd(n.appConfig,t)}catch(t){throw oD(t)&&409===t.customData.serverCode?yield ty(n.appConfig):yield Gd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function mC(n){return oy.apply(this,arguments)}function oy(){return(oy=(0,z.Z)(function*(n){let e=yield ay(n.appConfig);for(;1===e.registrationStatus;)yield dD(100),e=yield ay(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield fD(n);return r||t}return e})).apply(this,arguments)}function ay(n){return Io(n,e=>{if(!e)throw wo.create("installation-not-found");return Pp(e)})}function Pp(n){return function _C(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function uy(n,e){return ly.apply(this,arguments)}function ly(){return(ly=(0,z.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=yC(n,t),i=lD(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iC,appId:n.appId}})},_=yield Ji(()=>fetch(r,f));if(_.ok)return aD(yield _.json());throw yield W_("Generate Auth Token",_)})).apply(this,arguments)}function yC(n,{fid:e}){return`${$d(n)}/${e}/authTokens:generate`}function cy(n){return dy.apply(this,arguments)}function dy(){return(dy=(0,z.Z)(function*(n,e=!1){let t;const r=yield Io(n.appConfig,a=>{if(!mD(a))throw wo.create("not-registered");const c=a.authToken;if(!e&&HM(c))return a;if(1===c.requestStatus)return t=vC(n,e),a;{if(!navigator.onLine)throw wo.create("app-offline");const f=Fp(a);return t=gD(n,f),f}});return t?yield t:r.authToken})).apply(this,arguments)}function vC(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,z.Z)(function*(n,e){let t=yield pD(n.appConfig);for(;1===t.authToken.requestStatus;)yield dD(100),t=yield pD(n.appConfig);const r=t.authToken;return 0===r.requestStatus?cy(n,e):r})).apply(this,arguments)}function pD(n){return Io(n,e=>{if(!mD(e))throw wo.create("not-registered");return function bu(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gD(n,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,z.Z)(function*(n,e){try{const t=yield uy(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Gd(n.appConfig,r),t}catch(t){if(!oD(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gd(n.appConfig,r)}else yield ty(n.appConfig);throw t}})).apply(this,arguments)}function mD(n){return void 0!==n&&2===n.registrationStatus}function HM(n){return 2===n.requestStatus&&!function _D(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Fp(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Gl(){return(Gl=(0,z.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield fD(e);return r?r.catch(console.error):cy(e).catch(console.error),t.fid})).apply(this,arguments)}function fy(){return(fy=(0,z.Z)(function*(n,e=!1){const t=n;return yield py(t),(yield cy(t,e)).token})).apply(this,arguments)}function py(n){return gy.apply(this,arguments)}function gy(){return(gy=(0,z.Z)(function*(n){const{registrationPromise:e}=yield fD(n);e&&(yield e)})).apply(this,arguments)}function Da(n){return wo.create("missing-app-config-values",{valueName:n})}const Du="installations",Zl=n=>{const e=n.getProvider("app").getImmediate(),t=function Wl(n){if(!n||!n.options)throw Da("App Configuration");if(!n.name)throw Da("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Da(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,zt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Yl=n=>{const e=n.getProvider("app").getImmediate(),t=(0,zt._getProvider)(e,Du).getImmediate();return{getId:()=>function zM(n){return Gl.apply(this,arguments)}(t),getToken:i=>function bC(n){return fy.apply(this,arguments)}(t,i)}};(function Kl(){(0,zt._registerComponent)(new Qi.wA(Du,Zl,"PUBLIC")),(0,zt._registerComponent)(new Qi.wA("installations-internal",Yl,"PRIVATE"))})(),(0,zt.registerVersion)(Ii,Ap),(0,zt.registerVersion)(Ii,Ap,"esm2017");const Ea="@firebase/remote-config",ai=new pt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class AD{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,z.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function ND(n=navigator){return n.languages&&n.languages[0]||n.language}class Iy{constructor(e,t,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var t=this;return(0,z.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},_={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ND()},v={method:"POST",headers:f,body:JSON.stringify(_)},E=fetch(c,v),C=new Promise((Le,Be)=>{e.signal.addEventListener(()=>{const Je=new Error("The operation was aborted.");Je.name="AbortError",Be(Je)})});let M;try{yield Promise.race([E,C]),M=yield E}catch(Le){let Be="fetch-client-network";throw"AbortError"===Le?.name&&(Be="fetch-timeout"),ai.create(Be,{originalErrorMessage:Le?.message})}let L=M.status;const q=M.headers.get("ETag")||void 0;let J,se;if(200===M.status){let Le;try{Le=yield M.json()}catch(Be){throw ai.create("fetch-client-parse",{originalErrorMessage:Be?.message})}J=Le.entries,se=Le.state}if("INSTANCE_STATE_UNSPECIFIED"===se?L=500:"NO_CHANGE"===se?L=304:("NO_TEMPLATE"===se||"EMPTY_CONFIG"===se)&&(J={}),304!==L&&200!==L)throw ai.create("fetch-status",{httpStatus:L});return{status:L,eTag:q,config:J}})()}}class Ty{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,z.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,z.Z)(function*(){yield function OD(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function MD(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,pt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class xD{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zd(n,e){const t=n.target.error||void 0;return ai.create(e,{originalErrorMessage:t&&t?.message})}const Ia="app_namespace_store";class FD{constructor(e,t,r,i=function kD(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(zd(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ia,{keyPath:"compositeKey"})}}catch(t){e(ai.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,z.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Ia],"readonly").objectStore(Ia),_=t.createCompositeKey(e);try{const v=f.get(_);v.onerror=E=>{a(zd(E,"storage-get"))},v.onsuccess=E=>{const C=E.target.result;i(C?C.value:void 0)}}catch(v){a(ai.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,z.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{const _=i.transaction([Ia],"readwrite").objectStore(Ia),v=r.createCompositeKey(e);try{const E=_.put({compositeKey:v,value:t});E.onerror=C=>{c(zd(C,"storage-set"))},E.onsuccess=()=>{a()}}catch(E){c(ai.create("storage-set",{originalErrorMessage:E?.message}))}})})()}delete(e){var t=this;return(0,z.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Ia],"readwrite").objectStore(Ia),_=t.createCompositeKey(e);try{const v=f.delete(_);v.onerror=E=>{a(zd(E,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(ai.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Cy{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,z.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function LD(){return $p.apply(this,arguments)}function $p(){return($p=(0,z.Z)(function*(){if(!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}!function Bp(){(0,zt._registerComponent)(new Qi.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ai.create("registration-window");if(!(0,pt.hl)())throw ai.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:f}=r.options;if(!a)throw ai.create("registration-project-id");if(!c)throw ai.create("registration-api-key");if(!f)throw ai.create("registration-app-id");const _=new FD(f,r.name,t=t||"firebase"),v=new Cy(_),E=new Ds.Yd(Ea);E.logLevel=Ds.in.ERROR;const C=new Iy(i,zt.SDK_VERSION,t,a,c,f),M=new Ty(C,_),L=new AD(M,_,v,E),q=new xD(r,L,v,_,E);return function CD(n){const e=(0,pt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(q),q},"PUBLIC").setMultipleInstances(!0)),(0,zt.registerVersion)(Ea,"0.4.3"),(0,zt.registerVersion)(Ea,"0.4.3","esm2017")}();const VD="/firebase-messaging-sw.js",BD="/firebase-cloud-messaging-push-scope",Sy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wd="google.c.a.c_id",Ta="google.c.a.c_l",IC="google.c.a.ts",TC="google.c.a.e";var Xi=(()=>{return(n=Xi||(Xi={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Xi;var n})();function Is(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CC(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const qd="fcm_token_details_db",SC="fcm_token_object_Store";function AC(n){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,z.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(qd))return null;let e=null;return(yield(0,jl.X3)(qd,5,{upgrade:(r=(0,z.Z)(function*(i,a,c,f){var _;if(a<2||!i.objectStoreNames.contains(SC))return;const v=f.objectStore(SC),E=yield v.index("fcmSenderId").get(n);if(yield v.clear(),E)if(2===a){const C=E;if(!C.auth||!C.p256dh||!C.endpoint)return;e={token:C.fcmToken,createTime:null!==(_=C.createTime)&&void 0!==_?_:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:"string"==typeof C.vapidKey?C.vapidKey:Is(C.vapidKey)}}}else if(3===a){const C=E;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Is(C.auth),p256dh:Is(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Is(C.vapidKey)}}}else if(4===a){const C=E;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Is(C.auth),p256dh:Is(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Is(C.vapidKey)}}}}),function(a,c,f,_){return r.apply(this,arguments)})})).close(),yield(0,jl.Lj)(qd),yield(0,jl.Lj)("fcm_vapid_details_db"),yield(0,jl.Lj)("undefined"),jD(e)?e:null;var r}),Ay.apply(this,arguments)}function jD(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ca="firebase-messaging-store";let Ny=null;function Oy(){return Ny||(Ny=(0,jl.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ca)}})),Ny}function My(n){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,z.Z)(function*(n){const e=Py(n),r=yield(yield Oy()).transaction(Ca).objectStore(Ca).get(e);if(r)return r;{const i=yield AC(n.appConfig.senderId);if(i)return yield jp(n,i),i}})).apply(this,arguments)}function jp(n,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,z.Z)(function*(n,e){const t=Py(n),i=(yield Oy()).transaction(Ca,"readwrite");return yield i.objectStore(Ca).put(e,t),yield i.done,e})).apply(this,arguments)}function Ql(n){return xy.apply(this,arguments)}function xy(){return(xy=(0,z.Z)(function*(n){const e=Py(n),r=(yield Oy()).transaction(Ca,"readwrite");yield r.objectStore(Ca).delete(e),yield r.done})).apply(this,arguments)}function Py({appConfig:n}){return n.appId}const Pr=new pt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function HD(n,e){return zD.apply(this,arguments)}function zD(){return(zD=(0,z.Z)(function*(n,e){const t=yield es(n),r=ts(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(Hp(n.appConfig),i)).json()}catch(c){throw Pr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw Pr.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Pr.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function ky(n,e){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,z.Z)(function*(n,e){const t=yield es(n),r=ts(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${Hp(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw Pr.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw Pr.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Pr.create("token-update-no-token");return a.token})).apply(this,arguments)}function Ts(n,e){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,z.Z)(function*(n,e){const r={method:"DELETE",headers:yield es(n)};try{const a=yield(yield fetch(`${Hp(n.appConfig)}/${e}`,r)).json();if(a.error)throw Pr.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Pr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Hp({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function es(n){return Li.apply(this,arguments)}function Li(){return(Li=(0,z.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function ts({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Sy&&(i.web.applicationPubKey=r),i}const WD=6048e5;function qD(n){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,z.Z)(function*(n){const e=yield YD(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},r=yield My(n.firebaseDependencies);if(r){if(KD(r.subscriptionOptions,t))return Date.now()>=r.createTime+WD?OC(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Ts(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Jl(n.firebaseDependencies,t)}return Jl(n.firebaseDependencies,t)})).apply(this,arguments)}function ZD(n){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,z.Z)(function*(n){const e=yield My(n.firebaseDependencies);e&&(yield Ts(n.firebaseDependencies,e.token),yield Ql(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function OC(n,e){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,z.Z)(function*(n,e){try{const t=yield ky(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield jp(n.firebaseDependencies,r),t}catch(t){throw yield ZD(n),t}})).apply(this,arguments)}function Jl(n,e){return By.apply(this,arguments)}function By(){return(By=(0,z.Z)(function*(n,e){const r={token:yield HD(n,e),createTime:Date.now(),subscriptionOptions:e};return yield jp(n,r),r.token})).apply(this,arguments)}function YD(n,e){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,z.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CC(e)})})).apply(this,arguments)}function KD(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function $y(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function zp(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function MC(n,e){e.data&&(n.data=e.data)}(e,n),function QD(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const _=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;_&&(n.fcmOptions.analyticsLabel=_)}(e,n),e}function JD(n){return"object"==typeof n&&!!n&&Wd in n}function Wp(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Kd(n){return Pr.create("missing-app-config-values",{valueName:n})}Wp("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wp("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class XD{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qp(n){if(!n||!n.options)throw Kd("App Configuration Object");if(!n.name)throw Kd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Kd(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function jy(n){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,z.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(VD,{scope:BD}),n.swRegistration.update().catch(()=>{})}catch(e){throw Pr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function e1(n,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,z.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield jy(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Pr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function t1(n,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,z.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Sy)})).apply(this,arguments)}function Qp(){return(Qp=(0,z.Z)(function*(n,e){if(!navigator)throw Pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pr.create("permission-blocked");return yield t1(n,e?.vapidKey),yield e1(n,e?.serviceWorkerRegistration),qD(n)})).apply(this,arguments)}function RC(n,e,t){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,z.Z)(function*(n,e,t){const r=xC(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Wd],message_name:t[Ta],message_time:t[IC],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xC(n){switch(n){case Xi.NOTIFICATION_CLICKED:return"notification_open";case Xi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hy(){return(Hy=(0,z.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Xi.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler($y(t)):n.onMessageHandler.next($y(t)));const r=t.data;JD(r)&&"1"===r[TC]&&(yield RC(n,t.messageType,r))})).apply(this,arguments)}const r1="@firebase/messaging",kC=n=>{const e=new XD(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function PC(n,e){return Hy.apply(this,arguments)}(e,t)),e},FC=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function n1(n,e){return Qp.apply(this,arguments)}(e,r)}};function s1(){return zy.apply(this,arguments)}function zy(){return(zy=(0,z.Z)(function*(){try{yield(0,pt.eu)()}catch{return!1}return typeof window<"u"&&(0,pt.hl)()&&(0,pt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function LC(){(0,zt._registerComponent)(new Qi.wA("messaging",kC,"PUBLIC")),(0,zt._registerComponent)(new Qi.wA("messaging-internal",FC,"PRIVATE")),(0,zt.registerVersion)(r1,"0.12.3"),(0,zt.registerVersion)(r1,"0.12.3","esm2017")}();const Qd="analytics",o1="firebase_id",l1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xp="https://www.googletagmanager.com/gtag/js",Tr=new Ds.Yd("@firebase/analytics");function Sa(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function GC(n,e){const t=document.createElement("script");t.src=`${Xp}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Xl(n,e,t,r,i,a){return c1.apply(this,arguments)}function c1(){return(c1=(0,z.Z)(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const _=(yield Sa(t)).find(v=>v.measurementId===i);_&&(yield e[_.appId])}}catch(f){Tr.error(f)}n("config",i,a)})).apply(this,arguments)}function qy(n,e,t,r,i){return d1.apply(this,arguments)}function d1(){return(d1=(0,z.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield Sa(t);for(const _ of c){const v=f.find(C=>C.measurementId===_),E=v&&e[v.appId];if(!E){a=[];break}a.push(E)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){Tr.error(a)}})).apply(this,arguments)}function KM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xp)&&t.src.includes(n))return t;return null}const Vi=new pt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),p1=new class ec{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function eg(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function tg(n){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,z.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:eg(r)},a=l1.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let f="";try{const _=yield c.json();null!==(e=_.error)&&void 0!==e&&e.message&&(f=_.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function QM(n){return ng.apply(this,arguments)}function ng(){return(ng=(0,z.Z)(function*(n,e=p1,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Vi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Vi.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new _1;return setTimeout((0,z.Z)(function*(){f.abort()}),void 0!==t?t:6e4),Zy({appId:r,apiKey:i,measurementId:a},c,f,e)})).apply(this,arguments)}function Zy(n,e,t){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,z.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=p1){var a;const{appId:c,measurementId:f}=n;try{yield g1(r,e)}catch(_){if(f)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:f};throw _}try{const _=yield tg(n);return i.deleteThrottleMetadata(c),_}catch(_){const v=_;if(!m1(v)){if(i.deleteThrottleMetadata(c),f)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw _}const E=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,pt.$s)(t,i.intervalMillis,30):(0,pt.$s)(t,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return i.setThrottleMetadata(c,C),Tr.debug(`Calling attemptFetch again in ${E} millis`),Zy(n,C,r,i)}})).apply(this,arguments)}function g1(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m1(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class _1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let rg,sg;function Ky(){return(Ky=(0,z.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function v1(n){sg=n}function nc(n){rg=n}function Jd(){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,z.Z)(function*(){if(!(0,pt.hl)())return Tr.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pt.eu)()}catch(n){return Tr.warn(Vi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Xy(){return(Xy=(0,z.Z)(function*(n,e,t,r,i,a,c){var f;const _=QM(n);_.then(L=>{t[L.measurementId]=L.appId,n.options.measurementId&&L.measurementId!==n.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>Tr.error(L)),e.push(_);const v=Jd().then(L=>{if(L)return r.getId()}),[E,C]=yield Promise.all([_,v]);KM(a)||GC(a,E.measurementId),sg&&(i("consent","default",sg),v1(void 0)),i("js",new Date);const M=null!==(f=c?.config)&&void 0!==f?f:{};return M.origin="firebase",M.update=!0,null!=C&&(M[o1]=C),i("config",E.measurementId,M),rg&&(i("set",rg),nc(void 0)),E.measurementId})).apply(this,arguments)}class b1{constructor(e){this.app=e}_delete(){return delete Gs[this.app.options.appId],Promise.resolve()}}let Gs={},ev=[];const w1={};let E1,Aa,Xd="dataLayer",I1=!1;function T1(n,e,t){!function JM(){const n=[];if((0,pt.ru)()&&n.push("This is a browser extension environment."),(0,pt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vi.create("invalid-analytics-context",{errorInfo:e});Tr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Vi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Vi.create("no-api-key");Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gs[r])throw Vi.create("already-exists",{id:r});if(!I1){!function HC(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Xd);const{wrappedGtag:a,gtagCore:c}=function f1(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function h1(n,e,t,r){function a(){return(a=(0,z.Z)(function*(c,f,_){try{"event"===c?yield qy(n,e,t,f,_):"config"===c?yield Xl(n,e,t,r,f,_):"consent"===c?n("consent","update",_):n("set",f)}catch(v){Tr.error(v)}})).apply(this,arguments)}return function i(c,f,_){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(Gs,ev,w1,Xd,"gtag");Aa=a,E1=c,I1=!0}return Gs[r]=function QC(n,e,t,r,i,a,c){return Xy.apply(this,arguments)}(n,ev,w1,e,E1,Xd,t),new b1(n)}function XC(){return og.apply(this,arguments)}function og(){return(og=(0,z.Z)(function*(){if((0,pt.ru)()||!(0,pt.zI)()||!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}const nv="@firebase/analytics";!function eS(){(0,zt._registerComponent)(new Qi.wA(Qd,(e,{options:t})=>T1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,zt._registerComponent)(new Qi.wA("analytics-internal",function n(e){try{const t=e.getProvider(Qd).getImmediate();return{logEvent:(r,i,a)=>function rR(n,e,t,r){n=(0,pt.m9)(n),function qC(n,e,t,r,i){return Ky.apply(this,arguments)}(Aa,Gs[n.app.options.appId],e,t,r).catch(i=>Tr.error(i))}(t,r,i,a)}}catch(t){throw Vi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,zt.registerVersion)(nv,"0.9.3"),(0,zt.registerVersion)(nv,"0.9.3","esm2017")}();const S1=new class tS extends Sp{}(class eh extends H_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var rc=k(9468),ic=k(5363);const th=new l.GfV("7.5.0"),rv="__angularfire_symbol__analyticsIsSupportedValue",nh="__angularfire_symbol__analyticsIsSupported",iv="__angularfire_symbol__remoteConfigIsSupportedValue",ug="__angularfire_symbol__remoteConfigIsSupported",lg="__angularfire_symbol__messagingIsSupportedValue",sv="__angularfire_symbol__messagingIsSupported";globalThis[nh]||(globalThis[nh]=XC().then(n=>globalThis[rv]=n).catch(()=>globalThis[rv]=!1)),globalThis[sv]||(globalThis[sv]=s1().then(n=>globalThis[lg]=n).catch(()=>globalThis[lg]=!1)),globalThis[ug]||(globalThis[ug]=LD().then(n=>globalThis[iv]=n).catch(()=>globalThis[iv]=!1));const av=(n,e)=>{const t=e?[e]:(0,zt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function sc(){}class N1{constructor(e,t=S1){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class nS{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)),t.pipe(Gn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dg=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new N1(Zone.current)),this.insideAngular=t.run(()=>new N1(Zone.current,Ud)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function rS(n){return Tu().ngZone.runOutsideAngular(()=>n())}function Cu(n){return Tu().ngZone.run(()=>n())}function Ti(n){return Tu(),function oS(n){return function(t){return(t=t.lift(new nS(n.ngZone))).pipe((0,rc.R)(n.outsideAngular),(0,ic.Q)(n.insideAngular))}}(Tu())(n)}const uv=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Cu(()=>n.apply(void 0,r))},lv=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=Cu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)))),r[a]=uv(r[a],t));const i=rS(()=>n.apply(this,r));if(!e){if(i instanceof jn.y){const a=Tu();return i.pipe((0,rc.R)(a.outsideAngular),(0,ic.Q)(a.insideAngular))}return Cu(()=>i)}return i instanceof jn.y?i.pipe(Ti):i instanceof Promise?Cu(()=>new Promise((a,c)=>i.then(f=>Cu(()=>a(f)),f=>Cu(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Cu(()=>i)};function cv(){return(0,wn.e)((n,e)=>{let t,r=!1;n.subscribe((0,dn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function hg(n,e=Mi.y){return n=n??dv,(0,wn.e)((t,r)=>{let i,a=!0;t.subscribe((0,dn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function dv(n,e){return n===e}var ht,Bi=k(2011),hv=(k(9568),k(3942)),uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},To={},fv=fv||{},Rt=uS||self;function Co(){}function rh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ih(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fg="closure_uid_"+(1e9*Math.random()>>>0),pv=0;function lS(n,e,t){return n.call.apply(n.bind,arguments)}function gv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lS:gv).apply(null,arguments)}function sh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function So(){this.s=this.s,this.o=this.o}So.prototype.s=!1,So.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function uR(n){Object.prototype.hasOwnProperty.call(n,fg)&&n[fg]||(n[fg]=++pv)}(this)},So.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function pg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function M1(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rh(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Yr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var cS=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",Co,e),Rt.removeEventListener("test",Co,e)}catch{}return n}();function gg(n){return/^[\s\xa0]*$/.test(n)}var _v=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function R1(n,e){return n<e?-1:n>e?1:0}function oh(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function Hs(n){return-1!=oh().indexOf(n)}function yv(n){return yv[" "](n),n}yv[" "]=Co;var _g,n,dS=Hs("Opera"),oc=Hs("Trident")||Hs("MSIE"),vv=Hs("Edge"),mg=vv||oc,bv=Hs("Gecko")&&!(-1!=oh().toLowerCase().indexOf("webkit")&&!Hs("Edge"))&&!(Hs("Trident")||Hs("MSIE"))&&!Hs("Edge"),x1=-1!=oh().toLowerCase().indexOf("webkit")&&!Hs("Edge");function P1(){var n=Rt.document;return n?n.documentMode:void 0}e:{var wv="",Dv=(n=oh(),bv?/rv:([^\);]+)(\)|;)/.exec(n):vv?/Edge\/([\d\.]+)/.exec(n):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):x1?/WebKit\/(\S+)/.exec(n):dS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dv&&(wv=Dv?Dv[1]:""),oc){var Ev=P1();if(null!=Ev&&Ev>parseFloat(wv)){_g=String(Ev);break e}}_g=wv}var hS={};var k1=Rt.document&&oc&&(P1()||parseInt(_g,10))||void 0;function ac(n,e){if(Yr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bv){e:{try{yv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:F1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ac.X.h.call(this)}}fr(ac,Yr);var F1={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uc="closure_listenable_"+(1e6*Math.random()|0),fS=0;function cR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++fS,this.ba=this.ea=!1}function uh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function vg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Tv(n){const e={};for(const t in n)e[t]=n[t];return e}const L1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<L1.length;a++)t=L1[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Na(n){this.src=n,this.g={},this.h=0}function Cv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=mv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(uh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lh(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Na.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=lh(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new cR(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var ns="closure_lm_"+(1e6*Math.random()|0),Sv={};function bg(n,e,t,r,i){if(r&&r.once)return B1(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)bg(n,e[a],t,r,i);return null}return t=Dg(t),n&&n[uc]?n.N(e,t,ih(r)?!!r.capture:!!r,i):lc(n,e,t,!1,r,i)}function lc(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=ih(i)?!!i.capture:!!i,f=Av(n);if(f||(n[ns]=f=new Na(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function pS(){const e=gS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ch(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function B1(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)B1(n,e[a],t,r,i);return null}return t=Dg(t),n&&n[uc]?n.O(e,t,ih(r)?!!r.capture:!!r,i):lc(n,e,t,!0,r,i)}function U1(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)U1(n,e[a],t,r,i);else r=ih(r)?!!r.capture:!!r,t=Dg(t),n&&n[uc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lh(a=n.g[e],t,r,i))&&(uh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Av(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lh(e,t,r,i)),(t=-1<n?e[n]:null)&&cc(t))}function cc(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[uc])Cv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ch(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Av(e))?(Cv(t,n),0==t.h&&(t.src=null,e[ns]=null)):uh(n)}}}function ch(n){return n in Sv?Sv[n]:Sv[n]="on"+n}function gS(n,e){if(n.ba)n=!0;else{e=new ac(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&cc(n),n=t.call(r,e)}return n}function Av(n){return(n=n[ns])instanceof Na?n:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dg(n){return"function"==typeof n?n:(n[wg]||(n[wg]=function(e){return n.handleEvent(e)}),n[wg])}function er(){So.call(this),this.i=new Na(this),this.P=this,this.I=null}function Cr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Yr(e,n);else if(e instanceof Yr)e.target=e.target||n;else{var i=e;V1(e=new Yr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=dc(c,r,!0,e)&&i}if(i=dc(c=e.g=n,r,!0,e)&&i,i=dc(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=dc(c=e.g=t[a],r,!1,e)&&i}function dc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&Cv(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}fr(er,So),er.prototype[uc]=!0,er.prototype.removeEventListener=function(n,e,t,r){U1(this,n,e,t,r)},er.prototype.M=function(){if(er.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)uh(t[r]);delete n.g[e],n.h--}}this.I=null},er.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dh=Rt.JSON.stringify;function $1(){var n=Mv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ov,Eg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mS,n=>n.reset());class mS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _S(n){Rt.setTimeout(()=>{throw n},0)}function j1(n,e){Ov||function G1(){var n=Rt.Promise.resolve(void 0);Ov=function(){n.then(H1)}}(),hh||(Ov(),hh=!0),Mv.add(n,e)}var hh=!1,Mv=new class Nv{constructor(){this.h=this.g=null}add(e,t){const r=Eg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function H1(){for(var n;n=$1();){try{n.h.call(n.g)}catch(t){_S(t)}var e=Eg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hh=!1}function fh(n,e){er.call(this),this.h=n||1,this.g=e||Rt,this.j=Zr(this.lb,this),this.l=Date.now()}function Ig(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Rv(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function xv(n){n.g=Rv(()=>{n.g=null,n.i&&(n.i=!1,xv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fr(fh,er),(ht=fh.prototype).ca=!1,ht.R=null,ht.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(Ig(this),this.start()))}},ht.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){fh.X.M.call(this),Ig(this),delete this.g};class z1 extends So{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xv(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ph(n){So.call(this),this.h=n,this.g={}}fr(ph,So);var Pv=[];function kv(n,e,t,r){Array.isArray(t)||(t&&(Pv[0]=t.toString()),t=Pv);for(var i=0;i<t.length;i++){var a=bg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Kr(n){vg(n.g,function(e,t){this.g.hasOwnProperty(t)&&cc(e)},n),n.g={}}function Ao(){this.g=!0}function gh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function W1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return dh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ph.prototype.M=function(){ph.X.M.call(this),Kr(this)},ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ao.prototype.Aa=function(){this.g=!1},Ao.prototype.info=function(){};var Oa={},hc=null;function Tg(){return hc=hc||new er}function Cg(n){Yr.call(this,Oa.Pa,n)}function mh(n){const e=Tg();Cr(e,new Cg(e))}function Fv(n,e){Yr.call(this,Oa.STAT_EVENT,n),this.stat=e}function ui(n){const e=Tg();Cr(e,new Fv(e,n))}function q1(n,e){Yr.call(this,Oa.Qa,n),this.size=e}function _h(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Oa.Pa="serverreachability",fr(Cg,Yr),Oa.STAT_EVENT="statevent",fr(Fv,Yr),Oa.Qa="timingevent",fr(q1,Yr);var fc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Lv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sg(){}function Ag(){}Sg.prototype.h=null;var Mg,Ng={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Og(){Yr.call(this,"d")}function Vv(){Yr.call(this,"c")}function No(){}function vh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ph(this),this.O=Uv,this.T=new fh(n=mg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bv}function Bv(){this.i=null,this.g="",this.h=!1}fr(Og,Yr),fr(Vv,Yr),fr(No,Sg),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},Mg=new No;var Uv=45e3,Z1={},Rg={};function Y1(n,e,t){n.K=1,n.v=Wv(Oo(e)),n.s=t,n.P=!0,K1(n,null)}function K1(n,e){n.F=Date.now(),pc(n),n.A=Oo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),DS(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Bv,n.g=Hg(n.l,t?e:null,!n.s),0<n.N&&(n.L=new z1(Zr(n.La,n,n.g),n.N)),kv(n.S,n.g,"readystatechange",n.ib),e=n.H?Tv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),mh(),function yS(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var v=f[_].split("=");if(1<v.length){var E=v[0];v=v[1];var C=E.split("_");c=2<=C.length&&"type"==C[1]?c+(E+"=")+v+"&":c+(E+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Q1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function J1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=X1(n,t),i==Rg){4==e&&(n.o=4,ui(14),r=!1),gh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Z1){n.o=4,ui(15),gh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}gh(n.j,n.m,i,null),$v(n,i)}Q1(n)&&i!=Rg&&i!=Z1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),s0(e),e.K=!0,ui(11))):(gh(n.j,n.m,t,"[Invalid Chunked Response]"),Su(n),gc(n))}function X1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rg:(t=Number(e.substring(t,r)),isNaN(t)?Z1:(r+=1)+t>e.length?Rg:(e=e.substr(r,t),n.C=r+t,e))}function pc(n){n.V=Date.now()+n.O,eE(n,n.O)}function eE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_h(Zr(n.gb,n),e)}function bh(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function gc(n){0==n.l.G||n.I||MS(n.l,n)}function Su(n){bh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ig(n.T),Kr(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $v(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Kv(t.h,n)))if(!n.J&&Kv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ih(t),vc(t)}r0(t),ui(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=_h(Zr(t.cb,t),6e3));if(1>=iE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Au(t,11)}else if((n.J||t.g==n)&&Ih(t),!gg(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const E=v[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const C=v[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.J=r=1.5*M,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const q=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(_c(a,a.h),a.h=null))}if(r.D){const J=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.za=J,Sn(r.F,r.D,J))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=RS(r,r.H?r.ka:null,r.V),c.J){sE(r.h,c);var f=c,_=r.J;_&&f.setTimeout(_),f.B&&(bh(f),pc(f)),r.g=c}else dE(r);0<t.i.length&&Dh(t)}else"stop"!=v[0]&&"close"!=v[0]||Au(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Au(t,7):t0(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}mh()}catch{}}function jv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bS(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tE(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ht=vh.prototype).setTimeout=function(n){this.O=n},ht.ib=function(n){n=n.target;const e=this.L;e&&3==zs(n)?e.l():this.La(n)},ht.La=function(n){try{if(n==this.g)e:{const E=zs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||mg||this.g&&(this.h.h||this.g.fa()||cE(this.g)))){this.I||4!=E||7==e||mh(),bh(this);var t=this.g.aa();this.Y=t;t:if(Q1(this)){var r=cE(this.g);n="";var i=r.length,a=4==zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Su(this),gc(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function vS(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gg(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,ui(12),Su(this),gc(this);break e}gh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$v(this,t)}this.P?(J1(this,E,c),mg&&this.i&&3==E&&(kv(this.S,this.T,"tick",this.hb),this.T.start())):(gh(this.j,this.m,c,null),$v(this,c)),4==E&&Su(this),this.i&&!this.I&&(4==E?MS(this.l,this):(this.i=!1,pc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),Su(this),gc(this)}}}catch{}},ht.hb=function(){if(this.g){var n=zs(this.g),e=this.g.fa();this.C<e.length&&(bh(this),J1(this,n,e),this.i&&4!=n&&pc(this))}},ht.cancel=function(){this.I=!0,Su(this)},ht.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function dR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mh(),ui(17)),Su(this),this.o=2,gc(this)):eE(this,this.V-n)};var Gv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ma){this.h=void 0!==e?e:n.h,xg(this,n.j),this.s=n.s,this.g=n.g,Hv(this,n.m),this.l=n.l,e=n.i;var t=new mc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zv(this,t),this.o=n.o}else n&&(t=String(n).match(Gv))?(this.h=!!e,xg(this,t[1]||"",!0),this.s=Pg(t[2]||""),this.g=Pg(t[3]||"",!0),Hv(this,t[4]),this.l=Pg(t[5]||"",!0),zv(this,t[6]||"",!0),this.o=Pg(t[7]||"")):(this.h=!!e,this.i=new mc(null,this.h))}function Oo(n){return new Ma(n)}function xg(n,e,t){n.j=t?Pg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Hv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zv(n,e,t){e instanceof mc?(n.i=e,function rE(n,e){e&&!n.j&&(Cs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qv(this,r),DS(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kg(e,Fg)),n.i=new mc(e,n.h))}function Sn(n,e,t){n.i.set(e,t)}function Wv(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ma.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kg(e,wS,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kg(e,wS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kg(t,"/"==t.charAt(0)?pR:fR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kg(t,gR)),n.join("")};var wS=/[#\/\?@]/g,fR=/[#\?:]/g,pR=/[#\?]/g,Fg=/[#\?@]/g,gR=/#/g;function mc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cs(n){n.g||(n.g=new Map,n.h=0,n.i&&function nE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qv(n,e){Cs(n),e=Ra(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Zv(n,e){return Cs(n),e=Ra(n,e),n.g.has(e)}function DS(n,e,t){qv(n,e),0<t.length&&(n.i=null,n.g.set(Ra(n,e),pg(t)),n.h+=t.length)}function Ra(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yv(n){this.l=n||mR,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=mc.prototype).add=function(n,e){Cs(this),this.i=null,n=Ra(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){Cs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ht.oa=function(){Cs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ht.W=function(n){Cs(this);let e=[];if("string"==typeof n)Zv(this,n)&&(e=e.concat(this.g.get(Ra(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ht.set=function(n,e){return Cs(this),this.i=null,Zv(this,n=Ra(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var mR=10;function IS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iE(n){return n.h?1:n.g?n.g.size:0}function Kv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _c(n,e){n.g?n.g.add(e):n.h=e}function sE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pg(n.i)}function oE(){}function _R(){this.g=new oE}function CS(n,e,t){const r=t||"";try{jv(n,function(i,a){let c=i;ih(i)&&(c=dh(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vg(n){this.l=n.ac||null,this.j=n.jb||!1}function Bg(n,e){er.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yv.prototype.cancel=function(){if(this.i=TS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},oE.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},oE.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},fr(Vg,Sg),Vg.prototype.g=function(){return new Bg(this.l,this.j)},Vg.prototype.i=function(n){return function(){return n}}({}),fr(Bg,er);var Ug=0;function Qv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function $g(n){n.readyState=4,n.l=null,n.j=null,n.A=null,li(n)}function li(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=Bg.prototype).open=function(n,e){if(this.readyState!=Ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,li(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$g(this)),this.readyState=Ug},ht.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ht.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$g(this):li(this),3==this.readyState&&Qv(this)}},ht.Va=function(n){this.g&&(this.response=this.responseText=n,$g(this))},ht.Ua=function(n){this.g&&(this.response=n,$g(this))},ht.ga=function(){this.g&&$g(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AS=Rt.JSON.parse;function Cn(n){er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aE,this.K=this.L=!1}fr(Cn,er);var aE="",yR=/^https?$/i,rs=["POST","PUT"];function jg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uE(n),yc(n)}function uE(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function lE(n){if(n.h&&typeof fv<"u"&&(!n.C[1]||4!=zs(n)||2!=n.aa()))if(n.v&&4==zs(n))Rv(n.Ha,0,n);else if(Cr(n,"readystatechange"),4==zs(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Gv)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!yR.test(i?i.toLowerCase():"")}t=r}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var c=2<zs(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",uE(n)}}finally{yc(n)}}}function yc(n,e){if(n.g){Jv(n);const t=n.g,r=n.C[0]?Co:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Jv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function zs(n){return n.g?n.g.readyState:0}function cE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Xv(n){let e="";return vg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Gg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Xv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function wh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function e0(n){this.Ca=0,this.i=[],this.j=new Ao,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wh("baseRetryDelayMs",5e3,n),this.bb=wh("retryDelaySeedMs",1e4,n),this.$a=wh("forwardChannelMaxRetries",2,n),this.ta=wh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Yv(n&&n.concurrentRequestLimit),this.Fa=new _R,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function t0(n){if(Mo(n),3==n.G){var e=n.U++,t=Oo(n.F);Sn(t,"SID",n.I),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),Eh(n,t),(e=new vh(n,n.j,e,void 0)).K=2,e.v=Wv(Oo(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hg(e.l,null),e.g.da(e.v)),e.F=Date.now(),pc(e)}a0(n)}function vc(n){n.g&&(s0(n),n.g.cancel(),n.g=null)}function Mo(n){vc(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Ih(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Dh(n){IS(n.h)||n.m||(n.m=!0,j1(n.Ja,n),n.C=0)}function Ws(n,e){var t;t=e?e.m:n.U++;const r=Oo(n.F);Sn(r,"SID",n.I),Sn(r,"RID",t),Sn(r,"AID",n.T),Eh(n,r),n.o&&n.s&&Gg(r,n.o,n.s),t=new vh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=OS(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),_c(n.h,t),Y1(t,r,e)}function Eh(n,e){n.ia&&vg(n.ia,function(t,r){Sn(e,r,t)}),n.l&&jv({},function(t,r){Sn(e,r,t)})}function OS(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Zr(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let v=i[_].h;const E=i[_].g;if(v-=a,0>v)a=Math.max(0,i[_].h-100),f=!1;else try{CS(E,c,"req"+v+"_")}catch{r&&r(E)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function dE(n){n.g||n.u||(n.Z=1,j1(n.Ia,n),n.A=0)}function r0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_h(Zr(n.Ia,n),o0(n,n.A)),n.A++,0))}function s0(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function hE(n){n.g=new vh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Oo(n.sa);Sn(e,"RID","rpc"),Sn(e,"SID",n.I),Sn(e,"CI",n.L?"0":"1"),Sn(e,"AID",n.T),Sn(e,"TYPE","xmlhttp"),Eh(n,e),n.o&&n.s&&Gg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Wv(Oo(e)),t.s=null,t.P=!0,K1(t,n)}function Ih(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function MS(n,e){var t=null;if(n.g==e){Ih(n),s0(n),n.g=null;var r=2}else{if(!Kv(n.h,e))return;t=e.D,sE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Cr(r=Tg(),new q1(r,t)),Dh(n)}else dE(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function n0(n,e){return!(iE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_h(Zr(n.Ja,n,e),o0(n,n.C)),n.C++,0)))}(n,e)||2==r&&r0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Au(n,5);break;case 4:Au(n,10);break;case 3:Au(n,6);break;default:Au(n,2)}}function o0(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Au(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Zr(n.kb,n);t||(t=new Ma("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||xg(t,"https"),Wv(t)),function SS(n,e){const t=new Ao;if(Rt.Image){const r=new Image;r.onload=sh(Lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=sh(Lg,t,r,"TestLoadImage: error",!1,e),r.onabort=sh(Lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=sh(Lg,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ui(2);n.G=0,n.l&&n.l.va(e),a0(n),Mo(n)}function a0(n){if(n.G=0,n.la=[],n.l){const e=TS(n.h);(0!=e.length||0!=n.i.length)&&(M1(n.la,e),M1(n.la,n.i),n.h.i.length=0,pg(n.i),n.i.length=0),n.l.ua()}}function RS(n,e,t){var r=t instanceof Ma?Oo(t):new Ma(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Hv(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Ma(null,void 0);r&&xg(a,r),e&&(a.g=e),i&&Hv(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Sn(r,t,e),Sn(r,"VER",n.ma),Eh(n,r),r}function Hg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cn(t&&n.Da&&!n.ra?new Vg({jb:!0}):n.ra)).Ka(n.H),e}function u0(){}function Th(){if(oc&&!(10<=Number(k1)))throw Error("Environmental error: no available transport.")}function Ci(n,e){er.call(this),this.g=new e0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ro(this)}function l0(n){Og.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function c0(){Vv.call(this),this.status=1}function Ro(n){this.g=n}(ht=Cn.prototype).Ka=function(n){this.L=n},ht.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mg.g(),this.C=function yh(n){return n.h||(n.h=n.i())}(this.u?this.u:Mg),this.g.onreadystatechange=Zr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void jg(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=mv(rs,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jv(this),0<this.B&&((this.K=function NS(n){return oc&&function ah(){return function lR(n){var e=hS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_v(String(_g)).split("."),t=_v("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=R1(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||R1(0==i[2].length,0==a[2].length)||R1(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.qa,this)):this.A=Rv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){jg(this,a)}},ht.qa=function(){typeof fv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),yc(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yc(this,!0)),Cn.X.M.call(this)},ht.Ha=function(){this.s||(this.F||this.v||this.l?lE(this):this.fb())},ht.fb=function(){lE(this)},ht.aa=function(){try{return 2<zs(this)?this.g.status:-1}catch{return-1}},ht.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ht.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AS(e)}},ht.Ea=function(){return this.m},ht.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=e0.prototype).ma=8,ht.G=1,ht.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new vh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Tv(a),V1(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=OS(this,i,e),Sn(t=Oo(this.F),"RID",n),Sn(t,"CVER",22),this.D&&Sn(t,"X-HTTP-Session-Id",this.D),Eh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Xv(a)))+"&"+e:this.o&&Gg(t,this.o,a)),_c(this.h,i),this.Ya&&Sn(t,"TYPE","init"),this.O?(Sn(t,"$req",e),Sn(t,"SID","null"),i.Z=!0,Y1(i,t,null)):Y1(i,t,e),this.G=2}}else 3==this.G&&(n?Ws(this,n):0==this.i.length||IS(this.h)||Ws(this))},ht.Ia=function(){if(this.u=null,hE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_h(Zr(this.eb,this),n)}},ht.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ui(10),vc(this),hE(this))},ht.cb=function(){null!=this.v&&(this.v=null,vc(this),r0(this),ui(19))},ht.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ui(2)):(this.j.info("Failed to ping google.com"),ui(1))},(ht=u0.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Ra=function(){},Th.prototype.g=function(n,e){return new Ci(n,e)},fr(Ci,er),Ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ui(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=RS(n,null,n.V),Dh(n)},Ci.prototype.close=function(){t0(this.g)},Ci.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dh(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Dh(e)},Ci.prototype.M=function(){this.g.l=null,delete this.j,t0(this.g),delete this.g,Ci.X.M.call(this)},fr(l0,Og),fr(c0,Vv),fr(Ro,u0),Ro.prototype.xa=function(){Cr(this.g,"a")},Ro.prototype.wa=function(n){Cr(this.g,new l0(n))},Ro.prototype.va=function(n){Cr(this.g,new c0)},Ro.prototype.ua=function(){Cr(this.g,"b")},Th.prototype.createWebChannel=Th.prototype.g,Ci.prototype.send=Ci.prototype.u,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,fc.NO_ERROR=0,fc.TIMEOUT=8,fc.HTTP_ERROR=6,Lv.COMPLETE="complete",Ag.EventType=Ng,Ng.OPEN="a",Ng.CLOSE="b",Ng.ERROR="c",Ng.MESSAGE="d",er.prototype.listen=er.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.Oa,Cn.prototype.getLastErrorCode=Cn.prototype.Ea,Cn.prototype.getStatus=Cn.prototype.aa,Cn.prototype.getResponseJson=Cn.prototype.Sa,Cn.prototype.getResponseText=Cn.prototype.fa,Cn.prototype.send=Cn.prototype.da,Cn.prototype.setWithCredentials=Cn.prototype.Ka;var zg=To.createWebChannelTransport=function(){return new Th},fE=To.getStatEventTarget=function(){return Tg()},d0=To.ErrorCode=fc,xS=To.EventType=Lv,vR=To.Event=Oa,PS=To.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bR=To.FetchXmlHttpFactory=Vg,Ch=To.WebChannel=Ag,kS=To.XhrIo=Cn;const pE="@firebase/firestore";class Sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let Sh="9.17.1";const Nu=new Ds.Yd("@firebase/firestore");function gE(){return Nu.logLevel}function Ne(n,...e){if(Nu.logLevel<=Ds.in.DEBUG){const t=e.map(h0);Nu.debug(`Firestore (${Sh}): ${n}`,...t)}}function Hn(n,...e){if(Nu.logLevel<=Ds.in.ERROR){const t=e.map(h0);Nu.error(`Firestore (${Sh}): ${n}`,...t)}}function qs(n,...e){if(Nu.logLevel<=Ds.in.WARN){const t=e.map(h0);Nu.warn(`Firestore (${Sh}): ${n}`,...t)}}function h0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: `+n;throw Hn(e),new Error(e)}function ft(n,e){n||ot()}function ze(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sr.UNAUTHENTICATED))}shutdown(){}}class qg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DR{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,z.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},_=v=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new Wg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Sr(e)}}class ER{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class IR{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new ER(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.A=t.token,new FS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _E{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LS(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function Mu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function p0(n){return n+"\0"}class Dn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Dn(0,0))}static max(){return new yt(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ah{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ah.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ah?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends Ah{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const g0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Ah{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return g0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Wt.fromString(e))}static fromName(e){return new Ge(Wt.fromString(e).popFirst(5))}static empty(){return new Ge(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Wt(e.slice()))}}class bc{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function m0(n){return n.fields.find(e=>2===e.kind)}function Ru(n){return n.fields.filter(e=>2!==e.kind)}bc.UNKNOWN_ID=-1;class _0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nh(0,is.min())}}function yE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(1e9===r?new Dn(t+1,0):new Dn(t,r));return new is(i,Ge.empty(),e)}function BS(n){return new is(n.readTime,n.key,-1)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(yt.min(),Ge.empty(),-1)}static max(){return new is(yt.max(),Ge.empty(),-1)}}function vE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const US="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $S{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xa(n){return bE.apply(this,arguments)}function bE(){return bE=(0,z.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==US)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),bE.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const v=_;t(e[v]).next(E=>{c[v]=E,++f,f===a&&r(c)},E=>i(E))}})}static doWhile(e,t){return new ne((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class y0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Zg(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=h(r.target.error);this.P.reject(new Zg(e,i))}}static open(e,t,r,i){try{return new y0(t,e.transaction(i,r))}catch(a){throw new Zg(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new o(t)}}class Zs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Zs.D((0,pt.z$)())&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),u(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,pt.hl)())return!1;if(Zs.N())return!0;const e=(0,pt.z$)(),t=Zs.D(e),r=0<t&&t<10,i=Zs.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,z.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Zg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new _e(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new _e(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Zg(e,f))},a.onupgradeneeded=c=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,z.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=y0.open(a.db,e,c?"readonly":"readwrite",r),v=i(_).next(E=>(_.V(),E)).catch(E=>(_.abort(E),ne.reject(E))).toPromise();return v.catch(()=>{}),yield _.v,v}catch(_){const v=_,E="FirebaseError"!==v.name&&f<3;if(Ne("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),a.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jS{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return u(this.q.delete())}}class Zg extends _e{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function s(n){return"IndexedDbTransactionError"===n.name}class o{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),u(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),u(this.store.add(e))}get(e){return u(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),u(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),u(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ne((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ne((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ne((r,i)=>{t.onerror=a=>{const c=h(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ne((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new jS(f),v=t(f.primaryKey,f.value,_);if(v instanceof ne){const E=v.catch(C=>(_.done(),ne.reject(C)));r.push(E)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function u(n){return new ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=h(r.target.error);t(i)}})}let d=!1;function h(n){const e=Zs.D((0,pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return d||(d=!0,setTimeout(()=>{throw r},0)),r}}return n}class p{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,z.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){s(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xa(r)}yield t.nt(6e4)}))}}class y{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ne.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ne("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Ne("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=BS(a);vE(c,r)>0&&(r=c)}),new is(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let D=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class I{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class T{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new T("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof T&&e.projectId===this.projectId&&e.database===this.database}}function A(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function R(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function G(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Y(n){return null==n}function ue(n){return 0===n&&1/n==-1/0}function Pe(n){return"number"==typeof n&&Number.isInteger(n)&&!ue(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ue{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ue(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ue(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ue.EMPTY_BYTE_STRING=new Ue("");const Et=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ge(n){if(ft(!!n),"string"==typeof n){let e=0;const t=Et.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function an(n){return"string"==typeof n?Ue.fromBase64String(n):Ue.fromUint8Array(n)}function An(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function GS(n){const e=n.mapValue.fields.__previous_value__;return An(e)?GS(e):e}function v0(n){const e=ge(n.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wE={nullValue:"NULL_VALUE"};function Oh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?An(n)?4:OR(n)?9007199254740991:10:ot()}function Pa(n,e){if(n===e)return!0;const t=Oh(n);if(t!==Oh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return v0(n).isEqual(v0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ge(r.timestampValue),c=ge(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,an(n.bytesValue).isEqual(an(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=lt(r.doubleValue),c=lt(i.doubleValue);return a===c?ue(a)===ue(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Mu(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(A(a)!==A(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Pa(a[f],c[f])))return!1;return!0}(n,e);default:return ot()}var i}function b0(n,e){return void 0!==(n.values||[]).find(t=>Pa(t,e))}function Dc(n,e){if(n===e)return 0;const t=Oh(n),r=Oh(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=lt(i.integerValue||i.doubleValue),f=lt(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return SR(n.timestampValue,e.timestampValue);case 4:return SR(v0(n),v0(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=an(i),f=an(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const v=Pt(c[_],f[_]);if(0!==v)return v}return Pt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Pt(lt(i.latitude),lt(a.latitude));return 0!==c?c:Pt(lt(i.longitude),lt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const v=Dc(c[_],f[_]);if(v)return v}return Pt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===wc.mapValue&&a===wc.mapValue)return 0;if(i===wc.mapValue)return 1;if(a===wc.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},v=Object.keys(_);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const C=Pt(f[E],v[E]);if(0!==C)return C;const M=Dc(c[f[E]],_[v[E]]);if(0!==M)return M}return Pt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw ot()}}function SR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=ge(n),r=ge(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function Yg(n){return HS(n)}function HS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ge(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?an(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=HS(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${HS(r.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function Mh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zS(n){return!!n&&"integerValue"in n}function w0(n){return!!n&&"arrayValue"in n}function AR(n){return!!n&&"nullValue"in n}function NR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function DE(n){return!!n&&"mapValue"in n}function D0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return R(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=D0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=D0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function IV(n){return"nullValue"in n?wE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mh(T.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function TV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mh(T.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wc:ot()}function MR(n,e){const t=Dc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RR(n,e){const t=Dc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ec{constructor(e,t){this.position=e,this.inclusive=t}}function xR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):Dc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function PR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}class kR{}class Zt extends kR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new CV(e,t,r):"array-contains"===t?new NV(e,r):"in"===t?new $R(e,r):"not-in"===t?new OV(e,r):"array-contains-any"===t?new MV(e,r):new Zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new SV(e,r):new AV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dc(t,this.value)):null!==t&&Oh(this.value)===Oh(t)&&this.matchesComparison(Dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends kR{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new fn(e,t)}matches(e){return Kg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kg(n){return"and"===n.op}function WS(n){return"or"===n.op}function qS(n){return FR(n)&&Kg(n)}function FR(n){for(const e of n.filters)if(e instanceof fn)return!1;return!0}function ZS(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Yg(n.value);if(qS(n))return n.filters.map(e=>ZS(e)).join(",");{const e=n.filters.map(t=>ZS(t)).join(",");return`${n.op}(${e})`}}function LR(n,e){return n instanceof Zt?(t=n,(r=e)instanceof Zt&&t.op===r.op&&t.field.isEqual(r.field)&&Pa(t.value,r.value)):n instanceof fn?function(t,r){return r instanceof fn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&LR(a,r.filters[c]),!0)}(n,e):void ot();var t,r}function VR(n,e){const t=n.filters.concat(e);return fn.create(t,n.op)}function BR(n){return n instanceof Zt?`${(e=n).field.canonicalString()} ${e.op} ${Yg(e.value)}`:n instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(BR).join(" ,")+"}"}(n):"Filter";var e}class CV extends Zt{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class SV extends Zt{constructor(e,t){super(e,"in",t),this.keys=UR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AV extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=UR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class NV extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w0(t)&&b0(t.arrayValue,this.value)}}class $R extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&b0(this.value.arrayValue,t)}}class OV extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(b0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!b0(this.value.arrayValue,t)}}class MV extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>b0(this.value.arrayValue,r))}}class Qg{constructor(e,t="asc"){this.field=e,this.dir=t}}function RV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tr{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new EE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new EE(this.root,e,this.comparator,!1)}getReverseIterator(){return new EE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new EE(this.root,e,this.comparator,!0)}}class EE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ci.RED,this.left=i??ci.EMPTY,this.right=a??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ci(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ci(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jR(this.data.getIterator())}getIteratorFrom(e){return new jR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class jR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jg(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new ss([])}unionWith(e){let t=new bn(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!DE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=D0(t)}setAll(e){let t=zn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=D0(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());DE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];DE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){R(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new di(D0(this.value))}}function GR(n){const e=[];return R(n.fields,(t,r)=>{const i=new zn([t]);if(DE(r)){const a=GR(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new ss(e)}class Nn{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,yt.min(),yt.min(),yt.min(),di.empty(),0)}static newFoundDocument(e,t,r,i){return new Nn(e,1,t,yt.min(),r,i,0)}static newNoDocument(e,t){return new Nn(e,2,t,yt.min(),yt.min(),di.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,yt.min(),yt.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xV{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ft=null}}function YS(n,e=null,t=[],r=[],i=null,a=null,c=null){return new xV(n,e,t,r,i,a,c)}function Rh(n){const e=ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Y(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yg(r)).join(",")),e.ft=t}return e.ft}function E0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PR(n.startAt,e.startAt)&&PR(n.endAt,e.endAt)}function IE(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TE(n,e){return n.filters.filter(t=>t instanceof Zt&&t.field.isEqual(e))}function HR(n,e,t){let r=wE,i=!0;for(const a of TE(n,e)){let c=wE,f=!0;switch(a.op){case"<":case"<=":c=IV(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=wE}MR({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];MR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function zR(n,e,t){let r=wc,i=!0;for(const a of TE(n,e)){let c=wc,f=!0;switch(a.op){case">=":case">":c=TV(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=wc}RR({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];RR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class xu{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function WR(n,e,t,r,i,a,c,f){return new xu(n,e,t,r,i,a,c,f)}function Xg(n){return new xu(n)}function qR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function KS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function CE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function QS(n){return null!==n.collectionGroup}function xh(n){const e=ze(n);if(null===e.dt){e.dt=[];const t=CE(e),r=KS(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Qg(t)),e.dt.push(new Qg(zn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Qg(zn.keyField(),a))}}}return e.dt}function Ui(n){const e=ze(n);if(!e._t)if("F"===e.limitType)e._t=YS(e.path,e.collectionGroup,xh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of xh(e))t.push(new Qg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ec(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ec(e.startAt.position,e.startAt.inclusive):null;e._t=YS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function JS(n,e){e.getFirstInequalityField(),CE(n);const t=n.filters.concat([e]);return new xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function SE(n,e,t){return new xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function I0(n,e){return E0(Ui(n),Ui(e))&&n.limitType===e.limitType}function ZR(n){return`${Rh(Ui(n))}|lt:${n.limitType}`}function XS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>BR(r)).join(", ")}]`),Y(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yg(r)).join(",")),`Target(${t})`}(Ui(n))}; limitType=${n.limitType})`}function T0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of xh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=xR(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,xh(t),r)||t.endAt&&!function(i,a,c){const f=xR(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,xh(t),r)));var t,r}function YR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KR(n){return(e,t)=>{let r=!1;for(const i of xh(n)){const a=PV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function PV(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Dc(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function QR(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ue(e)?"-0":e}}function JR(n){return{integerValue:""+n}}function XR(n,e){return Pe(e)?JR(e):QR(n,e)}class AE{constructor(){this._=void 0}}function kV(n,e,t){return n instanceof em?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Ph?tx(n,e):n instanceof kh?nx(n,e):function(r,i){const a=ex(r,i),c=rx(a)+rx(r.gt);return zS(a)&&zS(r.gt)?JR(c):QR(r.yt,c)}(n,e)}function FV(n,e,t){return n instanceof Ph?tx(n,e):n instanceof kh?nx(n,e):t}function ex(n,e){return n instanceof tm?zS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class em extends AE{}class Ph extends AE{constructor(e){super(),this.elements=e}}function tx(n,e){const t=ix(e);for(const r of n.elements)t.some(i=>Pa(i,r))||t.push(r);return{arrayValue:{values:t}}}class kh extends AE{constructor(e){super(),this.elements=e}}function nx(n,e){let t=ix(e);for(const r of n.elements)t=t.filter(i=>!Pa(i,r));return{arrayValue:{values:t}}}class tm extends AE{constructor(e,t){super(),this.yt=e,this.gt=t}}function rx(n){return lt(n.integerValue||n.doubleValue)}function ix(n){return w0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class C0{constructor(e,t){this.field=e,this.transform=t}}class VV{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OE{}function sx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new rm(n.key,Fn.none()):new nm(n.key,n.data,Fn.none());{const t=n.data,r=di.empty();let i=new bn(zn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Pu(n.key,r,new ss(i.toArray()),Fn.none())}}function BV(n,e,t){n instanceof nm?function(r,i,a){const c=r.value.clone(),f=ux(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Pu?function(r,i,a){if(!NE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=ux(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(ax(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function S0(n,e,t,r){return n instanceof nm?function(i,a,c,f){if(!NE(i.precondition,a))return c;const _=i.value.clone(),v=lx(i.fieldTransforms,f,a);return _.setAll(v),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pu?function(i,a,c,f){if(!NE(i.precondition,a))return c;const _=lx(i.fieldTransforms,f,a),v=a.data;return v.setAll(ax(i)),v.setAll(_),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(c=t,NE(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function UV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ex(r.transform,i||null);null!=a&&(null===t&&(t=di.empty()),t.set(r.field,a))}return t||null}function ox(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mu(t,r,(i,a)=>function LV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ph&&r instanceof Ph||t instanceof kh&&r instanceof kh?Mu(t.elements,r.elements,Pa):t instanceof tm&&r instanceof tm?Pa(t.gt,r.gt):t instanceof em&&r instanceof em);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class nm extends OE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pu extends OE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ax(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ux(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,FV(c,f,t[i]))}return r}function lx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,kV(a,c,e))}return r}class rm extends OE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eA extends OE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $V{constructor(e){this.count=e}}var Ar,tn;function cx(n){switch(n){default:return ot();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function dx(n){if(void 0===n)return Hn("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ar.OK:return re.OK;case Ar.CANCELLED:return re.CANCELLED;case Ar.UNKNOWN:return re.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return re.INTERNAL;case Ar.UNAVAILABLE:return re.UNAVAILABLE;case Ar.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ar.NOT_FOUND:return re.NOT_FOUND;case Ar.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ar.ABORTED:return re.ABORTED;case Ar.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ar.DATA_LOSS:return re.DATA_LOSS;default:return ot()}}(tn=Ar||(Ar={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){R(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return G(this.inner)}size(){return this.innerSize}}const jV=new tr(Ge.comparator);function os(){return jV}const hx=new tr(Ge.comparator);function A0(...n){let e=hx;for(const t of n)e=e.insert(t.key,t);return e}function fx(n){let e=hx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ka(){return N0()}function px(){return N0()}function N0(){return new Ic(n=>n.toString(),(n,e)=>n.isEqual(e))}const GV=new tr(Ge.comparator),HV=new bn(Ge.comparator);function $t(...n){let e=HV;for(const t of n)e=e.add(t);return e}const zV=new bn(Pt);function ME(){return zV}class O0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,M0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new O0(yt.min(),i,ME(),os(),$t())}}class M0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new M0(r,t,$t(),$t(),$t())}}class RE{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class gx{constructor(e,t){this.targetId=e,this.Et=t}}class mx{constructor(e,t,r=Ue.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _x{constructor(){this.At=0,this.Rt=vx(),this.bt=Ue.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=$t(),t=$t(),r=$t();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new M0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=vx()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class WV{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=os(),this.qt=yx(),this.Ut=new bn(Pt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(IE(a))if(0===r){const c=new Ge(a.path);this.Qt(t,c,Nn.newNoDocument(c,yt.min()))}else ft(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const f=this.Yt(c);if(f){if(a.current&&IE(f.target)){const _=new Ge(f.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,Nn.newNoDocument(_,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let r=$t();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const v=this.Yt(_);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const i=new O0(e,t,this.Ut,this.Lt,r);return this.Lt=os(),this.qt=yx(),this.Ut=new bn(Pt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new _x,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new bn(Pt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new _x),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function yx(){return new tr(Ge.comparator)}function vx(){return new tr(Ge.comparator)}const qV={asc:"ASCENDING",desc:"DESCENDING"},ZV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class KV{constructor(e,t){this.databaseId=e,this.wt=t}}function im(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bx(n,e){return n.wt?e.toBase64():e.toUint8Array()}function QV(n,e){return im(n,e.toTimestamp())}function gr(n){return ft(!!n),yt.fromTimestamp(function(e){const t=ge(e);return new Dn(t.seconds,t.nanos)}(n))}function tA(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wx(n){const e=Wt.fromString(n);return ft(Ox(e)),e}function R0(n,e){return tA(n.databaseId,e.path)}function Fa(n,e){const t=wx(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(Ex(t))}function nA(n,e){return tA(n.databaseId,e)}function Dx(n){const e=wx(n);return 4===e.length?Wt.emptyPath():Ex(e)}function x0(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ex(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ix(n,e,t){return{name:R0(n,e),fields:t.value.mapValue.fields}}function Tx(n,e,t){const r=Fa(n,e.name),i=gr(e.updateTime),a=e.createTime?gr(e.createTime):yt.min(),c=new di({mapValue:{fields:e.fields}}),f=Nn.newFoundDocument(r,i,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function P0(n,e){let t;if(e instanceof nm)t={update:Ix(n,e.key,e.value)};else if(e instanceof rm)t={delete:R0(n,e.key)};else if(e instanceof Pu)t={update:Ix(n,e.key,e.data),updateMask:sB(e.fieldMask)};else{if(!(e instanceof eA))return ot();t={verify:R0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof em)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ph)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tm)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:QV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function rA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Fn.updateTime(gr(i.updateTime)):void 0!==i.exists?Fn.exists(i.exists):Fn.none():Fn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(ft("REQUEST_TIME"===c.setToServerValue),f=new em):"appendMissingElements"in c?f=new Ph(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new kh(c.removeAllFromArray.values||[]):"increment"in c?f=new tm(a,c.increment):ot();const _=zn.fromServerFormat(c.fieldPath);return new C0(_,f)}(n,i)):[];var i;if(e.update){const i=Fa(n,e.update.name),a=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ss((e.updateMask.fieldPaths||[]).map(v=>zn.fromServerFormat(v)));return new Pu(i,a,c,t,r)}return new nm(i,a,t,r)}if(e.delete){const i=Fa(n,e.delete);return new rm(i,t)}if(e.verify){const i=Fa(n,e.verify);return new eA(i,t)}return ot()}function Cx(n,e){return{documents:[nA(n,e.path)]}}function iA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return Nx(fn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(v=>{return{field:sm((E=v).field),direction:nB(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.wt||Y(v)?v:{value:v});var v,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Sx(n){let e=Dx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=function(E){const C=Ax(E);return C instanceof fn&&qS(C)?C.getFilters():[C]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new Qg(om((C=E).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let f=null;t.limit&&(f=function(E){let C;return C="object"==typeof E?E.value:E,Y(C)?null:C}(t.limit));let _=null;var E;t.startAt&&(_=new Ec((E=t.startAt).values||[],!!E.before));let v=null;return t.endAt&&(v=function(E){return new Ec(E.values||[],!E.before)}(t.endAt)),WR(e,i,c,a,f,"F",_,v)}function Ax(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=om(e.unaryFilter.field);return Zt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=om(e.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=om(e.unaryFilter.field);return Zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=om(e.unaryFilter.field);return Zt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Zt.create(om((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(t=>Ax(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function nB(n){return qV[n]}function rB(n){return ZV[n]}function iB(n){return YV[n]}function sm(n){return{fieldPath:n.canonicalString()}}function om(n){return zn.fromServerFormat(n.fieldPath)}function Nx(n){return n instanceof Zt?function(e){if("=="===e.op){if(NR(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NAN"}};if(AR(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NR(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NAN"}};if(AR(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sm(e.field),op:rB(e.op),value:e.value}}}(n):n instanceof fn?function(e){const t=e.getFilters().map(r=>Nx(r));return 1===t.length?t[0]:{compositeFilter:{op:iB(e.op),filters:t}}}(n):ot()}function sB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ox(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $i(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mx(e)),e=oB(n.get(t),e);return Mx(e)}function oB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Mx(n){return n+"\x01\x01"}function La(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&ot(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:ot()}a=c+2}return new Wt(r)}const Rx=["userId","batchId"];function xE(n,e){return[n,$i(e)]}function xx(n,e,t){return[n,$i(e),t]}const aB={},uB=["prefixPath","collectionGroup","readTime","documentId"],lB=["prefixPath","collectionGroup","documentId"],cB=["collectionGroup","readTime","prefixPath","documentId"],dB=["canonicalId","targetId"],hB=["targetId","path"],fB=["path","targetId"],pB=["collectionId","parent"],gB=["indexId","uid"],mB=["uid","sequenceNumber"],_B=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yB=["indexId","uid","orderedDocumentKey"],vB=["userId","collectionPath","documentId"],bB=["userId","collectionPath","largestBatchId"],wB=["userId","collectionGroup","largestBatchId"],Px=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DB=[...Px,"documentOverlays"],kx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fx=kx,EB=[...Fx,"indexConfiguration","indexState","indexEntries"];class sA extends $S{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Qr(n,e){const t=ze(n);return Zs.M(t.se,e)}class oA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&BV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=S0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=S0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=px();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=sx(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(t,r)=>ox(t,r))&&Mu(this.baseMutations,e.baseMutations,(t,r)=>ox(t,r))}}class aA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=GV;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new aA(e,t,r,i)}}class uA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tc{constructor(e,t,r,i,a=yt.min(),c=yt.min(),f=Ue.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Tc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Lx{constructor(e){this.ie=e}}function Vx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:R0(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:im(i,a.version.toTimestamp()),createTime:im(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Fh(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Fh(e.version)}}var i,a;return r}function PE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Fh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lh(n){const e=new Dn(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function Vh(n,e){const t=(e.baseMutations||[]).map(a=>rA(n.ie,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>rA(n.ie,a)),i=Dn.fromMillis(e.localWriteTimeMs);return new oA(e.batchId,i,t,r)}function k0(n){const e=Lh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Lh(n.lastLimboFreeSnapshotVersion):yt.min();let r;var i;return void 0!==n.query.documents?(ft(1===(i=n.query).documents.length),r=Ui(Xg(Dx(i.documents[0])))):r=Ui(Sx(n.query)),new Tc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ue.fromBase64String(n.resumeToken))}function Bx(n,e){const t=Fh(e.snapshotVersion),r=Fh(e.lastLimboFreeSnapshotVersion);let i;i=IE(e.target)?Cx(n.ie,e.target):iA(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lA(n){const e=Sx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?SE(e,e.limit,"L"):e}function cA(n,e){return new uA(e.largestBatchId,rA(n.ie,e.overlayMutation))}function Ux(n,e){const t=e.path.lastSegment();return[n,$i(e.path.popLast()),t]}function $x(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Fh(r.readTime),documentKey:$i(r.documentKey.path),largestBatchId:r.largestBatchId}}class TB{getBundleMetadata(e,t){return jx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Lh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return jx(e).put({bundleId:(r=t).id,createTime:Fh(gr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Gx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:lA(i.bundledQuery),readTime:Lh(i.readTime)};var i})}saveNamedQuery(e,t){return Gx(e).put({name:(r=t).name,readTime:Fh(gr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jx(n){return Qr(n,"bundles")}function Gx(n){return Qr(n,"namedQueries")}class kE{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new kE(e,t.uid||"")}getOverlay(e,t){return F0(e).get(Ux(this.userId,t)).next(r=>r?cA(this.yt,r):null)}getOverlays(e,t){const r=ka();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new uA(t,c);i.push(this.oe(e,f))}),ne.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add($i(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(F0(e).Y("collectionPathOverlayIndex",f))}),ne.waitFor(a)}getOverlaysForCollection(e,t,r){const i=ka(),a=$i(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return F0(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const v=cA(this.yt,_);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=ka();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return F0(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,v,E)=>{const C=cA(this.yt,v);a.size()<i||C.largestBatchId===c?(a.set(C.getKey(),C),c=C.largestBatchId):E.done()}).next(()=>a)}oe(e,t){return F0(e).put(function(r,i,a){const[c,f,_]=Ux(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:P0(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function F0(n){return Qr(n,"documentOverlays")}class Bh{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),ue(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(an(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?OR(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ot()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function CB(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Hx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=CB(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Bh.Ie=new Bh;class SB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Hx(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Hx(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class AB{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class NB{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class L0{constructor(){this.$e=new SB,this.Be=new AB(this.$e),this.Le=new NB(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Uh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Uh(this.indexId,this.documentKey,this.arrayValue,r)}}function Cc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=zx(n.arrayValue,e.arrayValue),0!==t?t:(t=zx(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function zx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class OB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ft(e.collectionGroup===this.collectionId);const t=m0(e);if(void 0!==t&&!this.We(t))return!1;const r=Ru(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Ke.length||!this.He(this.Ke[a++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wx(n){var e,t;if(ft(n instanceof Zt||n instanceof fn),n instanceof Zt){if(n instanceof $R){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Zt.create(n.field,"==",a)))||[];return fn.create(i,"or")}return n}const r=n.filters.map(i=>Wx(i));return fn.create(r,n.op)}function MB(n){if(0===n.getFilters().length)return[];const e=fA(Wx(n));return ft(qx(e)),dA(e)||hA(e)?[e]:e.getFilters()}function dA(n){return n instanceof Zt}function hA(n){return n instanceof fn&&qS(n)}function qx(n){return dA(n)||hA(n)||function(e){if(e instanceof fn&&WS(e)){for(const t of e.getFilters())if(!dA(t)&&!hA(t))return!1;return!0}return!1}(n)}function fA(n){if(ft(n instanceof Zt||n instanceof fn),n instanceof Zt)return n;if(1===n.filters.length)return fA(n.filters[0]);const e=n.filters.map(r=>fA(r));let t=fn.create(e,n.op);return t=FE(t),qx(t)?t:(ft(t instanceof fn),ft(Kg(t)),ft(t.filters.length>1),t.filters.reduce((r,i)=>pA(r,i)))}function pA(n,e){let t;return ft(n instanceof Zt||n instanceof fn),ft(e instanceof Zt||e instanceof fn),t=n instanceof Zt?e instanceof Zt?fn.create([n,e],"and"):Zx(n,e):e instanceof Zt?Zx(e,n):function(r,i){if(ft(r.filters.length>0&&i.filters.length>0),Kg(r)&&Kg(i))return VR(r,i.getFilters());const a=WS(r)?r:i,c=WS(r)?i:r,f=a.filters.map(_=>pA(_,c));return fn.create(f,"or")}(n,e),FE(t)}function Zx(n,e){if(Kg(e))return VR(e,n.getFilters());{const t=e.filters.map(r=>pA(n,r));return fn.create(t,"or")}}function FE(n){if(ft(n instanceof Zt||n instanceof fn),n instanceof Zt)return n;const e=n.getFilters();if(1===e.length)return FE(e[0]);if(FR(n))return n;const t=e.map(i=>FE(i)),r=[];return t.forEach(i=>{i instanceof Zt?r.push(i):i instanceof fn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:fn.create(r,n.op)}class RB{constructor(){this.Je=new gA}addToCollectionParentIndex(e,t){return this.Je.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(is.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class gA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Wt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Wt.comparator)).toArray()}}const LE=new Uint8Array(0);class xB{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new gA,this.Xe=new Ic(r=>Rh(r),(r,i)=>E0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:$i(i)};return Yx(e).put(a)}return ne.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[p0(t),""],!1,!0);return Yx(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(La(c.parent))}return r})}addFieldIndex(e,t){const r=VE(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=B0(e);return a.next(f=>{c.put($x(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=VE(e),i=B0(e),a=V0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=V0(e);let i=!0;const a=new Map;return ne.forEach(this.Ze(t),c=>this.tn(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=$t();const f=[];return ne.forEach(a,(_,v)=>{var E;Ne("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${Rh(t)}`);const C=function(Je,We){const He=m0(We);if(void 0===He)return null;for(const Xe of TE(Je,He.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(v,_),M=function(Je,We){const He=new Map;for(const Xe of Ru(We))for(const Ft of TE(Je,Xe.fieldPath))switch(Ft.op){case"==":case"in":He.set(Xe.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return He.set(Xe.fieldPath.canonicalString(),Ft.value),Array.from(He.values())}return null}(v,_),L=function(Je,We){const He=[];let Xe=!0;for(const Ft of Ru(We)){const nn=0===Ft.kind?HR(Je,Ft.fieldPath,Je.startAt):zR(Je,Ft.fieldPath,Je.startAt);He.push(nn.value),Xe&&(Xe=nn.inclusive)}return new Ec(He,Xe)}(v,_),q=function(Je,We){const He=[];let Xe=!0;for(const Ft of Ru(We)){const nn=0===Ft.kind?zR(Je,Ft.fieldPath,Je.endAt):HR(Je,Ft.fieldPath,Je.endAt);He.push(nn.value),Xe&&(Xe=nn.inclusive)}return new Ec(He,Xe)}(v,_),J=this.en(_,v,L),se=this.en(_,v,q),Le=this.nn(_,v,M),Be=this.sn(_.indexId,C,J,L.inclusive,se,q.inclusive,Le);return ne.forEach(Be,Je=>r.J(Je,t.limit).next(We=>{We.forEach(He=>{const Xe=Ge.fromSegments(He.documentKey);c.has(Xe)||(c=c.add(Xe),f.push(Xe))})}))}).next(()=>f)}return ne.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:MB(fn.create(e.filters,"and")).map(r=>YS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),v=_/(null!=t?t.length:1),E=[];for(let C=0;C<_;++C){const M=t?this.rn(t[C/v]):LE,L=this.on(e,M,r[C%v],i),q=this.un(e,M,a[C%v],c),J=f.map(se=>this.on(e,M,se,!0));E.push(...this.createRange(L,q,J))}return E}on(e,t,r,i){const a=new Uh(e,Ge.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new Uh(e,Ge.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new OB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.je(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ne.forEach(i,a=>this.tn(e,a).next(c=>{c?0!==r&&c.fields.length<function(f){let _=new bn(zn.comparator),v=!1;for(const E of f.filters)for(const C of E.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?v=!0:_=_.add(C.field));for(const E of f.orderBy)E.field.isKeyField()||(_=_.add(E.field));return _.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new L0;for(const i of Ru(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);Bh.Ie.ue(a,c)}return r.Fe()}rn(e){const t=new L0;return Bh.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new L0;return Bh.Ie.ue(Mh(this.databaseId,t),r.qe(function(i){const a=Ru(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new L0);let a=0;for(const c of Ru(e)){const f=r[a++];for(const _ of i)if(this.hn(t,c.fieldPath)&&w0(f))i=this.ln(i,c,f);else{const v=_.qe(c.kind);Bh.Ie.ue(f,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new L0;_.seed(f.Fe()),Bh.Ie.ue(c,_.qe(t.kind)),a.push(_)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof Zt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=VE(e),i=B0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ne.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(v,E){const C=E?new Nh(E.sequenceNumber,new is(Lh(E.readTime),new Ge(La(E.documentKey)),E.largestBatchId)):Nh.empty(),M=v.fields.map(([L,q])=>new _0(zn.fromServerFormat(L),q));return new bc(v.indexId,v.collectionGroup,M,C)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=VE(e),a=B0(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ne.forEach(f,_=>a.put($x(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ne.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ne.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ne.forEach(f,_=>this._n(e,i,_).next(v=>{const E=this.wn(a,_);return v.isEqual(E)?ne.resolve():this.mn(e,a,_,v,E)}))))})}gn(e,t,r,i){return V0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return V0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=V0(e);let a=new bn(Cc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,f)=>{a=a.add(new Uh(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let r=new bn(Cc);const i=this.cn(t,e);if(null==i)return r;const a=m0(t);if(null!=a){const c=e.data.field(a.fieldPath);if(w0(c))for(const f of c.arrayValue.values||[])r=r.add(new Uh(t.indexId,e.key,this.rn(f),i))}else r=r.add(new Uh(t.indexId,e.key,LE,i));return r}mn(e,t,r,i,a){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,v,E,C){const M=f.getIterator(),L=_.getIterator();let q=Jg(M),J=Jg(L);for(;q||J;){let se=!1,Le=!1;if(q&&J){const Be=v(q,J);Be<0?Le=!0:Be>0&&(se=!0)}else null!=q?Le=!0:se=!0;se?(E(J),J=Jg(L)):Le?(C(q),q=Jg(M)):(q=Jg(M),J=Jg(L))}}(i,a,Cc,f=>{c.push(this.gn(e,t,r,f))},f=>{c.push(this.yn(e,t,r,f))}),ne.waitFor(c)}dn(e){let t=1;return B0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Cc(c,f)).filter((c,f,_)=>!f||0!==Cc(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Cc(c,e),_=Cc(c,t);if(0===f)i[0]=e.Ue();else if(f>0&&_<0)i.push(c),i.push(c.Ue());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,LE,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,LE,[]]))}return a}pn(e,t){return Cc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kx)}getMinOffset(e,t){return ne.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||ot())).next(Kx)}}function Yx(n){return Qr(n,"collectionParents")}function V0(n){return Qr(n,"indexEntries")}function VE(n){return Qr(n,"indexConfiguration")}function B0(n){return Qr(n,"indexState")}function Kx(n){ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;vE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new is(e.readTime,e.documentKey,t)}const Qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class as{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:c},(E,C,M)=>(f++,M.delete()));a.push(_.next(()=>{ft(1===f)}));const v=[];for(const E of t.mutations){const C=xx(e,E.key.path,t.batchId);a.push(i.delete(C)),v.push(E.key)}return ne.waitFor(a).next(()=>v)}function BE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class UE{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new UE(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sc(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=am(e),c=Sc(e);return c.add({}).next(f=>{ft("number"==typeof f);const _=new oA(f,t,r,i),v=function(M,L,q){const J=q.baseMutations.map(Le=>P0(M.ie,Le)),se=q.mutations.map(Le=>P0(M.ie,Le));return{userId:L,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:J,mutations:se}}(this.yt,this.userId,_),E=[];let C=new bn((M,L)=>Pt(M.canonicalString(),L.canonicalString()));for(const M of i){const L=xx(this.userId,M.key.path,f);C=C.add(M.key.path.popLast()),E.push(c.put(v)),E.push(a.put(L,aB))}return C.forEach(M=>{E.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ne.waitFor(E).next(()=>_)})}lookupMutationBatch(e,t){return Sc(e).get(t).next(r=>r?(ft(r.userId===this.userId),Vh(this.yt,r)):null)}Tn(e,t){return this.In[t]?ne.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Sc(e).Z({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(ft(f.batchId>=r),a=Vh(this.yt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sc(e).W("userMutationsIndex",t).next(r=>r.map(i=>Vh(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return am(e).Z({range:i},(c,f,_)=>{const[v,E,C]=c,M=La(E);if(v===this.userId&&t.path.isEqual(M))return Sc(e).get(C).next(L=>{if(!L)throw ot();ft(L.userId===this.userId),a.push(Vh(this.yt,L))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Pt);const i=[];return t.forEach(a=>{const c=xE(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=am(e).Z({range:f},(v,E,C)=>{const[M,L,q]=v,J=La(L);M===this.userId&&a.path.isEqual(J)?r=r.add(q):C.done()});i.push(_)}),ne.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=xE(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new bn(Pt);return am(e).Z({range:c},(_,v,E)=>{const[C,M,L]=_,q=La(M);C===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(L)):E.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Sc(e).get(a).next(c=>{if(null===c)throw ot();ft(c.userId===this.userId),r.push(Vh(this.yt,c))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Jx(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return am(e).Z({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=La(a[1]);i.push(_)}else f.done()}).next(()=>{ft(0===i.length)})})}containsKey(e,t){return Xx(e,this.userId,t)}Rn(e){return eP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xx(n,e,t){const r=xE(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return am(n).Z({range:a,X:!0},(f,_,v)=>{const[E,C,M]=f;E===e&&C===i&&(c=!0),v.done()}).next(()=>c)}function Sc(n){return Qr(n,"mutations")}function am(n){return Qr(n,"documentMutations")}function eP(n){return Qr(n,"mutationQueues")}class $h{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new $h(0)}static vn(){return new $h(-1)}}class PB{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new $h(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>yt.fromTimestamp(new Dn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>um(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return um(e).Z((c,f)=>{const _=k0(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ne.waitFor(a)).next(()=>i)}forEachTarget(e,t){return um(e).Z((r,i)=>{const a=k0(i);t(a)})}Vn(e){return tP(e).get("targetGlobalKey").next(t=>(ft(null!==t),t))}Sn(e,t){return tP(e).put("targetGlobalKey",t)}Dn(e,t){return um(e).put(Bx(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Rh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return um(e).Z({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const v=k0(f);E0(t,v.target)&&(a=v,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ac(e);return t.forEach(c=>{const f=$i(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ne.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ac(e);return ne.forEach(t,a=>{const c=$i(a.path);return ne.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ac(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ac(e);let a=$t();return i.Z({range:r,X:!0},(c,f,_)=>{const v=La(c[1]),E=new Ge(v);a=a.add(E)}).next(()=>a)}containsKey(e,t){const r=$i(t.path),i=IDBKeyRange.bound([r],[p0(r)],!1,!0);let a=0;return Ac(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],_,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}ne(e,t){return um(e).get(t).next(r=>r?k0(r):null)}}function um(n){return Qr(n,"targets")}function tP(n){return Qr(n,"targetGlobal")}function Ac(n){return Qr(n,"targetDocuments")}function nP([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class kB{constructor(e){this.xn=e,this.buffer=new bn(nP),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FB{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,z.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){s(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xa(r)}yield t.Fn(3e5)}))}}class LB{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(D.at);const r=new kB(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Qx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qx):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,c,f,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,c=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,f=Date.now(),this.removeTargets(e,r,t))).next(C=>(a=C,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(v=Date.now(),gE()<=Ds.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${C} documents in `+(v-_)+`ms\nTotal Duration: ${v-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:C})))}}class VB{constructor(e,t){this.db=e,this.garbageCollector=new LB(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return $E(e,r)}removeReference(e,t,r){return $E(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $E(e,t)}Gn(e,t){return function(r,i){let a=!1;return eP(r).tt(c=>Xx(r,c,i).next(f=>(f&&(a=!0),ne.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const _=this.Gn(e,c).next(v=>{if(!v)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,yt.min()),Ac(e).delete([0,$i(c.path)])))});i.push(_)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $E(e,t)}Kn(e,t){const r=Ac(e);let i,a=D.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:v})=>{0===c?(a!==D.at&&t(new Ge(La(i)),a),a=v,i=_):a=D.at}).next(()=>{a!==D.at&&t(new Ge(La(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $E(n,e){return Ac(n).put((r=n.currentSequenceNumber,{targetId:0,path:$i(e.path),sequenceNumber:r}));var r}class rP{constructor(){this.changes=new Ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BB{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return jh(e).put(r)}removeEntry(e,t,r){return jh(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],PE(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return jh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return jh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(i,a)=>{r={document:this.jn(t,a),size:BE(a)}}).next(()=>r)}getEntries(e,t){let r=os();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=os(),i=new tr(Ge.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);r=r.insert(a,f),i=i.insert(a,BE(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ne.resolve();let i=new bn(aP);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(U0(i.first()),U0(i.last())),c=i.getIterator();let f=c.getNext();return jh(e).Z({index:"documentKeyIndex",range:a},(_,v,E)=>{const C=Ge.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&aP(f,C)<0;)r(f,null),f=c.getNext();f&&f.isEqual(C)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?E.j(U0(f)):E.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),PE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jh(e).W(IDBKeyRange.bound(c,f,!0)).next(_=>{let v=os();for(const E of _){const C=this.jn(Ge.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);C.isFoundDocument()&&(T0(t,C)||i.has(C.key))&&(v=v.insert(C.key,C))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=os();const c=oP(t,r),f=oP(t,is.max());return jh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,v,E)=>{const C=this.jn(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(C.key,C),a.size===i&&E.done()}).next(()=>a)}newChangeBuffer(e){return new UB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sP(e).get("remoteDocumentGlobalKey").next(t=>(ft(!!t),t))}Qn(e,t){return sP(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function IB(n,e){let t;if(e.document)t=Tx(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Lh(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ge.fromSegments(e.unknownDocument.path),i=Lh(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Dn(r[0],r[1]);return yt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Nn.newInvalidDocument(e)}}function iP(n){return new BB(n)}class UB extends rP{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ic(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new bn((a,c)=>Pt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=Vx(this.Yn.yt,c);i=i.add(a.path.popLast());const v=BE(_);r+=v-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=Vx(this.Yn.yt,c.convertToNoDocument(yt.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ne.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function sP(n){return Qr(n,"remoteDocumentGlobal")}function jh(n){return Qr(n,"remoteDocumentsV14")}function U0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oP(n,e){const t=e.documentKey.path.toArray();return[n,PE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Pt(t[a],r[a]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class $B{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&S0(r.mutation,i,ss.empty(),Dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=A0();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=os();const c=N0(),f=N0();return t.forEach((_,v)=>{const E=r.get(v.key);i.has(v.key)&&(void 0===E||E.mutation instanceof Pu)?a=a.insert(v.key,v):void 0!==E?(c.set(v.key,E.mutation.getFieldMask()),S0(E.mutation,v,E.mutation.getFieldMask(),Dn.now())):c.set(v.key,ss.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((v,E)=>c.set(v,E)),t.forEach((v,E)=>{var C;return f.set(v,new $B(E,null!==(C=c.get(v))&&void 0!==C?C:null))}),f))}recalculateAndSaveOverlays(e,t){const r=N0();let i=new tr((c,f)=>c-f),a=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const v=t.get(_);if(null===v)return;let E=r.get(_)||ss.empty();E=f.applyToLocalView(v,E),r.set(_,E);const C=(i.get(f.batchId)||$t()).add(_);i=i.insert(f.batchId,C)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),v=_.key,E=_.value,C=px();E.forEach(M=>{if(!a.has(M)){const L=sx(t.get(M),r.get(M));null!==L&&C.set(M,L),a=a.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,C))}return ne.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(ka());let f=-1,_=a;return c.next(v=>ne.forEach(v,(E,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),a.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(M=>{_=_.insert(E,M)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,_,v,$t())).next(E=>({batchId:f,changes:fx(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=A0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=A0();return this.indexManager.getCollectionParents(e,i).next(c=>ne.forEach(c,f=>{const _=(v=t,E=f.child(i),new xu(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(v=>{v.forEach((E,C)=>{a=a.insert(E,C)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,_)=>{const v=_.getKey();null===a.get(v)&&(a=a.insert(v,Nn.newInvalidDocument(v)))});let c=A0();return a.forEach((f,_)=>{const v=i.get(f);void 0!==v&&S0(v.mutation,_,ss.empty(),Dn.now()),T0(t,_)&&(c=c.insert(f,_))}),c})}}class jB{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ne.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:gr(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:lA(r.bundledQuery),readTime:gr(r.readTime)}),ne.resolve();var r}}class GB{constructor(){this.overlays=new tr(Ge.comparator),this.es=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ka();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=ka(),a=t.length+1,c=new Ge(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,v=_.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new tr((v,E)=>v-E);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let E=a.get(v.largestBatchId);null===E&&(E=ka(),a=a.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=ka(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=i)););return ne.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new uA(t,r));let a=this.es.get(t);void 0===a&&(a=$t(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class mA{constructor(){this.ns=new bn(Jr.ss),this.rs=new bn(Jr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Jr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Jr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Wt([])),r=new Jr(t,e),i=new Jr(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Wt([])),r=new Jr(t,e),i=new Jr(t,e+1);let a=$t();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Jr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Jr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Pt(e._s,t._s)}static os(e,t){return Pt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class HB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new bn(Jr.ss)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new oA(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new Jr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jr(t,0),i=new Jr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);a.push(f)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Pt);return t.forEach(i=>{const a=new Jr(i,0),c=new Jr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{r=r.add(f._s)})}),ne.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const c=new Jr(new Ge(a),0);let f=new bn(Pt);return this.gs.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(_._s)),!0)},c),ne.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ne.forEach(t.mutations,i=>{const a=new Jr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Jr(t,0),i=this.gs.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zB{constructor(e){this.Es=e,this.docs=new tr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=os();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=os();const c=t.path,f=new Ge(c.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||vE(BS(E),r)<=0||(i.has(E.key)||T0(t,E))&&(a=a.insert(E.key,E.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ot()}As(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WB(this)}getSize(e){return ne.resolve(this.size)}}class WB extends rP{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qB{constructor(e){this.persistence=e,this.Rs=new Ic(t=>Rh(t),E0),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mA,this.targetCount=0,this.vs=$h.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ne.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Dn(t),ne.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ps.containsKey(t))}}class lP{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new D(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qB(this),this.indexManager=new RB,this.remoteDocumentCache=new zB(r=>this.referenceDelegate.xs(r)),this.yt=new Lx(t),this.Ns=new jB(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new HB(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new ZB(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return ne.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ZB extends $S{constructor(e){super(),this.currentSequenceNumber=e}}class jE{constructor(e){this.persistence=e,this.Fs=new mA,this.$s=null}static Bs(e){return new jE(e)}get Ls(){if(this.$s)return this.$s;throw ot()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,yt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ne.or([()=>ne.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class YB{constructor(e){this.yt=e}$(e,t,r,i){const a=new y0("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rx,{unique:!0}),f.createObjectStore("documentMutations"),cP(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),cP(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rx,{unique:!0});const E=_.store("mutations"),C=v.map(M=>E.put(M));return ne.waitFor(C)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:vB});_.createIndex("collectionPathOverlayIndex",bB,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",wB,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:uB});_.createIndex("documentKeyIndex",lB),_.createIndex("collectionGroupIndex",cB)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:gB}).createIndex("sequenceNumberIndex",mB,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:_B}).createIndex("documentKeyIndex",yB,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=BE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ne.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ne.forEach(f,_=>{ft(_.userId===a.userId);const v=Vh(this.yt,_);return Jx(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,f)=>{const _=new Wt(c),v=[0,$i(_)];a.push(t.get(v).next(E=>E?ne.resolve():t.put({targetId:0,path:$i(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:pB});const r=t.store("collectionParents"),i=new gA,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:$i(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const _=new Wt(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,_],v)=>{const E=La(f);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=k0(i),c=Bx(this.yt,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(v=c,v.document?new Ge(Wt.fromString(v.document.name).popFirst(5)):v.noDocument?Ge.fromSegments(v.noDocument.path):v.unknownDocument?Ge.fromSegments(v.unknownDocument.path):ot()).path.toArray();var v;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(E))}).next(()=>ne.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=iP(this.yt),a=new lP(jE.Bs,this.yt.ie);return r.W().next(c=>{const f=new Map;return c.forEach(_=>{var v;let E=null!==(v=f.get(_.userId))&&void 0!==v?v:$t();Vh(this.yt,_).keys().forEach(C=>E=E.add(C)),f.set(_.userId,E)}),ne.forEach(f,(_,v)=>{const E=new Sr(v),C=kE.re(this.yt,E),M=a.getIndexManager(E),L=UE.re(E,this.yt,M,a.referenceDelegate);return new uP(i,L,C,M).recalculateAndSaveOverlaysForDocumentKeys(new sA(t,D.at),_).next()})})}}function cP(n){n.createObjectStore("targetDocuments",{keyPath:hB}).createIndex("documentTargetsIndex",fB,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dB,{unique:!0}),n.createObjectStore("targetGlobal")}const _A="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yA{constructor(e,t,r,i,a,c,f,_,v,E,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=f,this.Js=v,this.Ys=E,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!yA.C())throw new _e(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VB(this,i),this.ii=t+"main",this.yt=new Lx(_),this.ri=new Zs(this.ii,this.Xs,new YB(this.yt)),this.Cs=new PB(this.referenceDelegate,this.yt),this.remoteDocumentCache=iP(this.yt),this.Ns=new TB,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Hn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,_A);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new D(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,z.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,z.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,z.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(s(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return $0(e).get("owner").next(t=>ne.resolve(this.mi(t)))}gi(e){return GE(e).delete(this.clientId)}yi(){var e=this;return(0,z.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Qr(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ne.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ne.resolve(!0):$0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,_A);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,z.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new sA(t,D.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>GE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return UE.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xB(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return kE.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?EB:14===c?Fx:13===c?kx:12===c?DB:11===c?Px:void ot();var c;let f;return this.ri.runTransaction(e,i,a,_=>(f=new sA(_,this.Ss?this.Ss.next():D.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw Hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new _e(re.FAILED_PRECONDITION,US);return r(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return $0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(re.FAILED_PRECONDITION,_A)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $0(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=$0(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Hn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Hn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $0(n){return Qr(n,"owner")}function GE(n){return Qr(n,"clientMetadata")}function vA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class bA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=$t(),i=$t();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bA(e,t.fromCache,r,i)}}class dP{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(qR(t))return ne.resolve(null);let r=Ui(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=SE(t,null,"F"),r=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=$t(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.Fi(t,f);return this.$i(t,v,c,_.readTime)?this.ki(e,SE(t,null,"F")):this.Bi(e,v,t,_)}))})))}Oi(e,t,r,i){return qR(t)||i.isEqual(yt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(gE()<=Ds.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XS(t)),this.Bi(e,c,t,yE(i,-1)))})}Fi(e,t){let r=new bn(KR(e));return t.forEach((i,a)=>{T0(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return gE()<=Ds.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",XS(t)),this.Ni.getDocumentsMatchingQuery(e,t,is.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class KB{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new tr(Pt),this.Ui=new Ic(a=>Rh(a),E0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function hP(n,e,t,r){return new KB(n,e,t,r)}function fP(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,z.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=$t();for(const v of i){c.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of a){f.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(r,_).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:f}))})})}),wA.apply(this,arguments)}function QB(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,v){const E=_.batch,C=E.keys();let M=ne.resolve();return C.forEach(L=>{M=M.next(()=>v.getEntry(f,L)).next(q=>{const J=_.docVersions.get(L);ft(null!==J),q.version.compareTo(J)<0&&(E.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),v.addEntry(q)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=$t();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pP(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function JB(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((E,C)=>{const M=i.get(C);if(!M)return;f.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,C).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,C)));let L=M.withSequenceNumber(a.currentSequenceNumber);var q,J,se;e.targetMismatches.has(C)?L=L.withResumeToken(Ue.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),i=i.insert(C,L),J=L,se=E,(0===(q=M).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,L))});let _=os(),v=$t();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(gP(a,c,e.documentUpdates).next(E=>{_=E.Wi,v=E.zi})),!r.isEqual(yt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(C=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(E)}return ne.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,v)).next(()=>_)}).then(a=>(t.qi=i,a))}function gP(n,e,t){let r=$t(),i=$t();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=os();return t.forEach((f,_)=>{const v=a.get(f);_.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||0===_.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function XB(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lm(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Tc(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function cm(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,z.Z)(function*(n,e,t){const r=ze(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!s(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),DA.apply(this,arguments)}function HE(n,e,t){const r=ze(n);let i=yt.min(),a=$t();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,v){const E=ze(f),C=E.Ui.get(v);return void 0!==C?ne.resolve(E.qi.get(C)):E.Cs.getTargetData(_,v)}(r,c,Ui(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:yt.min(),t?a:$t())).next(f=>(yP(r,YR(e),f),{documents:f,Hi:a})))}function mP(n,e){const t=ze(n),r=ze(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(c=>c?c.target:null))}function _P(n,e){const t=ze(n),r=t.Ki.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,yE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yP(t,e,i),i))}function yP(n,e,t){let r=n.Ki.get(e)||yt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function EA(){return EA=(0,z.Z)(function*(n,e,t,r){const i=ze(n);let a=$t(),c=os();for(const v of t){const E=e.Ji(v.metadata.name);v.document&&(a=a.add(E));const C=e.Yi(v);C.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(E,C)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield lm(i,(v=r,Ui(Xg(Wt.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>gP(v,f,c).next(E=>(f.apply(v),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(v,_.targetId).next(()=>i.Cs.addMatchingKeys(v,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,E.Wi,E.zi)).next(()=>E.Wi)))}),EA.apply(this,arguments)}function tU(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,z.Z)(function*(n,e,t=$t()){const r=yield lm(n,Ui(lA(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=gr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(Ue.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),IA.apply(this,arguments)}function vP(n,e){return`firestore_clients_${n}_${e}`}function bP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TA(n,e){return`firestore_targets_${n}_${e}`}class zE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new _e(i.error.code,i.error.message))),c?new zE(e,t,i.state,a):(Hn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new _e(r.error.code,r.error.message))),a?new j0(e,r.state,i):(Hn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ME();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Pe(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new WE(e,a):(Hn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CA(t.clientId,t.onlineState):(Hn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SA{constructor(){this.activeTargetIds=ME()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AA{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new tr(Pt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=vP(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new SA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,z.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(vP(e.persistenceKey,i));if(a){const c=WE.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TA(this.persistenceKey,e));if(r){const i=j0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Hn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,z.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=D.at;if(null!=a)try{const f=JSON.parse(a);ft("number"==typeof f),c=f}catch(f){Hn("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==D.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new zE(this.currentUser,e,t,r),a=bP(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=bP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=TA(this.persistenceKey,e),a=new j0(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return WE.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return zE.Zi(new Sr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return j0.Zi(i,t)}yr(e){return CA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ME();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class wP{constructor(){this.Lr=new SA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new SA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nU{Ur(e){}shutdown(){}}class DP{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class sU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);Ne("RestConnection","Sending: ",c,r);const f={};return this.lo(f,i,a),this.fo(e,c,f,r).then(_=>(Ne("RestConnection","Received: ",_),_),_=>{throw qs("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${rU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const f=new kS;f.setWithCredentials(!0),f.listenOnce(xS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case d0.NO_ERROR:const v=f.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(v)),a(v);break;case d0.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case d0.HTTP_ERROR:const E=f.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',E,"response text:",f.getResponseText()),E>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const L=function(q){const J=q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN}(M.status);c(new _e(L,M.message))}else c(new _e(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new _e(re.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zg(),c=fE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new bR({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Ne("Connection","Creating WebChannel: "+_,f);const v=a.createWebChannel(_,f);let E=!1,C=!1;const M=new iU({Hr:q=>{C?Ne("Connection","Not sending because WebChannel is closed:",q):(E||(Ne("Connection","Opening WebChannel transport."),v.open(),E=!0),Ne("Connection","WebChannel sending:",q),v.send(q))},Jr:()=>v.close()}),L=(q,J,se)=>{q.listen(J,Le=>{try{se(Le)}catch(Be){setTimeout(()=>{throw Be},0)}})};return L(v,Ch.EventType.OPEN,()=>{C||Ne("Connection","WebChannel transport opened.")}),L(v,Ch.EventType.CLOSE,()=>{C||(C=!0,Ne("Connection","WebChannel transport closed"),M.io())}),L(v,Ch.EventType.ERROR,q=>{C||(C=!0,qs("Connection","WebChannel transport errored:",q),M.io(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),L(v,Ch.EventType.MESSAGE,q=>{var J;if(!C){const se=q.data[0];ft(!!se);const Be=se.error||(null===(J=se[0])||void 0===J?void 0:J.error);if(Be){Ne("Connection","WebChannel received error:",Be);const Je=Be.status;let We=function(Xe){const Ft=Ar[Xe];if(void 0!==Ft)return dx(Ft)}(Je),He=Be.message;void 0===We&&(We=re.INTERNAL,He="Unknown error status: "+Je+" with message "+Be.message),C=!0,M.io(new _e(We,He)),v.close()}else Ne("Connection","WebChannel received:",se),M.ro(se)}}),L(c,vR.STAT_EVENT,q=>{q.stat===PS.PROXY?Ne("Connection","Detected buffering proxy"):q.stat===PS.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function EP(){return typeof window<"u"?window:null}function qE(){return typeof document<"u"?document:null}function G0(n){return new KV(n,!0)}class NA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class IP{constructor(e,t,r,i,a,c,f,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new NA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,z.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,z.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,z.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Hn(t.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,z.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oU extends IP{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function XV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),i=e.targetChange.targetIds||[],a=function(_,v){return _.wt?(ft(void 0===v||"string"==typeof v),Ue.fromBase64String(v||"")):(ft(void 0===v||v instanceof Uint8Array),Ue.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const v=void 0===_.code?re.UNKNOWN:dx(_.code);return new _e(v,_.message||"")}(c);t=new mx(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Fa(n,r.document.name),a=gr(r.document.updateTime),c=r.document.createTime?gr(r.document.createTime):yt.min(),f=new di({mapValue:{fields:r.document.fields}}),_=Nn.newFoundDocument(i,a,c,f);t=new RE(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Fa(n,r.document),a=r.readTime?gr(r.readTime):yt.min(),c=Nn.newNoDocument(i,a);t=new RE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Fa(n,r.document);t=new RE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,a=new $V(r.count||0);t=new gx(r.targetId,a)}}var _;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return yt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?yt.min():a.readTime?gr(a.readTime):yt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=x0(this.yt),t.addTarget=function(i,a){let c;const f=a.target;return c=IE(f)?{documents:Cx(i,f)}:{query:iA(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=bx(i,a.resumeToken):a.snapshotVersion.compareTo(yt.min())>0&&(c.readTime=im(i,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function tB(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=x0(this.yt),t.removeTarget=e,this.Bo(t)}}class aU extends IP{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function eB(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,i){let a=gr(r.updateTime?r.updateTime:i);return a.isEqual(yt.min())&&(a=gr(i)),new VV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.Zo(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=x0(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>P0(this.yt,r))};this.Bo(t)}}class uU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(re.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class cU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Hn(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dU{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{r.enqueueAndForget((0,z.Z)(function*(){var _;ku(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,z.Z)(function*(v){const E=ze(v);E._u.add(4),yield dm(E),E.gu.set("Unknown"),E._u.delete(4),yield H0(E)}),function(v){return _.apply(this,arguments)})(c))}))}),this.gu=new cU(r,i)}}function H0(n){return MA.apply(this,arguments)}function MA(){return MA=(0,z.Z)(function*(n){if(ku(n))for(const e of n.wu)yield e(!0)}),MA.apply(this,arguments)}function dm(n){return RA.apply(this,arguments)}function RA(){return RA=(0,z.Z)(function*(n){for(const e of n.wu)yield e(!1)}),RA.apply(this,arguments)}function ZE(n,e){const t=ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),kA(t)?PA(t):fm(t).ko()&&xA(t,e))}function z0(n,e){const t=ze(n),r=fm(t);t.du.delete(e),r.ko()&&TP(t,e),0===t.du.size&&(r.ko()?r.Fo():ku(t)&&t.gu.set("Unknown"))}function xA(n,e){n.yu.Ot(e.targetId),fm(n).zo(e)}function TP(n,e){n.yu.Ot(e),fm(n).Ho(e)}function PA(n){n.yu=new WV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),fm(n).start(),n.gu.uu()}function kA(n){return ku(n)&&!fm(n).No()&&n.du.size>0}function ku(n){return 0===ze(n)._u.size}function CP(n){n.yu=void 0}function hU(n){return FA.apply(this,arguments)}function FA(){return FA=(0,z.Z)(function*(n){n.du.forEach((e,t)=>{xA(n,e)})}),FA.apply(this,arguments)}function fU(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,z.Z)(function*(n,e){CP(n),kA(n)?(n.gu.hu(e),PA(n)):n.gu.set("Unknown")}),LA.apply(this,arguments)}function pU(n,e,t){return VA.apply(this,arguments)}function VA(){return VA=(0,z.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof mx&&2===e.state&&e.cause)try{yield(r=(0,z.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YE(n,r)}else if(e instanceof RE?n.yu.Kt(e):e instanceof gx?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(yt.min()))try{const r=yield pP(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.Zt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.du.get(_);v&&i.du.set(_,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.du.get(f);if(!_)return;i.du.set(f,_.withResumeToken(Ue.EMPTY_BYTE_STRING,_.snapshotVersion)),TP(i,f);const v=new Tc(_.target,f,1,_.sequenceNumber);xA(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield YE(n,r)}var r}),VA.apply(this,arguments)}function YE(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,z.Z)(function*(n,e,t){if(!s(e))throw e;n._u.add(1),yield dm(n),n.gu.set("Offline"),t||(t=()=>pP(n.localStore)),n.asyncQueue.enqueueRetryable((0,z.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield H0(n)}))}),BA.apply(this,arguments)}function SP(n,e){return e().catch(t=>YE(n,t,e))}function hm(n){return UA.apply(this,arguments)}function UA(){return UA=(0,z.Z)(function*(n){const e=ze(n),t=Nc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;gU(e);)try{const i=yield XB(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,mU(e,i)}catch(i){yield YE(e,i)}AP(e)&&NP(e)}),UA.apply(this,arguments)}function gU(n){return ku(n)&&n.fu.length<10}function mU(n,e){n.fu.push(e);const t=Nc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function AP(n){return ku(n)&&!Nc(n).No()&&n.fu.length>0}function NP(n){Nc(n).start()}function _U(n){return $A.apply(this,arguments)}function $A(){return $A=(0,z.Z)(function*(n){Nc(n).eu()}),$A.apply(this,arguments)}function yU(n){return jA.apply(this,arguments)}function jA(){return jA=(0,z.Z)(function*(n){const e=Nc(n);for(const t of n.fu)e.Xo(t.mutations)}),jA.apply(this,arguments)}function vU(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=(0,z.Z)(function*(n,e,t){const r=n.fu.shift(),i=aA.from(r,e,t);yield SP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield hm(n)}),GA.apply(this,arguments)}function bU(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,z.Z)(function*(n,e){var t;e&&Nc(n).Yo&&(yield(t=(0,z.Z)(function*(r,i){if(cx(a=i.code)&&a!==re.ABORTED){const c=r.fu.shift();Nc(r).Mo(),yield SP(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield hm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),AP(n)&&NP(n)}),HA.apply(this,arguments)}function OP(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,z.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=ku(t);t._u.add(3),yield dm(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield H0(t)}),zA.apply(this,arguments)}function WA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,z.Z)(function*(n,e){const t=ze(n);e?(t._u.delete(2),yield H0(t)):e||(t._u.add(2),yield dm(t),t.gu.set("Unknown"))}),qA.apply(this,arguments)}function fm(n){return n.pu||(n.pu=function(e,t,r){const i=ze(e);return i.su(),new oU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:hU.bind(null,n),Zr:fU.bind(null,n),Wo:pU.bind(null,n)}),n.wu.push(function(){var e=(0,z.Z)(function*(t){t?(n.pu.Mo(),kA(n)?PA(n):n.gu.set("Unknown")):(yield n.pu.stop(),CP(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Nc(n){return n.Iu||(n.Iu=function(e,t,r){const i=ze(e);return i.su(),new aU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:_U.bind(null,n),Zr:bU.bind(null,n),tu:yU.bind(null,n),Zo:vU.bind(null,n)}),n.wu.push(function(){var e=(0,z.Z)(function*(t){t?(n.Iu.Mo(),yield hm(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ZA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new ZA(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if(Hn("AsyncQueue",`${e}: ${n}`),s(n))return new _e(re.UNAVAILABLE,`${e}: ${n}`);throw n}class gm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=A0(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new gm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new gm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class MP{constructor(){this.Tu=new tr(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ot():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class mm{constructor(e,t,r,i,a,c,f,_,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new mm(e,t,gm.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&I0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class wU{constructor(){this.Au=void 0,this.listeners=[]}}class DU{constructor(){this.queries=new Ic(e=>ZR(e),I0),this.onlineState="Unknown",this.Ru=new Set}}function YA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,z.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new wU),i)try{a.Au=yield t.onListen(r)}catch(c){const f=pm(c,`Initialization of query '${XS(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&XA(t)}),KA.apply(this,arguments)}function QA(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,z.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),JA.apply(this,arguments)}function EU(n,e){const t=ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Pu(i)&&(r=!0);c.Au=i}}r&&XA(t)}function IU(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function XA(n){n.Ru.forEach(e=>{e.next()})}class eN{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class TU{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class RP{constructor(e){this.yt=e}Ji(e){return Fa(this.yt,e)}Yi(e){return e.metadata.exists?Tx(this.yt,e.document,!1):Nn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return gr(e)}}class CU{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Wt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new RP(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||$t()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,z.Z)(function*(){const t=yield function eU(n,e,t,r){return EA.apply(this,arguments)}(e.localStore,new RP(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield tU(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function xP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PP{constructor(e){this.key=e}}class kP{constructor(e){this.key=e}}class FP{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$t(),this.mutatedKeys=$t(),this.Gu=KR(e),this.Qu=new gm(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new MP,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,C)=>{const M=i.get(E),L=T0(this.query,C)?C:null,q=!!M&&this.mutatedKeys.has(M.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let se=!1;M&&L?M.data.isEqual(L.data)?q!==J&&(r.track({type:3,doc:L}),se=!0):this.Hu(M,L)||(r.track({type:2,doc:L}),se=!0,(_&&this.Gu(L,_)>0||v&&this.Gu(L,v)<0)&&(f=!0)):!M&&L?(r.track({type:0,doc:L}),se=!0):M&&!L&&(r.track({type:1,doc:M}),se=!0,(_||v)&&(f=!0)),se&&(L?(c=c.add(L),a=J?a.add(E):a.delete(E)):(c=c.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Qu:c,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,E)=>function(C,M){const L=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return L(C)-L(M)}(v.type,E.type)||this.Gu(v.doc,E.doc)),this.Ju(r);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new mm(this.query,e.Qu,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new MP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$t(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new kP(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new PP(r))}),t}tc(e){this.qu=e.Hi,this.Ku=$t();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return mm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class SU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AU{constructor(e){this.key=e,this.nc=!1}}class NU{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Ic(f=>ZR(f),I0),this.rc=new Map,this.oc=new Set,this.uc=new tr(Ge.comparator),this.cc=new Map,this.ac=new mA,this.hc={},this.lc=new Map,this.fc=$h.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function OU(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,z.Z)(function*(n,e){const t=IN(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield lm(t.localStore,Ui(e));t.isPrimaryClient&&ZE(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield nN(t,e,r,"current"===f,c.resumeToken)}return i}),tN.apply(this,arguments)}function nN(n,e,t,r,i){return rN.apply(this,arguments)}function rN(){return rN=(0,z.Z)(function*(n,e,t,r,i){n._c=(C,M,L)=>{return(q=(0,z.Z)(function*(J,se,Le,Be){let Je=se.view.Wu(Le);Je.$i&&(Je=yield HE(J.localStore,se.query,!1).then(({documents:Xe})=>se.view.Wu(Xe,Je)));const We=Be&&Be.targetChanges.get(se.targetId),He=se.view.applyChanges(Je,J.isPrimaryClient,We);return fN(J,se.targetId,He.Xu),He.snapshot}),function(J,se,Le,Be){return q.apply(this,arguments)})(n,C,M,L);var q};const a=yield HE(n.localStore,e,!0),c=new FP(e,a.Hi),f=c.Wu(a.documents),_=M0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,_);fN(n,t,v.Xu);const E=new SU(e,t,c);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),rN.apply(this,arguments)}function MU(n,e){return iN.apply(this,arguments)}function iN(){return iN=(0,z.Z)(function*(n,e){const t=ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!I0(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),z0(t.remoteStore,r.targetId),_m(t,r.targetId)}).catch(xa))):(_m(t,r.targetId),yield cm(t.localStore,r.targetId,!0))}),iN.apply(this,arguments)}function sN(){return sN=(0,z.Z)(function*(n,e,t){const r=TN(n);try{const i=yield function(a,c){const f=ze(a),_=Dn.now(),v=c.reduce((M,L)=>M.add(L.key),$t());let E,C;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=os(),q=$t();return f.Gi.getEntries(M,v).next(J=>{L=J,L.forEach((se,Le)=>{Le.isValidDocument()||(q=q.add(se))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,L)).next(J=>{E=J;const se=[];for(const Le of c){const Be=UV(Le,E.get(Le.key).overlayedDocument);null!=Be&&se.push(new Pu(Le.key,Be,GR(Be.value.mapValue),Fn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,_,se,c)}).next(J=>{C=J;const se=J.applyToLocalDocumentSet(E,q);return f.documentOverlayCache.saveOverlays(M,J.batchId,se)})}).then(()=>({batchId:C.batchId,changes:fx(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.hc[a.currentUser.toKey()];_||(_=new tr(Pt)),_=_.insert(c,f),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Fu(r,i.changes),yield hm(r.remoteStore)}catch(i){const a=pm(i,"Failed to persist write");t.reject(a)}}),sN.apply(this,arguments)}function LP(n,e){return oN.apply(this,arguments)}function oN(){return oN=(0,z.Z)(function*(n,e){const t=ze(n);try{const r=yield JB(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?ft(c.nc):i.removedDocuments.size>0&&(ft(c.nc),c.nc=!1))}),yield Fu(t,r,e)}catch(r){yield xa(r)}}),oN.apply(this,arguments)}function VP(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=ze(a);f.onlineState=c;let _=!1;f.queries.forEach((v,E)=>{for(const C of E.listeners)C.bu(c)&&(_=!0)}),_&&XA(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xU(n,e,t){return aN.apply(this,arguments)}function aN(){return aN=(0,z.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new tr(Ge.comparator);c=c.insert(a,Nn.newNoDocument(a,yt.min()));const f=$t().add(a),_=new O0(yt.min(),new Map,new bn(Pt),c,f);yield LP(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),pN(r)}else yield cm(r.localStore,e,!1).then(()=>_m(r,e,t)).catch(xa)}),aN.apply(this,arguments)}function PU(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,z.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const i=yield QB(t.localStore,e);hN(t,r,null),dN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fu(t,i)}catch(i){yield xa(i)}}),uN.apply(this,arguments)}function kU(n,e,t){return lN.apply(this,arguments)}function lN(){return lN=(0,z.Z)(function*(n,e,t){const r=ze(n);try{const i=yield function(a,c){const f=ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return f.mutationQueue.lookupMutationBatch(_,c).next(E=>(ft(null!==E),v=E.keys(),f.mutationQueue.removeMutationBatch(_,E))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>f.localDocuments.getDocuments(_,v))})}(r.localStore,e);hN(r,e,t),dN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fu(r,i)}catch(i){yield xa(i)}}),lN.apply(this,arguments)}function cN(){return cN=(0,z.Z)(function*(n,e){const t=ze(n);ku(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=ze(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=pm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),cN.apply(this,arguments)}function dN(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function hN(n,e,t){const r=ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function _m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||BP(n,r)})}function BP(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(z0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),pN(n))}function fN(n,e,t){for(const r of t)r instanceof PP?(n.ac.addReference(r.key,e),LU(n,r)):r instanceof kP?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||BP(n,r.key)):ot()}function LU(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),pN(n))}function pN(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(Wt.fromString(e)),r=n.fc.next();n.cc.set(r,new AU(t)),n.uc=n.uc.insert(t,r),ZE(n.remoteStore,new Tc(Ui(Xg(t.path)),r,2,D.at))}}function Fu(n,e,t){return gN.apply(this,arguments)}function gN(){return gN=(0,z.Z)(function*(n,e,t){const r=ze(n),i=[],a=[],c=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,_)=>{c.push(r._c(_,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const E=bA.Ci(_.targetId,v);a.push(E)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(f=(0,z.Z)(function*(_,v){const E=ze(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ne.forEach(v,M=>ne.forEach(M.Si,L=>E.persistence.referenceDelegate.addReference(C,M.targetId,L)).next(()=>ne.forEach(M.Di,L=>E.persistence.referenceDelegate.removeReference(C,M.targetId,L)))))}catch(C){if(!s(C))throw C;Ne("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const M=C.targetId;if(!C.fromCache){const L=E.qi.get(M),J=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);E.qi=E.qi.insert(M,J)}}}),function(_,v){return f.apply(this,arguments)})(r.localStore,a))}),gN.apply(this,arguments)}function VU(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,z.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield fP(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new _e(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fu(t,r.ji)}var i}),mN.apply(this,arguments)}function BU(n,e){const t=ze(n),r=t.cc.get(e);if(r&&r.nc)return $t().add(r.key);{let i=$t();const a=t.rc.get(e);if(!a)return i;for(const c of a){const f=t.ic.get(c);i=i.unionWith(f.view.ju)}return i}}function UU(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,z.Z)(function*(n,e){const t=ze(n),r=yield HE(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&fN(t,e.targetId,i.Xu),i}),_N.apply(this,arguments)}function $U(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,z.Z)(function*(n,e){const t=ze(n);return _P(t.localStore,e).then(r=>Fu(t,r))}),yN.apply(this,arguments)}function jU(n,e,t,r){return vN.apply(this,arguments)}function vN(){return vN=(0,z.Z)(function*(n,e,t,r){const i=ze(n),a=yield function(c,f){const _=ze(c),v=ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Tn(E,f).next(C=>C?_.localDocuments.getDocuments(E,C):ne.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield hm(i.remoteStore):"acknowledged"===t||"rejected"===t?(hN(i,e,r||null),dN(i,e),f=e,ze(ze(i.localStore).mutationQueue).An(f)):ot(),yield Fu(i,a)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),vN.apply(this,arguments)}function bN(){return bN=(0,z.Z)(function*(n,e){const t=ze(n);if(IN(t),TN(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UP(t,r.toArray());t.dc=!0,yield WA(t.remoteStore,!0);for(const a of i)ZE(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(_m(t,c),cm(t.localStore,c,!0))),z0(t.remoteStore,c)}),yield i,yield UP(t,r),function(a){const c=ze(a);c.cc.forEach((f,_)=>{z0(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new tr(Ge.comparator)}(t),t.dc=!1,yield WA(t.remoteStore,!1)}}),bN.apply(this,arguments)}function UP(n,e,t){return wN.apply(this,arguments)}function wN(){return wN=(0,z.Z)(function*(n,e,t){const r=ze(n),i=[],a=[];for(const c of e){let f;const _=r.rc.get(c);if(_&&0!==_.length){f=yield lm(r.localStore,Ui(_[0]));for(const v of _){const E=r.ic.get(v),C=yield UU(r,E);C.snapshot&&a.push(C.snapshot)}}else{const v=yield mP(r.localStore,c);f=yield lm(r.localStore,v),yield nN(r,$P(v),c,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(a),i}),wN.apply(this,arguments)}function $P(n){return WR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HU(n){const e=ze(n);return ze(ze(e.localStore).persistence).vi()}function zU(n,e,t,r){return DN.apply(this,arguments)}function DN(){return DN=(0,z.Z)(function*(n,e,t,r){const i=ze(n);if(i.dc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield _P(i.localStore,YR(a[0])),f=O0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ue.EMPTY_BYTE_STRING);yield Fu(i,c,f);break}case"rejected":yield cm(i.localStore,e,!0),_m(i,e,r);break;default:ot()}}),DN.apply(this,arguments)}function WU(n,e,t){return EN.apply(this,arguments)}function EN(){return EN=(0,z.Z)(function*(n,e,t){const r=IN(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const a=yield mP(r.localStore,i),c=yield lm(r.localStore,a);yield nN(r,$P(a),c.targetId,!1,c.resumeToken),ZE(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield cm(r.localStore,i,!1).then(()=>{z0(r.remoteStore,i),_m(r,i)}).catch(xa))}}),EN.apply(this,arguments)}function IN(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xU.bind(null,e),e.sc.Wo=EU.bind(null,e.eventManager),e.sc.wc=IU.bind(null,e.eventManager),e}function TN(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kU.bind(null,e),e}class jP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,z.Z)(function*(){t.yt=G0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return hP(this.persistence,new dP,e.initialUser,this.yt)}yc(e){return new lP(jE.Bs,this.yt)}gc(e){return new wP}terminate(){var e=this;return(0,z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GP extends jP{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,z.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield TN(r.Ac.syncEngine),yield hm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return hP(this.persistence,new dP,e.initialUser,this.yt)}Tc(e,t){return new FB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new y(t,this.persistence);return new p(e.asyncQueue,r)}yc(e){const t=vA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new yA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EP(),qE(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new wP}}class ZU extends GP{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,z.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof AA&&(r.sharedClientState.syncEngine={Fr:jU.bind(null,i),$r:zU.bind(null,i),Br:WU.bind(null,i),vi:HU.bind(null,i),Mr:$U.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,z.Z)(function*(c){yield function GU(n,e){return bN.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=EP();if(!AA.C(t))throw new _e(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class CN{initialize(e,t){var r=this;return(0,z.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>VP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,r.syncEngine),yield WA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DU}createDatastore(e){const t=G0(e.databaseInfo.databaseId),r=new sU(e.databaseInfo);return new uU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>VP(this.syncEngine,f,0),c=DP.C()?new DP:new nU,new dU(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,v){const E=new NU(r,i,a,c,f,_);return v&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,z.Z)(function*(t){const r=ze(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield dm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function SN(n,e,t){if(!t)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HP(n,e,t,r){if(!0===e&&!0===r)throw new _e(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zP(n){if(!Ge.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WP(n){if(Ge.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=KE(n);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qP(n,e){if(e<=0)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const ZP=new Map;class YP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class W0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new f0;switch(t.type){case"gapi":return new IR(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ZP.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),ZP.delete(e),t.terminate())}(this),Promise.resolve()}}function KP(n,e,t,r={}){var i;const a=(n=Yt(n,W0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&qs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Sr.MOCK_USER;else{c=(0,pt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Sr(_)}n._authCredentials=new qg(new Wg(c,f))}}class On{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class Va extends hi{constructor(e,t,r){super(e,t,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ge(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function QP(n,e,...t){if(n=(0,pt.m9)(n),SN("collection","path",e),n instanceof W0){const r=Wt.fromString(e,...t);return WP(r),new Va(n,null,r)}{if(!(n instanceof On||n instanceof Va))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return WP(r),new Va(n.firestore,null,r)}}function QE(n,e,...t){if(n=(0,pt.m9)(n),1===arguments.length&&(e=_E.R()),SN("doc","path",e),n instanceof W0){const r=Wt.fromString(e,...t);return zP(r),new On(n,null,new Ge(r))}{if(!(n instanceof On||n instanceof Va))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return zP(r),new On(n.firestore,n instanceof Va?n.converter:null,new Ge(r))}}function JP(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),(n instanceof On||n instanceof Va)&&(e instanceof On||e instanceof Va)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function AN(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),n instanceof hi&&e instanceof hi&&n.firestore===e.firestore&&I0(n._query,e._query)&&n.converter===e.converter}function XP(n,e=10240){let t=0;return{read:()=>(0,z.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,z.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KU{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,z.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,z.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,z.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new TU(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,z.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,z.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class XU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _e(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,z.Z)(function*(a,c){const f=ze(a),_=x0(f.yt)+"/documents",v={documents:c.map(L=>R0(f.yt,L))},E=yield f._o("BatchGetDocuments",_,v,c.length),C=new Map;E.forEach(L=>{const q=function JV(n,e){return"found"in e?function(t,r){ft(!!r.found);const i=Fa(t,r.found.name),a=gr(r.found.updateTime),c=r.found.createTime?gr(r.found.createTime):yt.min(),f=new di({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,a,c,f)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const i=Fa(t,r.missing),a=gr(r.readTime);return Nn.newNoDocument(i,a)}(n,e):ot()}(f.yt,L);C.set(q.key.toString(),q)});const M=[];return c.forEach(L=>{const q=C.get(L.toString());ft(!!q),M.push(q)}),M}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ge.fromPath(i);e.mutations.push(new eA(a,e.precondition(a)))}),yield(r=(0,z.Z)(function*(i,a){const c=ze(i),f=x0(c.yt)+"/documents",_={writes:a.map(v=>P0(c.yt,v))};yield c.ao("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new _e(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class e${constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new NA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,z.Z)(function*(){const t=new XU(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Y(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cx(t)}return!1}}class t${constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=_E.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,z.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=pm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ek(n,e){return NN.apply(this,arguments)}function NN(){return NN=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,z.Z)(function*(a){r.isEqual(a)||(yield fP(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),NN.apply(this,arguments)}function tk(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MN(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>OP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>OP(e.remoteStore,a)),n.onlineComponents=e}),ON.apply(this,arguments)}function MN(n){return RN.apply(this,arguments)}function RN(){return RN=(0,z.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield ek(n,new jP)),n.offlineComponents}),RN.apply(this,arguments)}function XE(n){return xN.apply(this,arguments)}function xN(){return xN=(0,z.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield tk(n,new CN)),n.onlineComponents}),xN.apply(this,arguments)}function nk(n){return MN(n).then(e=>e.persistence)}function eI(n){return MN(n).then(e=>e.localStore)}function PN(n){return XE(n).then(e=>e.remoteStore)}function kN(n){return XE(n).then(e=>e.syncEngine)}function ym(n){return FN.apply(this,arguments)}function FN(){return FN=(0,z.Z)(function*(n){const e=yield XE(n),t=e.eventManager;return t.onListen=OU.bind(null,e.syncEngine),t.onUnlisten=MU.bind(null,e.syncEngine),t}),FN.apply(this,arguments)}function ik(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(i,a,c,f,_){const v=new JE({next:C=>{a.enqueueAndForget(()=>QA(i,E));const M=C.docs.has(c);!M&&C.fromCache?_.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&C.fromCache&&f&&"server"===f.source?_.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),E=new eN(Xg(c.path),v,{includeMetadataChanges:!0,Nu:!0});return YA(i,E)}(yield ym(n),n.asyncQueue,e,t,r)})),r.promise}function sk(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(i,a,c,f,_){const v=new JE({next:C=>{a.enqueueAndForget(()=>QA(i,E)),C.fromCache&&"server"===f.source?_.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),E=new eN(c,v,{includeMetadataChanges:!0,Nu:!0});return YA(i,E)}(yield ym(n),n.asyncQueue,e,t,r)})),r.promise}class l${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new NA(this,"async_queue_retry"),this.Wc=()=>{const t=qE();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=qE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=qE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,z.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!s(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Hn("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=ZA.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&ot()}verifyOperationInProgress(){}Xc(){var e=this;return(0,z.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function LN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class c${constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mn extends W0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new l$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ok(this),this._firestoreClient.terminate()}}function h$(n,e){const t="object"==typeof n?n:(0,zt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,zt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,pt.P0)("firestore");a&&KP(i,...a)}return i}function mr(n){return n._firestoreClient||ok(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ok(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new I(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new t$(n._authCredentials,n._appCheckCredentials,n._queue,r)}function ak(n,e,t){const r=new pr;return n.asyncQueue.enqueue((0,z.Z)(function*(){try{yield ek(n,t),yield tk(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===re.FAILED_PRECONDITION||c.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;qs("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function uk(n){if(n._initialized||n._terminated)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ba(Ue.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ba(Ue.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class tI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const w$=/^__.*__$/;class D${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new nm(e,this.data,t,this.fieldTransforms)}}class lk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ck(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class nI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new nI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return sI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ck(this.sa)&&w$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class E${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||G0(e)}da(e,t,r,i=!1){return new nI({sa:e,methodName:t,fa:r,path:zn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Hh(n){const e=n._freezeSettings(),t=G0(n._databaseId);return new E$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rI(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);$N("Data must be an object, but it was:",c,r);const f=fk(r,c);let _,v;if(a.merge)_=new ss(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const E=[];for(const C of a.mergeFields){const M=jN(e,C,t);if(!c.contains(M))throw new _e(re.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);gk(E,M)||E.push(M)}_=new ss(E),v=c.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=c.fieldTransforms;return new D$(new di(f),_,v)}class q0 extends Gh{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof q0}}function dk(n,e,t){return new nI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class VN extends Gh{_toFieldTransform(e){return new C0(e.path,new em)}isEqual(e){return e instanceof VN}}class I$ extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dk(this,e,!0),r=this._a.map(a=>zh(a,t)),i=new Ph(r);return new C0(e.path,i)}isEqual(e){return this===e}}class T$ extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dk(this,e,!0),r=this._a.map(a=>zh(a,t)),i=new kh(r);return new C0(e.path,i)}isEqual(e){return this===e}}class C$ extends Gh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new tm(e.yt,XR(e.yt,this.wa));return new C0(e.path,t)}isEqual(e){return this===e}}function BN(n,e,t,r){const i=n.da(1,e,t);$N("Data must be an object, but it was:",i,r);const a=[],c=di.empty();R(r,(_,v)=>{const E=iI(e,_,t);v=(0,pt.m9)(v);const C=i.ca(E);if(v instanceof q0)a.push(E);else{const M=zh(v,C);null!=M&&(a.push(E),c.set(E,M))}});const f=new ss(a);return new lk(c,f,i.fieldTransforms)}function UN(n,e,t,r,i,a){const c=n.da(1,e,t),f=[jN(e,r,t)],_=[i];if(a.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<a.length;M+=2)f.push(jN(e,a[M])),_.push(a[M+1]);const v=[],E=di.empty();for(let M=f.length-1;M>=0;--M)if(!gk(v,f[M])){const L=f[M];let q=_[M];q=(0,pt.m9)(q);const J=c.ca(L);if(q instanceof q0)v.push(L);else{const se=zh(q,J);null!=se&&(v.push(L),E.set(L,se))}}const C=new ss(v);return new lk(E,C,c.fieldTransforms)}function hk(n,e,t,r=!1){return zh(t,n.da(r?4:3,e))}function zh(n,e){if(pk(n=(0,pt.m9)(n)))return $N("Unsupported field value:",e,n),fk(n,e);if(n instanceof Gh)return function(t,r){if(!ck(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=zh(c,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return XR(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dn.fromDate(t);return{timestampValue:im(r.yt,i)}}if(t instanceof Dn){const i=new Dn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:im(r.yt,i)}}if(t instanceof tI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ba)return{bytesValue:bx(r.yt,t._byteString)};if(t instanceof On){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${KE(t)}`)}(n,e)}function fk(n,e){const t={};return G(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R(n,(r,i)=>{const a=zh(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function pk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dn||n instanceof tI||n instanceof Ba||n instanceof On||n instanceof Gh)}function $N(n,e,t){if(!pk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=KE(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function jN(n,e,t){if((e=(0,pt.m9)(e))instanceof Lu)return e._internalPath;if("string"==typeof e)return iI(n,e);throw sI("Field path arguments must be of type string or ",n,!1,void 0,t)}const S$=new RegExp("[~\\*/\\[\\]]");function iI(n,e,t){if(e.search(S$)>=0)throw sI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lu(...e.split("."))._internalPath}catch{throw sI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sI(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new _e(re.INVALID_ARGUMENT,f+n+_)}function gk(n,e){return n.some(t=>t.isEqual(e))}class Z0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new A$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class A$ extends Z0{data(){return super.data()}}function oI(n,e){return"string"==typeof e?iI(n,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}function mk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GN{}class Y0 extends GN{}function Oc(n,e,...t){let r=[];e instanceof GN&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof vm).length,c=i.filter(f=>f instanceof K0).length;if(a>1||a>0&&c>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class K0 extends Y0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new K0(e,t,r)}_apply(e){const t=this._parse(e);return bk(e._query,t),new hi(e.firestore,e.converter,JS(e._query,t))}_parse(e){const t=Hh(e.firestore);return function(i,a,c,f,_,v,E){let C;if(_.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){vk(E,v);const M=[];for(const L of E)M.push(yk(f,i,L));C={arrayValue:{values:M}}}else C=yk(f,i,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||vk(E,v),C=hk(c,"where",E,"in"===v||"not-in"===v);return Zt.create(_,v,C)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vm extends GN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)bk(a,f),a=JS(a,f)}(e._query,t),new hi(e.firestore,e.converter,JS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class HN extends Y0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new HN(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Qg(i,a);return function(f,_){if(null===KS(f)){const v=CE(f);null!==v&&wk(0,v,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new xu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aI extends Y0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new aI(e,t,r)}_apply(e){return new hi(e.firestore,e.converter,SE(e._query,this._limit,this._limitType))}}class uI extends Y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new uI(e,t,r)}_apply(e){const t=_k(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(i=t,new xu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class lI extends Y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lI(e,t,r)}_apply(e){const t=_k(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(i=t,new xu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function _k(n,e,t,r){if(t[0]=(0,pt.m9)(t[0]),t[0]instanceof Z0)return function(i,a,c,f,_){if(!f)throw new _e(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const E of xh(i))if(E.field.isKeyField())v.push(Mh(a,f.key));else{const C=f.data.field(E.field);if(An(C))throw new _e(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const M=E.field.canonicalString();throw new _e(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(C)}return new Ec(v,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hh(n.firestore);return function(a,c,f,_,v,E){const C=a.explicitOrderBy;if(v.length>C.length)throw new _e(re.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let L=0;L<v.length;L++){const q=v[L];if(C[L].field.isKeyField()){if("string"!=typeof q)throw new _e(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!QS(a)&&-1!==q.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const J=a.path.child(Wt.fromString(q));if(!Ge.isDocumentKey(J))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const se=new Ge(J);M.push(Mh(c,se))}else{const J=hk(f,_,q);M.push(J)}}return new Ec(M,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function yk(n,e,t){if("string"==typeof(t=(0,pt.m9)(t))){if(""===t)throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&-1!==t.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!Ge.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mh(n,new Ge(r))}if(t instanceof On)return Mh(n,t._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KE(t)}.`)}function vk(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function bk(n,e){if(e.isInequality()){const r=CE(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new _e(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=KS(n);null!==a&&wk(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wk(n,e,t){if(!t.isEqual(e))throw new _e(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zN{convertValue(e,t="none"){switch(Oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(an(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return R(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new tI(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=GS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(v0(e));default:return null}}convertTimestamp(e){const t=ge(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);ft(Ox(r));const i=new T(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return i.isEqual(t)||Hn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function cI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class L$ extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}class Wh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vu extends Z0{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Q0 extends Vu{data(e={}){return super.data(e)}}class Mc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Q0(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Q0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Wh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Q0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Wh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,v=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:V$(c.type),doc:f,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function V$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function Ek(n,e){return n instanceof Vu&&e instanceof Vu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mc&&e instanceof Mc&&n._firestore===e._firestore&&AN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Rc extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function Ik(n,e,t){n=Yt(n,On);const r=Yt(n.firestore,Mn),i=cI(n.converter,e,t);return bm(r,[rI(Hh(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fn.none())])}function Tk(n,e,t,...r){n=Yt(n,On);const i=Yt(n.firestore,Mn),a=Hh(i);let c;return c="string"==typeof(e=(0,pt.m9)(e))||e instanceof Lu?UN(a,"updateDoc",n._key,e,t,r):BN(a,"updateDoc",n._key,e),bm(i,[c.toMutation(n._key,Fn.exists(!0))])}function Ck(n,...e){var t,r,i;n=(0,pt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||LN(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(LN(e[c])){const C=e[c];e[c]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[c+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[c+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let _,v,E;if(n instanceof On)v=Yt(n.firestore,Mn),E=Xg(n._key.path),_={next:C=>{e[c]&&e[c](WN(v,n,C))},error:e[c+1],complete:e[c+2]};else{const C=Yt(n,hi);v=Yt(C.firestore,Mn),E=C._query;const M=new Rc(v);_={next:L=>{e[c]&&e[c](new Mc(v,M,C,L))},error:e[c+1],complete:e[c+2]},mk(n._query)}return function(C,M,L,q){const J=new JE(q),se=new eN(M,J,L);return C.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return YA(yield ym(C),se)})),()=>{J.bc(),C.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return QA(yield ym(C),se)}))}}(mr(v),E,f,_)}function bm(n,e){return function(t,r){const i=new pr;return t.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function RU(n,e,t){return sN.apply(this,arguments)}(yield kN(t),r,i)})),i.promise}(mr(n),e)}function WN(n,e,t){const r=t.docs.get(e._key),i=new Rc(n);return new Vu(n,i,e._key,r,new Wh(t.hasPendingWrites,t.fromCache),e.converter)}const Z$={maxAttempts:5};class Sk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hh(e)}set(e,t,r){this._verifyNotCommitted();const i=xc(e,this._firestore),a=cI(i.converter,t,r),c=rI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Fn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=xc(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof Lu?UN(this._dataReader,"WriteBatch.update",a._key,t,r,i):BN(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xc(e,this._firestore);return this._mutations=this._mutations.concat(new rm(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xc(n,e){if((n=(0,pt.m9)(n)).firestore!==e)throw new _e(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Y$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hh(e)}get(e){const t=xc(e,this._firestore),r=new L$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const a=i[0];if(a.isFoundDocument())return new Z0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Z0(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=xc(e,this._firestore),a=cI(i.converter,t,r),c=rI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=xc(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof Lu?UN(this._dataReader,"Transaction.update",a._key,t,r,i):BN(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=xc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xc(e,this._firestore),r=new Rc(this._firestore);return super.get(e).then(i=>new Vu(this._firestore,r,t._key,i._document,new Wh(!1,!1),t.converter))}}function qN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Nk(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function Ok(){if(!function qe(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Sh=zt.SDK_VERSION,(0,zt._registerComponent)(new Qi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Mn(new DR(t.getProvider("auth-internal")),new mE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,zt.registerVersion)(pE,"3.8.3",n),(0,zt.registerVersion)(pE,"3.8.3","esm2017")}();class J0{constructor(e){this._delegate=e}static fromBase64String(e){return Ok(),new J0(Ba.fromBase64String(e))}static fromUint8Array(e){return Nk(),new J0(Ba.fromUint8Array(e))}toBase64(){return Ok(),this._delegate.toBase64()}toUint8Array(){return Nk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZN(n){return function ij(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sj{enableIndexedDbPersistence(e,t){return function f$(n,e){uk(n=Yt(n,Mn));const t=mr(n),r=n._freezeSettings(),i=new CN;return ak(t,i,new GP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function p$(n){uk(n=Yt(n,Mn));const e=mr(n),t=n._freezeSettings(),r=new CN;return ak(e,r,new ZU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function g$(n){if(n._initialized&&!n._terminated)throw new _e(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{yield(t=(0,z.Z)(function*(r){if(!Zs.C())return Promise.resolve();const i=r+"main";yield Zs.delete(i)}),function(r){return t.apply(this,arguments)})(vA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Mk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof T||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){KP(this._delegate,e,t,r)}enableNetwork(){return function _$(n){return function n$(n){return n.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield nk(n),t=yield PN(n);return e.setNetworkEnabled(!0),function(r){const i=ze(r);return i._u.delete(0),H0(i)}(t)}))}(mr(n=Yt(n,Mn)))}(this._delegate)}disableNetwork(){return function y$(n){return function r$(n){return n.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield nk(n),t=yield PN(n);return e.setNetworkEnabled(!1),(r=(0,z.Z)(function*(i){const a=ze(i);a._u.add(0),yield dm(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mr(n=Yt(n,Mn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function m$(n){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function FU(n,e){return cN.apply(this,arguments)}(yield kN(e),t)})),t.promise}(mr(n=Yt(n,Mn)))}(this._delegate)}onSnapshotsInSync(e){return function q$(n,e){return function o$(n,e){const t=new JE(e);return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return r=yield ym(n),i=t,ze(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return r=yield ym(n),i=t,void ze(r).Ru.delete(i);var r,i}))}}(mr(n=Yt(n,Mn)),LN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wm(this,QP(this._delegate,e))}catch(t){throw ji(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ys(this,QE(this._delegate,e))}catch(t){throw ji(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gi(this,function YU(n,e){if(n=Yt(n,W0),SN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hi(n,null,(t=e,new xu(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ji(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function K$(n,e,t){n=Yt(n,Mn);const r=Object.assign(Object.assign({},Z$),t);return function(i){if(i.maxAttempts<1)throw new _e(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new pr;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){const _=yield function rk(n){return XE(n).then(e=>e.datastore)}(i);new e$(i.asyncQueue,_,c,a,f).run()})),f.promise}(mr(n),i=>e(new Y$(n,i)),r)}(this._delegate,t=>e(new Rk(this,t)))}batch(){return mr(this._delegate),new xk(new Sk(this._delegate,e=>bm(this._delegate,e)))}loadBundle(e){return function v$(n,e){const t=mr(n=Yt(n,Mn)),r=new c$;return function a$(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,v){if(_ instanceof Uint8Array)return XP(_,v);if(_ instanceof ArrayBuffer)return XP(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new KU(_,c);var _}(t,G0(e));n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){!function qU(n,e,t){const r=ze(n);var i;(i=(0,z.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(M,L){const q=ze(M),J=gr(L.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",se=>q.Ns.getBundleMetadata(se,L.id)).then(se=>!!se&&se.createTime.compareTo(J)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(M=_).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);f._updateProgress(xP(_));const v=new CU(_,a.localStore,c.yt);let E=yield c.mc();for(;E;){const M=yield v.Fu(E);M&&f._updateProgress(M),E=yield c.mc()}const C=yield v.complete();return yield Fu(a,C.Lu,void 0),yield function(M,L){const q=ze(M);return q.persistence.runTransaction("Save bundle","readwrite",J=>q.Ns.saveBundleMetadata(J,L))}(a.localStore,_),f._completeWith(C.progress),Promise.resolve(C.Bu)}catch(_){return qs("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var M}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function b$(n,e){return function u$(n,e){return n.asyncQueue.enqueue((0,z.Z)(function*(){return function(t,r){const i=ze(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield eI(n),e)}))}(mr(n=Yt(n,Mn)),e).then(t=>t?new hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gi(this,t):null)}}class dI extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(new Ba(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ys.forKey(t,this.firestore,null)}}class Rk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dI(e)}get(e){const t=Zh(e);return this._delegate.get(t).then(r=>new X0(this._firestore,new Vu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zh(e);return r?(qN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zh(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zh(e);return this._delegate.delete(t),this}}class xk{constructor(e){this._delegate=e}set(e,t,r){const i=Zh(e);return r?(qN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zh(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=qh.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new qh(e,new dI(e),t),i.set(t,a)),a}}qh.INSTANCES=new WeakMap;class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ys(t,new On(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new Ys(t,new On(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wm(this.firestore,QP(this._delegate,e))}catch(t){throw ji(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pt.m9)(e))instanceof On&&JP(this._delegate,e)}set(e,t){t=qN("DocumentReference.set",t);try{return t?Ik(this._delegate,e,t):Ik(this._delegate,e)}catch(r){throw ji(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Tk(this._delegate,e):Tk(this._delegate,e,t,...r)}catch(i){throw ji(i,"updateDoc()","DocumentReference.update()")}}delete(){return function z$(n){return bm(Yt(n.firestore,Mn),[new rm(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=Pk(e),r=kk(e,i=>new X0(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ck(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function U$(n){n=Yt(n,On);const e=Yt(n.firestore,Mn),t=mr(e),r=new Rc(e);return function i$(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(r=(0,z.Z)(function*(i,a,c){try{const f=yield function(_,v){const E=ze(_);return E.persistence.runTransaction("read document","readonly",C=>E.localDocuments.getDocument(C,v))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new _e(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=pm(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield eI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vu(e,r,n._key,i,new Wh(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $$(n){n=Yt(n,On);const e=Yt(n.firestore,Mn);return ik(mr(e),n._key,{source:"server"}).then(t=>WN(e,n,t))}(this._delegate):function B$(n){n=Yt(n,On);const e=Yt(n.firestore,Mn);return ik(mr(e),n._key).then(t=>WN(e,n,t))}(this._delegate),t.then(r=>new X0(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}function ji(n,e,t){return n.message=n.message.replace(e,t),n}function Pk(n){for(const e of n)if("object"==typeof e&&!ZN(e))return e;return{}}function kk(n,e){var t,r;let i;return i=ZN(n[0])?n[0]:ZN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class X0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ys(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ek(this._delegate,e._delegate)}}class eb extends X0{data(e){const t=this._delegate.data(e);return function Ou(n,e){n||ot()}(void 0!==t),t}}class Gi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dI(e)}where(e,t,r){try{return new Gi(this.firestore,Oc(this._delegate,function N$(n,e,t){const r=e,i=oI("where",n);return K0._create(i,r,t)}(e,t,r)))}catch(i){throw ji(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gi(this.firestore,Oc(this._delegate,function O$(n,e="asc"){const t=e,r=oI("orderBy",n);return HN._create(r,t)}(e,t)))}catch(r){throw ji(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gi(this.firestore,Oc(this._delegate,function M$(n){return qP("limit",n),aI._create("limit",n,"F")}(e)))}catch(t){throw ji(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gi(this.firestore,Oc(this._delegate,function R$(n){return qP("limitToLast",n),aI._create("limitToLast",n,"L")}(e)))}catch(t){throw ji(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gi(this.firestore,Oc(this._delegate,function x$(...n){return uI._create("startAt",n,!0)}(...e)))}catch(t){throw ji(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gi(this.firestore,Oc(this._delegate,function P$(...n){return uI._create("startAfter",n,!1)}(...e)))}catch(t){throw ji(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gi(this.firestore,Oc(this._delegate,function k$(...n){return lI._create("endBefore",n,!1)}(...e)))}catch(t){throw ji(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gi(this.firestore,Oc(this._delegate,function F$(...n){return lI._create("endAt",n,!0)}(...e)))}catch(t){throw ji(t,"endAt()","Query.endAt()")}}isEqual(e){return AN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function G$(n){n=Yt(n,hi);const e=Yt(n.firestore,Mn),t=mr(e),r=new Rc(e);return function s$(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(r=(0,z.Z)(function*(i,a,c){try{const f=yield HE(i,a,!0),_=new FP(a,f.Hi),v=_.Wu(f.documents),E=_.applyChanges(v,!1);c.resolve(E.snapshot)}catch(f){const _=pm(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield eI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Mc(e,r,n,i))}(this._delegate):"server"===e?.source?function H$(n){n=Yt(n,hi);const e=Yt(n.firestore,Mn),t=mr(e),r=new Rc(e);return sk(t,n._query,{source:"server"}).then(i=>new Mc(e,r,n,i))}(this._delegate):function j$(n){n=Yt(n,hi);const e=Yt(n.firestore,Mn),t=mr(e),r=new Rc(e);return mk(n._query),sk(t,n._query).then(i=>new Mc(e,r,n,i))}(this._delegate),t.then(r=>new YN(this.firestore,new Mc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Pk(e),r=kk(e,i=>new YN(this.firestore,new Mc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ck(this._delegate,t,r)}withConverter(e){return new Gi(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}class aj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new eb(this._firestore,r))})}isEqual(e){return Ek(this._delegate,e._delegate)}}class wm extends Gi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ys(this.firestore,e):null}doc(e){try{return new Ys(this.firestore,void 0===e?QE(this._delegate):QE(this._delegate,e))}catch(t){throw ji(t,"doc()","CollectionReference.doc()")}}add(e){return function W$(n,e){const t=Yt(n.firestore,Mn),r=QE(n),i=cI(n.converter,e);return bm(t,[rI(Hh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ys(this.firestore,t))}isEqual(e){return JP(this._delegate,e._delegate)}withConverter(e){return new wm(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}function Zh(n){return Yt(n,On)}class KN{constructor(...e){this._delegate=new Lu(...e)}static documentId(){return new KN(zn.keyField().canonicalString())}isEqual(e){return(e=(0,pt.m9)(e))instanceof Lu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function J$(){return new VN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yh(e)}static delete(){const e=function Q$(){return new q0("deleteField")}();return e._methodName="FieldValue.delete",new Yh(e)}static arrayUnion(...e){const t=function X$(...n){return new I$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yh(t)}static arrayRemove(...e){const t=function ej(...n){return new T$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yh(t)}static increment(e){const t=function tj(n){return new C$("increment",n)}(e);return t._methodName="FieldValue.increment",new Yh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uj={Firestore:Mk,GeoPoint:tI,Timestamp:Dn,Blob:J0,Transaction:Rk,WriteBatch:xk,DocumentReference:Ys,DocumentSnapshot:X0,Query:Gi,QueryDocumentSnapshot:eb,QuerySnapshot:YN,CollectionReference:wm,FieldPath:KN,FieldValue:Yh,setLogLevel:function oj(n){!function wR(n){Nu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function cj(n){(function lj(n,e){n.INTERNAL.registerComponent(new Qi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},uj)))})(n,(e,t)=>new Mk(e,t,new sj)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(hv.Z);var hI=k(6451);class dj extends en.x{constructor(e=1/0,t=1/0,r=Bd){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var hj=k(3099);function Fk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,hj.B)({connector:()=>new dj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Lk(n,e){return(0,xr.m)(e)?vn(()=>n,e):vn(()=>n)}class Dm{constructor(e){return e}}class Vk{constructor(){return(0,zt.getApps)()}}const QN=new l.OlP("angularfire2._apps"),pj={provide:Dm,useFactory:function fj(n){return n&&1===n.length?n[0]:new Dm((0,zt.getApp)())},deps:[[new l.FiY,QN]]},gj={provide:Vk,deps:[[new l.FiY,QN]]};function mj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dm(r)}}let _j=(()=>{class n{constructor(t){(0,zt.registerVersion)("angularfire",th.full,"core"),(0,zt.registerVersion)("angularfire",th.full,"app"),(0,zt.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pj,gj]}),n})();const vj=lv(zt.initializeApp,!0),JN=new Map,Bk={activated:!1,tokenObservers:[]},bj={initialized:!1,enabled:!1};function fi(n){return JN.get(n)||Object.assign({},Bk)}function fI(){return bj}class Cj{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,z.Z)(function*(){t.stop();try{t.pending=new pt.BH,yield function Sj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hi=new pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $k(n){if(!fi(n).activated)throw Hi.create("use-before-activation",{appName:n.name})}function tO(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,z.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(C){throw Hi.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==c.status)throw Hi.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(C){throw Hi.create("fetch-parse-error",{originalErrorMessage:C?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(_[1]),E=Date.now();return{token:f.token,expireTimeMillis:E+v,issuedAtTimeMillis:E}}),nO.apply(this,arguments)}function Mj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const tb="firebase-app-check-store";let mI=null;function Gk(){return mI||(mI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Hi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tb,{keyPath:"compositeKey"})}}catch(t){e(Hi.create("storage-open",{originalErrorMessage:t?.message}))}}),mI)}function rO(){return rO=(0,z.Z)(function*(n,e){const r=(yield Gk()).transaction(tb,"readwrite"),a=r.objectStore(tb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var v;f(Hi.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})}),rO.apply(this,arguments)}const nb=new Ds.Yd("@firebase/app-check");function oO(n,e){return(0,pt.hl)()?function kj(n,e){return function Hk(n,e){return rO.apply(this,arguments)}(function Wk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qk(){return fI().enabled}function Zk(){return uO.apply(this,arguments)}function uO(){return uO=(0,z.Z)(function*(){const n=fI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),uO.apply(this,arguments)}const $j={error:"UNKNOWN_ERROR"};function jj(n){return pt.US.encodeString(JSON.stringify(n),!1)}function _I(n){return lO.apply(this,arguments)}function lO(){return lO=(0,z.Z)(function*(n,e=!1){const t=n.app;$k(t);const r=fi(t);let a,i=r.token;if(i&&!Em(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Em(_)?i=_:yield oO(t,void 0))}if(!e&&i&&Em(i))return{token:i.token};let f,c=!1;if(qk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tO(Mj(t,yield Zk()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield oO(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield fi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?nb.warn(_.message):nb.error(_),a=_}return i?a?f=Em(i)?{token:i.token,internalError:a}:Qk(a):(f={token:i.token},r.token=i,yield oO(t,i)):f=Qk(a),c&&Kk(t,f),f}),lO.apply(this,arguments)}function dO(n,e){const t=fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Yk(n){const{app:e}=n,t=fi(e);let r=t.tokenRefresher;r||(r=function Gj(n){const{app:e}=n;return new Cj((0,z.Z)(function*(){let r;if(r=fi(e).token?yield _I(n,!0):yield _I(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Kk(n,e){const t=fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Em(n){return n.expireTimeMillis-Date.now()>0}function Qk(n){return{token:jj($j),error:n}}class Hj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fi(this.app);for(const t of e)dO(this.app,t.next);return Promise.resolve()}}const sF="app-check-internal";!function iG(){(0,zt._registerComponent)(new Qi.wA("app-check",n=>function zj(n,e){return new Hj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sF).initialize()})),(0,zt._registerComponent)(new Qi.wA(sF,n=>function Wj(n){return{getToken:e=>_I(n,e),addTokenListener:e=>function cO(n,e,t,r){const{app:i}=n,a=fi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Em(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Yk(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Yk(n))}(n,"INTERNAL",e),removeTokenListener:e=>dO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zt.registerVersion)("@firebase/app-check","0.6.3")}();class vI{constructor(){return av("app-check")}}typeof window<"u"&&window;var lG=k(9260);const aF=new l.OlP("angularfire2.auth.use-emulator"),uF=new l.OlP("angularfire2.auth.settings"),lF=new l.OlP("angularfire2.auth.tenant-id"),cF=new l.OlP("angularfire2.auth.langugage-code"),dF=new l.OlP("angularfire2.auth.use-device-language"),hF=new l.OlP("angularfire.auth.persistence"),fF=(n,e,t,r,i,a,c,f)=>(0,Bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[v,E]of Object.entries(c))_.settings[v]=E;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let pF=(()=>{class n{constructor(t,r,i,a,c,f,_,v,E,C,M,L){const q=new en.x,J=ut(void 0).pipe((0,ic.Q)(c.outsideAngular),vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,st.U)(()=>(0,Bi.on)(t,a,r)),(0,st.U)(se=>fF(se,a,f,v,E,C,_,M)),Fk({bufferSize:1,refCount:!1}));if(wf(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{J.pipe(Ls()).subscribe();const Le=J.pipe(vn(We=>We.getRedirectResult().then(He=>He,()=>null)),Ti,Fk({bufferSize:1,refCount:!1})),Be=J.pipe(vn(We=>new jn.y(He=>({unsubscribe:a.runOutsideAngular(()=>We.onAuthStateChanged(Xe=>He.next(Xe),Xe=>He.error(Xe),()=>He.complete()))})))),Je=J.pipe(vn(We=>new jn.y(He=>({unsubscribe:a.runOutsideAngular(()=>We.onIdTokenChanged(Xe=>He.next(Xe),Xe=>He.error(Xe),()=>He.complete()))}))));this.authState=Le.pipe(Lk(Be),(0,rc.R)(c.outsideAngular),(0,ic.Q)(c.insideAngular)),this.user=Le.pipe(Lk(Je),(0,rc.R)(c.outsideAngular),(0,ic.Q)(c.insideAngular)),this.idToken=this.user.pipe(vn(We=>We?(0,Ht.D)(We.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(vn(We=>We?(0,Ht.D)(We.getIdTokenResult()):ut(null))),this.credential=(0,hI.T)(Le,q,this.authState.pipe(sn(We=>!We))).pipe((0,st.U)(We=>We?.user?We:null),(0,rc.R)(c.outsideAngular),(0,ic.Q)(c.insideAngular))}return(0,Bi.pX)(this,J,a,{spy:{apply:(se,Le,Be)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Be.then(Je=>q.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bi.Dh),l.LFG(Bi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(dg),l.LFG(aF,8),l.LFG(uF,8),l.LFG(lF,8),l.LFG(cF,8),l.LFG(dF,8),l.LFG(hF,8),l.LFG(vI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gF(n,e){return function dG(n,e=Ud){return new jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function mO(n,e){return gF(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function bI(n,e){return mO(n,e).pipe(Zi(void 0),cv(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(E=>E.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function mF(n,e,t){return bI(n,t).pipe(oa((r,i)=>function fG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function pG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _O(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _O(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _O(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),hg(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _O(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function _F(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Zi(void 0),cv(),sn(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),Ti)}auditTrail(e){return this.stateChanges(e).pipe(oa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_F(e);return mF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return mO(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ti)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(Ti)}add(e){return this.ref.add(e)}doc(e){return new vF(this.ref.doc(e),this.afs)}}class vF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=DF(r,t);return new yF(i,a,this.afs)}snapshotChanges(){return function hG(n,e){return gF(n,e).pipe(Zi(void 0),cv(),(0,st.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ht.D)(this.ref.get(e)).pipe(Ti)}}class gG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bI(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),sn(t=>t.length>0),Ti):bI(this.query,this.afs.schedulers.outsideAngular).pipe(Ti)}auditTrail(e){return this.stateChanges(e).pipe(oa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_F(e);return mF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return mO(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ti)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(Ti)}}const bF=new l.OlP("angularfire2.enableFirestorePersistence"),wF=new l.OlP("angularfire2.firestore.persistenceSettings"),mG=new l.OlP("angularfire2.firestore.settings"),_G=new l.OlP("angularfire2.firestore.use-emulator");function DF(n,e=(t=>t)){return{query:e(n),ref:n}}let EF=(()=>{class n{constructor(t,r,i,a,c,f,_,v,E,C,M,L,q,J,se,Le,Be){this.schedulers=_;const Je=(0,Bi.on)(t,f,r),We=E;C&&fF(Je,f,M,q,J,se,L,Le),[this.firestore,this.persistenceEnabled$]=(0,Bi.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const He=f.runOutsideAngular(()=>Je.firestore());if(a&&He.settings(a),We&&He.useEmulator(...We),i&&!wf(c)){const Xe=()=>{try{return(0,Ht.D)(He.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Ft){return typeof console<"u"&&console.warn(Ft),ut(!1)}};return[He,f.runOutsideAngular(Xe)]}return[He,ut(!1)]},[a,We,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=DF(i,r),f=this.schedulers.ngZone.run(()=>a);return new yF(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new gG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new vF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bi.Dh),l.LFG(Bi.xv,8),l.LFG(bF,8),l.LFG(mG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(dg),l.LFG(wF,8),l.LFG(_G,8),l.LFG(pF,8),l.LFG(aF,8),l.LFG(uF,8),l.LFG(lF,8),l.LFG(cF,8),l.LFG(dF,8),l.LFG(hF,8),l.LFG(vI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yG=(()=>{class n{constructor(){lG.Z.registerVersion("angularfire",th.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:bF,useValue:!0},{provide:wF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[EF]}),n})();var vG=k(1144);const bG=["addListener","removeListener"],wG=["addEventListener","removeEventListener"],DG=["on","off"];function kr(n,e,t,r){if((0,xr.m)(t)&&(r=t,t=void 0),r)return kr(n,e,t).pipe(Fs(r));const[i,a]=function TG(n){return(0,xr.m)(n.addEventListener)&&(0,xr.m)(n.removeEventListener)}(n)?wG.map(c=>f=>n[c](e,f,t)):function EG(n){return(0,xr.m)(n.addListener)&&(0,xr.m)(n.removeListener)}(n)?bG.map(IF(n,e)):function IG(n){return(0,xr.m)(n.on)&&(0,xr.m)(n.off)}(n)?DG.map(IF(n,e)):[];if(!i&&(0,vG.z)(n))return(0,Er.z)(c=>kr(c,e,t))((0,Di.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new jn.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function IF(n,e){return t=>r=>n[t](e,r)}var CG=k(3532);function yO(n=0,e,t=z_){let r=-1;return null!=e&&((0,CG.K)(e)?t=e:r=e),new jn.y(i=>{let a=function SG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:AG}=Array;function TF(n){return 1===n.length&&AG(n[0])?n[0]:n}var wI=k(5032);const Bu=new jn.y(wI.Z);function DI(...n){const e=(0,po.jO)(n),t=TF(n);return t.length?new jn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,Di.Xf)(t[c]).subscribe((0,dn.x)(r,f=>{if(i[c].push(f),i.every(_=>_.length)){const _=i.map(v=>v.shift());r.next(e?e(..._):_),i.some((v,E)=>!v.length&&a[E])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):xi.E}function nr(n){return(0,wn.e)((e,t)=>{(0,Di.Xf)(n).subscribe((0,dn.x)(t,()=>t.complete(),wI.Z)),!t.closed&&e.subscribe(t)})}function vO(...n){const e=(0,po.jO)(n);return(0,wn.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,Di.Xf)(n[_]).subscribe((0,dn.x)(r,v=>{a[_]=v,!f&&!c[_]&&(c[_]=!0,(f=c.every(Mi.y))&&(c=null))},wI.Z));t.subscribe((0,dn.x)(r,_=>{if(f){const v=[_,...a];r.next(e?e(...v):v)}}))})}function SF(n,e){return e?t=>go(e.pipe(hn(1),function MG(){return(0,wn.e)((n,e)=>{n.subscribe((0,dn.x)(e,wI.Z))})}()),t.pipe(SF(n))):(0,Er.z)((t,r)=>(0,Di.Xf)(n(t,r)).pipe(hn(1),wl(t)))}function AF(n,e=Ud){const t=yO(n,e);return SF(()=>t)}const us=new l.OlP("NgValueAccessor");function B3(n,e){}function U3(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,B3,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function $3(n,e){}function j3(n,e){}function G3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.KtG(a.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,j3,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const H3=function(n,e){return{$implicit:n,opened:e}};function z3(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,$3,0,0,"ng-template",6),l.qZA(),l.YNc(3,G3,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,H3,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function W3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const LI=["*"];function q3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function Z3(n,e){}function Y3(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,Z3,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function K3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Q3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const J3=["ngbDatepickerDayView",""],X3=["month"],ez=["year"];function tz(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function nz(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function rz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function iz(n,e){1&n&&l._UZ(0,"div",0)}function sz(n,e){1&n&&l._UZ(0,"div",0)}function oz(n,e){if(1&n&&(l.YNc(0,iz,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,sz,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function az(n,e){if(1&n&&l.YNc(0,oz,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function uz(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function lz(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function cz(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,uz,2,1,"div",3),l.YNc(2,lz,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function dz(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function hz(n,e){}function fz(n,e){if(1&n&&l.YNc(0,hz,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function pz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,fz,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function gz(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,dz,2,1,"div",9),l.YNc(2,pz,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function mz(n,e){1&n&&l.YNc(0,gz,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const _z=["defaultDayTemplate"],yz=["content"];function vz(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function bz(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function wz(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,bz,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function Dz(n,e){if(1&n&&l.YNc(0,wz,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function Ez(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateEvent(i))})("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function Iz(n,e){}function Tz(n,e){}const Cz=["dialog"],Sz=["ngbNavOutlet",""];function Az(n,e){}const Nz=function(n){return{$implicit:n}};function Oz(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Az,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,Nz,t.active||r.isPanelTransitioning(t)))}}function Mz(n,e){if(1&n&&l.YNc(0,Oz,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function Rz(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function xz(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function Pz(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function kz(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function Fz(n,e){1&n&&l._uU(0,"...")}function Lz(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function Vz(n,e){if(1&n&&(l._uU(0),l.YNc(1,Lz,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function Bz(n,e){}const Uz=function(n){return{disabled:!0,currentPage:n}};function $z(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,Bz,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,Uz,t))}}function jz(n,e){}const Gz=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function Hz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(2).selectPage(a),l.KtG(i.preventDefault())}),l.YNc(1,jz,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,a=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,Gz,i,t,a))}}function zz(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,$z,2,4,"a",18),l.YNc(2,Hz,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,a=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||a),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function Wz(n,e){1&n&&l.YNc(0,zz,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function qz(n,e){}const QO=function(n,e){return{disabled:n,currentPage:e}};function Zz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,qz,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,QO,t.previousDisabled(),t.page))}}function Yz(n,e){}const Kz=function(n){return{disabled:n}};function Qz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page-1),l.KtG(i.preventDefault())}),l.YNc(2,Yz,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,Kz,t.previousDisabled()))}}function Jz(n,e){}function Xz(n,e){}function e6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page+1),l.KtG(i.preventDefault())}),l.YNc(2,Xz,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,QO,t.nextDisabled(),t.page))}}function t6(n,e){}function n6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,t6,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,QO,t.nextDisabled(),t.page))}}const r6=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function o6(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function a6(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function u6(n,e){}function l6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(a+1))})("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(a+1))}),l.YNc(3,u6,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function c6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function d6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function h6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function f6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function p6(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function g6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function m6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function _6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,g6,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(a.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(-a.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,m6,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function y6(n,e){1&n&&l._UZ(0,"div",5)}function v6(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function b6(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function w6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,v6,2,1,"ng-container",25),l.YNc(3,b6,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function D6(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function E6(n,e){}function I6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,E6,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function T6(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function C6(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function S6(n,e){if(1&n&&(l.YNc(0,T6,2,3,"span",1),l.YNc(1,C6,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function gi(n){return parseInt(`${n}`,10)}function YL(n){return null!=n?`${n}`:""}function VI(n,e,t=0){return Math.max(Math.min(n,e),t)}function fb(n){return"string"==typeof n}function rr(n){return!isNaN(gi(n))}function Wn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function ef(n){return null!=n}function Nm(n){return rr(n)?`0${n}`.slice(-2):""}function QL(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Om(n){return(n||document.body).getBoundingClientRect()}function JL(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const XL={animation:!0,transitionTimerDelayMs:5},P6=()=>{},{transitionTimerDelayMs:k6}=XL,pb=new Map,Xr=(n,e,t,r)=>{let i=r.context||{};const a=pb.get(e);if(a)switch(r.runningTransition){case"continue":return xi.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),pb.delete(e)}const c=t(e,r.animation,i)||P6;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),ut(void 0).pipe(function R6(n){return e=>new jn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new en.x,_=new en.x,v=f.pipe(function OG(...n){return e=>go(e,ut(...n))}(!0));pb.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const E=function x6(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const C=kr(e,"transitionend").pipe(nr(v),sn(({target:L})=>L===e));(function CF(...n){return 1===(n=TF(n)).length?(0,Di.Xf)(n[0]):new jn.y(function NG(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Di.Xf)(n[r]).subscribe((0,dn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(yO(E+k6).pipe(nr(v)),C,_).pipe(nr(v)).subscribe(()=>{pb.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},e2=(n,e,t)=>{let{direction:r,maxSize:i,dimension:a}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function L6(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,a),t.maxSize=i,n.style[a]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Om(n),c.add("collapsing")),n.style[a]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[a]=""};f()};let Mm=(()=>{class n{constructor(){this.animation=XL.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B6=0,JO=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),t2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),n2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),XO=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+B6++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,t2,4),l.Suo(i,JO,4),l.Suo(i,n2,4)),2&t){let a;l.iGM(a=l.CRH())&&(r.titleTpls=a),l.iGM(a=l.CRH())&&(r.headerTpls=a),l.iGM(a=l.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),U6=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),r2=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>eM)),l.Y36(XO,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),eM=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){fb(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Xr(this._ngZone,r,e2,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Xr(this._ngZone,r.panelDiv,e2,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(V6),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,XO,4),2&t){let a;l.iGM(a=l.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,U3,3,3,"ng-template",0,1,l.W1O),l.YNc(2,z3,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[Qn,vi,r2,U6,JO,xn],encapsulation:2}),n})(),i2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[eM]}),n})();const $6=({classList:n})=>{n.remove("show")};let j6=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G6=(()=>{class n{constructor(t,r,i,a){this._renderer=r,this._element=i,this._zone=a,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Xr(this._zone,this._element.nativeElement,$6,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j6),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:LI,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,W3,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[xn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[G6]}),n})();var Vc=(()=>(function(n){n.START="start",n.END="end"}(Vc||(Vc={})),Vc))();const o2=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),gb=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},BI=n=>{gb(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},H6=(n,e,{direction:t})=>{const{classList:r}=n;return e?(o2(n)?gb(r):(r.add("carousel-item-"+(t===Vc.START?"next":"prev")),Om(n),r.add("carousel-item-"+t)),()=>{BI(r),r.add("active")}):(gb(r),BI(r),void r.add("active"))},z6=(n,e,{direction:t})=>{const{classList:r}=n;return e?(o2(n)?gb(r):r.add("carousel-item-"+t),()=>{BI(r),r.remove("active")}):(gb(r),BI(r),void r.remove("active"))};let W6=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q6=0,Z6=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+q6++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),Y6=(()=>{class n{constructor(t,r,i,a,c){this._platformId=r,this._ngZone=i,this._cd=a,this._container=c,this.NgbSlideEventSource=tf,this._destroy$=new en.x,this._interval$=new kn(0),this._mouseHover$=new kn(!1),this._focused$=new kn(!1),this._pauseOnHover$=new kn(!1),this._pauseOnFocus$=new kn(!1),this._pause$=new kn(!1),this._wrap$=new kn(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(tf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(tf.ARROW_RIGHT)}ngAfterContentInit(){Wa(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ri([this.slide.pipe((0,st.U)(r=>r.current),Zi(this.activeId)),this._wrap$,this.slides.changes.pipe(Zi(null))]).pipe((0,st.U)(([r,i])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(r);return i?a.length>1:c<a.length-1}),hg());Ri([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,st.U)(([r,i,a,c,f,_,v])=>r||i&&a||c&&f||!v?0:_),hg(),vn(r=>r>0?yO(r,r):Bu),nr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(tf.TIMER)))}),this.slides.changes.pipe(nr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{pb.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Vc.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Vc.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},_=[],v=this._getSlideById(this.activeId);if(v){const L=Xr(this._ngZone,this._getSlideElement(v.id),z6,f);L.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),_.push(L)}const E=this.activeId;this.activeId=c.id;const C=this._getSlideById(this.activeId),M=Xr(this._ngZone,this._getSlideElement(c.id),H6,f);M.subscribe(()=>{C?.slid.emit({isShown:!0,direction:r,source:i})}),_.push(M),DI(..._).pipe(hn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:E,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Vc.END:Vc.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(W6),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Z6,4),2&t){let a;l.iGM(a=l.CRH())&&(r.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,q3,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,Y3,4,4,"div",3),l.qZA(),l.YNc(4,K3,4,0,"button",4),l.YNc(5,Q3,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[Qn,vi,xn],encapsulation:2,changeDetection:0}),n})();var tf=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(tf||(tf={})),tf))();let a2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Y6]}),n})(),u2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Fr{constructor(e,t,r){this.year=Wn(e)?e:null,this.month=Wn(t)?t:null,this.day=Wn(r)?r:null}static from(e){return e instanceof Fr?e:e?new Fr(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Rm(n,e){return!function K6(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function l2(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function UI(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function tM(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function c2(n){return new Fr(n.getFullYear(),n.getMonth()+1,n.getDate())}function $I(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let jI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function sW(){return new oW}()},providedIn:"root"}),n})(),oW=(()=>{class n extends jI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=$I(t),c=!0,f=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":f+=i,a.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==f&&a.setDate(0),c2(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=$I(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=$I(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return c2(new Date)}isValid(t){if(!(t&&Wn(t.year)&&Wn(t.month)&&Wn(t.day)&&0!==t.year))return!1;const r=$I(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nf=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function aW(n){return new uW(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),uW=(()=>{class n extends nf{constructor(t){super(),this._locale=t,this._monthsShort=Me(t,$e.Standalone,Ae.Abbreviated),this._monthsFull=Me(t,$e.Standalone,Ae.Wide)}getWeekdayLabel(t,r){const i=we(this._locale,$e.Standalone,void 0===r?Ae.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return ln(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nM=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Wn(i=gi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Wn(i=gi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(Rm(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(Rm(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?Ae.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new en.x,this._dateSelect$=new en.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ae.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(sn(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(sn(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>({...i,...a}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Rm(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){tM(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||l2(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Rm(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&tM(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Fr.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:f,disabled:_,outsideDays:v}=t;t.months.forEach(E=>{E.weeks.forEach(C=>{C.days.forEach(M=>{c&&(M.context.focused=c.equals(M.date)&&f),M.tabindex=!_&&c&&M.date.equals(c)&&c.month===E.number?0:-1,!0===_&&(M.context.disabled=!0),void 0!==a&&(M.context.selected=null!==a&&a.equals(M.date)),E.number!==M.date.month&&(M.hidden="hidden"===v||"collapsed"===v||i>1&&M.date.after(r[0].firstDate)&&M.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Q6(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=UI(r.focusDate,r.minDate,r.maxDate),r.firstDate=UI(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=UI(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=UI(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function nW(n,e,t,r,i){const{displayMonths:a,months:c}=t,f=c.splice(0,c.length);return Array.from({length:a},(v,E)=>{const C=Object.assign(n.getNext(e,"m",E),{day:1});if(c[E]=null,!i){const M=f.findIndex(L=>L.firstDate.equals(C));-1!==M&&(c[E]=f.splice(M,1)[0])}return C}).forEach((v,E)=>{null===c[E]&&(c[E]=function rW(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:f,firstDayOfWeek:_,markDisabled:v,outsideDays:E,weekdayWidth:C,weekdaysVisible:M}=t,L=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function iW(n,e,t){const r=n.getDaysPerWeek(),i=new Fr(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,_),M||(i.weekdays.length=0);for(let q=0;q<n.getWeeksPerMonth();q++){let J=i.weeks[q];J||(J=i.weeks[q]={number:0,days:[],collapsed:!0});const se=J.days;for(let Le=0;Le<n.getDaysPerWeek();Le++){0===q&&M&&(i.weekdays[Le]=r.getWeekdayLabel(n.getWeekday(e),C));const Be=new Fr(e.year,e.month,e.day),Je=n.getNext(Be),We=r.getDayAriaLabel(Be);let He=!!(c&&Be.before(c)||f&&Be.after(f));!He&&v&&(He=v(Be,{month:i.number,year:i.year}));let Xe=Be.equals(L),Ft=a?a(Be,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Be.month===i.number&&(i.firstDate=Be),Be.month===i.number&&Je.month!==i.number&&(i.lastDate=Be);let nn=se[Le];nn||(nn=se[Le]={}),nn.date=Be,nn.context=Object.assign(nn.context||{},{$implicit:Be,date:Be,data:Ft,currentMonth:i.number,currentYear:i.year,disabled:He,focused:!1,selected:!1,today:Xe}),nn.tabindex=-1,nn.ariaLabel=We,nn.hidden=!1,e=Je}J.number=n.getWeekNumber(se.map(Le=>Le.date),_),J.collapsed="collapsed"===E&&se[0].date.month!==i.number&&se[se.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!tM(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,_=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function X6(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let f=0;f<a;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function J6(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(_||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function tW(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function eW(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jI),l.LFG(nf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var xm=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(xm||(xm={})),xm))();let lW=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:J3,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),cW=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Fr(this.date.year,gi(t),1))}changeYear(t){this.select.emit(new Fr(gi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nf),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(X3,7,l.SBq),l.Gf(ez,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,tz,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,nz,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[Qn],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),dW=(()=>{class n{constructor(t){this.i18n=t,this.navigation=xm,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,rz,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,az,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[xn,Qn,cW],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Qt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Qt||(Qt={})),Qt))();let hW=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case Qt.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Qt.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Qt.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Qt.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Qt.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case Qt.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case Qt.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case Qt.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case Qt.Enter:case Qt.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ae.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fW(){return new pW}()},providedIn:"root"}),n})(),pW=(()=>{class n extends iM{fromModel(t){return t&&Wn(t.year)&&Wn(t.month)&&Wn(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Wn(t.year)&&Wn(t.month)&&Wn(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),d2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),sM=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nf),l.Y36((0,l.Gpc)(()=>GI)),l.Y36(hW),l.Y36(nM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,cz,3,2,"div",0),l.YNc(1,mz,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[xn,Qn,vi],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),GI=(()=>{class n{constructor(t,r,i,a,c,f,_,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=_,this._ngZone=v,this._controlValue=null,this._destroyed$=new en.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=E=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(E=>this[E]=a[E]),t.dateSelect$.pipe(nr(this._destroyed$)).subscribe(E=>{this.dateSelect.emit(E)}),t.model$.pipe(nr(this._destroyed$)).subscribe(E=>{const C=E.firstDate,M=this.model?this.model.firstDate:null;this._publicState={maxDate:E.maxDate,minDate:E.minDate,firstDate:E.firstDate,lastDate:E.lastDate,focusedDate:E.focusDate,months:E.months.map(Le=>Le.firstDate)};let L=!1;if(!C.equals(M)&&(this.navigate.emit({current:M?{year:M.year,month:M.month}:null,next:{year:C.year,month:C.month},preventDefault:()=>L=!0}),L&&null!==M))return void this._service.open(M);const q=E.selectedDate,J=E.focusDate,se=this.model?this.model.focusDate:null;this.model=E,Rm(q,this._controlValue)&&(this._controlValue=q,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(q))),Rm(J,se)&&se&&E.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Fr.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Fr.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=kr(this._contentEl.nativeElement,"focusin"),r=kr(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,hI.T)(t,r).pipe(sn(({target:a,relatedTarget:c})=>!(QL(a,"ngb-dp-day")&&QL(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),nr(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;l2(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case xm.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case xm.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Fr.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nM),l.Y36(jI),l.Y36(nf),l.Y36(rM),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(iM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,d2,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(_z,7),l.Gf(yz,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:us,useExisting:(0,l.Gpc)(()=>n),multi:!0},nM]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,vz,1,5,"ng-template",null,0,l.W1O),l.YNc(2,Dz,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,Ez,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,Iz,0,0,"ng-template",6),l.qZA(),l.YNc(9,Tz,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[xn,Qn,vi,lW,sM,dW],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const p2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function g2(n){const e=Array.from(n.querySelectorAll(p2)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GI,sM]}),n})(),lM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class af{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let BW=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{Xr(this._zone,this._el.nativeElement,(t,r)=>{r&&Om(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Xr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class R2{close(e){}dismiss(e){}}class UW{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new en.x,this._dismissed=new en.x,this._hidden=new en.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(nr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(nr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function KL(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),DI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(yb||(yb={})),yb))();let $W=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new en.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new en.x,this.hidden=new en.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":fb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=DI(Xr(this._zone,t,()=>t.classList.remove("show"),r),Xr(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};DI(Xr(this._zone,this._elRef.nativeElement,(a,c)=>{c&&Om(a),a.classList.add("show")},t),Xr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{kr(t,"keydown").pipe(nr(this._closed$),sn(i=>i.which===Qt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(yb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;kr(this._dialogEl.nativeElement,"mousedown").pipe(nr(this._closed$),Gn(()=>r=!1),vn(()=>kr(t,"mouseup").pipe(nr(this._closed$),hn(1))),sn(({target:i})=>t===i)).subscribe(()=>{r=!0}),kr(t,"click").pipe(nr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(yb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=g2(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Xr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ae),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(Cz,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:LI,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),jW=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GW=(()=>{class n{constructor(t,r,i,a,c,f,_){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=a,this._scrollBar=c,this._rendererFactory=f,this._ngZone=_,this._activeWindowCmptHasChanged=new en.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=kr(e,"focusin").pipe(nr(t),(0,st.U)(a=>a.target));kr(e,"keydown").pipe(nr(t),sn(a=>a.which===Qt.Tab),vO(i)).subscribe(([a,c])=>{const[f,_]=g2(e);(c===f||c===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),c===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&kr(e,"click").pipe(nr(t),vO(i),(0,st.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:ef(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new R2,_=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,_,r,f,i);let E=!1!==i.backdrop?this._attachBackdrop(a):void 0,C=this._attachWindowComponent(a,v.nodes),M=new UW(C,v,E,i.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(C),M.hidden.pipe(hn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=L=>{M.close(L)},f.dismiss=L=>{M.dismiss(L)},this._applyWindowOptions(C.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),E&&E.instance&&(this._applyBackdropOptions(E.instance,i),E.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(BW,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)($W,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{ef(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{ef(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):fb(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new af([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new af([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new af([[r]])}_createFromComponent(t,r,i,a,c){const f=l.zs3.create({providers:[{provide:R2,useValue:a}],parent:t}),_=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=_.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new af([[v]],_.hostView,_)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ae),l.LFG(jW),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HW=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zW=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(GW),l.LFG(HW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zW]}),n})();const ZW=({classList:n})=>(n.remove("show"),()=>n.remove("active")),YW=(n,e)=>{e&&Om(n),n.classList.add("show")};let hM=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),L2=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(nr(this.nav.destroy$),Zi(this._activePane?.item||null),hg(),function RG(n){return sn((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Xr(this._ngZone,this._activePane.elRef.nativeElement,ZW,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Xr(this._ngZone,this._activePane.elRef.nativeElement,YW,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(hM,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:Sz,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,Mz,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[hM,Qn,xn,vi],encapsulation:2,changeDetection:0}),n})(),V2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[L2]}),n})(),KW=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),U2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),$2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),j2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),G2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),H2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),z2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),W2=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=VI(t,this.pageCount,1),this.page!==r&&rr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),rr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(KW))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,B2,5),l.Suo(i,U2,5),l.Suo(i,$2,5),l.Suo(i,j2,5),l.Suo(i,G2,5),l.Suo(i,H2,5),l.Suo(i,z2,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.tplEllipsis=a.first),l.iGM(a=l.CRH())&&(r.tplFirst=a.first),l.iGM(a=l.CRH())&&(r.tplLast=a.first),l.iGM(a=l.CRH())&&(r.tplNext=a.first),l.iGM(a=l.CRH())&&(r.tplNumber=a.first),l.iGM(a=l.CRH())&&(r.tplPrevious=a.first),l.iGM(a=l.CRH())&&(r.tplPages=a.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,a,c,f,_;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,i=$localize`:@@ngb.pagination.last:`,a=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,_=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,Rz,2,0,"ng-template",null,0,l.W1O),l.YNc(2,xz,2,0,"ng-template",null,1,l.W1O),l.YNc(4,Pz,2,0,"ng-template",null,2,l.W1O),l.YNc(6,kz,2,0,"ng-template",null,3,l.W1O),l.YNc(8,Fz,1,0,"ng-template",null,4,l.W1O),l.YNc(10,Vz,2,2,"ng-template",null,5,l.W1O),l.YNc(12,Wz,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,Zz,3,9,"li",7),l.YNc(16,Qz,3,8,"li",7),l.YNc(17,Jz,0,0,"ng-template",8),l.YNc(18,e6,3,9,"li",7),l.YNc(19,n6,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,r6,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[xn,Qn,vi],encapsulation:2,changeDetection:0}),n})(),q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[W2]}),n})(),Y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),nq=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rq=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!rr(t)||t<=0?100:t}get max(){return this._max}getValue(){return VI(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:LI,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,o6,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[xn,Bm],encapsulation:2,changeDetection:0}),n})(),K2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[rq]}),n})(),iq=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sq=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Qt.ArrowDown:case Qt.ArrowLeft:this.update(this.rate-1);break;case Qt.ArrowUp:case Qt.ArrowRight:this.update(this.rate+1);break;case Qt.Home:this.update(0);break;case Qt.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=VI(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*VI(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iq),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let a;l.iGM(a=l.CRH())&&(r.starTemplateFromContent=a.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(a){return r.handleKeyDown(a)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:us,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,a6,1,1,"ng-template",null,0,l.W1O),l.YNc(2,l6,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[Qn,vi],encapsulation:2,changeDetection:0}),n})(),Q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sq]}),n})();class J2{constructor(e,t,r){this.hour=gi(e),this.minute=gi(t),this.second=gi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=rr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){rr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){rr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return rr(this.hour)&&rr(this.minute)&&(!e||rr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let oq=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function aq(){return new uq}()},providedIn:"root"}),n})(),uq=(()=>{class n extends X2{fromModel(t){return t&&Wn(t.hour)&&Wn(t.minute)?{hour:t.hour,minute:t.minute,second:Wn(t.second)?t.second:null}:null}toModel(t){return t&&Wn(t.hour)&&Wn(t.minute)?{hour:t.hour,minute:t.minute,second:Wn(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function lq(n){return new cq(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),cq=(()=>{class n extends eV{constructor(t){super(),this._periods=ce(t,$e.Standalone,Ae.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dq=/[^0-9]/g;let hq=(()=>{class n{constructor(t,r,i,a){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=a,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Wn(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Wn(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Wn(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new J2(r.hour,r.minute,r.second):new J2,!this.seconds&&(!r||!rr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=gi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(gi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(gi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(dq,"")}formatHour(t){return rr(t)?Nm(this.meridian?t%12==0?12:t%12:t%24):Nm(NaN)}formatMinSec(t){return Nm(rr(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!rr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oq),l.Y36(X2),l.Y36(l.sBO),l.Y36(eV))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:us,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,a,c,f,_,v,E,C,M,L,q;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,E=$localize`:@@ngb.timepicker.seconds:Seconds`,C=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,M=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,L=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,q=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],c,f,_,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",E,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],C,M,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],L,q]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,c6,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(a){return r.updateHour(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeHour(r.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeHour(-r.hourStep),a.preventDefault()}),l.qZA(),l.YNc(5,d6,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,h6,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(a){return r.updateMinute(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeMinute(r.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeMinute(-r.minuteStep),a.preventDefault()}),l.qZA(),l.YNc(11,f6,4,7,"button",3),l.qZA(),l.YNc(12,p6,2,0,"div",8),l.YNc(13,_6,4,9,"div",9),l.YNc(14,y6,1,0,"div",8),l.YNc(15,w6,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[xn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),tV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hq]}),n})();const fq=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Om(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},pq=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let gq=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),_q=(()=>{class n{constructor(t,r,i,a){this.ariaLive=t,this._zone=i,this._element=a,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(hn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Xr(this._zone,this._element.nativeElement,pq,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Xr(this._zone,this._element.nativeElement,fq,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(gq),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,mq,7,l.Rgc),2&t){let a;l.iGM(a=l.CRH())&&(r.contentHeaderTpl=a.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:LI,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,D6,2,1,"ng-template",null,0,l.W1O),l.YNc(2,I6,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[xn,vi],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),nV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_q]}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yq=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=YL(this.result),i=Array.isArray(this.term)?this.term:[this.term],a=v=>this.accentSensitive?v:JL(v),c=i.map(v=>function O6(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(a(YL(v)))).filter(v=>v),f=this.accentSensitive?r:JL(r),_=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=_;else{let v=0;this.parts=_.map(E=>r.substring(v,v+=E.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,S6,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[xn,Qn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function vq(){return 100}});let iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yq]}),n})(),sV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const bq=[i2,s2,a2,u2,A2,M2,x2,V2,sV,q2,Y2,K2,Q2,tV,nV,rV,iV];let wq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bq,i2,s2,a2,u2,A2,M2,x2,V2,sV,q2,Y2,K2,Q2,tV,nV,rV,iV]}),n})();const Dq=function(n){return["panos-search",n]},Eq=function(){return{search:"app"}},Iq=function(){return{search:"game"}},Tq=function(){return{search:"art"}};class vb{constructor(){this.searchClass=""}activateSearch(){this.searchClass=""==this.searchClass?"active":""}}vb.\u0275fac=function(e){return new(e||vb)},vb.\u0275cmp=l.Xpm({type:vb,selectors:[["app-navbar"]],decls:12,vars:9,consts:[[1,"navbar",2,"justify-content","unset"],["clickable","",1,"nav-link",3,"click"],["name","search"],[3,"ngClass"],["routerLink","",1,"nav-link"],["routerLink","",1,"nav-link",3,"queryParams"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l.NdJ("click",function(){return t.activateSearch()}),l._UZ(2,"ion-icon",2),l.qZA(),l._UZ(3,"input",3),l.TgZ(4,"a",4),l._uU(5,"All Projects"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"Apps"),l.qZA(),l.TgZ(8,"a",5),l._uU(9,"Games"),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Art"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngClass",l.VKq(4,Dq,t.searchClass)),l.xp6(3),l.Q6J("queryParams",l.DdM(6,Eq)),l.xp6(2),l.Q6J("queryParams",l.DdM(7,Iq)),l.xp6(2),l.Q6J("queryParams",l.DdM(8,Tq)))},dependencies:[lM,Ot,kl]});const Cq=function(){return{search:"{{tag}}"}};function Sq(n,e){if(1&n&&(l.TgZ(0,"a",8),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("queryParams",l.DdM(2,Cq)),l.xp6(1),l.Oqu(t)}}function Aq(n,e){if(1&n&&(l.TgZ(0,"a",9),l._uU(1,"Show More"),l.qZA()),2&n){const t=l.oxw();l.s9C("href",t.item.details,l.LSH)}}function Nq(n,e){1&n&&(l.TgZ(0,"a",10),l._uU(1,"Show More"),l.qZA())}class bb{}function Oq(n,e){if(1&n&&l._UZ(0,"app-project",7),2&n){const t=l.oxw().$implicit;l.Q6J("item",t)}}function Mq(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,Oq,1,1,"app-project",6),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",""==r.search||t.tags.includes(r.search.toUpperCase()))}}bb.\u0275fac=function(e){return new(e||bb)},bb.\u0275cmp=l.Xpm({type:bb,selectors:[["app-project"]],inputs:{item:"item"},decls:16,vars:14,consts:[[1,"panos-card"],[1,"panos-tags"],["routerLink","","class","panos-tag",3,"queryParams",4,"ngFor","ngForOf"],[2,"height","10px"],[2,"height","2px"],[1,"panos-card-image",3,"src"],["class","panos-card-show-more",3,"href",4,"ngIf"],["class","panos-card-show-more",4,"ngIf"],["routerLink","",1,"panos-tag",3,"queryParams"],[1,"panos-card-show-more",3,"href"],[1,"panos-card-show-more"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,Sq,2,3,"a",2),l.qZA(),l._UZ(3,"div",3),l.TgZ(4,"h5"),l._uU(5),l.ALo(6,"slice"),l.qZA(),l._UZ(7,"div",3),l.TgZ(8,"h6"),l._uU(9),l.ALo(10,"date"),l.qZA(),l._UZ(11,"div",4)(12,"img",5)(13,"div",4),l.YNc(14,Aq,2,1,"a",6),l.YNc(15,Nq,2,0,"a",7),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngForOf",t.item.tags),l.xp6(3),l.AsE("",l.Dn7(6,7,t.item.name,0,19),"",t.item.name.length>19?"...":"",""),l.xp6(4),l.hij(" ",l.xi3(10,11,t.item.date,"longDate")," "),l.xp6(3),l.s9C("src",t.item.icon,l.LSH),l.xp6(2),l.Q6J("ngIf",t.item.details.length>0&&t.item.details.length<100),l.xp6(1),l.Q6J("ngIf",t.item.details.length>100))},dependencies:[Qn,xn,kl,Um,br]});class wb{constructor(e,t){this.route=e,this.title="Portfolio",this.search="",this.search="",this.items=t.collection("projects").valueChanges().pipe((0,st.U)(r=>r.sort((i,a)=>new Date(i.date)>new Date(a.date)?-1:1)))}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}wb.\u0275fac=function(e){return new(e||wb)(l.Y36(Cl),l.Y36(EF))},wb.\u0275cmp=l.Xpm({type:wb,selectors:[["app-root"]],decls:14,vars:3,consts:[[2,"max-width","1080px","margin","0 auto"],[1,"header"],[1,"logo"],[1,"page",2,"padding","20px"],[4,"ngFor","ngForOf"],[1,"footer-copyrights"],[3,"item",4,"ngIf"],[3,"item"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"a",2),l._uU(3,"PANOS PETRIDISOGLOU"),l.qZA()(),l._UZ(4,"br")(5,"app-navbar"),l.TgZ(6,"div",3),l.YNc(7,Mq,2,1,"div",4),l.ALo(8,"async"),l.qZA(),l.TgZ(9,"div",5),l._uU(10," Copyrights 2023\xa9 "),l._UZ(11,"br"),l._uU(12,"Template made with \u{1f52e} by Panos Petridisoglou "),l.qZA()(),l._UZ(13,"router-outlet")),2&e&&(l.xp6(7),l.Q6J("ngForOf",l.lcZ(8,1,t.items)))},dependencies:[Qn,xn,I_,vb,bb,eo]});const xq={connector:()=>new en.x};function oV(n,e=xq){const{connector:t}=e;return(0,wn.e)((r,i)=>{const a=t();(0,Di.Xf)(n(function Rq(n){return new jn.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}const Db="Service workers are disabled or not supported by this browser";class KI{constructor(e){if(this.serviceWorker=e,e){const r=kr(e,"controllerchange").pipe((0,st.U)(()=>e.controller)),a=go(yl(()=>ut(e.controller)),r);this.worker=a.pipe(sn(E=>!!E)),this.registration=this.worker.pipe(vn(()=>e.getRegistration()));const v=kr(e,"message").pipe((0,st.U)(E=>E.data)).pipe(sn(E=>E&&E.type)).pipe(function kq(n){return n?e=>oV(n)(e):e=>function Pq(n,e){const t=(0,xr.m)(n)?n:()=>n;return(0,xr.m)(e)?oV(e,{connector:t}):r=>new vl(r,t)}(new en.x)(e)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function Fq(n){return yl(()=>ys(new Error(n)))}(Db)}postMessage(e,t){return this.worker.pipe(hn(1),Gn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(sn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(hn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(sn(t=>t.nonce===e),hn(1),(0,st.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Lq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new en.x,!t.isEnabled)return this.messages=Bu,this.notificationClicks=Bu,void(this.subscription=Bu);this.messages=this.sw.eventsOfType("PUSH").pipe((0,st.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,st.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,st.U)(i=>i.pushManager));const r=this.pushManager.pipe(vn(i=>i.getSubscription()));this.subscription=(0,hI.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Db));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe(vn(c=>c.subscribe(r)),hn(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(hn(1),vn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Db))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vq=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Bu,this.available=Bu,this.activated=Bu,void(this.unrecoverable=Bu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(sn(r=>"VERSION_READY"===r.type),(0,st.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Db));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Db));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fM{}const aV=new l.OlP("NGSW_REGISTER_SCRIPT");function Bq(n,e,t,r){return()=>{if(!Wa(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=ut(null);break;case"registerWithDelay":i=uV(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,hI.T)(lV(n),uV(+f[0])):lV(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>i.pipe(hn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function uV(n){return ut(null).pipe(AF(n))}function lV(n){return n.get(l.z2F).isStable.pipe(sn(t=>t))}function Uq(n,e){return new KI(Wa(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let $q=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:aV,useValue:t},{provide:fM,useValue:r},{provide:KI,useFactory:Uq,deps:[fM,l.Lbi]},{provide:l.ip1,useFactory:Bq,deps:[l.zs3,aV,fM,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Lq,Vq]}),n})();const cV={firebase:{projectId:"bio-site-panospet",appId:"1:105141969644:web:854d5aba223588475ffbc9",storageBucket:"bio-site-panospet.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAVI8RKwFQvtLnmAJba33mb1QhfbL2DPeo",authDomain:"bio-site-panospet.firebaseapp.com",messagingSenderId:"105141969644",measurementId:"G-MTF5MB90YP"},production:!1};k(2722);class hV{constructor(){return av("auth")}}class mM{constructor(e){return e}}const fV="firestore",_M=new l.OlP("angularfire2.firestore-instances");function qq(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mM(r)}}const Zq={provide:class zq{constructor(){return av(fV)}},deps:[[new l.FiY,_M]]},Yq={provide:mM,useFactory:function Wq(n,e){const t=function cg(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(fV,n,e);return t&&new mM(t)},deps:[[new l.FiY,_M],Dm]};let Kq=(()=>{class n{constructor(){(0,zt.registerVersion)("angularfire",th.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Yq,Zq]}),n})();const Jq=lv(h$,!0);class km{}km.\u0275fac=function(e){return new(e||km)},km.\u0275mod=l.oAB({type:km,bootstrap:[wb]}),km.\u0275inj=l.cJS({providers:[{provide:Bi.Dh,useValue:cV.firebase}],imports:[wq,jf,va,$q.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),function yj(n,...e){return{ngModule:_j,providers:[{provide:QN,useFactory:mj(n),multi:!0,deps:[l.R0b,l.zs3,dg,...e]}]}}(()=>vj(cV.firebase)),function Qq(n,...e){return{ngModule:Kq,providers:[{provide:_M,useFactory:qq(n),multi:!0,deps:[l.R0b,l.zs3,dg,Vk,[new l.FiY,hV],[new l.FiY,vI],...e]}]}}(()=>Jq()),yG]}),r_().bootstrapModule(km).catch(n=>console.error(n))},9751:(vt,Ee,k)=>{k.d(Ee,{y:()=>fe});var l=k(930),B=k(727),x=k(8822),ie=k(9635),ye=k(2416),ae=k(576),Fe=k(2806);let fe=(()=>{class W{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const rt=new W;return rt.source=this,rt.operator=Se,rt}subscribe(Se,rt,it){const ee=function $(W){return W&&W instanceof l.Lv||function j(W){return W&&(0,ae.m)(W.next)&&(0,ae.m)(W.error)&&(0,ae.m)(W.complete)}(W)&&(0,B.Nn)(W)}(Se)?Se:new l.Hp(Se,rt,it);return(0,Fe.x)(()=>{const{operator:Ie,source:me}=this;ee.add(Ie?Ie.call(ee,me):me?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(Se){try{return this._subscribe(Se)}catch(rt){Se.error(rt)}}forEach(Se,rt){return new(rt=Oe(rt))((it,ee)=>{const Ie=new l.Hp({next:me=>{try{Se(me)}catch(Ce){ee(Ce),Ie.unsubscribe()}},error:ee,complete:it});this.subscribe(Ie)})}_subscribe(Se){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Se)}[x.L](){return this}pipe(...Se){return(0,ie.U)(Se)(this)}toPromise(Se){return new(Se=Oe(Se))((rt,it)=>{let ee;this.subscribe(Ie=>ee=Ie,Ie=>it(Ie),()=>rt(ee))})}}return W.create=Ve=>new W(Ve),W})();function Oe(W){var Ve;return null!==(Ve=W??ye.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(vt,Ee,k)=>{k.d(Ee,{x:()=>Fe});var l=k(9751),B=k(727);const ie=(0,k(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=k(8737),ae=k(2806);let Fe=(()=>{class Oe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const W=new fe(this,this);return W.operator=$,W}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next($)}})}error($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:W}=this;for(;W.length;)W.shift().error($)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:W,isStopped:Ve,observers:Se}=this;return W||Ve?B.Lc:(this.currentObservers=null,Se.push($),new B.w0(()=>{this.currentObservers=null,(0,ye.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:W,thrownError:Ve,isStopped:Se}=this;W?$.error(Ve):Se&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return Oe.create=(j,$)=>new fe(j,$),Oe})();class fe extends Fe{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===W||W.call($,j)}error(j){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===W||W.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,W;return null!==(W=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==W?W:B.Lc}}},930:(vt,Ee,k)=>{k.d(Ee,{Hp:()=>it,Lv:()=>W});var l=k(576),B=k(727),x=k(2416),ie=k(7849),ye=k(5032);const ae=Oe("C",void 0,void 0);function Oe(Te,be,ve){return{kind:Te,value:be,error:ve}}var j=k(3410),$=k(2806);class W extends B.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,B.Nn)(be)&&be.add(this)):this.destination=Ce}static create(be,ve,Re){return new it(be,ve,Re)}next(be){this.isStopped?me(function fe(Te){return Oe("N",Te,void 0)}(be),this):this._next(be)}error(be){this.isStopped?me(function Fe(Te){return Oe("E",void 0,Te)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?me(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(Te,be){return Ve.call(Te,be)}class rt{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ve}=this;if(ve.next)try{ve.next(be)}catch(Re){ee(Re)}}error(be){const{partialObserver:ve}=this;if(ve.error)try{ve.error(be)}catch(Re){ee(Re)}else ee(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ve){ee(ve)}}}class it extends W{constructor(be,ve,Re){let K;if(super(),(0,l.m)(be)||!be)K={next:be??void 0,error:ve??void 0,complete:Re??void 0};else{let Q;this&&x.v.useDeprecatedNextContext?(Q=Object.create(be),Q.unsubscribe=()=>this.unsubscribe(),K={next:be.next&&Se(be.next,Q),error:be.error&&Se(be.error,Q),complete:be.complete&&Se(be.complete,Q)}):K=be}this.destination=new rt(K)}}function ee(Te){x.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Te):(0,ie.h)(Te)}function me(Te,be){const{onStoppedNotification:ve}=x.v;ve&&j.z.setTimeout(()=>ve(Te,be))}const Ce={closed:!0,next:ye.Z,error:function Ie(Te){throw Te},complete:ye.Z}},727:(vt,Ee,k)=>{k.d(Ee,{Lc:()=>ae,w0:()=>ye,Nn:()=>Fe});var l=k(576);const x=(0,k(3888).d)(Oe=>function($){Oe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((W,Ve)=>`${Ve+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=k(8737);class ye{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:W}=this;if((0,l.m)(W))try{W()}catch(Se){j=Se instanceof x?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{fe(Se)}catch(rt){j=j??[],rt instanceof x?j=[...j,...rt.errors]:j.push(rt)}}if(j)throw new x(j)}}add(j){var $;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof ye){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ie.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ie.P)($,j),j instanceof ye&&j._removeParent(this)}}ye.EMPTY=(()=>{const Oe=new ye;return Oe.closed=!0,Oe})();const ae=ye.EMPTY;function Fe(Oe){return Oe instanceof ye||Oe&&"closed"in Oe&&(0,l.m)(Oe.remove)&&(0,l.m)(Oe.add)&&(0,l.m)(Oe.unsubscribe)}function fe(Oe){(0,l.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(vt,Ee,k)=>{k.d(Ee,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ee,k)=>{k.d(Ee,{E:()=>B});const B=new(k(9751).y)(ye=>ye.complete())},8996:(vt,Ee,k)=>{k.d(Ee,{D:()=>be});var l=k(8421),B=k(5363),x=k(9468),ae=k(9751),fe=k(2202),Oe=k(576),j=k(9672);function W(ve,Re){if(!ve)throw new Error("Iterable cannot be null");return new ae.y(K=>{(0,j.f)(K,Re,()=>{const Q=ve[Symbol.asyncIterator]();(0,j.f)(K,Re,()=>{Q.next().then(de=>{de.done?K.complete():K.next(de.value)})},0,!0)})})}var Ve=k(3670),Se=k(8239),rt=k(1144),it=k(6495),ee=k(2206),Ie=k(4532),me=k(3260);function be(ve,Re){return Re?function Te(ve,Re){if(null!=ve){if((0,Ve.c)(ve))return function ie(ve,Re){return(0,l.Xf)(ve).pipe((0,x.R)(Re),(0,B.Q)(Re))}(ve,Re);if((0,rt.z)(ve))return function Fe(ve,Re){return new ae.y(K=>{let Q=0;return Re.schedule(function(){Q===ve.length?K.complete():(K.next(ve[Q++]),K.closed||this.schedule())})})}(ve,Re);if((0,Se.t)(ve))return function ye(ve,Re){return(0,l.Xf)(ve).pipe((0,x.R)(Re),(0,B.Q)(Re))}(ve,Re);if((0,ee.D)(ve))return W(ve,Re);if((0,it.T)(ve))return function $(ve,Re){return new ae.y(K=>{let Q;return(0,j.f)(K,Re,()=>{Q=ve[fe.h](),(0,j.f)(K,Re,()=>{let de,$e;try{({value:de,done:$e}=Q.next())}catch(Ae){return void K.error(Ae)}$e?K.complete():K.next(de)},0,!0)}),()=>(0,Oe.m)(Q?.return)&&Q.return()})}(ve,Re);if((0,me.L)(ve))return function Ce(ve,Re){return W((0,me.Q)(ve),Re)}(ve,Re)}throw(0,Ie.z)(ve)}(ve,Re):(0,l.Xf)(ve)}},8421:(vt,Ee,k)=>{k.d(Ee,{Xf:()=>Ve});var l=k(655),B=k(1144),x=k(8239),ie=k(9751),ye=k(3670),ae=k(2206),Fe=k(4532),fe=k(6495),Oe=k(3260),j=k(576),$=k(7849),W=k(8822);function Ve(Te){if(Te instanceof ie.y)return Te;if(null!=Te){if((0,ye.c)(Te))return function Se(Te){return new ie.y(be=>{const ve=Te[W.L]();if((0,j.m)(ve.subscribe))return ve.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,B.z)(Te))return function rt(Te){return new ie.y(be=>{for(let ve=0;ve<Te.length&&!be.closed;ve++)be.next(Te[ve]);be.complete()})}(Te);if((0,x.t)(Te))return function it(Te){return new ie.y(be=>{Te.then(ve=>{be.closed||(be.next(ve),be.complete())},ve=>be.error(ve)).then(null,$.h)})}(Te);if((0,ae.D)(Te))return Ie(Te);if((0,fe.T)(Te))return function ee(Te){return new ie.y(be=>{for(const ve of Te)if(be.next(ve),be.closed)return;be.complete()})}(Te);if((0,Oe.L)(Te))return function me(Te){return Ie((0,Oe.Q)(Te))}(Te)}throw(0,Fe.z)(Te)}function Ie(Te){return new ie.y(be=>{(function Ce(Te,be){var ve,Re,K,Q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ve=(0,l.KL)(Te);!(Re=yield ve.next()).done;)if(be.next(Re.value),be.closed)return}catch(de){K={error:de}}finally{try{Re&&!Re.done&&(Q=ve.return)&&(yield Q.call(ve))}finally{if(K)throw K.error}}be.complete()})})(Te,be).catch(ve=>be.error(ve))})}},6451:(vt,Ee,k)=>{k.d(Ee,{T:()=>ae});var l=k(8189),B=k(8421),x=k(515),ie=k(3269),ye=k(8996);function ae(...Fe){const fe=(0,ie.yG)(Fe),Oe=(0,ie._6)(Fe,1/0),j=Fe;return j.length?1===j.length?(0,B.Xf)(j[0]):(0,l.J)(Oe)((0,ye.D)(j,fe)):x.E}},5403:(vt,Ee,k)=>{k.d(Ee,{x:()=>B});var l=k(930);function B(ie,ye,ae,Fe,fe){return new x(ie,ye,ae,Fe,fe)}class x extends l.Lv{constructor(ye,ae,Fe,fe,Oe,j){super(ye),this.onFinalize=Oe,this.shouldUnsubscribe=j,this._next=ae?function($){try{ae($)}catch(W){ye.error(W)}}:super._next,this._error=fe?function($){try{fe($)}catch(W){ye.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch($){ye.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(vt,Ee,k)=>{k.d(Ee,{U:()=>x});var l=k(4482),B=k(5403);function x(ie,ye){return(0,l.e)((ae,Fe)=>{let fe=0;ae.subscribe((0,B.x)(Fe,Oe=>{Fe.next(ie.call(ye,Oe,fe++))}))})}},8189:(vt,Ee,k)=>{k.d(Ee,{J:()=>x});var l=k(5577),B=k(4671);function x(ie=1/0){return(0,l.z)(B.y,ie)}},5577:(vt,Ee,k)=>{k.d(Ee,{z:()=>fe});var l=k(4004),B=k(8421),x=k(4482),ie=k(9672),ye=k(5403),Fe=k(576);function fe(Oe,j,$=1/0){return(0,Fe.m)(j)?fe((W,Ve)=>(0,l.U)((Se,rt)=>j(W,Se,Ve,rt))((0,B.Xf)(Oe(W,Ve))),$):("number"==typeof j&&($=j),(0,x.e)((W,Ve)=>function ae(Oe,j,$,W,Ve,Se,rt,it){const ee=[];let Ie=0,me=0,Ce=!1;const Te=()=>{Ce&&!ee.length&&!Ie&&j.complete()},be=Re=>Ie<W?ve(Re):ee.push(Re),ve=Re=>{Se&&j.next(Re),Ie++;let K=!1;(0,B.Xf)($(Re,me++)).subscribe((0,ye.x)(j,Q=>{Ve?.(Q),Se?be(Q):j.next(Q)},()=>{K=!0},void 0,()=>{if(K)try{for(Ie--;ee.length&&Ie<W;){const Q=ee.shift();rt?(0,ie.f)(j,rt,()=>ve(Q)):ve(Q)}Te()}catch(Q){j.error(Q)}}))};return Oe.subscribe((0,ye.x)(j,be,()=>{Ce=!0,Te()})),()=>{it?.()}}(W,Ve,Oe,$)))}},5363:(vt,Ee,k)=>{k.d(Ee,{Q:()=>ie});var l=k(9672),B=k(4482),x=k(5403);function ie(ye,ae=0){return(0,B.e)((Fe,fe)=>{Fe.subscribe((0,x.x)(fe,Oe=>(0,l.f)(fe,ye,()=>fe.next(Oe),ae),()=>(0,l.f)(fe,ye,()=>fe.complete(),ae),Oe=>(0,l.f)(fe,ye,()=>fe.error(Oe),ae)))})}},3099:(vt,Ee,k)=>{k.d(Ee,{B:()=>ye});var l=k(8421),B=k(7579),x=k(930),ie=k(4482);function ye(Fe={}){const{connector:fe=(()=>new B.x),resetOnError:Oe=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=Fe;return W=>{let Ve,Se,rt,it=0,ee=!1,Ie=!1;const me=()=>{Se?.unsubscribe(),Se=void 0},Ce=()=>{me(),Ve=rt=void 0,ee=Ie=!1},Te=()=>{const be=Ve;Ce(),be?.unsubscribe()};return(0,ie.e)((be,ve)=>{it++,!Ie&&!ee&&me();const Re=rt=rt??fe();ve.add(()=>{it--,0===it&&!Ie&&!ee&&(Se=ae(Te,$))}),Re.subscribe(ve),!Ve&&it>0&&(Ve=new x.Hp({next:K=>Re.next(K),error:K=>{Ie=!0,me(),Se=ae(Ce,Oe,K),Re.error(K)},complete:()=>{ee=!0,me(),Se=ae(Ce,j),Re.complete()}}),(0,l.Xf)(be).subscribe(Ve))})(W)}}function ae(Fe,fe,...Oe){if(!0===fe)return void Fe();if(!1===fe)return;const j=new x.Hp({next:()=>{j.unsubscribe(),Fe()}});return(0,l.Xf)(fe(...Oe)).subscribe(j)}},9468:(vt,Ee,k)=>{k.d(Ee,{R:()=>B});var l=k(4482);function B(x,ie=0){return(0,l.e)((ye,ae)=>{ae.add(x.schedule(()=>ye.subscribe(ae),ie))})}},3410:(vt,Ee,k)=>{k.d(Ee,{z:()=>l});const l={setTimeout(B,x,...ie){const{delegate:ye}=l;return ye?.setTimeout?ye.setTimeout(B,x,...ie):setTimeout(B,x,...ie)},clearTimeout(B){const{delegate:x}=l;return(x?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(vt,Ee,k)=>{k.d(Ee,{h:()=>B});const B=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ee,k)=>{k.d(Ee,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ee,k)=>{k.d(Ee,{_6:()=>ae,jO:()=>ie,yG:()=>ye});var l=k(576),B=k(3532);function x(Fe){return Fe[Fe.length-1]}function ie(Fe){return(0,l.m)(x(Fe))?Fe.pop():void 0}function ye(Fe){return(0,B.K)(x(Fe))?Fe.pop():void 0}function ae(Fe,fe){return"number"==typeof x(Fe)?Fe.pop():fe}},8737:(vt,Ee,k)=>{function l(B,x){if(B){const ie=B.indexOf(x);0<=ie&&B.splice(ie,1)}}k.d(Ee,{P:()=>l})},3888:(vt,Ee,k)=>{function l(B){const ie=B(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}k.d(Ee,{d:()=>l})},2806:(vt,Ee,k)=>{k.d(Ee,{O:()=>ie,x:()=>x});var l=k(2416);let B=null;function x(ye){if(l.v.useDeprecatedSynchronousErrorHandling){const ae=!B;if(ae&&(B={errorThrown:!1,error:null}),ye(),ae){const{errorThrown:Fe,error:fe}=B;if(B=null,Fe)throw fe}}else ye()}function ie(ye){l.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ye)}},9672:(vt,Ee,k)=>{function l(B,x,ie,ye=0,ae=!1){const Fe=x.schedule(function(){ie(),ae?B.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(B.add(Fe),!ae)return Fe}k.d(Ee,{f:()=>l})},4671:(vt,Ee,k)=>{function l(B){return B}k.d(Ee,{y:()=>l})},1144:(vt,Ee,k)=>{k.d(Ee,{z:()=>l});const l=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(vt,Ee,k)=>{k.d(Ee,{D:()=>B});var l=k(576);function B(x){return Symbol.asyncIterator&&(0,l.m)(x?.[Symbol.asyncIterator])}},576:(vt,Ee,k)=>{function l(B){return"function"==typeof B}k.d(Ee,{m:()=>l})},3670:(vt,Ee,k)=>{k.d(Ee,{c:()=>x});var l=k(8822),B=k(576);function x(ie){return(0,B.m)(ie[l.L])}},6495:(vt,Ee,k)=>{k.d(Ee,{T:()=>x});var l=k(2202),B=k(576);function x(ie){return(0,B.m)(ie?.[l.h])}},8239:(vt,Ee,k)=>{k.d(Ee,{t:()=>B});var l=k(576);function B(x){return(0,l.m)(x?.then)}},3260:(vt,Ee,k)=>{k.d(Ee,{L:()=>ie,Q:()=>x});var l=k(655),B=k(576);function x(ye){return(0,l.FC)(this,arguments,function*(){const Fe=ye.getReader();try{for(;;){const{value:fe,done:Oe}=yield(0,l.qq)(Fe.read());if(Oe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{Fe.releaseLock()}})}function ie(ye){return(0,B.m)(ye?.getReader)}},3532:(vt,Ee,k)=>{k.d(Ee,{K:()=>B});var l=k(576);function B(x){return x&&(0,l.m)(x.schedule)}},4482:(vt,Ee,k)=>{k.d(Ee,{A:()=>B,e:()=>x});var l=k(576);function B(ie){return(0,l.m)(ie?.lift)}function x(ie){return ye=>{if(B(ye))return ye.lift(function(ae){try{return ie(ae,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ee,k)=>{function l(){}k.d(Ee,{Z:()=>l})},9635:(vt,Ee,k)=>{k.d(Ee,{U:()=>x,z:()=>B});var l=k(4671);function B(...ie){return x(ie)}function x(ie){return 0===ie.length?l.y:1===ie.length?ie[0]:function(ae){return ie.reduce((Fe,fe)=>fe(Fe),ae)}}},7849:(vt,Ee,k)=>{k.d(Ee,{h:()=>x});var l=k(2416),B=k(3410);function x(ie){B.z.setTimeout(()=>{const{onUnhandledError:ye}=l.v;if(!ye)throw ie;ye(ie)})}},4532:(vt,Ee,k)=>{function l(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>l})},655:(vt,Ee,k)=>{function ie(te,oe){var ce={};for(var we in te)Object.prototype.hasOwnProperty.call(te,we)&&oe.indexOf(we)<0&&(ce[we]=te[we]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(we=Object.getOwnPropertySymbols(te);Me<we.length;Me++)oe.indexOf(we[Me])<0&&Object.prototype.propertyIsEnumerable.call(te,we[Me])&&(ce[we[Me]]=te[we[Me]])}return ce}function W(te,oe,ce,we){return new(ce||(ce=Promise))(function(xe,Ke){function Ye(_t){try{wt(we.next(_t))}catch(tt){Ke(tt)}}function pn(_t){try{wt(we.throw(_t))}catch(tt){Ke(tt)}}function wt(_t){_t.done?xe(_t.value):function Me(xe){return xe instanceof ce?xe:new ce(function(Ke){Ke(xe)})}(_t.value).then(Ye,pn)}wt((we=we.apply(te,oe||[])).next())})}function Te(te){return this instanceof Te?(this.v=te,this):new Te(te)}function be(te,oe,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,we=ce.apply(te,oe||[]),xe=[];return Me={},Ke("next"),Ke("throw"),Ke("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function Ke(Jt){we[Jt]&&(Me[Jt]=function(gn){return new Promise(function(Vn,Xt){xe.push([Jt,gn,Vn,Xt])>1||Ye(Jt,gn)})})}function Ye(Jt,gn){try{!function pn(Jt){Jt.value instanceof Te?Promise.resolve(Jt.value.v).then(wt,_t):tt(xe[0][2],Jt)}(we[Jt](gn))}catch(Vn){tt(xe[0][3],Vn)}}function wt(Jt){Ye("next",Jt)}function _t(Jt){Ye("throw",Jt)}function tt(Jt,gn){Jt(gn),xe.shift(),xe.length&&Ye(xe[0][0],xe[0][1])}}function Re(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,oe=te[Symbol.asyncIterator];return oe?oe.call(te):(te=function it(te){var oe="function"==typeof Symbol&&Symbol.iterator,ce=oe&&te[oe],we=0;if(ce)return ce.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&we>=te.length&&(te=void 0),{value:te&&te[we++],done:!te}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ce={},we("next"),we("throw"),we("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function we(xe){ce[xe]=te[xe]&&function(Ke){return new Promise(function(Ye,pn){!function Me(xe,Ke,Ye,pn){Promise.resolve(pn).then(function(wt){xe({value:wt,done:Ye})},Ke)}(Ye,pn,(Ke=te[xe](Ke)).done,Ke.value)})}}}k.d(Ee,{FC:()=>be,KL:()=>Re,_T:()=>ie,mG:()=>W,qq:()=>Te})},4650:(vt,Ee,k)=>{k.d(Ee,{$8M:()=>Gf,$WT:()=>Js,$Z:()=>Xw,AFp:()=>qv,ALo:()=>uc,AaK:()=>fe,AsE:()=>Kd,BQk:()=>Vp,CHM:()=>Hm,CRH:()=>Ig,CZH:()=>Cs,CqO:()=>MD,D6c:()=>yE,DdM:()=>vv,Dn7:()=>Tv,EJc:()=>sE,EpF:()=>ND,F$t:()=>kD,F4k:()=>OD,FYo:()=>Pl,FiY:()=>ks,Gf:()=>H1,GfV:()=>Cw,Gpc:()=>$,Hsn:()=>FD,Ikx:()=>Xp,JOm:()=>Ei,KtG:()=>zm,LFG:()=>ke,LMc:()=>jS,LSH:()=>C_,Lbi:()=>ES,Lck:()=>ih,MAs:()=>CD,MGl:()=>Bp,MMx:()=>gv,MT6:()=>Qp,NdJ:()=>Ty,OlP:()=>rn,Oqu:()=>Wp,P3R:()=>gw,PXZ:()=>r0,Q6J:()=>by,QGY:()=>Iy,Qsj:()=>Tw,QtT:()=>lv,R0b:()=>rs,RDi:()=>dT,Rgc:()=>lc,SBq:()=>_a,SDv:()=>Ti,Sil:()=>SS,Suo:()=>fh,TTD:()=>Zu,TgZ:()=>wy,Tol:()=>Hp,Udp:()=>ky,VKq:()=>mg,W1O:()=>kv,WLB:()=>bv,X6Q:()=>xS,XFs:()=>at,Xpm:()=>Vo,Xts:()=>A_,Y36:()=>Bl,YKP:()=>rh,YNc:()=>TD,Yjl:()=>ja,Yz7:()=>tt,Z0I:()=>Xt,ZZ4:()=>g0,_Bn:()=>Rt,_UZ:()=>SD,_Vd:()=>xl,_c5:()=>VS,_uU:()=>JD,aQg:()=>bc,c2e:()=>iE,cJS:()=>gn,cg1:()=>qy,dDg:()=>wh,dqk:()=>Ct,eFA:()=>o0,ekj:()=>Zd,eoX:()=>e0,f3M:()=>Qe,g9A:()=>rE,h0i:()=>Co,hGG:()=>Nh,hij:()=>qp,iGM:()=>Mv,ifc:()=>De,ip1:()=>mc,jDz:()=>sh,kEZ:()=>x1,kL8:()=>h1,lG2:()=>gf,lcZ:()=>uh,lqb:()=>pu,lri:()=>Xv,n5z:()=>od,oAB:()=>Bo,oxw:()=>PD,pQV:()=>uv,q4F:()=>Sw,qLn:()=>Pd,qOj:()=>Pp,qZA:()=>Dy,rWj:()=>Gg,s9C:()=>Cy,sBO:()=>kS,s_b:()=>ch,soG:()=>_c,tb:()=>Yv,tp0:()=>Mi,uIk:()=>yD,vHH:()=>ee,vpe:()=>ns,wAp:()=>Dt,xi3:()=>vg,xp6:()=>Uw,ynx:()=>Ey,z2F:()=>Ro,zSh:()=>Rl,zs3:()=>_u});var l=k(7579),B=k(727),x=k(9751),ie=k(6451),ye=k(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function Fe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Oe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ae({__forward_ref__:ae});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function W(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function Se(s){return s&&!!s.\u0275providers}const it="https://g.co/ng/security#xss";class ee extends Error{constructor(o,u){super(function Ie(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new ee(-201,!1)}function Ye(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function tt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function gn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vn(s){return ir(s,Ai)||ir(s,mn)}function Xt(s){return null!==Vn(s)}function ir(s,o){return s.hasOwnProperty(o)?s[o]:null}function ei(s){return s&&(s.hasOwnProperty(ls)||s.hasOwnProperty(Nr))?s[ls]:null}const Ai=ae({\u0275prov:ae}),ls=ae({\u0275inj:ae}),mn=ae({ngInjectableDef:ae}),Nr=ae({ngInjectorDef:ae});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Or;function sr(s){const o=Or;return Or=s,o}function or(s,o,u){const d=Vn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&at.Optional?null:void 0!==o?o:void Re(fe(s))}const Ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},Rn="__NG_DI_FLAG__",yi="ngTempTokenPath",Ni=/\n/gm,cs="__source";let Ut;function ti(s){const o=Ut;return Ut=s,o}function Zn(s,o=at.Default){if(void 0===Ut)throw new ee(-203,!1);return null===Ut?or(s,void 0,o):Ut.get(s,o&at.Optional?null:void 0,o)}function ke(s,o=at.Default){return(function mi(){return Or}()||Zn)(W(s),o)}function Qe(s,o=at.Default){return ke(s,bt(o))}function bt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function St(s){const o=[];for(let u=0;u<s.length;u++){const d=W(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ee(900,!1);let h,p=at.Default;for(let y=0;y<d.length;y++){const D=d[y],I=U(D);"number"==typeof I?-1===I?h=D.token:p|=I:h=D}o.push(ke(h,p))}else o.push(ke(d))}return o}function jt(s,o){return s[Rn]=o,s.prototype[Rn]=o,s}function U(s){return s[Rn]}function F(s){return{toString:s}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),De=(()=>{return(s=De||(De={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",De;var s})();const ct={},je=[],At=ae({\u0275cmp:ae}),mt=ae({\u0275dir:ae}),cn=ae({\u0275pipe:ae}),Yn=ae({\u0275mod:ae}),Nt=ae({\u0275fac:ae}),yr=ae({__NG_ELEMENT_ID__:ae});let $u=0;function Vo(s){return F(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||De.Emulated,id:"c"+$u++,styles:s.styles||je,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return h.inputs=Uc(s.inputs,d),h.outputs=Uc(s.outputs),y&&y.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(ff).filter(ur):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(vr).filter(ur):null,h})}function ff(s){return qt(s)||En(s)}function ur(s){return null!==s}function Bo(s){return F(()=>({type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Uc(s,o){if(null==s)return ct;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}const gf=Vo;function ja(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function qt(s){return s[At]||null}function En(s){return s[mt]||null}function vr(s){return s[cn]||null}function Js(s){const o=qt(s)||En(s)||vr(s);return null!==o&&o.standalone}function Ur(s,o){const u=s[Yn]||null;if(!u&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return u}function ii(s){return Array.isArray(s)&&"object"==typeof s[1]}function si(s){return Array.isArray(s)&&!0===s[1]}function hs(s){return 0!=(4&s.flags)}function Ga(s){return s.componentOffset>-1}function Wu(s){return 1==(1&s.flags)}function br(s){return null!==s.template}function Cb(s){return 0!=(256&s[2])}function to(s,o){return s.hasOwnProperty(Nt)?s[Nt]:null}class Ob{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Zu(){return Yu}function Yu(s){return s.type.prototype.ngOnChanges&&(s.setInput=qa),Gc}function Gc(){const s=Df(this),o=s?.current;if(o){const u=s.previous;if(u===ct)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function qa(s,o,u,d){const h=this.declaredInputs[u],p=Df(s)||function Hc(s,o){return s[Ku]=o}(s,{previous:ct,current:null}),y=p.current||(p.current={}),D=p.previous,I=D[h];y[h]=new Ob(I&&I.currentValue,o,D===ct),s[d]=o}Zu.ngInherit=!0;const Ku="__ngSimpleChanges__";function Df(s){return s[Ku]||null}function Un(s){for(;Array.isArray(s);)s=s[0];return s}function zo(s,o){return Un(o[s])}function wr(s,o){return Un(o[s.index])}function Ef(s,o){return s.data[o]}function no(s,o){return s[o]}function Dr(s,o){const u=o[s];return ii(u)?u:u[0]}function ro(s){return 64==(64&s[2])}function ps(s,o){return null==o?null:s[o]}function If(s){s[18]=0}function Ya(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Mt={lFrame:Km(null),bindingsEnabled:!0};function Tf(){return Mt.bindingsEnabled}function le(){return Mt.lFrame.lView}function Gt(){return Mt.lFrame.tView}function Hm(s){return Mt.lFrame.contextLView=s,s[8]}function zm(s){return Mt.lFrame.contextLView=null,s}function Xn(){let s=Wm();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wm(){return Mt.lFrame.currentTNode}function Wo(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function qi(s,o){const u=Mt.lFrame;u.currentTNode=s,u.isParent=o}function el(){return Mt.lFrame.isParent}function Sf(){Mt.lFrame.isParent=!1}function Mr(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function oi(){return Mt.lFrame.bindingIndex}function io(){return Mt.lFrame.bindingIndex++}function Os(s){const o=Mt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function nl(s){Mt.lFrame.inI18n=s}function Of(s,o){const u=Mt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ms(o)}function Ms(s){Mt.lFrame.currentDirectiveIndex=s}function Zm(){return Mt.lFrame.currentQueryIndex}function Mf(s){Mt.lFrame.currentQueryIndex=s}function xb(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ym(s,o,u){if(u&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&at.Host||(h=xb(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Mt.lFrame=Pb();return d.currentTNode=o,d.lView=s,!0}function Rf(s){const o=Pb(),u=s[1];Mt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Pb(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?Km(s):o}function Km(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qm(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kb=Qm;function Jm(){const s=Qm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hr(){return Mt.lFrame.selectedIndex}function gs(s){Mt.lFrame.selectedIndex=s}function on(){const s=Mt.lFrame;return Ef(s.tView,s.selectedIndex)}function Qa(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:A}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function Qc(s,o,u){Yo(s,o,3,u)}function so(s,o,u,d){(3&s[2])===u&&Yo(s,o,u,d)}function Zo(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Yo(s,o,u,d){const p=d??-1,y=o.length-1;let D=0;for(let I=void 0!==d?65535&s[18]:0;I<y;I++)if("number"==typeof o[I+1]){if(D=o[I],null!=d&&D>=d)break}else o[I]<0&&(s[18]+=65536),(D<p||-1==p)&&(Xm(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function Xm(s,o,u,d){const h=u[d]<0,p=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class rl{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function il(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],y=u[d++],D=u[d++];s.setAttribute(o,y,D,p)}else{const p=h,y=u[++d];ed(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function xs(s){return 3===s||4===s||6===s}function ed(s){return 64===s.charCodeAt(0)}function _s(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||sl(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function sl(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){y=-1;break}if(D>o){y=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function td(s){return-1!==s}function Ko(s){return 32767&s}function oo(s,o){let u=function t_(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let ol=!0;function Ps(s){const o=ol;return ol=s,o}let al=0;const wi={};function ao(s,o){const u=Ff(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ul(d.data,s),ul(o,null),ul(d.blueprint,null));const h=rd(s,o),p=s.injectorIndex;if(td(h)){const y=Ko(h),D=oo(h,o),I=D[1].data;for(let T=0;T<8;T++)o[p+T]=D[y+T]|I[y+T]}return o[p+8]=h,p}function ul(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ff(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function rd(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=jf(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function id(s,o,u){!function kf(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(yr)&&(d=u[yr]),null==d&&(d=u[yr]=al++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Vf(s,o,u){if(u&at.Optional||void 0!==s)return s;Re()}function Bf(s,o,u,d){if(u&at.Optional&&void 0===d&&(d=null),!(u&(at.Self|at.Host))){const h=s[9],p=sr(void 0);try{return h?h.get(o,d,u&at.Optional):or(o,d,u&at.Optional)}finally{sr(p)}}return Vf(d,0,u)}function ll(s,o,u,d=at.Default,h){if(null!==s){if(1024&o[2]){const y=function $f(s,o,u,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=sd(p,y,u,d|at.Self,wi);if(D!==wi)return D;let I=p.parent;if(!I){const T=y[21];if(T){const A=T.get(u,wi,d);if(A!==wi)return A}I=jf(y),y=y[15]}p=I}return h}(s,o,u,d,wi);if(y!==wi)return y}const p=sd(s,o,u,d,wi);if(p!==wi)return p}return Bf(o,u,d,h)}function sd(s,o,u,d,h){const p=function n_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yr)?s[yr]:void 0;return"number"==typeof o?o>=0?255&o:r_:o}(u);if("function"==typeof p){if(!Ym(o,s,d))return d&at.Host?Vf(h,0,d):Bf(o,u,d,h);try{const y=p(d);if(null!=y||d&at.Optional)return y;Re()}finally{kb()}}else if("number"==typeof p){let y=null,D=Ff(s,o),I=-1,T=d&at.Host?o[16][6]:null;for((-1===D||d&at.SkipSelf)&&(I=-1===D?rd(s,o):o[D+8],-1!==I&&eu(d,!1)?(y=o[1],D=Ko(I),o=oo(I,o)):D=-1);-1!==D;){const A=o[1];if(Uf(p,D,A.data)){const R=jb(D,o,u,y,d,T);if(R!==wi)return R}I=o[D+8],-1!==I&&eu(d,o[1].data[D+8]===T)&&Uf(p,D,o)?(y=A,D=Ko(I),o=oo(I,o)):D=-1}}return h}function jb(s,o,u,d,h,p){const y=o[1],D=y.data[s+8],A=Jo(D,y,u,null==d?Ga(D)&&ol:d!=y&&0!=(3&D.type),h&at.Host&&p===D);return null!==A?uo(o,y,A,D):wi}function Jo(s,o,u,d,h){const p=s.providerIndexes,y=o.data,D=1048575&p,I=s.directiveStart,A=p>>20,G=h?D+A:s.directiveEnd;for(let Y=d?D:D+A;Y<G;Y++){const ue=y[Y];if(Y<I&&u===ue||Y>=I&&ue.type===u)return Y}if(h){const Y=y[I];if(Y&&br(Y)&&Y.type===u)return I}return null}function uo(s,o,u,d){let h=s[u];const p=o.data;if(function Jc(s){return s instanceof rl}(h)){const y=h;y.resolving&&function Te(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ee(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(p[u]));const D=Ps(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?sr(y.injectImpl):null;Ym(s,d,at.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Pf(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Yu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==I&&sr(I),Ps(D),y.resolving=!1,kb()}}return h}function Uf(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function eu(s,o){return!(s&at.Self||s&at.Host&&o)}class lo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return ll(this._tNode,this._lView,o,bt(d),u)}}function r_(){return new lo(Xn(),le())}function od(s){return F(()=>{const o=s.prototype.constructor,u=o[Nt]||Xo(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Nt]||Xo(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Xo(s){return Ve(s)?()=>{const o=Xo(W(s));return o&&o()}:to(s)}function jf(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Gf(s){return function Lf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(xs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(Xn(),s)}const tu="__parameters__";function ta(s,o,u){return F(()=>{const d=function ud(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return D.annotation=y,D;function D(I,T,A){const R=I.hasOwnProperty(tu)?I[tu]:Object.defineProperty(I,tu,{value:[]})[tu];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(y),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class rn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=tt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fo(s,o){s.forEach(u=>Array.isArray(u)?fo(u,o):o(u))}function o_(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ld(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ra(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function Rr(s,o,u){let d=Ht(s,o);return d>=0?s[1|d]=u:(d=~d,function Zb(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Wf(s,o){const u=Ht(s,o);if(u>=0)return s[1|u]}function Ht(s,o){return function ut(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const ks=jt(ta("Optional"),8),Mi=jt(ta("SkipSelf"),4);var Ei=(()=>((Ei=Ei||{})[Ei.Important=1]="Important",Ei[Ei.DashCase=2]="DashCase",Ei))();const xt=/^>|^->|<!--|-->|--!>|<!-$/g,su=/(<|>)/;const yd=new Map;let vd=0;const Dd="__ngContext__";function cr(s,o){ii(o)?(s[Dd]=o[20],function bd(s){yd.set(s[20],s)}(o)):s[Dd]=o}let Z;function pe(s,o){return Z(s,o)}function dt(s){const o=s[3];return si(o)?o[3]:o}function Ir(s){return Vs(s[13])}function ki(s){return Vs(s[4])}function Vs(s){for(;null!==s&&!si(s);)s=s[4];return s}function mo(s,o,u,d,h){if(null!=d){let p,y=!1;si(d)?p=d:ii(d)&&(y=!0,d=d[0]);const D=Un(d);0===s&&null!==u?null==h?Jb(o,u,D):Il(o,u,D,h||null,!0):1===s&&null!==u?Il(o,u,D,h||null,!0):2===s?fa(o,D,y):3===s&&o.destroyNode(D),null!=p&&function nw(s,o,u,d,h){const p=u[7];p!==Un(u)&&mo(o,s,d,p,h);for(let D=10;D<u.length;D++){const I=u[D];uu(I[1],I,s,o,d,p)}}(o,s,p,u,h)}}function _o(s,o){return s.createText(o)}function ua(s,o,u){s.setValue(o,u)}function Ed(s,o){return s.createComment(function bs(s){return s.replace(xt,o=>o.replace(su,"\u200b$1\u200b"))}(o))}function la(s,o,u){return s.createElement(o,u)}function rp(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Ya(h,-1)),u.splice(d,1)}function f_(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&rp(h,d),o>0&&(s[u-1][4]=d[4]);const p=ld(s,10+o);!function tp(s,o){uu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Qb(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&uu(s,o,u,3,null,null),function au(s){let o=s[13];if(!o)return Cd(s[1],s);for(;o;){let u=null;if(ii(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)ii(o)&&Cd(o[1],o),o=o[3];null===o&&(o=s),ii(o)&&Cd(o[1],o),u=o&&o[4]}o=u}}(o)}}function Cd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function sT(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof rl)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const D=h[p[y]],I=p[y+1];try{I.call(D)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function ip(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=u[p+1]];u[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&si(o[3])){u!==o[3]&&rp(u,o);const d=o[19];null!==d&&d.detachView(s)}!function Dl(s){yd.delete(s[20])}(o)}}function ca(s,o,u){return sp(s,o.parent,u)}function sp(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===De.None||p===De.Emulated)return null}return wr(d,u)}}function Il(s,o,u,d,h){s.insertBefore(o,u,d,h)}function Jb(s,o,u){s.appendChild(o,u)}function Xb(s,o,u,d,h){null!==d?Il(s,o,u,d,h):Jb(s,o,u)}function da(s,o){return s.parentNode(o)}function p_(s,o,u){return m_(s,o,u)}function g_(s,o,u){return 40&s.type?wr(s,u):null}let ha,lu,v_,cp,m_=g_;function ew(s,o){m_=s,ha=o}function ap(s,o,u,d){const h=ca(s,d,o),p=o[11],D=p_(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Xb(p,h,u[I],D,!1);else Xb(p,h,u,D,!1);void 0!==ha&&ha(p,d,o,u,h)}function Sd(s,o){if(null!==o){const u=o.type;if(3&u)return wr(o,s);if(4&u)return Ad(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Sd(s,d);{const h=s[o.index];return si(h)?Ad(-1,h):Un(h)}}if(32&u)return pe(o,s)()||Un(s[o.index]);{const d=tw(s,o);return null!==d?Array.isArray(d)?d[0]:Sd(dt(s[16]),d):Sd(s,o.next)}}return null}function tw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ad(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Sd(d,h)}return o[7]}function fa(s,o,u){const d=da(s,o);d&&function oT(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function __(s,o,u,d,h,p,y){for(;null!=u;){const D=d[u.index],I=u.type;if(y&&0===o&&(D&&cr(Un(D),d),u.flags|=2),32!=(32&u.flags))if(8&I)__(s,o,u.child,d,h,p,!1),mo(o,s,h,D,p);else if(32&I){const T=pe(u,d);let A;for(;A=T();)mo(o,s,h,A,p);mo(o,s,h,D,p)}else 16&I?y_(s,o,d,u,h,p):mo(o,s,h,D,p);u=y?u.projectionNext:u.next}}function uu(s,o,u,d,h,p){__(u,d,s.firstChild,o,h,p,!1)}function y_(s,o,u,d,h,p){const y=u[16],I=y[6].projection[d.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)mo(o,s,h,I[T],p);else __(s,o,I,y[3],h,p,!0)}function up(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function pa(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&il(s,o,d),null!==h&&up(s,o,h),null!==p&&function Bs(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function ga(s){return function lp(){if(void 0===lu&&(lu=null,Ct.trustedTypes))try{lu=Ct.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return lu}()?.createHTML(s)||s}function dT(s){v_=s}function w_(s){return function b_(){if(void 0===cp&&(cp=null,Ct.trustedTypes))try{cp=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return cp}()?.createScriptURL(s)||s}class ow{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function Us(s){return s instanceof ow?s.changingThisBreaksApplicationSecurity:s}function cu(s,o){const u=function yo(s){return s instanceof ow&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${it})`)}return u===o}class mT{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ga(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class dp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ga(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ga(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const E_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function hp(s){return(s=String(s)).match(E_)?s:"unsafe:"+s}function ws(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function du(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const lw=ws("area,br,col,hr,img,wbr"),Sl=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cw=ws("rp,rt"),fp=du(lw,du(Sl,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),du(cw,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),du(cw,Sl)),pp=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Al=du(pp,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function C_(s){const o=ma();return o?o.sanitize(dr.URL,s)||"":cu(s,"URL")?Us(s):hp(me(s))}function fw(s){const o=ma();if(o)return w_(o.sanitize(dr.RESOURCE_URL,s)||"");if(cu(s,"ResourceURL"))return w_(Us(s));throw new ee(904,!1)}function gw(s,o,u){return function Rd(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?fw:C_}(o,u)(s)}function ma(){const s=le();return s&&s[12]}const A_=new rn("ENVIRONMENT_INITIALIZER"),mw=new rn("INJECTOR",-1),hu=new rn("INJECTOR_DEF_TYPES");class Nl{get(o,u=qn){if(u===qn){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return u}}function ET(...s){return{\u0275providers:Ol(0,s),\u0275fromNgModule:!0}}function Ol(s,...o){const u=[],d=new Set;let h;return fo(o,p=>{const y=p;N_(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&Ml(h,u),u}function Ml(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];O_(h,p=>{o.push(p)})}}function N_(s,o,u,d){if(!(s=W(s)))return!1;let h=null,p=ei(s);const y=!p&&qt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=ei(I),!p)return!1;h=I}const D=d.has(h);if(y){if(D)return!1;if(d.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)N_(T,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let T;d.add(h);try{fo(p.imports,A=>{N_(A,o,u,d)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&Ml(T,o)}if(!D){const T=to(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:je},{provide:hu,useValue:h,multi:!0},{provide:A_,useValue:()=>ke(h),multi:!0})}const I=p.providers;null==I||D||O_(I,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}function O_(s,o){for(let u of s)Se(u)&&(u=u.\u0275providers),Array.isArray(u)?O_(u,o):o(u)}const IT=ae({provide:String,useValue:ae});function M_(s){return null!==s&&"object"==typeof s&&IT in s}function fu(s){return"function"==typeof s}const Rl=new rn("Set Injector scope."),vo={},CT={};let x_;function _p(){return void 0===x_&&(x_=new Nl),x_}class pu{}class yw extends pu{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xd(o,y=>this.processProvider(y)),this.records.set(mw,gu(void 0,this)),h.has("environment")&&this.records.set(pu,gu(void 0,this));const p=this.records.get(Rl);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(hu.multi,je,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=ti(this),d=sr(void 0);try{return o()}finally{ti(u),sr(d)}}get(o,u=qn,d=at.Default){this.assertNotDestroyed(),d=bt(d);const h=ti(this),p=sr(void 0);try{if(!(d&at.SkipSelf)){let D=this.records.get(o);if(void 0===D){const I=function bw(s){return"function"==typeof s||"object"==typeof s&&s instanceof rn}(o)&&Vn(o);D=I&&this.injectableDefInScope(I)?gu(P_(o),vo):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&at.Self?_p():this.parent).get(o,u=d&at.Optional&&u===qn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[yi]=y[yi]||[]).unshift(fe(o)),h)throw y;return function V(s,o,u,d){const h=s[yi];throw o[cs]&&h.unshift(o[cs]),s.message=function H(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let D=o[y];p.push(y+":"+("string"==typeof D?JSON.stringify(D):fe(D)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Ni,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[yi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{sr(p),ti(h)}}resolveInjectorInitializers(){const o=ti(this),u=sr(void 0);try{const d=this.get(A_.multi,je,at.Self);for(const h of d)h()}finally{ti(o),sr(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(o){let u=fu(o=W(o))?o:W(o&&o.provide);const d=function AT(s){return M_(s)?gu(void 0,s.useValue):gu(vw(s),vo)}(o);if(fu(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=gu(void 0,vo,!0),h.factory=()=>St(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===vo&&(u.value=CT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function k_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=W(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function P_(s){const o=Vn(s),u=null!==o?o.factory:to(s);if(null!==u)return u;if(s instanceof rn)throw new ee(204,!1);if(s instanceof Function)return function ST(s){const o=s.length;if(o>0)throw ra(o,"?"),new ee(204,!1);const u=function Br(s){const o=s&&(s[Ai]||s[mn]);if(o){const u=function Si(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ee(204,!1)}function vw(s,o,u){let d;if(fu(s)){const h=W(s);return to(h)||P_(h)}if(M_(s))d=()=>W(s.useValue);else if(function TT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...St(s.deps||[]));else if(function _w(s){return!(!s||!s.useExisting)}(s))d=()=>ke(W(s.useExisting));else{const h=W(s&&(s.useClass||s.provide));if(!function NT(s){return!!s.deps}(s))return to(h)||P_(h);d=()=>new h(...St(s.deps))}return d}function gu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function xd(s,o){for(const u of s)Array.isArray(u)?xd(u,o):u&&Se(u)?xd(u.\u0275providers,o):o(u)}class yp{}class ww{}class vp{resolveComponentFactory(o){throw function OT(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let xl=(()=>{class s{}return s.NULL=new vp,s})();function Ew(){return bo(Xn(),le())}function bo(s,o){return new _a(wr(s,o))}let _a=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Ew,s})();function Iw(s){return s instanceof _a?s.nativeElement:s}class Pl{}let Tw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function MT(){const s=le(),u=Dr(Xn().index,s);return(ii(u)?u:s)[11]}(),s})(),RT=(()=>{class s{}return s.\u0275prov=tt({token:s,providedIn:"root",factory:()=>null}),s})();class Cw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Sw=new Cw("15.1.3"),F_={};function L_(s){return s.ngOriginalError}class Pd{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&L_(o);for(;u&&L_(u);)u=L_(u);return u||null}}function ya(s){return s instanceof Function?s():s}function xw(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const Pw="ng-template";function kw(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==xw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function wp(s){return 4===s.type&&s.value!==Pw}function BT(s,o,u){return o===(4!==s.type||u?s.value:Pw)}function Fw(s,o,u){let d=4;const h=s.attrs||[],p=function Dp(s){for(let o=0;o<s.length;o++)if(xs(s[o]))return o;return s.length}(h);let y=!1;for(let D=0;D<o.length;D++){const I=o[D];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!BT(s,I,u)||""===I&&1===o.length){if(Wr(d))return!1;y=!0}}else{const T=8&d?I:o[++D];if(8&d&&null!==s.attrs){if(!kw(s.attrs,T,u)){if(Wr(d))return!1;y=!0}continue}const R=V_(8&d?"class":I,h,wp(s),u);if(-1===R){if(Wr(d))return!1;y=!0;continue}if(""!==T){let G;G=R>p?"":h[R+1].toLowerCase();const Y=8&d?G:null;if(Y&&-1!==xw(Y,T,0)||2&d&&T!==G){if(Wr(d))return!1;y=!0}}}}else{if(!y&&!Wr(d)&&!Wr(I))return!1;if(y&&Wr(I))continue;y=!1,d=I|1&d}}return Wr(d)||y}function Wr(s){return 0==(1&s)}function V_(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Ep(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function Lw(s,o,u=!1){for(let d=0;d<o.length;d++)if(Fw(s,o[d],u))return!0;return!1}function Bw(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function B_(s,o){return s?":not("+o.trim()+")":o}function UT(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const D=s[++u];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Wr(y)&&(o+=B_(p,h),h=""),d=y,p=p||!Wr(d);u++}return""!==h&&(o+=B_(p,h)),o}const kt={};function Uw(s){kd(Gt(),le(),Hr()+s,!1)}function kd(s,o,u,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Qc(o,p,u)}else{const p=s.preOrderHooks;null!==p&&so(o,p,0,u)}gs(u)}function kl(s,o=null,u=null,d){const h=zw(s,o,u,d);return h.resolveInjectorInitializers(),h}function zw(s,o=null,u=null,d,h=new Set){const p=[u||je,ET(s)];return d=d||("object"==typeof s?void 0:fe(s)),new yw(p,o||_p(),d||null,h)}let _u=(()=>{class s{static create(u,d){if(Array.isArray(u))return kl({name:""},d,u,"");{const h=u.name??"";return kl({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=qn,s.NULL=new Nl,s.\u0275prov=tt({token:s,providedIn:"any",factory:()=>ke(mw)}),s.__NG_ELEMENT_ID__=-1,s})();function Bl(s,o=at.Default){const u=le();return null===u?ke(s,o):ll(Xn(),u,W(s),o)}function Xw(){throw new Error("invalid")}function eD(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const y=s.data[p];Mf(u[d]),y.contentQueries(2,o[p],p)}}}function G_(s,o,u,d,h,p,y,D,I,T,A){const R=o.blueprint.slice();return R[0]=h,R[2]=76|d,(null!==A||s&&1024&s[2])&&(R[2]|=1024),If(R),R[3]=R[15]=s,R[8]=u,R[10]=y||s&&s[10],R[11]=D||s&&s[11],R[12]=I||s&&s[12]||null,R[9]=T||s&&s[9]||null,R[6]=p,R[20]=function Yi(){return vd++}(),R[21]=A,R[16]=2==o.type?s[16]:R,R}function Ul(s,o,u,d,h){let p=s.data[o];if(null===p)p=va(s,o,u,d,h),function Nf(){return Mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=Wo();p.injectorIndex=null===y?-1:y.injectorIndex}return qi(p,!0),p}function va(s,o,u,d,h){const p=Wm(),y=el(),I=s.data[o]=function z(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}function Vd(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function $l(s,o,u){Rf(o);try{const d=s.viewQuery;null!==d&&Q_(1,d,u);const h=s.template;null!==h&&H_(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&eD(s,o),s.staticViewQueries&&Q_(2,s.viewQuery,u);const p=s.components;null!==p&&function nC(s,o){for(let u=0;u<o.length;u++)K_(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Jm()}}function Cp(s,o,u,d){const h=o[2];if(128!=(128&h)){Rf(o);try{If(o),function qo(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&H_(s,o,u,2,d);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&Qc(o,T,null)}else{const T=s.preOrderHooks;null!==T&&so(o,T,0,null),Zo(o,0)}if(function dD(s){for(let o=Ir(s);null!==o;o=ki(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d];512&h[2]||Ya(h[3],1),h[2]|=512}}}(o),function Z_(s){for(let o=Ir(s);null!==o;o=ki(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];ro(d)&&Cp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&eD(s,o),y){const T=s.contentCheckHooks;null!==T&&Qc(o,T)}else{const T=s.contentHooks;null!==T&&so(o,T,1),Zo(o,1)}!function tC(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)gs(~h);else{const p=h,y=u[++d],D=u[++d];Of(y,p),D(2,o[p])}}}finally{gs(-1)}}(s,o);const D=s.components;null!==D&&function tD(s,o){for(let u=0;u<o.length;u++)cC(s,o[u])}(o,D);const I=s.viewQuery;if(null!==I&&Q_(2,I,d),y){const T=s.viewCheckHooks;null!==T&&Qc(o,T)}else{const T=s.viewHooks;null!==T&&so(o,T,2),Zo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ya(o[3],-1))}finally{Jm()}}}function H_(s,o,u,d,h){const p=Hr(),y=2&d;try{gs(-1),y&&o.length>22&&kd(s,o,22,!1),u(d,h)}finally{gs(p)}}function Bd(s,o,u){if(hs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,u[p],p)}}}function yu(s,o,u){Tf()&&(function aC(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;Ga(u)&&function lD(s,o,u){const d=wr(o,s),h=Ud(u),p=s[10],y=Op(s,G_(s,h,null,u.onPush?32:16,d,o,p,p.createRenderer(d,u),null,null,null));s[o.index]=y}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||ao(u,o),cr(d,o);const y=u.initialInputs;for(let D=h;D<p;D++){const I=s.data[D],T=uo(o,s,D,u);cr(T,o),null!==y&&uC(0,D-h,T,I,0,y),br(I)&&(Dr(u.index,o)[8]=uo(o,s,D,u))}}(s,o,u,wr(u,o)),64==(64&u.flags)&&sD(s,o,u))}function Sp(s,o,u=wr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],D=-1===y?u(o,s):s[y];s[h++]=D}}}function Ud(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=z_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function z_(s,o,u,d,h,p,y,D,I,T){const A=22+d,R=A+h,G=function zt(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:kt);return u}(A,R),Y="function"==typeof T?T():T;return G[1]={type:s,blueprint:G,template:u,queries:null,viewQuery:D,declTNode:o,data:G.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function nD(s,o,u,d){const h=J_(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&hD(s).push(d,h.length-1))}function pt(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?Qi(u,o,h,p):d.hasOwnProperty(h)&&Qi(u,o,d[h],p)}return u}function Qi(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Ii(s,o,u,d,h,p,y,D){const I=wr(o,u);let A,T=o.inputs;!D&&null!=T&&(A=T[d])?(Mp(s,u,A,d,h),Ga(o)&&Ap(u,o.index)):3&o.type&&(d=function jl(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(I,d,h))}function Ap(s,o){const u=Dr(o,s);16&u[2]||(u[2]|=32)}function Np(s,o,u,d){let h=!1;if(Tf()){const p=null===d?null:{"":-1},y=function oD(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];if(Lw(o,y.selectors,!1))if(d||(d=[]),br(y))if(null!==y.findHostDirectiveDefs){const D=[];h=h||new Map,y.findHostDirectiveDefs(y,D,h),d.unshift(...D,y),$d(s,o,D.length)}else d.unshift(y),$d(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let D,I;null===y?D=I=null:[D,I]=y,null!==D&&(h=!0,iD(s,o,u,D,p,I)),p&&function aD(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new ee(-301,!1);d.push(o[h],p)}}}(u,d,p)}return u.mergedAttrs=_s(u.mergedAttrs,u.attrs),h}function iD(s,o,u,d,h,p){for(let T=0;T<d.length;T++)id(ao(u,o),s,d[T].type);!function q_(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let T=0;T<d.length;T++){const A=d[T];A.providersResolver&&A.providersResolver(A)}let y=!1,D=!1,I=Vd(s,o,d.length,null);for(let T=0;T<d.length;T++){const A=d[T];u.mergedAttrs=_s(u.mergedAttrs,A.hostAttrs),uD(s,u,o,I,A),W_(I,A,h),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const R=A.type.prototype;!y&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!D&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),I++}!function Ds(s,o,u){const h=o.directiveEnd,p=s.data,y=o.attrs,D=[];let I=null,T=null;for(let A=o.directiveStart;A<h;A++){const R=p[A],G=u?u.get(R):null,ue=G?G.outputs:null;I=pt(R.inputs,A,I,G?G.inputs:null),T=pt(R.outputs,A,T,ue);const Pe=null===I||null===y||wp(o)?null:lC(I,A,y);D.push(Pe)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=I,o.outputs=T}(s,u,p)}function sD(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,y=function Rb(){return Mt.lFrame.currentDirectiveIndex}();try{gs(p);for(let D=d;D<h;D++){const I=s.data[D],T=o[D];Ms(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&wo(I,T)}}finally{gs(-1),Ms(y)}}function wo(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function $d(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function W_(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;br(o)&&(u[""]=s)}}function uD(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=to(h.type)),y=new rl(p,br(h),Bl);s.blueprint[d]=y,u[d]=y,function sC(s,o,u,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~o.index;(function oC(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=D&&y.push(D),y.push(u,d,p)}}(s,o,d,Vd(s,u,h.hostVars,kt),h)}function jd(s,o,u,d,h,p,y){if(null==p)s.removeAttribute(o,h,u);else{const D=null==y?me(p):y(p,d||"",h);s.setAttribute(o,h,D,u)}}function uC(s,o,u,d,h,p){const y=p[o];if(null!==y){const D=d.setInput;for(let I=0;I<y.length;){const T=y[I++],A=y[I++],R=y[I++];null!==D?d.setInput(u,R,T,A):u[A]=R}}}function lC(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let D=0;D<y.length;D+=2)if(y[D]===o){d.push(p,y[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function cD(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function cC(s,o){const u=Dr(o,s);if(ro(u)){const d=u[1];48&u[2]?Cp(d,u,d.template,u[8]):u[5]>0&&Y_(u)}}function Y_(s){for(let d=Ir(s);null!==d;d=ki(d))for(let h=10;h<d.length;h++){const p=d[h];if(ro(p))if(512&p[2]){const y=p[1];Cp(y,p,y.template,p[8])}else p[5]>0&&Y_(p)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Dr(u[d],s);ro(h)&&h[5]>0&&Y_(h)}}function K_(s,o){const u=Dr(o,s),d=u[1];(function dC(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),$l(d,u,u[8])}function Op(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ba(s){for(;s;){s[2]|=32;const o=dt(s);if(Cb(s)&&!o)return s;s=o}return null}function Do(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{Cp(s,o,s.template,u)}catch(y){throw d&&X_(o,y),y}finally{h.end&&h.end()}}function Q_(s,o,u){Mf(0),o(s,u)}function J_(s){return s[7]||(s[7]=[])}function hD(s){return s.cleanup||(s.cleanup=[])}function X_(s,o){const u=s[9],d=u?u.get(Pd,null):null;d&&d.handleError(o)}function Mp(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],D=u[p++],I=o[y],T=s.data[y];null!==T.setInput?T.setInput(I,h,d,D):I[D]=h}}function Eo(s,o,u){const d=zo(o,s);ua(s[11],d,u)}function Rp(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const D=o[y];"number"==typeof D?p=D:1==p?h=Oe(h,D):2==p&&(d=Oe(d,D+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function $s(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(Un(p)),si(p))for(let D=10;D<p.length;D++){const I=p[D],T=I[1].firstChild;null!==T&&$s(I[1],I,T,d)}const y=u.type;if(8&y)$s(s,o,u.child,d);else if(32&y){const D=pe(u,o);let I;for(;I=D();)d.push(I)}else if(16&y){const D=tw(o,u);if(Array.isArray(D))d.push(...D);else{const I=dt(o[16]);$s(I[1],I,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class vu{get rootNodes(){const o=this._lView,u=o[1];return $s(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(si(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(f_(o,d),ld(u,d))}this._attachedToViewContainer=!1}Qb(this._lView[1],this._lView)}onDestroy(o){nD(this._lView[1],this._lView,null,o)}markForCheck(){ba(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Do(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Id(s,o){uu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=o}}class ey extends vu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Do(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Gd extends xl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=qt(o);return new Io(u,this.ngModule)}}function xp(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class ny{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=bt(d);const h=this.injector.get(o,F_,d);return h!==F_||u===F_?h:this.parentInjector.get(o,u,d)}}class Io extends ww{get inputs(){return xp(this.componentDef.inputs)}get outputs(){return xp(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function $T(s){return s.map(UT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof pu?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new ny(o,p):o,D=y.get(Pl,null);if(null===D)throw new ee(407,!1);const I=y.get(RT,null),T=D.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=d?function rC(s,o,u){return s.selectRootElement(o,u===De.ShadowDom)}(T,d,this.componentDef.encapsulation):la(T,A,function ty(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),G=this.componentDef.onPush?288:272,Y=z_(0,null,null,1,0,null,null,null,null,null),ue=G_(null,Y,null,G,null,null,D,T,I,y,null);let Pe,qe;Rf(ue);try{const Ue=this.componentDef;let Et,ge=null;Ue.findHostDirectiveDefs?(Et=[],ge=new Map,Ue.findHostDirectiveDefs(Ue,Et,ge),Et.push(Ue)):Et=[Ue];const lt=function iy(s,o){const u=s[1];return s[22]=o,Ul(u,22,2,"#host",null)}(ue,R),an=function fC(s,o,u,d,h,p,y,D){const I=h[1];!function pC(s,o,u,d){for(const h of s)o.mergedAttrs=_s(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Rp(o,o.mergedAttrs,!0),null!==u&&pa(d,u,o))}(d,s,o,y);const T=p.createRenderer(o,u),A=G_(h,Ud(u),null,u.onPush?32:16,h[s.index],s,p,T,D||null,null,null);return I.firstCreatePass&&$d(I,s,d.length-1),Op(h,A),h[s.index]=A}(lt,R,Ue,Et,ue,D,T);qe=Ef(Y,22),R&&function sy(s,o,u,d){if(d)il(s,u,["ng-version",Sw.full]);else{const{attrs:h,classes:p}=function jT(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!Wr(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&il(s,u,h),p&&p.length>0&&up(s,u,p.join(" "))}}(T,Ue,R,d),void 0!==u&&function mC(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(qe,this.ngContentSelectors,u),Pe=function gC(s,o,u,d,h,p){const y=Xn(),D=h[1],I=wr(y,h);iD(D,h,y,u,null,d);for(let A=0;A<u.length;A++)cr(uo(h,D,y.directiveStart+A,y),h);sD(D,h,y),I&&cr(I,h);const T=uo(h,D,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=T,null!==p)for(const A of p)A(T,o);return Bd(D,y,s),T}(an,Ue,Et,ge,ue,[oy]),$l(Y,ue,null)}finally{Jm()}return new ry(this.componentType,Pe,bo(qe,ue),ue,qe)}}class ry extends yp{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new ey(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;Mp(p[1],p,h,o,u),Ap(p,this._tNode.index)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function oy(){const s=Xn();Qa(le()[1],s)}function Pp(s){let o=function ay(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(br(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ee(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=uy(s.inputs),y.declaredInputs=uy(s.declaredInputs),y.outputs=uy(s.outputs);const D=h.hostBindings;D&&cy(s,D);const I=h.viewQuery,T=h.contentQueries;if(I&&ly(s,I),T&&yC(s,T),Fe(s.inputs,h.inputs),Fe(s.declaredInputs,h.declaredInputs),Fe(s.outputs,h.outputs),br(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const D=p[y];D&&D.ngInherit&&D(s),D===Pp&&(u=!1)}}o=Object.getPrototypeOf(o)}!function _C(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=_s(h.hostAttrs,u=_s(u,h.hostAttrs))}}(d)}function uy(s){return s===ct?{}:s===je?[]:s}function ly(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function yC(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function cy(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Fp=null;function bu(){if(!Fp){const s=Ct.Symbol;if(s&&s.iterator)Fp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Fp=d)}}}return Fp}function Gl(s){return!!py(s)&&(Array.isArray(s)||!(s instanceof Map)&&bu()in s)}function py(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function js(s,o,u){return s[o]=u}function qr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Hl(s,o,u,d){const h=qr(s,o,u);return qr(s,o+1,d)||h}function yD(s,o,u,d){const h=le();return qr(h,io(),o)&&(Gt(),function Ji(s,o,u,d,h,p){const y=wr(s,o);jd(o[11],y,p,s.value,u,d,h)}(on(),h,s,o,u,d)),yD}function Da(s,o,u,d){return qr(s,io(),u)?o+me(u)+d:kt}function Du(s,o,u,d,h,p){const D=Hl(s,oi(),u,h);return Os(2),D?o+me(u)+d+me(h)+p:kt}function TD(s,o,u,d,h,p,y,D){const I=le(),T=Gt(),A=s+22,R=T.firstCreatePass?function WM(s,o,u,d,h,p,y,D,I){const T=o.consts,A=Ul(o,s,4,y||null,ps(T,D));Np(o,u,A,ps(T,I)),Qa(o,A);const R=A.tViews=z_(2,A,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),R.queries=o.queries.embeddedTView(A)),A}(A,T,I,o,u,d,h,p,y):T.data[A];qi(R,!1);const G=I[11].createComment("");ap(T,I,G,R),cr(G,I),Op(I,I[A]=cD(G,I,G,R)),Wu(R)&&yu(T,I,R),null!=y&&Sp(I,R,D)}function CD(s){return no(function Af(){return Mt.lFrame.contextLView}(),22+s)}function by(s,o,u){const d=le();return qr(d,io(),o)&&Ii(Gt(),on(),d,s,o,d[11],u,!1),by}function Hd(s,o,u,d,h){const y=h?"class":"style";Mp(s,u,o.inputs[y],y,d)}function wy(s,o,u,d){const h=le(),p=Gt(),y=22+s,D=h[11],I=h[y]=la(D,o,function Ub(){return Mt.lFrame.currentNamespace}()),T=p.firstCreatePass?function qM(s,o,u,d,h,p,y){const D=o.consts,T=Ul(o,s,2,h,ps(D,p));return Np(o,u,T,ps(D,y)),null!==T.attrs&&Rp(T,T.attrs,!1),null!==T.mergedAttrs&&Rp(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,0,o,u,d):p.data[y];return qi(T,!0),pa(D,I,T),32!=(32&T.flags)&&ap(p,h,I,T),0===function Yc(){return Mt.lFrame.elementDepthCount}()&&cr(I,h),function jm(){Mt.lFrame.elementDepthCount++}(),Wu(T)&&(yu(p,h,T),Bd(p,T,h)),null!==d&&Sp(h,T),wy}function Dy(){let s=Xn();el()?Sf():(s=s.parent,qi(s,!1));const o=s;!function Kc(){Mt.lFrame.elementDepthCount--}();const u=Gt();return u.firstCreatePass&&(Qa(u,s),hs(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function e_(s){return 0!=(8&s.flags)}(o)&&Hd(u,o,le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Rs(s){return 0!=(16&s.flags)}(o)&&Hd(u,o,le(),o.stylesWithoutHost,!1),Dy}function SD(s,o,u,d){return wy(s,o,u,d),Dy(),SD}function Ey(s,o,u){const d=le(),h=Gt(),p=s+22,y=h.firstCreatePass?function Lp(s,o,u,d,h){const p=o.consts,y=ps(p,d),D=Ul(o,s,8,"ng-container",y);return null!==y&&Rp(D,y,!0),Np(o,u,D,ps(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,d,o,u):h.data[p];qi(y,!0);const D=d[p]=d[11].createComment("");return ap(h,d,D,y),cr(D,d),Wu(y)&&(yu(h,d,y),Bd(h,y,d)),null!=u&&Sp(d,y),Ey}function Vp(){let s=Xn();const o=Gt();return el()?Sf():(s=s.parent,qi(s,!1)),o.firstCreatePass&&(Qa(o,s),hs(s)&&o.queries.elementEnd(s)),Vp}function ND(){return le()}function Iy(s){return!!s&&"function"==typeof s.then}function OD(s){return!!s&&"function"==typeof s.subscribe}const MD=OD;function Ty(s,o,u,d){const h=le(),p=Gt(),y=Xn();return function xD(s,o,u,d,h,p,y){const D=Wu(d),T=s.firstCreatePass&&hD(s),A=o[8],R=J_(o);let G=!0;if(3&d.type||y){const Pe=wr(d,o),qe=y?y(Pe):Pe,Ue=R.length,Et=y?lt=>y(Un(lt[d.index])):d.index;let ge=null;if(!y&&D&&(ge=function wC(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const D=o[7],I=h[p+2];return D.length>I?D[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=p,ge.__ngLastListenerFn__=p,G=!1;else{p=Ia(d,o,A,p,!1);const lt=u.listen(qe,h,p);R.push(p,lt),T&&T.push(h,Et,Ue,Ue+1)}}else p=Ia(d,o,A,p,!1);const Y=d.outputs;let ue;if(G&&null!==Y&&(ue=Y[h])){const Pe=ue.length;if(Pe)for(let qe=0;qe<Pe;qe+=2){const an=o[ue[qe]][ue[qe+1]].subscribe(p),An=R.length;R.push(p,an),T&&T.push(h,d.index,An,-(An+1))}}}(p,h,h[11],y,s,o,d),Ty}function zd(s,o,u,d){try{return!1!==u(d)}catch(h){return X_(s,h),!1}}function Ia(s,o,u,d,h){return function p(y){if(y===Function)return d;ba(s.componentOffset>-1?Dr(s.index,o):o);let I=zd(o,0,d,y),T=p.__ngNextListenerFn__;for(;T;)I=zd(o,0,T,y)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function PD(s=1){return function Fb(s){return(Mt.lFrame.contextLView=function nT(s,o){for(;s>0;)o=o[15],s--;return o}(s,Mt.lFrame.contextLView))[8]}(s)}function DC(s,o){let u=null;const d=function Vw(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Lw(s,p,!0):Bw(d,p))return h}else u=h}return u}function kD(s){const o=le()[16][6];if(!o.projection){const d=o.projection=ra(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?DC(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function FD(s,o=0,u){const d=le(),h=Gt(),p=Ul(h,22+s,16,null,u||null);null===p.projection&&(p.projection=o),Sf(),32!=(32&p.flags)&&function aT(s,o,u){y_(o[11],0,o,u,ca(s,u,o),p_(u.parent||o[6],u,o))}(h,d,p)}function Cy(s,o,u){return Bp(s,"",o,"",u),Cy}function Bp(s,o,u,d,h){const p=le(),y=Da(p,o,u,d);return y!==kt&&Ii(Gt(),on(),p,s,y,p[11],h,!1),Bp}function Wd(s,o){return s<<17|o<<2}function Ta(s){return s>>17&32767}function $D(s){return 2|s}function Xi(s){return(131068&s)>>2}function Is(s,o){return-131069&s|o<<2}function qd(s){return 1|s}function jD(s,o,u,d,h){const p=s[u+1],y=null===o;let D=d?Ta(p):Xi(p),I=!1;for(;0!==D&&(!1===I||y);){const A=s[D+1];NC(s[D],o)&&(I=!0,s[D+1]=d?qd(A):$D(A)),D=d?Ta(A):Xi(A)}I&&(s[u+1]=d?$D(p):qd(p))}function NC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ht(s,o)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ca(s){return s.substring(hr.key,hr.keyEnd)}function My(s,o){const u=hr.textEnd;return u===o?-1:(o=hr.keyEnd=function xy(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,hr.key=o,u),Ql(s,o,u))}function Ql(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function ky(s,o,u){return Li(s,o,u,!1),ky}function Zd(s,o){return Li(s,o,null,!0),Zd}function Hp(s){ts(Rr,es,s,!0)}function es(s,o){for(let u=function Oy(s){return function Gp(s){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=s.length}(s),My(s,Ql(s,0,hr.textEnd))}(o);u>=0;u=My(o,u))Rr(s,Ca(o),!0)}function Li(s,o,u,d){const h=le(),p=Gt(),y=Os(2);p.firstUpdatePass&&qD(p,s,y,d),o!==kt&&qr(h,y,o)&&KD(p,p.data[Hr()],h,h[11],s,h[y+1]=function MC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Us(s)))),s}(o,u),d,y)}function ts(s,o,u,d){const h=Gt(),p=Os(2);h.firstUpdatePass&&qD(h,null,p,d);const y=le();if(u!==kt&&qr(y,p,u)){const D=h.data[Hr()];if(QD(D,d)&&!WD(h,p)){let I=d?D.classesWithoutHost:D.stylesWithoutHost;null!==I&&(u=Oe(I,u||"")),Hd(h,D,y,u,d)}else!function Uy(s,o,u,d,h,p,y,D){h===kt&&(h=je);let I=0,T=0,A=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==A||null!==R;){const G=I<h.length?h[I+1]:void 0,Y=T<p.length?p[T+1]:void 0;let Pe,ue=null;A===R?(I+=2,T+=2,G!==Y&&(ue=R,Pe=Y)):null===R||null!==A&&A<R?(I+=2,ue=A):(T+=2,ue=R,Pe=Y),null!==ue&&KD(s,o,u,d,ue,Pe,y,D),A=I<h.length?h[I]:null,R=T<p.length?p[T]:null}}(h,D,y,y[11],y[p+1],y[p+1]=function By(s,o,u){if(null==u||""===u)return je;const d=[],h=Us(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,p)}}function WD(s,o){return o>=s.expandoStartIndex}function qD(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Hr()],y=WD(s,u);QD(p,d)&&null===o&&!y&&(o=!1),o=function Ly(s,o,u,d){const h=function Ka(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Jl(u=Yd(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=Yd(h,s,o,u,d),null===p){let I=function ZD(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Xi(d))return s[Ta(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=Yd(null,s,o,I[1],d),I=Jl(I,o.attrs,d),function Vy(s,o,u,d){s[Ta(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function OC(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Jl(d,s[p].hostAttrs,u);return Jl(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function AC(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,D=Ta(y),I=Xi(y);s[d]=u;let A,T=!1;if(Array.isArray(u)?(A=u[1],(null===A||Ht(u,A)>0)&&(T=!0)):A=u,h)if(0!==I){const G=Ta(s[D+1]);s[d+1]=Wd(G,D),0!==G&&(s[G+1]=Is(s[G+1],d)),s[D+1]=function TC(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=Wd(D,0),0!==D&&(s[D+1]=Is(s[D+1],d)),D=d;else s[d+1]=Wd(I,0),0===D?D=d:s[I+1]=Is(s[I+1],d),I=d;T&&(s[d+1]=$D(s[d+1])),jD(s,A,d,!0),jD(s,A,d,!1),function Ay(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ht(p,o)>=0&&(u[d+1]=qd(u[d+1]))}(o,A,s,d,p),y=Wd(D,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}function Yd(s,o,u,d,h){let p=null;const y=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<y&&(p=o[D],d=Jl(d,p.hostAttrs,h),p!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function Jl(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Rr(s,y,!!u||o[++p]))}return void 0===s?null:s}function KD(s,o,u,d,h,p,y,D){if(!(3&o.type))return;const I=s.data,T=I[D+1],A=function CC(s){return 1==(1&s)}(T)?$y(I,o,u,h,Xi(T),y):void 0;zp(A)||(zp(p)||function IC(s){return 2==(2&s)}(T)&&(p=$y(I,null,u,h,D,y)),function Nd(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:Ei.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ei.Important),s.setStyle(u,d,h,p))}}(d,y,zo(Hr(),u),h,p))}function $y(s,o,u,d,h,p){const y=null===o;let D;for(;h>0;){const I=s[h],T=Array.isArray(I),A=T?I[1]:I,R=null===A;let G=u[h+1];G===kt&&(G=R?je:void 0);let Y=R?Wf(G,d):A===d?G:void 0;if(T&&!zp(Y)&&(Y=Wf(I,d)),zp(Y)&&(D=Y,y))return D;const ue=s[h+1];h=y?Ta(ue):Xi(ue)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(D=Wf(I,d))}return D}function zp(s){return void 0!==s}function QD(s,o){return 0!=(s.flags&(o?8:16))}function JD(s,o=""){const u=le(),d=Gt(),h=s+22,p=d.firstCreatePass?Ul(d,h,1,o,null):d.data[h],y=u[h]=_o(u[11],o);ap(d,u,y,p),qi(p,!1)}function Wp(s){return qp("",s,""),Wp}function qp(s,o,u){const d=le(),h=Da(d,s,o,u);return h!==kt&&Eo(d,Hr(),h),qp}function Kd(s,o,u,d,h){const p=le(),y=Du(p,s,o,u,d,h);return y!==kt&&Eo(p,Hr(),y),Kd}function Qp(s,o,u,d,h){ts(Rr,es,Du(le(),s,o,u,d,h),!0)}function Xp(s,o,u){const d=le();return qr(d,io(),o)&&Ii(Gt(),on(),d,s,o,d[11],u,!0),Xp}const Sa=void 0;var HC=["en",[["a","p"],["AM","PM"],Sa],[["AM","PM"],Sa,Sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sa,"{1} 'at' {0}",Sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GC(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Xl={};function qy(s){const o=function Vi(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=f1(o);if(u)return u;const d=o.split("-")[0];if(u=f1(d),u)return u;if("en"===d)return HC;throw new ee(701,!1)}function h1(s){return qy(s)[Dt.PluralCase]}function f1(s){return s in Xl||(Xl[s]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[s]),Xl[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const zC=["zero","one","two","few","many"],ec="en-US",eg={marker:"element"},tg={marker:"ICU"};var Tn=(()=>((Tn=Tn||{})[Tn.SHIFT=2]="SHIFT",Tn[Tn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Tn[Tn.COMMENT=2]="COMMENT",Tn))();let ng=ec;function Zy(s){(function Ke(s,o){null==s&&Ye(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(ng=s.toLowerCase().replace(/_/g,"-"))}function g1(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?g_(s,0,u):Un(u[h])}function m1(s,o,u,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,D=null;if(3&o.type||(D=y,y=h),null!==y&&-1===o.componentOffset)for(let I=1;I<p.length;I++)Il(s,y,u[p[I]],D,!1)}}function _1(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];rg(d)||qC(d,o)&&null===Ky(d)&&ZC(d,o.index)}}function rg(s){return!(64&s.type)}function qC(s,o){return rg(o)||s.index>o.index}function Ky(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function ZC(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(ew(g1,m1),s.insertBeforeIndex=o)}function Iu(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function KC(s,o,u){const d=va(s,u,64,null,null);return _1(o,d),d}function tc(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function y1(s){return s>>>17}function ig(s){return(131070&s)>>>1}let nc=0,Jd=0;function b1(s,o,u,d){const h=u[11];let y,p=null;for(let D=0;D<o.length;D++){const I=o[D];if("string"==typeof I){const T=o[++D];null===u[T]&&(u[T]=_o(h,I))}else if("number"==typeof I)switch(1&I){case 0:const T=y1(I);let A,R;if(null===p&&(p=T,y=da(h,d)),T===p?(A=d,R=y):(A=null,R=Un(u[T])),null!==R){const Pe=ig(I);Il(h,R,u[Pe],A,!1);const Ue=Iu(s,Pe);if(null!==Ue&&"object"==typeof Ue){const Et=tc(Ue,u);null!==Et&&b1(s,Ue.create[Et],u,u[Ue.anchorIdx])}}break;case 1:const Y=o[++D],ue=o[++D];jd(h,zo(I>>>1,u),null,null,Y,ue,null)}else switch(I){case tg:const T=o[++D],A=o[++D];null===u[A]&&cr(u[A]=Ed(h,T),u);break;case eg:const R=o[++D],G=o[++D];null===u[G]&&cr(u[G]=la(h,R,null),u)}}}function Gs(s,o,u,d,h){for(let p=0;p<u.length;p++){const y=u[p],D=u[++p];if(y&h){let I="";for(let T=p+1;T<=p+D;T++){const A=u[T];if("string"==typeof A)I+=A;else if("number"==typeof A)if(A<0)I+=me(o[d-A]);else{const R=A>>>2;switch(3&A){case 1:const G=u[++T],Y=u[++T],ue=s.data[R];"string"==typeof ue?jd(o[11],o[R],null,ue,G,I,Y):Ii(s,ue,o,G,I,o[11],Y,!1);break;case 0:const Pe=o[R];null!==Pe&&ua(o[11],Pe,I);break;case 2:w1(s,Iu(s,R),o,I);break;case 3:ev(s,Iu(s,R),d,o)}}}}else{const I=u[p+1];if(I>0&&3==(3&I)){const A=Iu(s,I>>>2);o[A.currentCaseLViewIndex]<0&&ev(s,A,d,o)}}p+=D}}function ev(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=nc;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),Gs(s,d,o.update[h],u,p)}}function w1(s,o,u,d){const h=function D1(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function WC(s,o){const u=h1(o)(parseInt(s,10)),d=zC[u];return void 0!==d?d:"other"}(o,function Yy(){return ng}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(tc(o,u)!==h&&(Xd(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[o.anchorIdx];y&&b1(s,o.create[h],u,y)}}function Xd(s,o,u){let d=tc(o,u);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const D=zo(y,u);null!==D&&fa(u[11],D)}else Xd(s,Iu(s,~y),u)}}}function E1(){const s=[];let u,d,o=-1;function p(D,I){o=0;const T=tc(D,I);d=null!==T?D.remove[T]:je}function y(){if(o<d.length){const D=d[o++];return D>0?u[D]:(s.push(o,d),p(u[1].data[~D],u),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(D,I){for(u=I;s.length;)s.pop();return p(D.value,I),y}}const tv=/\ufffd(\d+):?\d*\ufffd/gi,XC=/\ufffd(\d+)\ufffd/,og=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,XM=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,eR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,tR=/\uE500/g;function nv(s,o,u,d,h,p,y){const D=Vd(s,d,1,null);let I=D<<Tn.SHIFT,T=Wo();o===T&&(T=null),null===T&&(I|=Tn.APPEND_EAGERLY),y&&(I|=Tn.COMMENT,function Ze(s){void 0===Z&&(Z=s())}(E1)),h.push(I,null===p?"":p);const A=va(s,D,y?32:1,null===p?"":p,null);_1(u,A);const R=A.index;return qi(A,!1),null!==T&&o!==T&&function Qy(s,o){let u=s.insertBeforeIndex;null===u?(ew(g1,m1),u=s.insertBeforeIndex=[null,o]):(function Ae(s,o,u){s!=o&&Ye(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(T,R),A}function C1(s,o,u,d,h,p,y){const D=y.match(tv),I=nv(s,o,u,p,d,D?null:y,!1);D&&eh(h,y,I.index,null,0,null)}function eh(s,o,u,d,h,p){const y=s.length,D=y+1;s.push(null,null);const I=y+2,T=o.split(tv);let A=0;for(let R=0;R<T.length;R++){const G=T[R];if(1&R){const Y=h+parseInt(G,10);s.push(-1-Y),A|=S1(Y)}else""!==G&&s.push(G)}return s.push(u<<2|(d?1:0)),d&&s.push(d,p),s[y]=A,s[D]=s.length-I,A}function S1(s){return 1<<Math.min(s,31)}function rc(s){let o,p,u="",d=0,h=!1;for(;null!==(o=XM.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return u+=s.slice(d),u}function th(s,o,u,d,h,p){let y=0;const D={type:h.type,currentCaseLViewIndex:Vd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function ov(s,o,u){s.push(S1(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,p),function YC(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,p,D);const I=h.values;for(let T=0;T<I.length;T++){const A=I[T],R=[];for(let G=0;G<A.length;G++){const Y=A[G];if("string"!=typeof Y){const ue=R.push(Y)-1;A[G]=`\x3c!--\ufffd${ue}\ufffd--\x3e`}}y=iv(s,D,o,u,d,h.cases[T],A.join(""),R)|y}y&&function oR(s,o,u){s.push(o,1,u<<2|3)}(u,y,p)}function rv(s){const o=[],u=[];let d=1,h=0;const p=nh(s=s.replace(og,function(y,D,I){return d="select"===I?0:1,h=parseInt(D.slice(1),10),""}));for(let y=0;y<p.length;){let D=p[y++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const I=nh(p[y++]);o.length>u.length&&u.push(I)}return{type:d,mainBinding:h,cases:o,values:u}}function nh(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(u.pop(),0==u.length){const I=s.substring(o,D);og.test(I)?d.push(rv(I)):d.push(I),o=D+1}}else{if(0==u.length){const I=s.substring(o,D);d.push(I),o=D+1}u.push("{")}}const y=s.substring(o);return d.push(y),d}function iv(s,o,u,d,h,p,y,D){const I=[],T=[],A=[];o.cases.push(p),o.create.push(I),o.remove.push(T),o.update.push(A);const G=function D_(s){const o=new dp(s);return function uw(){try{return!!(new window.DOMParser).parseFromString(ga(""),"text/html")}catch{return!1}}()?new mT(o):o}(function rw(){return void 0!==v_?v_:typeof document<"u"?document:void 0}()).getInertBodyElement(y),Y=function hw(s){return"content"in s&&function NM(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(G)||G;return Y?ug(s,o,u,d,I,T,A,Y,h,D,0):0}function ug(s,o,u,d,h,p,y,D,I,T,A){let R=0,G=D.firstChild;for(;G;){const Y=Vd(s,u,1,null);switch(G.nodeType){case Node.ELEMENT_NODE:const ue=G,Pe=ue.tagName.toLowerCase();if(fp.hasOwnProperty(Pe)){A1(h,eg,Pe,I,Y),s.data[Y]=Pe;const ge=ue.attributes;for(let lt=0;lt<ge.length;lt++){const an=ge.item(lt),An=an.name.toLowerCase();an.value.match(tv)?Al.hasOwnProperty(An)&&eh(y,an.value,Y,an.name,0,pp[An]?hp:null):aR(h,Y,an)}R=ug(s,o,u,d,h,p,y,G,Y,T,A+1)|R,lg(p,Y,A)}break;case Node.TEXT_NODE:const qe=G.textContent||"",Ue=qe.match(tv);A1(h,null,Ue?"":qe,I,Y),lg(p,Y,A),Ue&&(R=eh(y,qe,Y,null,0,null)|R);break;case Node.COMMENT_NODE:const Et=XC.exec(G.textContent||"");if(Et){const lt=T[parseInt(Et[1],10)];A1(h,tg,"",I,Y),th(s,u,d,I,lt,Y),sv(p,Y,A)}}G=G.nextSibling}return R}function lg(s,o,u){0===u&&s.push(o)}function sv(s,o,u){0===u&&(s.push(~o),s.push(o))}function A1(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function v1(s,o,u){return s|o<<17|u<<1}(0,d,h))}function aR(s,o,u){s.push(o<<1|1,u.name,u.value)}function iS(s,o,u=-1){const d=Gt(),h=le(),p=22+s,y=ps(d.consts,o),D=Wo();d.firstCreatePass&&function iR(s,o,u,d,h,p){const y=Wo(),D=[],I=[],T=[[]];h=function ic(s,o){if(function sR(s){return-1===s}(o))return rc(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return rc(s.substring(u,d))}}(h,p);const A=function nR(s){return s.replace(tR," ")}(h).split(eR);for(let R=0;R<A.length;R++){let G=A[R];if(1&R){const Y=47===G.charCodeAt(0),Pe=(G.charCodeAt(Y?1:0),22+Number.parseInt(G.substring(Y?2:1)));if(Y)T.shift(),qi(Wo(),!1);else{const qe=KC(s,T[0],Pe);T.unshift([]),qi(qe,!0)}}else{const Y=nh(G);for(let ue=0;ue<Y.length;ue++){let Pe=Y[ue];if(1&ue){const qe=Pe;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${h}" message.`);th(s,u,I,o,qe,nv(s,y,T[0],u,D,"",!0).index)}else""!==Pe&&C1(s,y,T[0],D,I,u,Pe)}}}s.data[d]={create:D,update:I}}(d,null===D?0:D.index,h,p,y,u);const I=d.data[p],A=sp(d,D===h[6]?null:D,h);(function Xy(s,o,u,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],D=o[p],T=(y&Tn.APPEND_EAGERLY)===Tn.APPEND_EAGERLY,A=y>>>Tn.SHIFT;let R=s[A];null===R&&(R=s[A]=(y&Tn.COMMENT)===Tn.COMMENT?h.createComment(D):_o(h,D)),T&&null!==u&&Il(h,u,R,d,!1)}})(h,I.create,A,D&&8&D.type?h[D.index]:null),nl(!0)}function Ti(s,o,u){iS(s,o,u),function sS(){nl(!1)}()}function uv(s){return function Jy(s){s&&(nc|=1<<Math.min(Jd,31)),Jd++}(qr(le(),io(),s)),uv}function lv(s){!function QC(s,o,u){if(Jd>0){const d=s.data[u];Gs(s,o,Array.isArray(d)?d:d.update,oi()-Jd-1,nc)}nc=0,Jd=0}(Gt(),le(),s+22)}function dv(s,o,u,d,h){if(s=W(s),Array.isArray(s))for(let p=0;p<s.length;p++)dv(s[p],o,u,d,h);else{const p=Gt(),y=le();let D=fu(s)?s:W(s.provide),I=vw(s);const T=Xn(),A=1048575&T.providerIndexes,R=T.directiveStart,G=T.providerIndexes>>20;if(fu(s)||!s.multi){const Y=new rl(I,h,Bl),ue=hv(D,o,h?A:A+G,R);-1===ue?(id(ao(T,y),p,D),Bi(p,s,o.length),o.push(D),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(Y),y.push(Y)):(u[ue]=Y,y[ue]=Y)}else{const Y=hv(D,o,A+G,R),ue=hv(D,o,A,A+G),qe=ue>=0&&u[ue];if(h&&!qe||!h&&!(Y>=0&&u[Y])){id(ao(T,y),p,D);const Ue=function fv(s,o,u,d,h){const p=new rl(s,u,Bl);return p.multi=[],p.index=o,p.componentProviders=0,aS(p,h,d&&!u),p}(h?To:uS,u.length,h,d,I);!h&&qe&&(u[ue].providerFactory=Ue),Bi(p,s,o.length,0),o.push(D),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(Ue),y.push(Ue)}else Bi(p,s,Y>-1?Y:ue,aS(u[h?ue:Y],I,!h&&d));!h&&d&&qe&&u[ue].componentProviders++}}}function Bi(s,o,u,d){const h=fu(o),p=function R_(s){return!!s.useClass}(o);if(h||p){const I=(p?W(o.useClass):o).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=T.indexOf(u);-1===A?T.push(u,[d,I]):T[A+1].push(d,I)}else T.push(u,I)}}}function aS(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function hv(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function uS(s,o,u,d){return ht(this.multi,[])}function To(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=uo(u,u[1],this.providerFactory.index,d);p=D.slice(0,y),ht(h,p);for(let I=y;I<D.length;I++)p.push(D[I])}else p=[],ht(h,p);return p}function ht(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Rt(s,o=[]){return u=>{u.providersResolver=(d,h)=>function hg(s,o,u){const d=Gt();if(d.firstCreatePass){const h=br(s);dv(u,d.data,d.blueprint,h,!0),dv(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Co{}class rh{}function ih(s,o){return new fg(s,o??null)}class fg extends Co{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gd(this);const d=Ur(o);this._bootstrapComponents=ya(d.bootstrap),this._r3Injector=zw(o,u,[{provide:Co,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pv extends rh{constructor(o){super(),this.moduleType=o}create(o){return new fg(this.moduleType,o)}}class lS extends Co{constructor(o,u,d){super(),this.componentFactoryResolver=new Gd(this),this.instance=null;const h=new yw([...o,{provide:Co,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],u||_p(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function gv(s,o,u=null){return new lS(s,o,u).injector}let Zr=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Ol(0,u.type),h=d.length>0?gv([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tt({token:s,providedIn:"environment",factory:()=>new s(ke(pu))}),s})();function sh(s){s.getStandaloneInjector=o=>o.get(Zr).getOrCreateStandaloneInjector(s)}function vv(s,o,u){const d=Mr()+s,h=le();return h[d]===kt?js(h,d,u?o.call(u):o()):function wu(s,o){return s[o]}(h,d)}function mg(s,o,u,d){return yg(le(),Mr(),s,o,u,d)}function bv(s,o,u,d,h){return Iv(le(),Mr(),s,o,u,d,h)}function x1(s,o,u,d,h,p){return k1(le(),Mr(),s,o,u,d,h,p)}function ah(s,o){const u=s[o];return u===kt?void 0:u}function yg(s,o,u,d,h,p){const y=o+u;return qr(s,y,h)?js(s,y+1,p?d.call(p,h):d(h)):ah(s,y+1)}function Iv(s,o,u,d,h,p,y){const D=o+u;return Hl(s,D,h,p)?js(s,D+2,y?d.call(y,h,p):d(h,p)):ah(s,D+2)}function k1(s,o,u,d,h,p,y,D){const I=o+u;return function zl(s,o,u,d,h){const p=Hl(s,o,u,d);return qr(s,o+2,h)||p}(s,I,h,p,y)?js(s,I+3,D?d.call(D,h,p,y):d(h,p,y)):ah(s,I+3)}function uc(s,o){const u=Gt();let d;const h=s+22;u.firstCreatePass?(d=function fS(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=to(d.type)),y=sr(Bl);try{const D=Ps(!1),I=p();return Ps(D),function vy(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,le(),h,I),I}finally{sr(y)}}function uh(s,o,u){const d=s+22,h=le(),p=no(h,d);return Na(h,d)?yg(h,Mr(),o,p.transform,u,p):p.transform(u)}function vg(s,o,u,d){const h=s+22,p=le(),y=no(p,h);return Na(p,h)?Iv(p,Mr(),o,y.transform,u,d,y):y.transform(u,d)}function Tv(s,o,u,d,h){const p=s+22,y=le(),D=no(y,p);return Na(y,p)?k1(y,Mr(),o,D.transform,u,d,h,D):D.transform(u,d,h)}function Na(s,o){return s[1].data[o].pure}function lh(s){return o=>{setTimeout(s,void 0,o)}}const ns=class Cv extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),y=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=lh(p),h&&(h=lh(h)),y&&(y=lh(y)));const D=super.subscribe({next:h,error:p,complete:y});return o instanceof B.w0&&o.add(D),D}};function Sv(){return this._results[bu()]()}class bg{get changes(){return this._changes||(this._changes=new ns)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=bu(),d=bg.prototype;d[u]||(d[u]=Sv)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function zr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Wb(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lc=(()=>{class s{}return s.__NG_ELEMENT_ID__=U1,s})();const pS=lc,B1=class extends pS{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=G_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),$l(d,h,o),new vu(h)}};function U1(){return cc(Xn(),le())}function cc(s,o){return 4&s.type?new B1(o,s,bo(s,o)):null}let ch=(()=>{class s{}return s.__NG_ELEMENT_ID__=gS,s})();function gS(){return Cr(Xn(),le())}const Av=ch,wg=class extends Av{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return bo(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const o=rd(this._hostTNode,this._hostLView);if(td(o)){const u=oo(o,this._hostLView),d=Ko(o);return new lo(u[1].data[d+8],u)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Dg(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(u||{},p);return this.insert(y,h),y}createComponent(o,u,d,h,p){const y=o&&!function hl(s){return"function"==typeof s}(o);let D;if(y)D=u;else{const R=u||{};D=R.index,d=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const I=y?o:new Io(qt(o)),T=d||this.parentInjector;if(!p&&null==I.ngModule){const G=(y?T:this.parentInjector).get(pu,null);G&&(p=G)}const A=I.create(T,h,void 0,p);return this.insert(A.hostView,D),A}insert(o,u){const d=o._lView,h=d[1];if(function $m(s){return si(s[3])}(d)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const R=d[3],G=new wg(R,R[6],R[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(u),y=this._lContainer;!function h_(s,o,u,d){const h=10+d,p=u.length;d>0&&(u[h-1][4]=o),d<p-10?(o[4]=u[h],o_(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function Td(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,y,p);const D=Ad(p,y),I=d[11],T=da(I,y[7]);return null!==T&&function np(s,o,u,d,h,p){d[0]=h,d[6]=o,uu(s,d,u,1,h,p)}(h,y[6],I,d,T,D),o.attachToViewContainerRef(),o_(er(y),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Dg(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=f_(this._lContainer,u);d&&(ld(er(this._lContainer),u),Qb(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=f_(this._lContainer,u);return d&&null!=ld(er(this._lContainer),u)?new vu(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function Dg(s){return s[8]}function er(s){return s[8]||(s[8]=[])}function Cr(s,o){let u;const d=o[s.index];if(si(d))u=d;else{let h;if(8&s.type)h=Un(d);else{const p=o[11];h=p.createComment("");const y=wr(s,o);Il(p,da(p,y),h,function Tl(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=u=cD(d,o,h,s),Op(o,u)}return new wg(u,s,o)}class dc{constructor(o){this.queryList=o,this.matches=null}clone(){return new dc(this.queryList)}setDirty(){this.queryList.setDirty()}}class dh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new dh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Pv(o,u).matches&&this.queries[u].setDirty()}}class $1{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Nv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Nv(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Eg{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Eg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,mS(u,p)),this.matchTNodeWithReadOption(o,u,Jo(u,o,p,!1,!1))}else d===lc?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Jo(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===_a||h===ch||h===lc&&4&u.type)this.addMatch(u.index,-2);else{const p=Jo(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function mS(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function j1(s,o,u,d){return-1===u?function _S(s,o){return 11&s.type?bo(s,o):4&s.type?cc(s,o):null}(o,s):-2===u?function Ov(s,o,u){return u===_a?bo(o,s):u===lc?cc(o,s):u===ch?Cr(o,s):void 0}(s,o,d):uo(s,s[1],u,o)}function G1(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=u.matches,D=[];for(let I=0;I<y.length;I+=2){const T=y[I];D.push(T<0?null:j1(o,p[T],y[I+1],u.metadata.read))}h.matches=D}return h.matches}function hh(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=G1(s,o,h,u);for(let D=0;D<p.length;D+=2){const I=p[D];if(I>0)d.push(y[D/2]);else{const T=p[D+1],A=o[-I];for(let R=10;R<A.length;R++){const G=A[R];G[17]===G[3]&&hh(G[1],G,T,d)}if(null!==A[9]){const R=A[9];for(let G=0;G<R.length;G++){const Y=R[G];hh(Y[1],Y,T,d)}}}}}return d}function Mv(s){const o=le(),u=Gt(),d=Zm();Mf(d+1);const h=Pv(u,d);if(s.dirty&&function Zc(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?hh(u,o,d,[]):G1(u,o,h,d);s.reset(p,Iw),s.notifyOnChanges()}return!0}return!1}function H1(s,o,u){const d=Gt();d.firstCreatePass&&(z1(d,new $1(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),xv(d,le(),o)}function fh(s,o,u,d){const h=Gt();if(h.firstCreatePass){const p=Xn();z1(h,new $1(o,u,d),p.index),function ph(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}xv(h,le(),u)}function Ig(){return function Rv(s,o){return s[19].queries[o].queryList}(le(),Zm())}function xv(s,o,u){const d=new bg(4==(4&u));nD(s,o,d,d.destroy),null===o[19]&&(o[19]=new dh),o[19].queries.push(new dc(d))}function z1(s,o,u){null===s.queries&&(s.queries=new Nv),s.queries.track(new Eg(o,u))}function Pv(s,o){return s.queries.getByIndex(o)}function kv(s,o){return cc(s,o)}function Fg(...s){}const mc=new rn("Application Initializer");let Cs=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Fg,this.reject=Fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Iy(p))u.push(p);else if(MD(p)){const y=new Promise((D,I)=>{p.subscribe({complete:D,error:I})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(ke(mc,8))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qv=new rn("AppId",{providedIn:"root",factory:function Zv(){return`${Ra()}${Ra()}${Ra()}`}});function Ra(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rE=new rn("Platform Initializer"),ES=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yv=new rn("appBootstrapListener");let iE=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const _c=new rn("LocaleId",{providedIn:"root",factory:()=>Qe(_c,at.Optional|at.SkipSelf)||function Kv(){return typeof $localize<"u"&&$localize.locale||ec}()}),sE=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let SS=(()=>{class s{compileModuleSync(u){return new pv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=ya(Ur(u).declarations).reduce((y,D)=>{const I=qt(D);return I&&y.push(new Io(I)),y},[]);return new CS(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AS=(()=>Promise.resolve(0))();function Cn(s){typeof Zone>"u"?AS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class rs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function aE(){let s=Ct.requestAnimationFrame,o=Ct.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function lE(s){const o=()=>{!function uE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ct,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yc(s),s.isCheckStableRunning=!0,jg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,D)=>{try{return Jv(s),u.invokeTask(h,p,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),zs(s)}},onInvoke:(u,d,h,p,y,D,I)=>{try{return Jv(s),u.invoke(h,p,y,D,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),zs(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,yc(s),jg(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new ee(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,NS,Fg,Fg);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const NS={};function jg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Jv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function zs(s){s._nesting--,jg(s)}class cE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns,this.onMicrotaskEmpty=new ns,this.onStable=new ns,this.onError=new ns}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Xv=new rn(""),Gg=new rn("");let vc,wh=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vc||(function t0(s){vc=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),Cn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cn(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(ke(rs),ke(e0),ke(Gg))},s.\u0275prov=tt({token:s,factory:s.\u0275fac}),s})(),e0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return vc?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Mo=null;const Dh=new rn("AllowMultipleToken"),n0=new rn("PlatformDestroyListeners");class r0{constructor(o,u){this.name=o,this.token=u}}function o0(s,o,u=[]){const d=`Platform: ${o}`,h=new rn(d);return(p=[])=>{let y=Hg();if(!y||y.injector.get(Dh,!1)){const D=[...u,...p,{provide:h,useValue:!0}];s?s(D):function s0(s){if(Mo&&!Mo.get(Dh,!1))throw new ee(400,!1);Mo=s;const o=s.get(u0);(function Ih(s){const o=s.get(rE,null);o&&o.forEach(u=>u())})(s)}(function a0(s=[],o){return _u.create({name:o,providers:[{provide:Rl,useValue:"platform"},{provide:n0,useValue:new Set([()=>Mo=null])},...s]})}(D,d))}return function Au(s){const o=Hg();if(!o)throw new ee(401,!1);return o}()}}function Hg(){return Mo?.get(u0)??null}let u0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function Ci(s,o){let u;return u="noop"===s?new cE:("zone.js"===s?void 0:s)||new rs(o),u}(d?.ngZone,function Th(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:rs,useValue:h}];return h.run(()=>{const y=_u.create({providers:p,parent:this.injector,name:u.moduleType.name}),D=u.create(y),I=D.injector.get(Pd,null);if(!I)throw new ee(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:A=>{I.handleError(A)}});D.onDestroy(()=>{zg(this._modules,D),T.unsubscribe()})}),function l0(s,o,u){try{const d=u();return Iy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const T=D.injector.get(Cs);return T.runInitializers(),T.donePromise.then(()=>(Zy(D.injector.get(_c,ec)||ec),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=c0({},d);return function Eh(s,o,u){const d=new pv(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Ro);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ee(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(n0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(ke(_u))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function c0(s,o){return Array.isArray(o)?o.reduce(c0,s):{...s,...o}}let Ro=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new x.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new x.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),Cn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,ye.B)()))}bootstrap(u,d){const h=u instanceof ww;if(!this._injector.get(Cs).done)throw!h&&Js(u),new ee(405,false);let y;y=h?u:this._injector.get(xl).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const D=function dE(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Co),T=y.create(_u.NULL,[],d||y.selector,D),A=T.location.nativeElement,R=T.injector.get(Xv,null);return R?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),zg(this.components,T),R?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;zg(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Yv,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>zg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(ke(rs),ke(pu),ke(Pd))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function zg(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function xS(){return!1}let kS=(()=>{class s{}return s.__NG_ELEMENT_ID__=pE,s})();function pE(s){return function Sr(s,o,u){if(Ga(s)&&!u){const d=Dr(s.index,o);return new vu(d,d)}return 47&s.type?new vu(o[16],o):null}(Xn(),le(),16==(16&s))}class mE{constructor(){}supports(o){return Gl(o)}create(o){return new LS(o)}}const TR=(s,o)=>o;class LS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||TR}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<p0(d,h,p)?u:d,D=p0(y,h,p),I=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const T=D-h,A=I-h;if(T!=A){for(let G=0;G<T;G++){const Y=G<p.length?p[G]:p[G]=0,ue=Y+G;A<=ue&&ue<T&&(p[G]=Y+1)}p[y.previousIndex]=A-T}}D!==I&&o(y,D,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Gl(o))throw new ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],y=this._trackByFn(D,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,D)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,D),d=!0),u=u._next}else h=0,function fy(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[bu()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,D=>{y=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,D,y,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new _E(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Mu),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mu),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class _E{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pt{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Mu{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new Pt,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function p0(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class Dn{constructor(){}supports(o){return o instanceof Map||py(o)}create(){return new yt}}class yt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||py(o)))throw new ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Ah(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class Ah{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wt(){return new g0([new mE])}let g0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Wt()),deps:[[s,new Mi,new ks]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ee(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:Wt}),s})();function Ge(){return new bc([new Dn])}let bc=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Ge()),deps:[[s,new Mi,new ks]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ee(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:Ge}),s})();const VS=o0(null,"core",[]);let Nh=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(ke(Ro))},s.\u0275mod=Bo({type:s}),s.\u0275inj=gn({}),s})();function yE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function jS(s,o){const u=qt(s),d=o.elementInjector||_p();return new Io(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(vt,Ee,k)=>{k.d(Ee,{Z:()=>rt});var l=k(2090),B=k(4859),x=k(9681),ie=k(1877);class ye{constructor(ee,Ie){this._delegate=ee,this.firebase=Ie,(0,x._addComponent)(ee,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ee,Ie=x._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(ee);return!Ce.isInitialized()&&"EXPLICIT"===(null===(me=Ce.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:Ie})}_removeServiceInstance(ee,Ie=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(Ie)}_addComponent(ee){(0,x._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,x._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function Oe(){const it=function fe(it){const ee={},Ie={__esModule:!0,initializeApp:function Te(K,Q={}){const de=x.initializeApp(K,Q);if((0,l.r3)(ee,de.name))return ee[de.name];const $e=new it(de,Ie);return ee[de.name]=$e,$e},app:Ce,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const Q=K.name,de=Q.replace("-compat","");if(x._registerComponent(K)&&"PUBLIC"===K.type){const $e=(Ae=Ce())=>{if("function"!=typeof Ae[de])throw Fe.create("invalid-app-argument",{appName:Q});return Ae[de]()};void 0!==K.serviceProps&&(0,l.ZB)($e,K.serviceProps),Ie[de]=$e,it.prototype[de]=function(...Ae){return this._getService.bind(this,Q).apply(this,K.multipleInstances?Ae:[])}}return"PUBLIC"===K.type?Ie[de]:null},removeApp:function me(K){delete ee[K]},useAsService:function Re(K,Q){return"serverAuth"===Q?null:Q},modularAPIs:x}};function Ce(K){if(!(0,l.r3)(ee,K=K||x._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:K});return ee[K]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function be(){return Object.keys(ee).map(K=>ee[K])}}),Ce.App=it,Ie}(ye);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function ee(Ie){(0,l.ZB)(it,Ie)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),it}(),$=new ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=j;!function Se(it){(0,x.registerVersion)("@firebase/app-compat","0.2.3",it)}()},9681:(vt,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>pn,_addOrOverwriteComponent:()=>wt,_apps:()=>Ke,_clearComponents:()=>gn,_components:()=>Ye,_getProvider:()=>tt,_registerComponent:()=>_t,_removeServiceInstance:()=>Jt,deleteApp:()=>ls,getApp:()=>ei,getApps:()=>Ai,initializeApp:()=>Si,onLog:()=>at,registerVersion:()=>Nr,setLogLevel:()=>Or});var l=k(5861),B=k(4859),x=k(1877),ie=k(2090),ye=k(8766);class ae{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function Fe(ke){return"VERSION"===ke.getComponent()?.type}(Qe)){const bt=Qe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Qe=>Qe).join(" ")}}const fe="@firebase/app",j=new x.Yd("@firebase/app"),Me="[DEFAULT]",xe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,Ye=new Map;function pn(ke,he){try{ke.container.addComponent(he)}catch(Qe){j.debug(`Component ${he.name} failed to register with FirebaseApp ${ke.name}`,Qe)}}function wt(ke,he){ke.container.addOrOverwriteComponent(he)}function _t(ke){const he=ke.name;if(Ye.has(he))return j.debug(`There were multiple attempts to register component ${he}.`),!1;Ye.set(he,ke);for(const Qe of Ke.values())pn(Qe,ke);return!0}function tt(ke,he){const Qe=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),ke.container.getProvider(he)}function Jt(ke,he,Qe=Me){tt(ke,he).clearInstance(Qe)}function gn(){Ye.clear()}const Xt=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(he,Qe,bt){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const Br="9.17.1";function Si(ke,he={}){let Qe=ke;"object"!=typeof he&&(he={name:he});const bt=Object.assign({name:Me,automaticDataCollectionEnabled:!1},he),St=bt.name;if("string"!=typeof St||!St)throw Xt.create("bad-app-name",{appName:String(St)});if(Qe||(Qe=(0,ie.aH)()),!Qe)throw Xt.create("no-options");const jt=Ke.get(St);if(jt){if((0,ie.vZ)(Qe,jt.options)&&(0,ie.vZ)(bt,jt.config))return jt;throw Xt.create("duplicate-app",{appName:St})}const U=new B.H0(St);for(const H of Ye.values())U.addComponent(H);const V=new ir(Qe,bt,U);return Ke.set(St,V),V}function ei(ke=Me){const he=Ke.get(ke);if(!he&&ke===Me)return Si();if(!he)throw Xt.create("no-app",{appName:ke});return he}function Ai(){return Array.from(Ke.values())}function ls(ke){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(ke){const he=ke.name;Ke.has(he)&&(Ke.delete(he),yield Promise.all(ke.container.getProviders().map(Qe=>Qe.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function Nr(ke,he,Qe){var bt;let St=null!==(bt=xe[ke])&&void 0!==bt?bt:ke;Qe&&(St+=`-${Qe}`);const jt=St.match(/\s|\//),U=he.match(/\s|\//);if(jt||U){const V=[`Unable to register library "${St}" with version "${he}":`];return jt&&V.push(`library name "${St}" contains illegal characters (whitespace or "/")`),jt&&U&&V.push("and"),U&&V.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void j.warn(V.join(" "))}_t(new B.wA(`${St}-version`,()=>({library:St,version:he}),"VERSION"))}function at(ke,he){if(null!==ke&&"function"!=typeof ke)throw Xt.create("invalid-log-argument");(0,x.Am)(ke,he)}function Or(ke){(0,x.Ub)(ke)}const or="firebase-heartbeat-store";let _i=null;function Ct(){return _i||(_i=(0,ye.X3)("firebase-heartbeat-database",1,{upgrade:(ke,he)=>{0===he&&ke.createObjectStore(or)}}).catch(ke=>{throw Xt.create("idb-open",{originalErrorMessage:ke.message})})),_i}function It(){return(It=(0,l.Z)(function*(ke){try{return(yield Ct()).transaction(or).objectStore(or).get(Rn(ke))}catch(he){if(he instanceof ie.ZR)j.warn(he.message);else{const Qe=Xt.create("idb-get",{originalErrorMessage:he?.message});j.warn(Qe.message)}}})).apply(this,arguments)}function ln(ke,he){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(ke,he){try{const bt=(yield Ct()).transaction(or,"readwrite");return yield bt.objectStore(or).put(he,Rn(ke)),bt.done}catch(Qe){if(Qe instanceof ie.ZR)j.warn(Qe.message);else{const bt=Xt.create("idb-set",{originalErrorMessage:Qe?.message});j.warn(bt.message)}}})).apply(this,arguments)}function Rn(ke){return`${ke.name}!${ke.options.appId}`}class Ni{constructor(he){this.container=he,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new Ut(Qe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var he=this;return(0,l.Z)(function*(){const bt=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Lt();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==St&&!he._heartbeatsCache.heartbeats.some(jt=>jt.date===St))return he._heartbeatsCache.heartbeats.push({date:St,agent:bt}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(jt=>{const U=new Date(jt.date).valueOf();return Date.now()-U<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,l.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const Qe=Lt(),{heartbeatsToSend:bt,unsentEntries:St}=function cs(ke,he=1024){const Qe=[];let bt=ke.slice();for(const St of ke){const jt=Qe.find(U=>U.agent===St.agent);if(jt){if(jt.dates.push(St.date),ti(Qe)>he){jt.dates.pop();break}}else if(Qe.push({agent:St.agent,dates:[St.date]}),ti(Qe)>he){Qe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:bt}}(he._heartbeatsCache.heartbeats),jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:bt}));return he._heartbeatsCache.lastSentHeartbeatDate=Qe,St.length>0?(he._heartbeatsCache.heartbeats=St,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),jt})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,l.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function gt(ke){return It.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var Qe=this;return(0,l.Z)(function*(){var bt;if(yield Qe._canUseIndexedDBPromise){const jt=yield Qe.read();return ln(Qe.app,{lastSentHeartbeatDate:null!==(bt=he.lastSentHeartbeatDate)&&void 0!==bt?bt:jt.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Qe=this;return(0,l.Z)(function*(){var bt;if(yield Qe._canUseIndexedDBPromise){const jt=yield Qe.read();return ln(Qe.app,{lastSentHeartbeatDate:null!==(bt=he.lastSentHeartbeatDate)&&void 0!==bt?bt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...he.heartbeats]})}})()}}function ti(ke){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Zn(ke){_t(new B.wA("platform-logger",he=>new ae(he),"PRIVATE")),_t(new B.wA("heartbeat",he=>new Ni(he),"PRIVATE")),Nr(fe,"0.9.3",ke),Nr(fe,"0.9.3","esm2017"),Nr("fire-js","")}("")},4859:(vt,Ee,k)=>{k.d(Ee,{H0:()=>fe,wA:()=>x});var l=k(5861),B=k(2090);class x{constructor(j,$,W){this.name=j,this.instanceFactory=$,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class ye{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const W=new B.BH;if(this.instancesDeferred.set($,W),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&W.resolve(Ve)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const W=this.normalizeInstanceIdentifier(j?.identifier),Ve=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Fe(Oe){return"EAGER"===Oe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[$,W]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});W.resolve(Se)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...$.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,W=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:W,options:$});for(const[Se,rt]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(Se)&&rt.resolve(Ve);return Ve}onInit(j,$){var W;const Ve=this.normalizeInstanceIdentifier($),Se=null!==(W=this.onInitCallbacks.get(Ve))&&void 0!==W?W:new Set;Se.add(j),this.onInitCallbacks.set(Ve,Se);const rt=this.instances.get(Ve);return rt&&j(rt,Ve),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,$){const W=this.onInitCallbacks.get($);if(W)for(const Ve of W)try{Ve(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let W=this.instances.get(j);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=j,Oe===ie?void 0:Oe),options:$}),this.instances.set(j,W),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(W,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,W)}catch{}var Oe;return W||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ye(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ee,k)=>{k.d(Ee,{Am:()=>Oe,Ub:()=>fe,Yd:()=>Fe,in:()=>B});const l=[];var B=(()=>{return(j=B||(B={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",B;var j})();const x={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ie=B.INFO,ye={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ae=(j,$,...W)=>{if($<j.logLevel)return;const Ve=(new Date).toISOString(),Se=ye[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Ve}]  ${j.name}:`,...W)};class Fe{constructor($){this.name=$,this._logLevel=ie,this._logHandler=ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function fe(j){l.forEach($=>{$.setLogLevel(j)})}function Oe(j,$){for(const W of l){let Ve=null;$&&$.level&&(Ve=x[$.level]),W.userLogHandler=null===j?null:(Se,rt,...it)=>{const ee=it.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");rt>=(Ve??Se.logLevel)&&j({level:B[rt].toLowerCase(),message:ee,args:it,type:Se.name})}}}},9260:(vt,Ee,k)=>{k.d(Ee,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(vt,Ee,k)=>{k.r(Ee);var l=k(5861),B=k(3942),x=k(2722),ie=k(2090),Fe=(k(9681),k(1877),k(4859));function fe(){return window}function $(){return($=(0,l.Z)(function*(F,N,P){var X;const{BuildInfo:De}=fe();(0,x.ap)(N.sessionId,"AuthEvent did not contain a session ID");const ct=yield Ie(N.sessionId),je={};return(0,x.aq)()?je.ibi=De.packageName:(0,x.ar)()?je.apn=De.packageName:(0,x.as)(F,"operation-not-supported-in-this-environment"),De.displayName&&(je.appDisplayName=De.displayName),je.sessionId=ct,(0,x.at)(F,P,N.type,void 0,null!==(X=N.eventId)&&void 0!==X?X:void 0,je)})).apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(F){const{BuildInfo:N}=fe(),P={};(0,x.aq)()?P.iosBundleId=N.packageName:(0,x.ar)()?P.androidPackageName=N.packageName:(0,x.as)(F,"operation-not-supported-in-this-environment"),yield(0,x.au)(F,P)})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(F,N,P){const{cordova:X}=fe();let De=()=>{};try{yield new Promise((ct,je)=>{let At=null;function mt(){var Nt;ct();const yr=null===(Nt=X.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof yr&&yr(),"function"==typeof P?.close&&P.close()}function cn(){At||(At=window.setTimeout(()=>{je((0,x.aw)(F,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===document?.visibilityState&&cn()}N.addPassiveListener(mt),document.addEventListener("resume",cn,!1),(0,x.ar)()&&document.addEventListener("visibilitychange",Yn,!1),De=()=>{N.removePassiveListener(mt),document.removeEventListener("resume",cn,!1),document.removeEventListener("visibilitychange",Yn,!1),At&&window.clearTimeout(At)}})}finally{De()}})).apply(this,arguments)}function Ie(F){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(F){const N=Ce(F),P=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(P)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ce(F){if((0,x.ap)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const N=new ArrayBuffer(F.length),P=new Uint8Array(N);for(let X=0;X<F.length;X++)P[X]=F.charCodeAt(X);return P}class be extends x.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(N)),super.onEvent(N)}initialized(){var N=this;return(0,l.Z)(function*(){yield N.initPromise})()}}function K(F){return Q.apply(this,arguments)}function Q(){return(Q=(0,l.Z)(function*(F){const N=yield Ae()._get(Tt(F));return N&&(yield Ae()._remove(Tt(F))),N})).apply(this,arguments)}function $e(){const F=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<20;P++){const X=Math.floor(Math.random()*N.length);F.push(N.charAt(X))}return F.join("")}function Ae(){return(0,x.az)(x.b)}function Tt(F){return(0,x.aA)("authEvent",F.config.apiKey,F.name)}function oe(F){if(!F?.includes("?"))return{};const[N,...P]=F.split("?");return(0,ie.zd)(P.join("?"))}const Me=class we{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(N){var P=this;return(0,l.Z)(function*(){const X=N._key();let De=P.eventManagers.get(X);return De||(De=new be(N),P.eventManagers.set(X,De),P.attachCallbackListeners(N,De)),De})()}_openPopup(N){(0,x.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,P,X,De){var ct=this;return(0,l.Z)(function*(){!function ee(F){var N,P,X,De,ct,je,At,mt,cn,Yn;const Nt=fe();(0,x.ax)("function"==typeof(null===(N=Nt?.universalLinks)||void 0===N?void 0:N.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(typeof(null===(P=Nt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(ct=null===(De=null===(X=Nt?.cordova)||void 0===X?void 0:X.plugins)||void 0===De?void 0:De.browsertab)||void 0===ct?void 0:ct.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(mt=null===(At=null===(je=Nt?.cordova)||void 0===je?void 0:je.plugins)||void 0===At?void 0:At.browsertab)||void 0===mt?void 0:mt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(Yn=null===(cn=Nt?.cordova)||void 0===cn?void 0:cn.InAppBrowser)||void 0===Yn?void 0:Yn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const je=yield ct._initialize(N);yield je.initialized(),je.resetRedirect(),(0,x.aD)(),yield ct._originValidation(N);const At=function ve(F,N,P=null){return{type:N,eventId:P,urlResponse:null,sessionId:$e(),postBody:null,tenantId:F.tenantId,error:(0,x.aw)(F,"no-auth-event")}}(N,X,De);yield function Re(F,N){return Ae()._set(Tt(F),N)}(N,At);const mt=yield function j(F,N,P){return $.apply(this,arguments)}(N,At,P),cn=yield function Se(F){const{cordova:N}=fe();return new Promise(P=>{N.plugins.browsertab.isAvailable(X=>{let De=null;X?N.plugins.browsertab.openUrl(F):De=N.InAppBrowser.open(F,(0,x.av)()?"_blank":"_system","location=yes"),P(De)})})}(mt);return function rt(F,N,P){return it.apply(this,arguments)}(N,je,cn)})()}_isIframeWebStorageSupported(N,P){throw new Error("Method not implemented.")}_originValidation(N){const P=N._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function W(F){return Ve.apply(this,arguments)}(N)),this.originValidationPromises[P]}attachCallbackListeners(N,P){const{universalLinks:X,handleOpenURL:De,BuildInfo:ct}=fe(),je=setTimeout((0,l.Z)(function*(){yield K(N),P.onEvent(xe())}),500),At=function(){var Yn=(0,l.Z)(function*(Nt){clearTimeout(je);const yr=yield K(N);let $u=null;yr&&Nt?.url&&($u=function de(F,N){var P,X;const De=function te(F){const N=oe(F),P=N.link?decodeURIComponent(N.link):void 0,X=oe(P).link,De=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return oe(De).link||De||X||P||F}(N);if(De.includes("/__/auth/callback")){const ct=oe(De),je=ct.firebaseError?function et(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,At=null===(X=null===(P=je?.code)||void 0===P?void 0:P.split("auth/"))||void 0===X?void 0:X[1],mt=At?(0,x.aw)(At):null;return mt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:De,postBody:null}}return null}(yr,Nt.url)),P.onEvent($u||xe())});return function(yr){return Yn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,At);const mt=De,cn=`${ct.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Yn=(0,l.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(cn)&&At({url:Nt}),"function"==typeof mt)try{mt(Nt)}catch(yr){console.error(yr)}});return function(Nt){return Yn.apply(this,arguments)}}()}};function xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function _t(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Jt(F=(0,ie.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Br(){try{const F=self.localStorage,N=x.aI();if(F)return F.setItem(N,"1"),F.removeItem(N),!function ir(F=(0,ie.z$)()){return function Vn(){return(0,ie.w1)()&&11===document?.documentMode}()||function Xt(F=(0,ie.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ie.hl)()}catch{return Si()&&(0,ie.hl)()}return!1}function Si(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ei(){return(function tt(){return"http:"===_t()||"https:"===_t()}()||(0,ie.ru)()||Jt())&&!function gn(){return(0,ie.b$)()||(0,ie.UG)()}()&&Br()&&!Si()}function Ai(){return Jt()&&typeof document<"u"}function mn(){return(mn=(0,l.Z)(function*(){return!!Ai()&&new Promise(F=>{const N=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),F(!0)})})})).apply(this,arguments)}const at={LOCAL:"local",NONE:"none",SESSION:"session"},Or=x.ax,mi="persistence";function or(F){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(F){yield F._initializationPromise;const N=gt(),P=x.aA(mi,F.config.apiKey,F.name);N&&N.setItem(P,F._getPersistence())})).apply(this,arguments)}function gt(){var F;try{return(null===(F=function Nr(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const It=x.ax;class ln{constructor(){this.browserResolver=x.az(x.k),this.cordovaResolver=x.az(Me),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(N){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,P,X,De){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(N,P,X,De)})()}_openRedirect(N,P,X,De){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(N,P,X,De)})()}_isIframeWebStorageSupported(N,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,P)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Ai()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return It(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,l.Z)(function*(){if(N.underlyingResolver)return;const P=yield function ls(){return mn.apply(this,arguments)}();N.underlyingResolver=P?N.cordovaResolver:N.browserResolver})()}}function qn(F){return F.unwrap()}function yi(F){return Ni(F)}function Ni(F){const{_tokenResponse:N}=F instanceof ie.ZR?F.customData:F;if(!N)return null;if(!(F instanceof ie.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return x.P.credentialFromResult(F);const P=N.providerId;if(!P||P===x.o.PASSWORD)return null;let X;switch(P){case x.o.GOOGLE:X=x.Q;break;case x.o.FACEBOOK:X=x.N;break;case x.o.GITHUB:X=x.T;break;case x.o.TWITTER:X=x.W;break;default:const{oauthIdToken:De,oauthAccessToken:ct,oauthTokenSecret:je,pendingToken:At,nonce:mt}=N;return ct||je||De||At?At?P.startsWith("saml.")?x.aL._create(P,At):x.J._fromParams({providerId:P,signInMethod:P,pendingToken:At,idToken:De,accessToken:ct}):new x.U(P).credential({idToken:De,accessToken:ct,rawNonce:mt}):null}return F instanceof ie.ZR?X.credentialFromError(F):X.credentialFromResult(F)}function Lt(F,N){return N.catch(P=>{throw P instanceof ie.ZR&&function ar(F,N){var P;const X=null===(P=N.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new ti(F,x.an(F,N));else if(X){const De=Ni(N),ct=N;De&&(ct.credential=De,ct.tenantId=X.tenantId||void 0,ct.email=X.email||void 0,ct.phoneNumber=X.phoneNumber||void 0)}}(F,P),P}).then(P=>{const De=P.user;return{operationType:P.operationType,credential:yi(P),additionalUserInfo:x.al(P),user:Zn.getOrCreate(De)}})}function cs(F,N){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(F,N){const P=yield N;return{verificationId:P.verificationId,confirm:X=>Lt(F,P.confirm(X))}})).apply(this,arguments)}class ti{constructor(N,P){this.resolver=P,this.auth=function Rn(F){return F.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Lt(qn(this.auth),this.resolver.resolveSignIn(N))}}class Zn{constructor(N){this._delegate=N,this.multiFactor=x.ao(N)}static getOrCreate(N){return Zn.USER_MAP.has(N)||Zn.USER_MAP.set(N,new Zn(N)),Zn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var P=this;return(0,l.Z)(function*(){return Lt(P.auth,x.Z(P._delegate,N))})()}linkWithPhoneNumber(N,P){var X=this;return(0,l.Z)(function*(){return cs(X.auth,x.l(X._delegate,N,P))})()}linkWithPopup(N){var P=this;return(0,l.Z)(function*(){return Lt(P.auth,x.d(P._delegate,N,ln))})()}linkWithRedirect(N){var P=this;return(0,l.Z)(function*(){return yield or(x.aE(P.auth)),x.g(P._delegate,N,ln)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var P=this;return(0,l.Z)(function*(){return Lt(P.auth,x._(P._delegate,N))})()}reauthenticateWithPhoneNumber(N,P){return cs(this.auth,x.r(this._delegate,N,P))}reauthenticateWithPopup(N){return Lt(this.auth,x.e(this._delegate,N,ln))}reauthenticateWithRedirect(N){var P=this;return(0,l.Z)(function*(){return yield or(x.aE(P.auth)),x.h(P._delegate,N,ln)})()}sendEmailVerification(N){return x.ab(this._delegate,N)}unlink(N){var P=this;return(0,l.Z)(function*(){return yield x.ak(P._delegate,N),P})()}updateEmail(N){return x.ag(this._delegate,N)}updatePassword(N){return x.ah(this._delegate,N)}updatePhoneNumber(N){return x.u(this._delegate,N)}updateProfile(N){return x.af(this._delegate,N)}verifyBeforeUpdateEmail(N,P){return x.ac(this._delegate,N,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zn.USER_MAP=new WeakMap;const ke=x.ax;let he=(()=>{class F{constructor(P,X){if(this.app=P,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=P.options;ke(De,"invalid-api-key",{appName:P.name}),ke(De,"invalid-api-key",{appName:P.name});const ct=typeof window<"u"?ln:void 0;this._delegate=X.initialize({options:{persistence:bt(De,P.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,X){x.G(this._delegate,P,X)}applyActionCode(P){return x.a2(this._delegate,P)}checkActionCode(P){return x.a3(this._delegate,P)}confirmPasswordReset(P,X){return x.a1(this._delegate,P,X)}createUserWithEmailAndPassword(P,X){var De=this;return(0,l.Z)(function*(){return Lt(De._delegate,x.a5(De._delegate,P,X))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return x.aa(this._delegate,P)}isSignInWithEmailLink(P){return x.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,l.Z)(function*(){ke(ei(),P._delegate,"operation-not-supported-in-this-environment");const X=yield x.j(P._delegate,ln);return X?Lt(P._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Ke(F,N){(0,x.aE)(F)._logFramework(N)}(this._delegate,P)}onAuthStateChanged(P,X,De){const{next:ct,error:je,complete:At}=Qe(P,X,De);return this._delegate.onAuthStateChanged(ct,je,At)}onIdTokenChanged(P,X,De){const{next:ct,error:je,complete:At}=Qe(P,X,De);return this._delegate.onIdTokenChanged(ct,je,At)}sendSignInLinkToEmail(P,X){return x.a7(this._delegate,P,X)}sendPasswordResetEmail(P,X){return x.a0(this._delegate,P,X||void 0)}setPersistence(P){var X=this;return(0,l.Z)(function*(){let De;switch(function sr(F,N){Or(Object.values(at).includes(N),F,"invalid-persistence-type"),(0,ie.b$)()?Or(N!==at.SESSION,F,"unsupported-persistence-type"):(0,ie.UG)()?Or(N===at.NONE,F,"unsupported-persistence-type"):Si()?Or(N===at.NONE||N===at.LOCAL&&(0,ie.hl)(),F,"unsupported-persistence-type"):Or(N===at.NONE||Br(),F,"unsupported-persistence-type")}(X._delegate,P),P){case at.SESSION:De=x.a;break;case at.LOCAL:De=(yield x.az(x.i)._isAvailable())?x.i:x.b;break;case at.NONE:De=x.L;break;default:return x.as("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return Lt(this._delegate,x.X(this._delegate))}signInWithCredential(P){return Lt(this._delegate,x.Y(this._delegate,P))}signInWithCustomToken(P){return Lt(this._delegate,x.$(this._delegate,P))}signInWithEmailAndPassword(P,X){return Lt(this._delegate,x.a6(this._delegate,P,X))}signInWithEmailLink(P,X){return Lt(this._delegate,x.a9(this._delegate,P,X))}signInWithPhoneNumber(P,X){return cs(this._delegate,x.s(this._delegate,P,X))}signInWithPopup(P){var X=this;return(0,l.Z)(function*(){return ke(ei(),X._delegate,"operation-not-supported-in-this-environment"),Lt(X._delegate,x.c(X._delegate,P,ln))})()}signInWithRedirect(P){var X=this;return(0,l.Z)(function*(){return ke(ei(),X._delegate,"operation-not-supported-in-this-environment"),yield or(X._delegate),x.f(X._delegate,P,ln)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return x.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=at,F})();function Qe(F,N,P){let X=F;"function"!=typeof F&&({next:X,error:N,complete:P}=F);const De=X;return{next:je=>De(je&&Zn.getOrCreate(je)),error:N,complete:P}}function bt(F,N){const P=function Ct(F,N){const P=gt();if(!P)return[];const X=x.aA(mi,F,N);switch(P.getItem(X)){case at.NONE:return[x.L];case at.LOCAL:return[x.i,x.a];case at.SESSION:return[x.a];default:return[]}}(F,N);if(typeof self<"u"&&!P.includes(x.i)&&P.push(x.i),typeof window<"u")for(const X of[x.b,x.a])P.includes(X)||P.push(X);return P.includes(x.L)||P.push(x.L),P}class St{constructor(){this.providerId="phone",this._delegate=new x.P(qn(B.Z.auth()))}static credential(N,P){return x.P.credential(N,P)}verifyPhoneNumber(N,P){return this._delegate.verifyPhoneNumber(N,P)}unwrap(){return this._delegate}}St.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,St.PROVIDER_ID=x.P.PROVIDER_ID;const jt=x.ax;class U{constructor(N,P,X=B.Z.app()){var De;jt(null===(De=X.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new x.R(N,P,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(F){F.INTERNAL.registerComponent(new Fe.wA("auth-compat",N=>{const P=N.getProvider("app-compat").getImmediate(),X=N.getProvider("auth");return new he(P,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:St,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:U,TwitterAuthProvider:x.W,Auth:he,AuthCredential:x.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.3.3")}(B.Z)},8766:(vt,Ee,k)=>{k.d(Ee,{Lj:()=>Te,X3:()=>Ce});var l=k(5861);let x,ie;const Fe=new WeakMap,fe=new WeakMap,Oe=new WeakMap,j=new WeakMap,$=new WeakMap;let Se={get(Q,de,$e){if(Q instanceof IDBTransaction){if("done"===de)return fe.get(Q);if("objectStoreNames"===de)return Q.objectStoreNames||Oe.get(Q);if("store"===de)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Ie(Q[de])},set:(Q,de,$e)=>(Q[de]=$e,!0),has:(Q,de)=>Q instanceof IDBTransaction&&("done"===de||"store"===de)||de in Q};function ee(Q){return"function"==typeof Q?function it(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...de){return Q.apply(me(this),de),Ie(Fe.get(this))}:function(...de){return Ie(Q.apply(me(this),de))}:function(de,...$e){const Ae=Q.call(me(this),de,...$e);return Oe.set(Ae,de.sort?de.sort():[de]),Ie(Ae)}}(Q):(Q instanceof IDBTransaction&&function Ve(Q){if(fe.has(Q))return;const de=new Promise(($e,Ae)=>{const Tt=()=>{Q.removeEventListener("complete",et),Q.removeEventListener("error",te),Q.removeEventListener("abort",te)},et=()=>{$e(),Tt()},te=()=>{Ae(Q.error||new DOMException("AbortError","AbortError")),Tt()};Q.addEventListener("complete",et),Q.addEventListener("error",te),Q.addEventListener("abort",te)});fe.set(Q,de)}(Q),((Q,de)=>de.some($e=>Q instanceof $e))(Q,function ye(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Se):Q)}function Ie(Q){if(Q instanceof IDBRequest)return function W(Q){const de=new Promise(($e,Ae)=>{const Tt=()=>{Q.removeEventListener("success",et),Q.removeEventListener("error",te)},et=()=>{$e(Ie(Q.result)),Tt()},te=()=>{Ae(Q.error),Tt()};Q.addEventListener("success",et),Q.addEventListener("error",te)});return de.then($e=>{$e instanceof IDBCursor&&Fe.set($e,Q)}).catch(()=>{}),$.set(de,Q),de}(Q);if(j.has(Q))return j.get(Q);const de=ee(Q);return de!==Q&&(j.set(Q,de),$.set(de,Q)),de}const me=Q=>$.get(Q);function Ce(Q,de,{blocked:$e,upgrade:Ae,blocking:Tt,terminated:et}={}){const te=indexedDB.open(Q,de),oe=Ie(te);return Ae&&te.addEventListener("upgradeneeded",ce=>{Ae(Ie(te.result),ce.oldVersion,ce.newVersion,Ie(te.transaction))}),$e&&te.addEventListener("blocked",()=>$e()),oe.then(ce=>{et&&ce.addEventListener("close",()=>et()),Tt&&ce.addEventListener("versionchange",()=>Tt())}).catch(()=>{}),oe}function Te(Q,{blocked:de}={}){const $e=indexedDB.deleteDatabase(Q);return de&&$e.addEventListener("blocked",()=>de()),Ie($e).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Re=new Map;function K(Q,de){if(!(Q instanceof IDBDatabase)||de in Q||"string"!=typeof de)return;if(Re.get(de))return Re.get(de);const $e=de.replace(/FromIndex$/,""),Ae=de!==$e,Tt=ve.includes($e);if(!($e in(Ae?IDBIndex:IDBObjectStore).prototype)||!Tt&&!be.includes($e))return;const et=function(){var te=(0,l.Z)(function*(oe,...ce){const we=this.transaction(oe,Tt?"readwrite":"readonly");let Me=we.store;return Ae&&(Me=Me.index(ce.shift())),(yield Promise.all([Me[$e](...ce),Tt&&we.done]))[0]});return function(ce){return te.apply(this,arguments)}}();return Re.set(de,et),et}!function rt(Q){Se=Q(Se)}(Q=>({...Q,get:(de,$e,Ae)=>K(de,$e)||Q.get(de,$e,Ae),has:(de,$e)=>!!K(de,$e)||Q.has(de,$e)}))},5861:(vt,Ee,k)=>{function l(x,ie,ye,ae,Fe,fe,Oe){try{var j=x[fe](Oe),$=j.value}catch(W){return void ye(W)}j.done?ie($):Promise.resolve($).then(ae,Fe)}function B(x){return function(){var ie=this,ye=arguments;return new Promise(function(ae,Fe){var fe=x.apply(ie,ye);function Oe($){l(fe,ae,Fe,Oe,j,"next",$)}function j($){l(fe,ae,Fe,Oe,j,"throw",$)}Oe(void 0)})}}k.d(Ee,{Z:()=>B})}},vt=>{vt(vt.s=6700)}]);