"use strict";(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[179],{2011:(vt,Ce,L)=>{L.d(Ce,{Dh:()=>Le,GT:()=>ve,cc:()=>Ue,on:()=>Re,pX:()=>oe,xv:()=>Te});var l=L(4650),V=L(9260);vt=L.hmd(vt);const F=["ngOnDestroy"],oe=(ne,Ne,Ie,$e={})=>new Proxy(ne,{get:(we,pe)=>Ie.runOutsideAngular(()=>{var De;if(ne[pe])return!(null===(De=$e?.spy)||void 0===De)&&De.get&&$e.spy.get(pe,ne[pe]),ne[pe];if(F.indexOf(pe)>-1)return()=>{};const Be=Ne.toPromise().then(ke=>{const X=ke&&ke[pe];return"function"==typeof X?X.bind(ke):X&&X.then?X.then(it=>Ie.run(()=>it)):Ie.run(()=>X)});return new Proxy(()=>{},{get:(ke,X)=>Be[X],apply:(ke,X,it)=>Be.then(bt=>{var qe;const Zt=bt&&bt(...it);return!(null===(qe=$e?.spy)||void 0===qe)&&qe.apply&&$e.spy.apply(pe,it,Zt),Zt})})})}),ve=(ne,Ne)=>{Ne.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach($e=>{Object.defineProperty(ne.prototype,$e,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,$e))})})};class le{constructor(Ne){return Ne}}const Le=new l.OlP("angularfire2.app.options"),Te=new l.OlP("angularfire2.app.name");function Re(ne,Ne,Ie){const we="object"==typeof Ie&&Ie||{};we.name=we.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const De=V.Z.apps.filter(Be=>Be&&Be.name===we.name)[0]||Ne.runOutsideAngular(()=>V.Z.initializeApp(ne,we));try{JSON.stringify(ne)!==JSON.stringify(De.options)&&G("error",`${De.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(De)}const G=(ne,...Ne)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ne](...Ne)};function Ue(ne,Ne,Ie,$e,we){const[,pe,De]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===ne)||[];if(pe)return function Ae(ne,Ne){try{return ne.toString()===Ne.toString()}catch{return ne===Ne}}(we,De)||(rt("error",`${Ne} was already initialized on the ${Ie} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:we,was:De})),pe;{const Be=$e();return globalThis.\u0275AngularfireInstanceCache.push([ne,Be,we]),Be}}const nt=!!vt.hot,rt=(ne,...Ne)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ne](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1389:(vt,Ce,L)=>{L.d(Ce,{$:()=>At,A:()=>$,D:()=>Ae,I:()=>Cn,J:()=>Fi,L:()=>hs,N:()=>Pr,P:()=>un,Q:()=>rp,R:()=>tc,U:()=>zw,V:()=>ip,W:()=>sp,X:()=>fs,Y:()=>Pu,Z:()=>ap,_:()=>lp,a:()=>Ui,a0:()=>Ww,a1:()=>cp,a2:()=>K_,a3:()=>J_,a4:()=>ps,a5:()=>fp,a6:()=>gp,a7:()=>Wr,a8:()=>pa,a9:()=>uo,aA:()=>X,aB:()=>rc,aC:()=>qn,aD:()=>bi,aE:()=>yn,aF:()=>lh,aG:()=>Rl,aH:()=>sn,aL:()=>Ro,aO:()=>Ao,aa:()=>mp,ab:()=>qw,ac:()=>Zw,ad:()=>_p,ae:()=>Q_,af:()=>X_,ai:()=>vp,aj:()=>Yw,ak:()=>qr,an:()=>Y_,ao:()=>Wd,aq:()=>Zd,ar:()=>Il,as:()=>bt,at:()=>yt,au:()=>he,av:()=>we,aw:()=>sc,ax:()=>po,ay:()=>Qt,az:()=>pe,b:()=>Sl,c:()=>ih,d:()=>Rp,e:()=>sh,f:()=>Sa,g:()=>Xi,h:()=>cy,i:()=>Xu,j:()=>Pp,k:()=>Vp,l:()=>rh,m:()=>$l,p:()=>Te,r:()=>s1,s:()=>Da,u:()=>ai});var l=L(5861),V=L(2090),F=L(6881),oe=L(655),ve=L(1877),le=L(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},nt=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ve.Yd("@firebase/auth");function $e(b,...p){Ne.logLevel<=ve.in.ERROR&&Ne.error(`Auth (${F.SDK_VERSION}): ${b}`,...p)}function we(b,...p){throw ke(b,...p)}function pe(b,...p){return ke(b,...p)}function De(b,p,_){const w=Object.assign(Object.assign({},nt()),{[p]:_});return new V.LL("auth","Firebase",w).create(p,{appName:b.name})}function Be(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&we(b,"argument-error"),De(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(b,...p){if("string"!=typeof b){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return rt.create(b,...p)}function X(b,p,..._){if(!b)throw ke(p,..._)}function it(b){const p="INTERNAL ASSERTION FAILED: "+b;throw $e(p),new Error(p)}function bt(b,p){b||it(p)}function qe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Zt(){return"http:"===dt()||"https:"===dt()}function dt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class me{constructor(p,_){this.shortDelay=p,this.longDelay=_,bt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function ce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(b,p){bt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Ve{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},at=new me(3e4,6e4);function Fe(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Nt(b,p,_,w){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(b,p,_,w,S={}){return Jt(b,S,(0,l.Z)(function*(){let M={},z={};w&&("GET"===p?z=w:M={body:JSON.stringify(w)});const te=(0,V.xO)(Object.assign({key:b.config.apiKey},z)).slice(1),Oe=yield b._getAdditionalHeaders();return Oe["Content-Type"]="application/json",b.languageCode&&(Oe["X-Firebase-Locale"]=b.languageCode),Ve.fetch()(Nn(b,b.config.apiHost,_,te),Object.assign({method:p,headers:Oe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Jt(b,p,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Pe),p);try{const S=new ri(b),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw tr(b,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const te=M.ok?z.errorMessage:z.error.message,[Oe,je]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw tr(b,"credential-already-in-use",z);if("EMAIL_EXISTS"===Oe)throw tr(b,"email-already-in-use",z);if("USER_DISABLED"===Oe)throw tr(b,"user-disabled",z);const lt=w[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw De(b,lt,je);we(b,lt)}}catch(S){if(S instanceof V.ZR)throw S;we(b,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Gt(b,p,_,w){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(b,p,_,w,S={}){const M=yield Nt(b,p,_,w,S);return"mfaPendingCredential"in M&&we(b,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Nn(b,p,_,w){const S=`${p}${_}?${w}`;return b.config.emulator?be(b.config,S):`${b.config.apiScheme}://${S}`}class ri{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(pe(this.auth,"network-request-failed")),at.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(b,p,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=pe(b,p,w);return S.customData._tokenResponse=_,S}function qi(){return(qi=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function cs(b,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function oo(b,p){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ii(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ds(){return(ds=(0,l.Z)(function*(b,p=!1){const _=(0,V.m9)(b),w=yield _.getIdToken(p),S=yr(w);X(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,z=M?.sign_in_provider;return{claims:S,token:w,authTime:ii(Dn(S.auth_time)),issuedAtTime:ii(Dn(S.iat)),expirationTime:ii(Dn(S.exp)),signInProvider:z||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Dn(b){return 1e3*Number(b)}function yr(b){const[p,_,w]=b.split(".");if(void 0===p||void 0===_||void 0===w)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(_);return S?JSON.parse(S):($e("Failed to decode base64 JWT payload"),null)}catch(S){return $e("Caught error parsing JWT payload as JSON",S?.toString()),null}}function pt(b,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof V.ZR&&xt(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function xt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class vr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class nr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(b){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(b){var p;const _=b.auth,w=yield b.getIdToken(),S=yield pt(b,oo(_,{idToken:w}));X(S?.users.length,_,"internal-error");const M=S.users[0];b._notifyReloadListener(M);const z=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?ks(M.providerUserInfo):[],te=Ht(b.providerData,z),lt=!!b.isAnonymous&&!(b.email&&M.passwordHash||te?.length),Ft={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:te,metadata:new nr(M.createdAt,M.lastLoginAt),isAnonymous:lt};Object.assign(b,Ft)})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(b){const p=(0,V.m9)(b);yield zn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ht(b,p){return[...b.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function ks(b){return b.map(p=>{var{providerId:_}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function yi(){return(yi=(0,l.Z)(function*(b,p){const _=yield Jt(b,{},(0,l.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:M}=b.config,z=Nn(b,S,"/v1/token",`key=${M}`),te=yield b._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(z,{method:"POST",headers:te,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(typeof p.idToken<"u","internal-error"),X(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function si(b){const p=yr(b);return X(p,"internal-error"),X(typeof p.exp<"u","internal-error"),X(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return X(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:z}=yield function zt(b,p){return yi.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(S,M,Number(z))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:S,expirationTime:M}=_,z=new Mn;return w&&(X("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),S&&(X("string"==typeof S,"internal-error",{appName:p}),z.accessToken=S),M&&(X("number"==typeof M,"internal-error",{appName:p}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mn,this.toJSON())}_performRefresh(){return it("not implemented")}}function Yt(b,p){X("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Wn{constructor(p){var{uid:_,auth:w,stsTokenManager:S}=p,M=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new nr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield pt(_,_.stsTokenManager.getToken(_.auth,p));return X(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function Pi(b){return ds.apply(this,arguments)}(this,p)}reload(){return function kr(b){return wr.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield zn(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield pt(p,function _i(b,p){return qi.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,S,M,z,te,Oe,je,lt;const Ft=null!==(w=_.displayName)&&void 0!==w?w:void 0,Zr=null!==(S=_.email)&&void 0!==S?S:void 0,zs=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,ac=null!==(z=_.photoURL)&&void 0!==z?z:void 0,Wl=null!==(te=_.tenantId)&&void 0!==te?te:void 0,vs=null!==(Oe=_._redirectEventId)&&void 0!==Oe?Oe:void 0,Uo=null!==(je=_.createdAt)&&void 0!==je?je:void 0,lc=null!==(lt=_.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:ql,emailVerified:uc,isAnonymous:Ws,providerData:cc,stsTokenManager:Zl}=_;X(ql&&Zl,p,"internal-error");const Yl=Mn.fromJSON(this.name,Zl);X("string"==typeof ql,p,"internal-error"),Yt(Ft,p.name),Yt(Zr,p.name),X("boolean"==typeof uc,p,"internal-error"),X("boolean"==typeof Ws,p,"internal-error"),Yt(zs,p.name),Yt(ac,p.name),Yt(Wl,p.name),Yt(vs,p.name),Yt(Uo,p.name),Yt(lc,p.name);const dc=new Wn({uid:ql,auth:p,email:Zr,emailVerified:uc,displayName:Ft,isAnonymous:Ws,photoURL:ac,phoneNumber:zs,tenantId:Wl,stsTokenManager:Yl,createdAt:Uo,lastLoginAt:lc});return cc&&Array.isArray(cc)&&(dc.providerData=cc.map(Kl=>Object.assign({},Kl))),vs&&(dc._redirectEventId=vs),dc}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const S=new Mn;S.updateFromServerResponse(_);const M=new Wn({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield zn(M),M})()}}const vi=new Map;function qn(b){bt(b instanceof Function,"Expected a class definition");let p=vi.get(b);return p?(bt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,vi.set(b,p),p)}const Pr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,l.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function bi(b,p,_){return`firebase:${b}:${p}:${_}`}class U{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:S,name:M}=this.auth;this.fullUserKey=bi(this.userKey,S.apiKey,M),this.fullPersistenceKey=bi("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Wn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new U(qn(Pr),p,w);const S=(yield Promise.all(_.map(function(){var je=(0,l.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return je.apply(this,arguments)}}()))).filter(je=>je);let M=S[0]||qn(Pr);const z=bi(w,p.config.apiKey,p.name);let te=null;for(const je of _)try{const lt=yield je._get(z);if(lt){const Ft=Wn._fromJSON(p,lt);je!==M&&(te=Ft),M=je;break}}catch{}const Oe=S.filter(je=>je._shouldAllowMigration);return M._shouldAllowMigration&&Oe.length?(M=Oe[0],te&&(yield M._set(z,te.toJSON())),yield Promise.all(_.map(function(){var je=(0,l.Z)(function*(lt){if(lt!==M)try{yield lt._remove(z)}catch{}});return function(lt){return je.apply(this,arguments)}}())),new U(M,p,w)):new U(M,p,w)})()}}function B(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Z(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(R(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ze(p))return"Blackberry";if(ze(p))return"Webos";if(k(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(he(p))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function R(b=(0,V.z$)()){return/firefox\//i.test(b)}function k(b=(0,V.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(b=(0,V.z$)()){return/crios\//i.test(b)}function Z(b=(0,V.z$)()){return/iemobile/i.test(b)}function he(b=(0,V.z$)()){return/android/i.test(b)}function Ze(b=(0,V.z$)()){return/blackberry/i.test(b)}function ze(b=(0,V.z$)()){return/webos/i.test(b)}function yt(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Qt(b=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Tt(b=(0,V.z$)()){return yt(b)||he(b)||ze(b)||Ze(b)||/windows phone/i.test(b)||Z(b)}function Co(b,p=[]){let _;switch(b){case"Browser":_=B((0,V.z$)());break;case"Worker":_=`${B((0,V.z$)())}-${b}`;break;default:_=b}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${w}`}function Q(){return(Q=(0,l.Z)(function*(b){return(yield Nt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Se(b,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(b,p){return Nt(b,"GET","/v2/recaptchaConfig",Fe(b,p))})).apply(this,arguments)}function It(b){return void 0!==b&&void 0!==b.getResponse}function Wt(b){return void 0!==b&&void 0!==b.enterprise}class ln{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function En(b){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=p,w.onerror=S=>{const M=pe("internal-error");M.customData=S,_(M)},w.type="text/javascript",w.charset="UTF-8",function Dr(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(w)})}function jt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Gr{constructor(p){this.type="recaptcha-enterprise",this.auth=sn(p)}verify(p="verify",_=!1){var w=this;return(0,l.Z)(function*(){function M(){return M=(0,l.Z)(function*(te){if(!_){if(null==te.tenantId&&null!=te._agentRecaptchaConfig)return te._agentRecaptchaConfig.siteKey;if(null!=te.tenantId&&void 0!==te._tenantRecaptchaConfigs[te.tenantId])return te._tenantRecaptchaConfigs[te.tenantId].siteKey}return new Promise(function(){var Oe=(0,l.Z)(function*(je,lt){Se(te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ft=>{if(void 0!==Ft.recaptchaKey){const Zr=new ln(Ft);return null==te.tenantId?te._agentRecaptchaConfig=Zr:te._tenantRecaptchaConfigs[te.tenantId]=Zr,je(Zr.siteKey)}lt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ft=>{lt(Ft)})});return function(je,lt){return Oe.apply(this,arguments)}}())}),M.apply(this,arguments)}function z(te,Oe,je){const lt=window.grecaptcha;Wt(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(te,{action:p}).then(Ft=>{Oe(Ft)}).catch(()=>{Oe("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((te,Oe)=>{(function S(te){return M.apply(this,arguments)})(w.auth).then(je=>{if(!_&&Wt(window.grecaptcha))z(je,te,Oe);else{if(typeof window>"u")return void Oe(new Error("RecaptchaVerifier is only supported in browser"));En("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{z(je,te,Oe)}).catch(lt=>{Oe(lt)})}}).catch(je=>{Oe(je)})})})()}}function ar(b,p,_){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(b,p,_,w=!1){const S=new Gr(b);let M;try{M=yield S.verify(_)}catch{M=yield S.verify(_,!0)}const z=Object.assign({},p);return Object.assign(z,w?{captchaResp:M}:{captchaResponse:M}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class kt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=M=>new Promise((z,te)=>{try{z(p(M))}catch(Oe){te(Oe)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const S of _.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const M of w)try{M()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class xn{constructor(p,_,w,S){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=qn(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,M;if(!w._deleted&&(w.persistenceManager=yield U.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let M=S,z=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const te=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Oe=M?._redirectEventId,je=yield _.tryRedirectSignIn(p);(!te||te===Oe)&&je?.user&&(M=je.user,z=!0)}if(!M)return _.directlySetCurrentUser(null);if(!M._redirectEventId){if(z)try{yield _.beforeStateQueue.runMiddleware(M)}catch(te){M=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(te))}return M?_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)}return X(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield zn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,V.m9)(p):null;return w&&X(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&X(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(qn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield Se(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new ln(_);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Gr(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&qn(p)||_._popupRedirectResolver;X(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[qn(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return X(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof _?p.addObserver(_,w,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Co(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const M=yield p._getAppCheckToken();return M&&(w["X-Firebase-AppCheck"]=M),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const w=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Ie(b,...p){Ne.logLevel<=ve.in.WARN&&Ne.warn(`Auth (${F.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function sn(b){return(0,V.m9)(b)}class Ps{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cn(b,p,_){const w=sn(b);X(w._canInitEmulator,w,"emulator-config-failed"),X(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,M=dl(p),{host:z,port:te}=function ur(b){const p=dl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const M=S[1];return{host:M,port:Ut(w.substr(M.length+1))}}{const[M,z]=w.split(":");return{host:M,port:Ut(z)}}}(p);w.config.emulator={url:`${M}//${z}${null===te?"":`:${te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:te,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function xu(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function dl(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Ut(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Fi{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return it("not implemented")}_getIdTokenResponse(p){return it("not implemented")}_linkToIdToken(p,_){return it("not implemented")}_getReauthenticationResolver(p){return it("not implemented")}}function hl(b,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:resetPassword",Fe(b,p))})).apply(this,arguments)}function Er(b,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function So(b,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:update",Fe(b,p))})).apply(this,arguments)}function lo(b,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithPassword",Fe(b,p))})).apply(this,arguments)}function gn(b,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:sendOobCode",Fe(b,p))})).apply(this,arguments)}function kd(b,p){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(b,p){return gn(b,p)})).apply(this,arguments)}function oa(b,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,p){return gn(b,p)})).apply(this,arguments)}function Fs(b,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(b,p){return gn(b,p)})).apply(this,arguments)}function Gw(b,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(b,p){return gn(b,p)})).apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithEmailLink",Fe(b,p))})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithEmailLink",Fe(b,p))})).apply(this,arguments)}class Ir extends Fi{constructor(p,_,w,S=null){super("password",w),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ir(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Ir(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var w;switch(_.signInMethod){case"password":const S={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const M=yield ar(p,S,"signInWithPassword");return lo(p,M)}return lo(p,S).catch(function(){var M=(0,l.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const te=yield ar(p,S,"signInWithPassword");return lo(p,te)}return Promise.reject(z)});return function(z){return M.apply(this,arguments)}}());case"emailLink":return function Yi(b,p){return fl.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:we(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Er(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function pl(b,p){return la.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:we(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ls(b,p){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithIdp",Fe(b,p))})).apply(this,arguments)}class hs extends Fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new hs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):we("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=_,M=(0,oe._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const z=new hs(w,S);return z.idToken=M.idToken||void 0,z.accessToken=M.accessToken||void 0,z.secret=M.secret,z.nonce=M.nonce,z.pendingToken=M.pendingToken||null,z}_getIdTokenResponse(p){return Ls(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,Ls(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Ls(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,V.xO)(_)}return p}}function Hw(b,p){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:sendVerificationCode",Fe(b,p))})).apply(this,arguments)}function Xf(){return(Xf=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Fe(b,p))})).apply(this,arguments)}function ep(){return(ep=(0,l.Z)(function*(b,p){const _=yield Gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Fe(b,p));if(_.temporaryProof)throw tr(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tp={USER_NOT_FOUND:"user-not-found"};function ku(){return(ku=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Fe(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),tp)})).apply(this,arguments)}class gl extends Fi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new gl({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new gl({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function G_(b,p){return Xf.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function H_(b,p){return ep.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function np(b,p){return ku.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:M}=p;return w||_||S||M?new gl({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:M}):null}}class ua{constructor(p){var _,w,S,M,z,te;const Oe=(0,V.zd)((0,V.pd)(p)),je=null!==(_=Oe.apiKey)&&void 0!==_?_:null,lt=null!==(w=Oe.oobCode)&&void 0!==w?w:null,Ft=function z_(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Oe.mode)&&void 0!==S?S:null);X(je&&lt&&Ft,"argument-error"),this.apiKey=je,this.operation=Ft,this.code=lt,this.continueUrl=null!==(M=Oe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Oe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(te=Oe.tenantId)&&void 0!==te?te:null}static parseLink(p){const _=function W_(b){const p=(0,V.zd)((0,V.pd)(b)).link,_=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(b)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||_||p||b}(p);try{return new ua(_)}catch{return null}}}let rp=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Ir._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=ua.parseLink(w);return X(S,"argument-error"),Ir._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Lr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ca extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class fs extends ca{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return X("providerId"in _&&"signInMethod"in _,"argument-error"),hs._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return fs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return fs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:M,nonce:z,providerId:te}=p;if(!w&&!S&&!_&&!M||!te)return null;try{return new fs(te)._credential({idToken:_,accessToken:w,nonce:z,pendingToken:M})}catch{return null}}}let zw=(()=>{class b extends ca{constructor(){super("facebook.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ip=(()=>{class b extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),sp=(()=>{class b extends ca{constructor(){super("github.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ao extends Fi{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Ls(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,Ls(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Ls(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:M}=_;return w&&S&&M&&w===S?new Ao(w,M):null}static _create(p,_){return new Ao(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pu extends Lr{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Pu.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Pu.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Ao.fromJSON(p);return X(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Ao._create(w,_)}catch{return null}}}let ap=(()=>{class b extends ca{constructor(){super("twitter.com")}static credential(_,w){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ml(b,p){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signUp",Fe(b,p))})).apply(this,arguments)}class Rn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,S=!1){return(0,l.Z)(function*(){const M=yield Wn._fromIdTokenResponse(p,w,S),z=Pd(w);return new Rn({user:M,providerId:z,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Pd(w);return new Rn({user:p,providerId:S,_tokenResponse:w,operationType:_})})()}}function Pd(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function lp(b){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(b){var p;const _=sn(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Rn({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ml(_,{returnSecureToken:!0}),S=yield Rn._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class da extends V.ZR{constructor(p,_,w,S){var M;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,da.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,S){return new da(p,_,w,S)}}function yl(b,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?da._fromErrorAndOperation(b,M,p,w):M})}function Cr(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Y_(b,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(b,p){const _=(0,V.m9)(b);yield Lu(!0,_,p);const{providerUserInfo:w}=yield cs(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=Cr(w||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function No(b,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(b,p,_=!1){const w=yield pt(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Rn._forOperation(b,"link",w)})).apply(this,arguments)}function Lu(b,p,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(b,p,_){yield zn(p);const S=!1===b?"provider-already-linked":"no-such-provider";X(Cr(p.providerData).has(_)===b,p.auth,S)})).apply(this,arguments)}function up(b,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(b,p,_=!1){const{auth:w}=b,S="reauthenticate";try{const M=yield pt(b,yl(w,S,p,b),_);X(M.idToken,w,"internal-error");const z=yr(M.idToken);X(z,w,"internal-error");const{sub:te}=z;return X(b.uid===te,w,"user-mismatch"),Rn._forOperation(b,S,M)}catch(M){throw"auth/user-not-found"===M?.code&&we(w,"user-mismatch"),M}})).apply(this,arguments)}function Fd(b,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(b,p,_=!1){const w="signIn",S=yield yl(b,w,p),M=yield Rn._fromIdTokenResponse(b,w,S);return _||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function At(b,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(b,p){return Fd(sn(b),p)})).apply(this,arguments)}function Ww(b,p){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(b,p){const _=(0,V.m9)(b);return yield Lu(!1,_,p.providerId),No(_,p)})).apply(this,arguments)}function cp(b,p){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(b,p){return up((0,V.m9)(b),p)})).apply(this,arguments)}function dp(b,p){return hp.apply(this,arguments)}function hp(){return(hp=(0,l.Z)(function*(b,p){return Gt(b,"POST","/v1/accounts:signInWithCustomToken",Fe(b,p))})).apply(this,arguments)}function K_(b,p){return de.apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(b,p){const _=sn(b),w=yield dp(_,{token:p,returnSecureToken:!0}),S=yield Rn._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Kt{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Vd._fromServerResponse(p,_):"totpInfo"in _?Ud._fromServerResponse(p,_):we(p,"internal-error")}}class Vd extends Kt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Vd(_)}}class Ud extends Kt{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Ud(_)}}function Bn(b,p,_){var w;X((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),X(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(X(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(X(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function J_(b,p,_){return fa.apply(this,arguments)}function fa(){return fa=(0,l.Z)(function*(b,p,_){var w;const S=sn(b),M={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield ar(S,M,"getOobCode",!0);_&&Bn(S,z,_),yield oa(S,z)}else _&&Bn(S,M,_),yield oa(S,M).catch(function(){var z=(0,l.Z)(function*(te){if("auth/missing-recaptcha-token"!==te.code)return Promise.reject(te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Oe=yield ar(S,M,"getOobCode",!0);_&&Bn(S,Oe,_),yield oa(S,Oe)}});return function(te){return z.apply(this,arguments)}}())}),fa.apply(this,arguments)}function ps(b,p,_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(b,p,_){yield hl((0,V.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function fp(b,p){return pp.apply(this,arguments)}function pp(){return(pp=(0,l.Z)(function*(b,p){yield So((0,V.m9)(b),{oobCode:p})})).apply(this,arguments)}function gp(b,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(b,p){const _=(0,V.m9)(b),w=yield hl(_,{oobCode:p}),S=w.requestType;switch(X(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(w.mfaInfo,_,"internal-error");default:X(w.email,_,"internal-error")}let M=null;return w.mfaInfo&&(M=Kt._fromServerResponse(sn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function Wr(b,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(b,p){const{data:_}=yield gp((0,V.m9)(b),p);return _.email})).apply(this,arguments)}function pa(b,p,_){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,l.Z)(function*(b,p,_){var w;const S=sn(b),M={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const je=yield ar(S,M,"signUpPassword");z=ml(S,je)}else z=ml(S,M).catch(function(){var je=(0,l.Z)(function*(lt){if("auth/missing-recaptcha-token"===lt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ft=yield ar(S,M,"signUpPassword");return ml(S,Ft)}return Promise.reject(lt)});return function(lt){return je.apply(this,arguments)}}());const te=yield z.catch(je=>Promise.reject(je)),Oe=yield Rn._fromIdTokenResponse(S,"signIn",te);return yield S._updateCurrentUser(Oe.user),Oe}),Oo.apply(this,arguments)}function uo(b,p,_){return At((0,V.m9)(b),rp.credential(p,_))}function mp(b,p,_){return bl.apply(this,arguments)}function bl(){return bl=(0,l.Z)(function*(b,p,_){var w;const S=sn(b),M={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(te,Oe){X(Oe.handleCodeInApp,S,"argument-error"),Oe&&Bn(S,te,Oe)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const te=yield ar(S,M,"getOobCode",!0);z(te,_),yield Fs(S,te)}else z(M,_),yield Fs(S,M).catch(function(){var te=(0,l.Z)(function*(Oe){if("auth/missing-recaptcha-token"!==Oe.code)return Promise.reject(Oe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield ar(S,M,"getOobCode",!0);z(je,_),yield Fs(S,je)}});return function(Oe){return te.apply(this,arguments)}}())}),bl.apply(this,arguments)}function qw(b,p){return"EMAIL_SIGNIN"===ua.parseLink(p)?.operation}function Zw(b,p,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b),S=rp.credentialWithLink(p,_||qe());return X(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),At(w,S)})).apply(this,arguments)}function $u(b,p){return $d.apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:createAuthUri",Fe(b,p))})).apply(this,arguments)}function _p(b,p){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.Z)(function*(b,p){const w={identifier:p,continueUri:Zt()?qe():"http://localhost"},{signinMethods:S}=yield $u((0,V.m9)(b),w);return S||[]})).apply(this,arguments)}function Q_(b,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(b,p){const _=(0,V.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Bn(_.auth,S,p);const{email:M}=yield kd(_.auth,S);M!==b.email&&(yield b.reload())})).apply(this,arguments)}function X_(b,p,_){return jd.apply(this,arguments)}function jd(){return(jd=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Bn(w.auth,M,_);const{email:z}=yield Gw(w.auth,M);z!==b.email&&(yield b.reload())})).apply(this,arguments)}function ey(b,p){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,l.Z)(function*(b,p){return Nt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vp(b,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,V.m9)(b),M={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},z=yield pt(w,ey(w.auth,M));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const te=w.providerData.find(({providerId:Oe})=>"password"===Oe);te&&(te.displayName=w.displayName,te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function Yw(b,p){return co((0,V.m9)(b),p,null)}function qr(b,p){return co((0,V.m9)(b),null,p)}function co(b,p,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(b,p,_){const{auth:w}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(M.email=p),_&&(M.password=_);const z=yield pt(b,Er(w,M));yield b._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Dl{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class ty extends Dl{constructor(p,_,w,S){super(p,_,w),this.username=S}}class Jw extends Dl{constructor(p,_){super(p,"facebook.com",_)}}class Qw extends ty{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Xw extends Dl{constructor(p,_){super(p,"google.com",_)}}class zd extends ty{constructor(p,_,w){super(p,"twitter.com",_,w)}}function Wd(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Kw(b){var p,_;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const z=null===(_=null===(p=yr(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new Dl(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Jw(M,S);case"github.com":return new Qw(M,S);case"google.com":return new Xw(M,S);case"twitter.com":return new zd(M,S,b.screenName||null);case"custom":case"anonymous":return new Dl(M,null);default:return new Dl(M,w,S)}}(_)}class Mo{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new Mo("enroll",p,_)}static _fromMfaPendingCredential(p){return new Mo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Mo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Mo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ma{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=sn(p),S=_.customData._serverResponse,M=(S.mfaInfo||[]).map(te=>Kt._fromServerResponse(w,te));X(S.mfaPendingCredential,w,"internal-error");const z=Mo._fromMfaPendingCredential(S.mfaPendingCredential);return new ma(z,M,function(){var te=(0,l.Z)(function*(Oe){const je=yield Oe._process(w,z);delete S.mfaInfo,delete S.mfaPendingCredential;const lt=Object.assign(Object.assign({},S),{idToken:je.idToken,refreshToken:je.refreshToken});switch(_.operationType){case"signIn":const Ft=yield Rn._fromIdTokenResponse(w,_.operationType,lt);return yield w._updateCurrentUser(Ft.user),Ft;case"reauthenticate":return X(_.user,w,"internal-error"),Rn._forOperation(_.user,_.operationType,lt);default:we(w,"internal-error")}});return function(Oe){return te.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function Zd(b,p){var _;const w=(0,V.m9)(b),S=p;return X(p.customData.operationType,w,"argument-error"),X(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),ma._fromError(w,S)}function iy(b,p){return Nt(b,"POST","/v2/accounts/mfaEnrollment:start",Fe(b,p))}class _a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Kt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new _a(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Mo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const S=p,M=yield w.getSession(),z=yield pt(w.user,S._process(w.user.auth,M,_));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield _.user.getIdToken();try{const M=yield pt(_.user,function xo(b,p){return Nt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Fe(b,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:z})=>z!==w),yield _.user._updateTokensIfNecessary(M),yield _.user.reload()}catch(M){throw M}})()}}const Tl=new WeakMap;function Il(b){const p=(0,V.m9)(b);return Tl.has(p)||Tl.set(p,_a._fromUser(p)),Tl.get(p)}const Wu="__sak";class Cl{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sl=(()=>{class b extends Cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kd(){const b=(0,V.z$)();return k(b)||yt(b)}()&&function Zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),M=this.localCache[w];S!==M&&_(w,M,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((te,Oe,je)=>{this.notifyListeners(te,je)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(S);if(_.newValue!==te)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const M=()=>{const te=this.storage.getItem(S);!w&&this.localCache[S]===te||this.notifyListeners(S,te)},z=this.storage.getItem(S);!function vn(){return(0,V.w1)()&&10===document.documentMode}()||z===_.newValue||_.newValue===_.oldValue?M():setTimeout(M,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,M=this;return(0,l.Z)(function*(){yield S().call(M,_,w),M.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const M=yield w().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),Ui=(()=>{class b extends Cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Al=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(M=>M.isListeningto(_));if(w)return w;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const S=_,{eventId:M,eventType:z,data:te}=S.data,Oe=w.handlersMap[z];if(!Oe?.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const je=Array.from(Oe).map(function(){var Ft=(0,l.Z)(function*(Zr){return Zr(S.origin,te)});return function(Zr){return Ft.apply(this,arguments)}}()),lt=yield function Ip(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(je);S.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:lt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ro(b="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return b+_}class Cp{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var S=this;return(0,l.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,te;return new Promise((Oe,je)=>{const lt=Ro("",20);M.port1.start();const Ft=setTimeout(()=>{je(new Error("unsupported_event"))},w);te={messageChannel:M,onMessage(Zr){const zs=Zr;if(zs.data.eventId===lt)switch(zs.data.status){case"ack":clearTimeout(Ft),z=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Oe(zs.data.response);break;default:clearTimeout(Ft),clearTimeout(z),je(new Error("invalid_response"))}}},S.handlers.add(te),M.port1.addEventListener("message",te.onMessage),S.target.postMessage({eventType:p,eventId:lt,data:_},[M.port2])}).finally(()=>{te&&S.removeMessageHandler(te)})})()}}function kn(){return window}function Jd(){return typeof kn().WorkerGlobalScope<"u"&&"function"==typeof kn().importScripts}function Yu(){return(Yu=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oy="firebaseLocalStorageDb",Vs="firebaseLocalStorage",Ap="fbase_key";class ya{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ol(b,p){return b.transaction([Vs],p?"readwrite":"readonly").objectStore(Vs)}function Qd(){const b=indexedDB.open(oy,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Vs,{keyPath:Ap})}catch(S){_(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Vs)?p(w):(w.close(),yield function ko(){const b=indexedDB.deleteDatabase(oy);return new ya(b).toPromise()}(),p(yield Qd()))}))})}function Ju(b,p,_){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(b,p,_){const w=Ol(b,!0).put({[Ap]:p,value:_});return new ya(w).toPromise()})).apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(b,p){const _=Ol(b,!1).get(p),w=yield new ya(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xd(b,p){const _=Ol(b,!0).delete(p);return new ya(_).toPromise()}const Xu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Qd()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const M=yield w._openDb();return yield _(M)}catch(M){if(S++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Jd()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Al._getInstance(function sy(){return Jd()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function Sp(){return Yu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cp(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);M&&null!==(w=M[0])&&void 0!==w&&w.fulfilled&&null!==(S=M[0])&&void 0!==S&&S.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ku(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Qd();return yield Ju(_,Wu,"1"),yield Xd(_,Wu),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(M=>Ju(M,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(M=>function Np(b,p){return Qu.apply(this,arguments)}(M,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>Xd(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(z=>{const te=Ol(z,!1).getAll();return new ya(te).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:z,value:te}of w)M.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(te)&&(_.notifyListeners(z,te),S.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!M.has(z)&&(_.notifyListeners(z,null),S.push(z));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function eh(b,p){return Nt(b,"POST","/v2/accounts/mfaSignIn:start",Fe(b,p))}const gs=1e12;class t1{constructor(p){this.auth=p,this.counter=gs,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new n1(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||gs;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||gs))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||gs))||void 0===w||w.execute(),""})()}}class n1{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;X(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Op(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const th=jt("rcb"),MC=new me(3e4,6e4);class ec{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=kn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return X(function r1(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&It(kn().grecaptcha)?Promise.resolve(kn().grecaptcha):new Promise((w,S)=>{const M=kn().setTimeout(()=>{S(pe(p,"network-request-failed"))},MC.get());kn()[th]=()=>{kn().clearTimeout(M),delete kn()[th];const te=kn().grecaptcha;if(!te||!It(te))return void S(pe(p,"internal-error"));const Oe=te.render;te.render=(je,lt)=>{const Ft=Oe(je,lt);return this.counter++,Ft},this.hostLanguage=_,w(te)},En(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:th,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=kn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class RC{load(p){return(0,l.Z)(function*(){return new t1(p)})()}clearedOneInstance(){}}const ir="recaptcha",Mp={theme:"light",type:"image"};class tc{constructor(p,_=Object.assign({},Mp),w){this.parameters=_,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(w),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;X(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new RC:new ec,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(M=>{const z=te=>{te&&(p.tokenChangeListeners.delete(z),M(te))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=kn()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){X(Zt()&&!Jd(),p.auth,"internal-error"),yield function i1(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ae(b){return Q.apply(this,arguments)}(p.auth);X(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oi{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=gl._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Da(b,p,_){return nh.apply(this,arguments)}function nh(){return(nh=(0,l.Z)(function*(b,p,_){const w=sn(b),S=yield Us(w,p,(0,V.m9)(_));return new oi(S,M=>At(w,M))})).apply(this,arguments)}function rh(b,p,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b);yield Lu(!1,w,"phone");const S=yield Us(w.auth,p,(0,V.m9)(_));return new oi(S,M=>Ww(w,M))})).apply(this,arguments)}function s1(b,p,_){return ay.apply(this,arguments)}function ay(){return(ay=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b),S=yield Us(w.auth,p,(0,V.m9)(_));return new oi(S,M=>cp(w,M))})).apply(this,arguments)}function Us(b,p,_){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(b,p,_){var w;const S=yield _.verify();try{let M;if(X("string"==typeof S,b,"argument-error"),X(_.type===ir,b,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const z=M.session;if("phoneNumber"in M)return X("enroll"===z.type,b,"internal-error"),(yield iy(b,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{X("signin"===z.type,b,"internal-error");const te=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return X(te,b,"missing-multi-factor-info"),(yield eh(b,{mfaPendingCredential:z.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Hw(b,{phoneNumber:M.phoneNumber,recaptchaToken:S});return z}}finally{_._reset()}})).apply(this,arguments)}function ai(b,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(b,p){yield No((0,V.m9)(b),p)})).apply(this,arguments)}let un=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=sn(_)}verifyPhoneNumber(_,w){return Us(this.auth,_,(0,V.m9)(w))}static credential(_,w){return gl._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?gl._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Di(b,p){return p?qn(p):(X(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class tt extends Fi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ls(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Ls(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Ls(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function on(b){return Fd(b.auth,new tt(b),b.bypassAuthState)}function cr(b){const{auth:p,user:_}=b;return X(_,p,"internal-error"),up(_,new tt(b),b.bypassAuthState)}function ly(b){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return X(_,p,"internal-error"),No(_,new tt(b),b.bypassAuthState)})).apply(this,arguments)}class Yn{constructor(p,_,w,S,M=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:M,tenantId:z,error:te,type:Oe}=p;if(te)return void _.reject(te);const je={auth:_.auth,requestUri:w,sessionId:S,tenantId:z||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Oe)(je))}catch(lt){_.reject(lt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return on;case"linkViaPopup":case"linkViaRedirect":return ly;case"reauthViaPopup":case"reauthViaRedirect":return cr;default:we(this.auth,"internal-error")}}resolve(p){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uy=new me(2e3,1e4);function ih(b,p,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(b,p,_){const w=sn(b);Be(b,p,Lr);const S=Di(w,_);return new Je(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function sh(b,p,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b);Be(w.auth,p,Lr);const S=Di(w.auth,_);return new Je(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Rp(b,p,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b);Be(w.auth,p,Lr);const S=Di(w.auth,_);return new Je(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Je=(()=>{class b extends Yn{constructor(_,w,S,M,z){super(_,w,M,z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return X(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){bt(1===_.filter.length,"Popup operations only handle one event");const w=Ro();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,uy.get())};_()}}return b.currentPopupAction=null,b})();const $s=new Map;class Ca extends Yn{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=$s.get(_.auth._key());if(!w){try{const M=(yield function oh(b,p){return bn.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(M)}catch(S){w=()=>Promise.reject(S)}$s.set(_.auth._key(),w)}return _.bypassAuthState||$s.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function bn(){return(bn=(0,l.Z)(function*(b,p){const _=uh(p),w=kl(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function ah(b,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(b,p){return kl(b)._set(uh(p),"true")})).apply(this,arguments)}function Rl(){$s.clear()}function lh(b,p){$s.set(b._key(),p)}function kl(b){return qn(b._redirectPersistence)}function uh(b){return bi("pendingRedirect",b.config.apiKey,b.name)}function Sa(b,p,_){return function Ji(b,p,_){return Aa.apply(this,arguments)}(b,p,_)}function Aa(){return(Aa=(0,l.Z)(function*(b,p,_){const w=sn(b);Be(b,p,Lr),yield w._initializationPromise;const S=Di(w,_);return yield ah(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function cy(b,p,_){return function Ti(b,p,_){return Qi.apply(this,arguments)}(b,p,_)}function Qi(){return(Qi=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b);Be(w.auth,p,Lr),yield w.auth._initializationPromise;const S=Di(w.auth,_);yield ah(S,w.auth);const M=yield js(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function Xi(b,p,_){return function ch(b,p,_){return Sn.apply(this,arguments)}(b,p,_)}function Sn(){return(Sn=(0,l.Z)(function*(b,p,_){const w=(0,V.m9)(b);Be(w.auth,p,Lr),yield w.auth._initializationPromise;const S=Di(w.auth,_);yield Lu(!1,w,p.providerId),yield ah(S,w.auth);const M=yield js(w);return S._openRedirect(w.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Pp(b,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,p){return yield sn(b)._initializationPromise,yn(b,p,!1)})).apply(this,arguments)}function yn(b,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(b,p,_=!1){const w=sn(b),S=Di(w,p),z=yield new Ca(w,S,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function js(b){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(b){const p=Ro(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class rc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gs(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dy(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!dy(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(pe(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pl(p))}saveEventToCache(p){this.cachedEventUids.add(Pl(p)),this.lastProcessedEventTime=Date.now()}}function Pl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function dy({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function po(b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(b,p={}){return Nt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Po=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hy=/^https?/;function Fo(){return(Fo=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield po(b);for(const _ of p)try{if(dh(_))return}catch{}we(b,"unauthorized-domain")})).apply(this,arguments)}function dh(b){const p=qe(),{protocol:_,hostname:w}=new URL(p);if(b.startsWith("chrome-extension://")){const z=new URL(b);return""===z.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===w}if(!hy.test(_))return!1;if(Po.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Fp=new me(3e4,6e4);function Fl(){const b=kn().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ot=null;function Ll(b){return Ot=Ot||function $i(b){return new Promise((p,_)=>{var w,S,M;function z(){Fl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fl(),_(pe(b,"network-request-failed"))},timeout:Fp.get()})}if(null!==(S=null===(w=kn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(M=kn().gapi)||void 0===M||!M.load){const te=jt("iframefcb");return kn()[te]=()=>{gapi.load?z():_(pe(b,"network-request-failed"))},En(`https://apis.google.com/js/api.js?onload=${te}`).catch(Oe=>_(Oe))}z()}}).catch(p=>{throw Ot=null,p})}(b),Ot}const fy=new me(5e3,15e3),py={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ms=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lp(b){const p=b.config;X(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?be(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:b.name,v:F.SDK_VERSION},S=ms.get(b.config.apiHost);S&&(w.eid=S);const M=b._getFrameworks();return M.length&&(w.fw=M.join(",")),`${_}?${(0,V.xO)(w).slice(1)}`}function ic(){return ic=(0,l.Z)(function*(b){const p=yield Ll(b),_=kn().gapi;return X(_,b,"internal-error"),p.open({where:document.body,url:Lp(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:py,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(M,z){yield w.restyle({setHideOnLeave:!1});const te=pe(b,"network-request-failed"),Oe=kn().setTimeout(()=>{z(te)},fy.get());function je(){kn().clearTimeout(Oe),M(w)}w.ping(je).then(je,()=>{z(te)})});return function(M,z){return S.apply(this,arguments)}}()))}),ic.apply(this,arguments)}const o1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dr{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mh=encodeURIComponent("fac");function sc(b,p,_,w,S,M){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(b,p,_,w,S,M){X(b.config.authDomain,b,"auth-domain-config-required"),X(b.config.apiKey,b,"invalid-api-key");const z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:F.SDK_VERSION,eventId:S};if(p instanceof Lr){p.setDefaultLanguage(b.languageCode),z.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[lt,Ft]of Object.entries(M||{}))z[lt]=Ft}if(p instanceof ca){const lt=p.getScopes().filter(Ft=>""!==Ft);lt.length>0&&(z.scopes=lt.join(","))}b.tenantId&&(z.tid=b.tenantId);const te=z;for(const lt of Object.keys(te))void 0===te[lt]&&delete te[lt];const Oe=yield b._getAppCheckToken(),je=Oe?`#${mh}=${encodeURIComponent(Oe)}`:"";return`${Vo(b)}?${(0,V.xO)(te).slice(1)}${je}`})).apply(this,arguments)}function Vo({config:b}){return b.emulator?be(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}const $t="webStorageSupport",Vp=class Vl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ui,this._completeRedirectFn=yn,this._overrideRedirectResult=lh}_openPopup(p,_,w,S){var M=this;return(0,l.Z)(function*(){var z;bt(null===(z=M.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const te=yield sc(p,_,w,qe(),S);return function Ma(b,p,_,w=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let te="";const Oe=Object.assign(Object.assign({},o1),{width:w.toString(),height:S.toString(),top:M,left:z}),je=(0,V.z$)().toLowerCase();_&&(te=O(je)?"_blank":_),R(je)&&(p=p||"http://localhost",Oe.scrollbars="yes");const lt=Object.entries(Oe).reduce((Zr,[zs,ac])=>`${Zr}${zs}=${ac},`,"");if(function St(b=(0,V.z$)()){var p;return yt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(je)&&"_self"!==te)return function Bp(b,p){const _=document.createElement("a");_.href=b,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",te),new dr(null);const Ft=window.open(p||"",te,lt);X(Ft,b,"popup-blocked");try{Ft.focus()}catch{}return new dr(Ft)}(p,te,Ro())})()}_openRedirect(p,_,w,S){var M=this;return(0,l.Z)(function*(){return yield M._originValidation(p),function Zu(b){kn().location.href=b}(yield sc(p,_,w,qe(),S)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(bt(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function fh(b){return ic.apply(this,arguments)}(p),S=new rc(p);return w.register("authEvent",M=>(X(M?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send($t,{type:$t},S=>{var M;const z=null===(M=S?.[0])||void 0===M?void 0:M[$t];void 0!==z&&_(!!z),we(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Oa(b){return Fo.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Tt()||k()||yt()}};class Hs{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return it("unexpected MultiFactorSessionType")}}}class Ul extends Hs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ul(p)}_finalizeEnroll(p,_,w){return function zu(b,p){return Nt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Fe(b,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function wa(b,p){return Nt(b,"POST","/v2/accounts/mfaSignIn:finalize",Fe(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $l=(()=>{class b{constructor(){}static assertion(_){return Ul._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Gl="@firebase/auth";class ka{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function zl(b){(0,F._registerComponent)(new le.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),M=p.getProvider("app-check-internal"),{apiKey:z,authDomain:te}=w.options;X(z&&!z.includes(":"),"invalid-api-key",{appName:w.name});const Oe={apiKey:z,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Co(b)},je=new xn(w,S,M,Oe);return function lr(b,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(qn);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(w,p?.popupRedirectResolver)}(je,_),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new le.wA("auth-internal",p=>{const _=sn(p.getProvider("auth").getImmediate());return new ka(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Gl,"0.23.2",function Hl(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(Gl,"0.23.2","esm2017")}("Browser")},2090:(vt,Ce,L)=>{L.d(Ce,{$s:()=>qn,BH:()=>De,G6:()=>be,L:()=>Re,LL:()=>mt,P0:()=>$e,Pz:()=>pe,Sg:()=>Be,UG:()=>it,US:()=>le,ZB:()=>q,ZR:()=>Nt,aH:()=>we,b$:()=>Zt,eu:()=>Pe,hl:()=>Ve,jU:()=>bt,m9:()=>bi,ne:()=>pt,pd:()=>yr,r3:()=>cs,ru:()=>qe,tV:()=>G,uI:()=>X,vZ:()=>ii,w1:()=>ce,xO:()=>ds,xb:()=>oo,z$:()=>ke,zI:()=>at,zd:()=>Dn});const oe=function(U){const B=[];let R=0;for(let k=0;k<U.length;k++){let O=U.charCodeAt(k);O<128?B[R++]=O:O<2048?(B[R++]=O>>6|192,B[R++]=63&O|128):55296==(64512&O)&&k+1<U.length&&56320==(64512&U.charCodeAt(k+1))?(O=65536+((1023&O)<<10)+(1023&U.charCodeAt(++k)),B[R++]=O>>18|240,B[R++]=O>>12&63|128,B[R++]=O>>6&63|128,B[R++]=63&O|128):(B[R++]=O>>12|224,B[R++]=O>>6&63|128,B[R++]=63&O|128)}return B},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,B){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let O=0;O<U.length;O+=3){const Z=U[O],he=O+1<U.length,Ze=he?U[O+1]:0,ze=O+2<U.length,yt=ze?U[O+2]:0;let vn=(15&Ze)<<2|yt>>6,Tt=63&yt;ze||(Tt=64,he||(vn=64)),k.push(R[Z>>2],R[(3&Z)<<4|Ze>>4],R[vn],R[Tt])}return k.join("")},encodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(U):this.encodeByteArray(oe(U),B)},decodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(U):function(U){const B=[];let R=0,k=0;for(;R<U.length;){const O=U[R++];if(O<128)B[k++]=String.fromCharCode(O);else if(O>191&&O<224){const Z=U[R++];B[k++]=String.fromCharCode((31&O)<<6|63&Z)}else if(O>239&&O<365){const ze=((7&O)<<18|(63&U[R++])<<12|(63&U[R++])<<6|63&U[R++])-65536;B[k++]=String.fromCharCode(55296+(ze>>10)),B[k++]=String.fromCharCode(56320+(1023&ze))}else{const Z=U[R++],he=U[R++];B[k++]=String.fromCharCode((15&O)<<12|(63&Z)<<6|63&he)}}return B.join("")}(this.decodeStringToByteArray(U,B))},decodeStringToByteArray(U,B){this.init_();const R=B?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let O=0;O<U.length;){const Z=R[U.charAt(O++)],Ze=O<U.length?R[U.charAt(O)]:0;++O;const yt=O<U.length?R[U.charAt(O)]:64;++O;const St=O<U.length?R[U.charAt(O)]:64;if(++O,null==Z||null==Ze||null==yt||null==St)throw new Le;k.push(Z<<2|Ze>>4),64!==yt&&(k.push(Ze<<4&240|yt>>2),64!==St&&k.push(yt<<6&192|St))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(U){return function(U){const B=oe(U);return le.encodeByteArray(B,!0)}(U).replace(/\./g,"")},G=function(U){try{return le.decodeString(U,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function q(U,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return B}for(const R in B)!B.hasOwnProperty(R)||!Ue(R)||(U[R]=q(U[R],B[R]));return U}function Ue(U){return"__proto__"!==U}const Ne=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=U&&G(U[1]);return B&&JSON.parse(B)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},$e=U=>{const B=(U=>{var B,R;return null===(R=null===(B=Ne())||void 0===B?void 0:B.emulatorHosts)||void 0===R?void 0:R[U]})(U);if(!B)return;const R=B.lastIndexOf(":");if(R<=0||R+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const k=parseInt(B.substring(R+1),10);return"["===B[0]?[B.substring(1,R-1),k]:[B.substring(0,R),k]},we=()=>{var U;return null===(U=Ne())||void 0===U?void 0:U.config},pe=U=>{var B;return null===(B=Ne())||void 0===B?void 0:B[`_${U}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,R)=>{this.resolve=B,this.reject=R})}wrapCallback(B){return(R,k)=>{R?this.reject(R):this.resolve(k),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(R):B(R,k))}}}function Be(U,B){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=B||"demo-project",O=U.iat||0,Z=U.sub||U.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:O,exp:O+3600,auth_time:O,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(he)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function it(){var U;const B=null===(U=Ne())||void 0===U?void 0:U.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function qe(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const U=ke();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function be(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise((U,B)=>{try{let R=!0;const k="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(k);O.onsuccess=()=>{O.result.close(),R||self.indexedDB.deleteDatabase(k),U(!0)},O.onupgradeneeded=()=>{R=!1},O.onerror=()=>{var Z;B((null===(Z=O.error)||void 0===Z?void 0:Z.message)||"")}}catch(R){B(R)}})}function at(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Nt extends Error{constructor(B,R,k){super(R),this.code=B,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(B,R,k){this.service=B,this.serviceName=R,this.errors=k}create(B,...R){const k=R[0]||{},O=`${this.service}/${B}`,Z=this.errors[B],he=Z?function Jt(U,B){return U.replace(wt,(R,k)=>{const O=B[k];return null!=O?String(O):`<${k}?>`})}(Z,k):"Error";return new Nt(O,`${this.serviceName}: ${he} (${O}).`,k)}}const wt=/\{\$([^}]+)}/g;function cs(U,B){return Object.prototype.hasOwnProperty.call(U,B)}function oo(U){for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B))return!1;return!0}function ii(U,B){if(U===B)return!0;const R=Object.keys(U),k=Object.keys(B);for(const O of R){if(!k.includes(O))return!1;const Z=U[O],he=B[O];if(st(Z)&&st(he)){if(!ii(Z,he))return!1}else if(Z!==he)return!1}for(const O of k)if(!R.includes(O))return!1;return!0}function st(U){return null!==U&&"object"==typeof U}function ds(U){const B=[];for(const[R,k]of Object.entries(U))Array.isArray(k)?k.forEach(O=>{B.push(encodeURIComponent(R)+"="+encodeURIComponent(O))}):B.push(encodeURIComponent(R)+"="+encodeURIComponent(k));return B.length?"&"+B.join("&"):""}function Dn(U){const B={};return U.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[O,Z]=k.split("=");B[decodeURIComponent(O)]=decodeURIComponent(Z)}}),B}function yr(U){const B=U.indexOf("?");if(!B)return"";const R=U.indexOf("#",B);return U.substring(B,R>0?R:void 0)}function pt(U,B){const R=new ht(U,B);return R.subscribe.bind(R)}class ht{constructor(B,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{B(this)}).catch(k=>{this.error(k)})}next(B){this.forEachObserver(R=>{R.next(B)})}error(B){this.forEachObserver(R=>{R.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,R,k){let O;if(void 0===B&&void 0===R&&void 0===k)throw new Error("Missing Observer.");O=function vr(U,B){if("object"!=typeof U||null===U)return!1;for(const R of B)if(R in U&&"function"==typeof U[R])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:R,complete:k},void 0===O.next&&(O.next=nr),void 0===O.error&&(O.error=nr),void 0===O.complete&&(O.complete=nr);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Z}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,B)}sendOne(B,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{R(this.observers[B])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function qn(U,B=1e3,R=2){const k=B*Math.pow(R,U),O=Math.round(.5*k*(Math.random()-.5)*2);return Math.min(144e5,k+O)}function bi(U){return U&&U._delegate?U._delegate:U}},1830:(vt,Ce,L)=>{var l=L(4650);let V=null;function F(){return V}class ve{}const le=new l.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const Re=new l.OlP("Location Initialized");let G=(()=>{class n extends Le{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function q(){return new G((0,l.LFG)(le))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function nt(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ne)},providedIn:"root"}),n})();const ne=new l.OlP("appBaseHref");let Ne=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+nt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+nt(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+nt(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Le),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+nt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+nt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Le),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(De(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nt(r))}normalize(t){return n.stripTrailingSlash(function pe(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=nt,n.joinWithSlash=Ue,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(l.LFG(rt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(){return new $e((0,l.LFG)(rt))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),bt=(()=>((bt=bt||{})[bt.Format=0]="Format",bt[bt.Standalone=1]="Standalone",bt))(),qe=(()=>((qe=qe||{})[qe.Narrow=0]="Narrow",qe[qe.Abbreviated=1]="Abbreviated",qe[qe.Wide=2]="Wide",qe[qe.Short=3]="Short",qe))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),dt=(()=>((dt=dt||{})[dt.Decimal=0]="Decimal",dt[dt.Group=1]="Group",dt[dt.List=2]="List",dt[dt.PercentSign=3]="PercentSign",dt[dt.PlusSign=4]="PlusSign",dt[dt.MinusSign=5]="MinusSign",dt[dt.Exponential=6]="Exponential",dt[dt.SuperscriptingExponent=7]="SuperscriptingExponent",dt[dt.PerMille=8]="PerMille",dt[dt.Infinity=9]="Infinity",dt[dt.NaN=10]="NaN",dt[dt.TimeSeparator=11]="TimeSeparator",dt[dt.CurrencyDecimal=12]="CurrencyDecimal",dt[dt.CurrencyGroup=13]="CurrencyGroup",dt))();function me(n,e,t){const r=(0,l.cg1)(n),o=On([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return On(o,t)}function be(n,e,t){const r=(0,l.cg1)(n),o=On([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return On(o,t)}function Ve(n,e,t){const r=(0,l.cg1)(n),o=On([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return On(o,t)}function Nt(n,e){return On((0,l.cg1)(n)[l.wAp.DateFormat],e)}function mt(n,e){return On((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Jt(n,e){return On((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function wt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===dt.CurrencyDecimal)return t[l.wAp.NumberSymbols][dt.Decimal];if(e===dt.CurrencyGroup)return t[l.wAp.NumberSymbols][dt.Group]}return r}function qi(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function On(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ii(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yr={},si=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.ShortGMT=1]="ShortGMT",pt[pt.Long=2]="Long",pt[pt.Extended=3]="Extended",pt))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function vr(n,e,t,r){let i=function O(n){if(he(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,c=1]=n.split("-").map(f=>+f);return nr(i,o-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Dn))return function Z(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,c,f,m,v),e}(r)}const e=new Date(n);if(!he(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=zn(t,e)||e;let f,c=[];for(;e;){if(f=si.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const D=c.pop();if(!D)break;e=D}}let m=i.getTimezoneOffset();r&&(m=B(r,m),i=function k(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function R(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(B(e,i)-i))}(i,r,!0));let v="";return c.forEach(D=>{const I=function U(n){if(bi[n])return bi[n];let e;switch(n){case"G":case"GG":case"GGG":e=zt(xt.Eras,qe.Abbreviated);break;case"GGGG":e=zt(xt.Eras,qe.Wide);break;case"GGGGG":e=zt(xt.Eras,qe.Narrow);break;case"y":e=Ht(ht.FullYear,1,0,!1,!0);break;case"yy":e=Ht(ht.FullYear,2,0,!0,!0);break;case"yyy":e=Ht(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=Ht(ht.FullYear,4,0,!1,!0);break;case"Y":e=Pr(1);break;case"YY":e=Pr(2,!0);break;case"YYY":e=Pr(3);break;case"YYYY":e=Pr(4);break;case"M":case"L":e=Ht(ht.Month,1,1);break;case"MM":case"LL":e=Ht(ht.Month,2,1);break;case"MMM":e=zt(xt.Months,qe.Abbreviated);break;case"MMMM":e=zt(xt.Months,qe.Wide);break;case"MMMMM":e=zt(xt.Months,qe.Narrow);break;case"LLL":e=zt(xt.Months,qe.Abbreviated,bt.Standalone);break;case"LLLL":e=zt(xt.Months,qe.Wide,bt.Standalone);break;case"LLLLL":e=zt(xt.Months,qe.Narrow,bt.Standalone);break;case"w":e=Zi(1);break;case"ww":e=Zi(2);break;case"W":e=Zi(1,!0);break;case"d":e=Ht(ht.Date,1);break;case"dd":e=Ht(ht.Date,2);break;case"c":case"cc":e=Ht(ht.Day,1);break;case"ccc":e=zt(xt.Days,qe.Abbreviated,bt.Standalone);break;case"cccc":e=zt(xt.Days,qe.Wide,bt.Standalone);break;case"ccccc":e=zt(xt.Days,qe.Narrow,bt.Standalone);break;case"cccccc":e=zt(xt.Days,qe.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=zt(xt.Days,qe.Abbreviated);break;case"EEEE":e=zt(xt.Days,qe.Wide);break;case"EEEEE":e=zt(xt.Days,qe.Narrow);break;case"EEEEEE":e=zt(xt.Days,qe.Short);break;case"a":case"aa":case"aaa":e=zt(xt.DayPeriods,qe.Abbreviated);break;case"aaaa":e=zt(xt.DayPeriods,qe.Wide);break;case"aaaaa":e=zt(xt.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":e=zt(xt.DayPeriods,qe.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=zt(xt.DayPeriods,qe.Wide,bt.Standalone,!0);break;case"bbbbb":e=zt(xt.DayPeriods,qe.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=zt(xt.DayPeriods,qe.Abbreviated,bt.Format,!0);break;case"BBBB":e=zt(xt.DayPeriods,qe.Wide,bt.Format,!0);break;case"BBBBB":e=zt(xt.DayPeriods,qe.Narrow,bt.Format,!0);break;case"h":e=Ht(ht.Hours,1,-12);break;case"hh":e=Ht(ht.Hours,2,-12);break;case"H":e=Ht(ht.Hours,1);break;case"HH":e=Ht(ht.Hours,2);break;case"m":e=Ht(ht.Minutes,1);break;case"mm":e=Ht(ht.Minutes,2);break;case"s":e=Ht(ht.Seconds,1);break;case"ss":e=Ht(ht.Seconds,2);break;case"S":e=Ht(ht.FractionalSeconds,1);break;case"SS":e=Ht(ht.FractionalSeconds,2);break;case"SSS":e=Ht(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Mn(pt.Short);break;case"ZZZZZ":e=Mn(pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mn(pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mn(pt.Long);break;default:return null}return bi[n]=e,e}(D);v+=I?I(i,t,m):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function nr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function zn(n,e){const t=function ue(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(yr[t]=yr[t]||{},yr[t][e])return yr[t][e];let r="";switch(e){case"shortDate":r=Nt(n,Zt.Short);break;case"mediumDate":r=Nt(n,Zt.Medium);break;case"longDate":r=Nt(n,Zt.Long);break;case"fullDate":r=Nt(n,Zt.Full);break;case"shortTime":r=mt(n,Zt.Short);break;case"mediumTime":r=mt(n,Zt.Medium);break;case"longTime":r=mt(n,Zt.Long);break;case"fullTime":r=mt(n,Zt.Full);break;case"short":const i=zn(n,"shortTime"),o=zn(n,"shortDate");r=br(Jt(n,Zt.Short),[i,o]);break;case"medium":const c=zn(n,"mediumTime"),f=zn(n,"mediumDate");r=br(Jt(n,Zt.Medium),[c,f]);break;case"long":const m=zn(n,"longTime"),v=zn(n,"longDate");r=br(Jt(n,Zt.Long),[m,v]);break;case"full":const D=zn(n,"fullTime"),I=zn(n,"fullDate");r=br(Jt(n,Zt.Full),[D,I])}return r&&(yr[t][e]=r),r}function br(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function kr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),o+c}function Ht(n,e,t=0,r=!1,i=!1){return function(o,c){let f=function ks(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||f>-t)&&(f+=t),n===ht.Hours)0===f&&-12===t&&(f=12);else if(n===ht.FractionalSeconds)return function wr(n,e){return kr(n,3).substring(0,e)}(f,e);const m=wt(c,dt.MinusSign);return kr(f,e,m,r,i)}}function zt(n,e,t=bt.Format,r=!1){return function(i,o){return function yi(n,e,t,r,i,o){switch(t){case xt.Months:return Ve(e,i,r)[n.getMonth()];case xt.Days:return be(e,i,r)[n.getDay()];case xt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(o){const v=function cs(n){const e=(0,l.cg1)(n);return qi(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?ii(r):[ii(r[0]),ii(r[1])])}(e),D=function ki(n,e,t){const r=(0,l.cg1)(n);qi(r);const o=On([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return On(o,t)||[]}(e,i,r),I=v.findIndex(N=>{if(Array.isArray(N)){const[x,j]=N,Y=c>=x.hours&&f>=x.minutes,J=c<j.hours||c===j.hours&&f<j.minutes;if(x.hours<j.hours){if(Y&&J)return!0}else if(Y||J)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==I)return D[I]}return me(e,i,r)[c<12?0:1];case xt.Eras:return function Pe(n,e){return On((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Mn(n){return function(e,t,r){const i=-1*r,o=wt(t,dt.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case pt.Short:return(i>=0?"+":"")+kr(c,2,o)+kr(Math.abs(i%60),2,o);case pt.ShortGMT:return"GMT"+(i>=0?"+":"")+kr(c,1,o);case pt.Long:return"GMT"+(i>=0?"+":"")+kr(c,2,o)+":"+kr(Math.abs(i%60),2,o);case pt.Extended:return 0===r?"Z":(i>=0?"+":"")+kr(c,2,o)+":"+kr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function qn(n){return nr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Zi(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+o)/7)}else{const o=qn(t),c=function vi(n){const e=nr(n,0,1).getDay();return nr(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),f=o.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return kr(i,n,wt(r,dt.MinusSign))}}function Pr(n,e=!1){return function(t,r){return kr(qn(t).getFullYear(),n,wt(r,dt.MinusSign),e)}}const bi={};function B(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function he(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function En(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Gr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const ar=/\s+/,Xe=[];let kt=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Xe,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ar):Xe}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ar):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ar).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Fr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,c),Cn(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Cn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Cn(n,e){n.context.$implicit=e.item}let ur=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ut{constructor(){this.$implicit=null,this.ngIf=null}}function xu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let lo=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),c=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Bi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function Vi(n,e){return new l.vHH(2100,!1)}class kd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Ru{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const oa=new Ru,aa=new kd;let Fs=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return oa;if((0,l.F4k)(t))return aa;throw Vi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const pl=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),la=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ir=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return vr(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Vi()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(pl,24),l.Y36(la,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),H_=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function tp(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Se(n,e,t){return function ae(n,e,t,r,i,o,c=!1){let f="",m=!1;if(isFinite(n)){let v=function ln(n){let r,i,o,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=o,r=[],c=0;o<=f;o++,c++)r[c]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(v=function Wt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let D=e.minInt,I=e.minFrac,N=e.maxFrac;if(o){const ge=o.match(Ze);if(null===ge)throw new Error(`${o} is not a valid digit info`);const Me=ge[1],xe=ge[3],Ge=ge[5];null!=Me&&(D=En(Me)),null!=xe&&(I=En(xe)),null!=Ge?N=En(Ge):null!=xe&&I>N&&(N=I)}!function Dr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let c=o+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let I=c;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=o+1),r[0]=0;for(let I=1;I<c;I++)r[I]=0}if(f>=5)if(c-1<0){for(let I=0;I>c;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,o);i++)r.push(0);let m=0!==o;const v=e+n.integerLen,D=r.reduceRight(function(I,N,x,j){return j[x]=(N+=I)<10?N:N-10,m&&(0===j[x]&&x>=v?j.pop():m=!1),N>=10?1:0},0);D&&(r.unshift(D),n.integerLen++)}(v,I,N);let x=v.digits,j=v.integerLen;const Y=v.exponent;let J=[];for(m=x.every(ge=>!ge);j<D;j++)x.unshift(0);for(;j<0;j++)x.unshift(0);j>0?J=x.splice(j,x.length):(J=x,x=[0]);const ie=[];for(x.length>=e.lgSize&&ie.unshift(x.splice(-e.lgSize,x.length).join(""));x.length>e.gSize;)ie.unshift(x.splice(-e.gSize,x.length).join(""));x.length&&ie.unshift(x.join("")),f=ie.join(wt(t,r)),J.length&&(f+=wt(t,i)+J.join("")),Y&&(f+=wt(t,dt.Exponential)+"+"+Y)}else f=wt(t,dt.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function It(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=c[0],m=c[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let D=0;D<m.length;D++){const I=m.charAt(D);"0"===I?t.minFrac=t.maxFrac=D+1:"#"===I?t.maxFrac=D+1:t.posSuf+=I}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const D=i.length-t.posPre.length-t.posSuf.length,I=o.indexOf("#");t.negPre=o.substring(0,I).replace(/'/g,""),t.negSuf=o.slice(I+D).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Gt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,X.Percent),wt(e,dt.MinusSign)),e,dt.Group,dt.Decimal,t,!0).replace(new RegExp("%","g"),wt(e,dt.PercentSign))}(function np(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw Vi()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let ku=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw Vi();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const W_="browser";function Lr(n){return n===W_}function ca(n){return"server"===n}let sp=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Z_((0,l.LFG)(le),window)}),n})();class Z_{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function op(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ao(this.window.history)||Ao(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ao(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ap{}class qd extends ve{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gu extends qd{static makeCurrent(){!function oe(n){V||(V=n)}(new Gu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ny(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}();return null==t?null:function Hu(n){ho=ho||document.createElement("a"),ho.setAttribute("href",n);const e=ho.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gr(document.cookie,e)}}let ho,ga=null;const ry=new l.OlP("TRANSITION_ID"),bp=[{provide:l.ip1,useFactory:function NC(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[ry,le,l.zs3],multi:!0}];let Mo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ma=new l.OlP("EventManagerPlugins");let Zd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ma),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class iy{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let zu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),El=(()=>{class n extends zu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Yd(n){F().remove(n)}const xo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_a=/%COMP%/g;function Dp(n,e){return e.flat(100).map(t=>t.replace(_a,n))}function Ep(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Tp(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ro(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new Cp(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Dp(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zd),l.LFG(El),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Tp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(xo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Al(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Al(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=xo[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=xo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ep(r)):this.eventManager.addEventListener(e,t,Ep(r))}}function Al(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ro extends Tp{constructor(e,t,r,i){super(e),this.component=r;const o=Dp(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function Kd(n){return"_ngcontent-%COMP%".replace(_a,n)}(i+"-"+r.id),this.hostAttr=function qu(n){return"_nghost-%COMP%".replace(_a,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Cp extends Tp{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dp(i.id,i.styles);for(let c=0;c<o.length;c++){const f=document.createElement("style");f.textContent=o[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kn=(()=>{class n extends iy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=["alt","control","meta","shift"],Jd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yu=(()=>{class n extends iy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Zu.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),c+=v+".")}),c+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Jd[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Zu.forEach(c=>{c!==i&&(0,Sp[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qd=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:W_},{provide:l.g9A,useValue:function Ap(){Gu.makeCurrent()},multi:!0},{provide:le,useFactory:function Ol(){return(0,l.RDi)(document),document},deps:[]}]),Ju=new l.OlP(""),va=[{provide:l.rWj,useClass:class wp{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(m){c=c||m,o--,0==o&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Np=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ya(){return new l.qLn},deps:[]},{provide:ma,useClass:kn,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:ma,useClass:Yu,multi:!0,deps:[le]},{provide:Sl,useClass:Sl,deps:[Zd,El,l.AFp]},{provide:l.FYo,useExisting:Sl},{provide:zu,useExisting:El},{provide:El,useClass:El,deps:[le]},{provide:Zd,useClass:Zd,deps:[ma,l.R0b]},{provide:ap,useClass:Mo,deps:[]},[]];let Qu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ry,useExisting:l.AFp},bp]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ju,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Np,...va],imports:[z_,l.hGG]}),n})(),Xu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xl(){return new Xu((0,l.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(ai),r},providedIn:"root"}),n})(),ai=(()=>{class n extends Us{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xp(n){return new ai(n.get(le))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var un=L(8996),Di=L(3269);function tt(...n){const e=(0,Di.yG)(n);return(0,un.D)(n,e)}var on=L(7579);class cr extends on.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ta=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yn=L(9751);const{isArray:uy}=Array,{getPrototypeOf:ih,prototype:Ia,keys:sh}=Object;function fo(n){if(1===n.length){const e=n[0];if(uy(e))return{args:e,keys:null};if(function Rp(n){return n&&"object"==typeof n&&ih(n)===Ia}(e)){const t=sh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ei=L(4671),Je=L(4004);const{isArray:kp}=Array;function Ca(n){return(0,Je.U)(e=>function $s(n,e){return kp(e)?n(...e):n(e)}(n,e))}function oh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var bn=L(5403),ah=L(9672);function Ki(...n){const e=(0,Di.yG)(n),t=(0,Di.jO)(n),{args:r,keys:i}=fo(n);if(0===r.length)return(0,un.D)([],e);const o=new Yn.y(function Rl(n,e,t=Ei.y){return r=>{lh(e,()=>{const{length:i}=n,o=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)lh(e,()=>{const v=(0,un.D)(n[m],e);let D=!1;v.subscribe((0,bn.x)(r,I=>{o[m]=I,D||(D=!0,f--),f||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>oh(i,c):Ei.y));return t?o.pipe(Ca(t)):o}function lh(n,e,t){n?(0,ah.f)(t,n,e):e()}var kl=L(8189);function Sa(...n){return function uh(){return(0,kl.J)(1)}()((0,un.D)(n,(0,Di.yG)(n)))}var Ji=L(8421);function Aa(n){return new Yn.y(e=>{(0,Ji.Xf)(n()).subscribe(e)})}var cy=L(9635),Ti=L(576);function Qi(n,e){const t=(0,Ti.m)(n)?n:()=>n,r=i=>i.error(t());return new Yn.y(e?i=>e.schedule(r,0,i):r)}var Xi=L(515),ch=L(727),Sn=L(4482);function Pp(){return(0,Sn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Na extends Yn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Sn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ch.w0;const t=this.getSubject();e.add(this.source.subscribe((0,bn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ch.w0.EMPTY)}return e}refCount(){return Pp()(this)}}function yn(n,e){return(0,Sn.e)((t,r)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,bn.x)(r,m=>{i?.unsubscribe();let v=0;const D=o++;(0,Ji.Xf)(n(m,D)).subscribe(i=(0,bn.x)(r,I=>r.next(e?e(m,I,D,v++):I),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function pn(n){return n<=0?()=>Xi.E:(0,Sn.e)((e,t)=>{let r=0;e.subscribe((0,bn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function js(...n){const e=(0,Di.yG)(n);return(0,Sn.e)((t,r)=>{(e?Sa(n,t,e):Sa(n,t)).subscribe(r)})}function tn(n,e){return(0,Sn.e)((t,r)=>{let i=0;t.subscribe((0,bn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Br=L(5577);function rc(n){return(0,Sn.e)((e,t)=>{let r=!1;e.subscribe((0,bn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pl(n=dy){return(0,Sn.e)((e,t)=>{let r=!1;e.subscribe((0,bn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dy(){return new Ta}function Gs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tn((i,o)=>n(i,o,r)):Ei.y,pn(1),t?rc(e):Pl(()=>new Ta))}function po(n,e){return(0,Ti.m)(e)?(0,Br.z)(n,e,1):(0,Br.z)(n,1)}function Vn(n,e,t){const r=(0,Ti.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Sn.e)((i,o)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,bn.x)(o,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),o.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),o.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),o.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Ei.y}function Po(n){return(0,Sn.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,bn.x)(t,void 0,void 0,c=>{o=(0,Ji.Xf)(n(c,Po(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function hy(n,e,t,r,i){return(o,c)=>{let f=t,m=e,v=0;o.subscribe((0,bn.x)(c,D=>{const I=v++;m=f?n(m,D,I):(f=!0,D),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}function Oa(n,e){return(0,Sn.e)(hy(n,e,arguments.length>=2,!0))}function Fo(n){return n<=0?()=>Xi.E:(0,Sn.e)((e,t)=>{let r=[];e.subscribe((0,bn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?tn((i,o)=>n(i,o,r)):Ei.y,Fo(1),t?rc(e):Pl(()=>new Ta))}function Fl(n){return(0,Je.U)(()=>n)}function $i(n){return(0,Sn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",Ll=Symbol("RouteTitle");class fy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lo(n){return new fy(n)}function hh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],f=n[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ms(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Lp(n[i],e[i]))return!1;return!0}function Lp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function fh(n){return Array.prototype.concat.apply([],n)}function ic(n){return n.length>0?n[n.length-1]:null}function cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _s(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,un.D)(Promise.resolve(n)):tt(n)}const Bl=!1,ph={exact:function gh(n,e,t){if(!Hs(n.segments,e.segments)||!Bo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gh(n.children[r],e.children[r],t))return!1;return!0},subset:mh},dr={exact:function Bp(n,e){return ms(n,e)},subset:function gy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lp(n[t],e[t]))},ignored:()=>!0};function Ma(n,e,t){return ph[t.paths](n.root,e.root,t.matrixParams)&&dr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mh(n,e,t){return sc(n,e,e.segments,t)}function sc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Hs(i,t)||e.hasChildren()||!Bo(i,t,r))}if(n.segments.length===t.length){if(!Hs(n.segments,t)||!Bo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!mh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Hs(n.segments,i)&&Bo(n.segments,i,r)&&n.children[Ot])&&sc(n.children[Ot],e,o,r)}}function Bo(n,e,t){return e.every((r,i)=>dr[t](n[i].parameters,r.parameters))}class Vo{constructor(e=new $t([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return _h.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}}class Vl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return oc(this)}}function Hs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let $l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new xa},providedIn:"root"}),n})();class xa{parse(e){const t=new M(e);return new Vo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ys(e.root,!0)}`,r=function my(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ra(t)}=${Ra(i)}`).join("&"):`${Ra(t)}=${Ra(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ka(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _h=new xa;function jl(n){return n.segments.map(e=>oc(e)).join("/")}function ys(n,e){if(!n.hasChildren())return jl(n);if(e){const t=n.children[Ot]?ys(n.children[Ot],!1):"",r=[];return cn(n.children,(i,o)=>{o!==Ot&&r.push(`${o}:${ys(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ul(n,e){let t=[];return cn(n.children,(r,i)=>{i===Ot&&(t=t.concat(e(r,i)))}),cn(n.children,(r,i)=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ot?[ys(n.children[Ot],!1)]:[`${i}:${ys(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${jl(n)}/${t[0]}`:`${jl(n)}/(${t.join("//")})`}}function Gl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ra(n){return Gl(n).replace(/%3B/gi,";")}function Hl(n){return Gl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(n){return decodeURIComponent(n)}function Up(n){return zl(n.replace(/\+/g,"%20"))}function oc(n){return`${Hl(n.path)}${function $p(n){return Object.keys(n).map(e=>`;${Hl(e)}=${Hl(n[e])}`).join("")}(n.parameters)}`}const a1=/^[^\/()?;=#]+/;function b(n){const e=n.match(a1);return e?e[0]:""}const p=/^[^=?&#]+/,w=/^[^&#]+/;class M{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new $t(e,t)),r}parseSegment(){const e=b(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Bl);return this.capture(e),new Vl(zl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=b(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=b(this.remaining);i&&(r=i,this.capture(r))}e[zl(t)]=zl(r)}parseQueryParam(e){const t=function _(n){const e=n.match(p);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function S(n){const e=n.match(w);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Up(t),o=Up(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=b(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,Bl);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ot);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[Ot]:new $t([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Bl)}}function z(n){return n.segments.length>0?new $t([],{[Ot]:n}):n}function te(n){const e={};for(const r of Object.keys(n.children)){const o=te(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Oe(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}function je(n){return n instanceof Vo}function ac(n,e,t,r,i){if(0===t.length)return Uo(e.root,e.root,e.root,r,i);const o=function uc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ql(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return cn(o.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new ql(t,e,r)}(t);return o.toRoot()?Uo(e.root,e.root,new $t([],{}),r,i):function c(m){const v=function Zl(n,e,t,r){if(n.isAbsolute)return new Ws(e.root,!0,0);if(-1===r)return new Ws(t,t===e.root,0);return function Yl(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Ws(r,!1,i-o)}(t,r+(Wl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),D=v.processChildren?Pa(v.segmentGroup,v.index,o.commands):Kl(v.segmentGroup,v.index,o.commands);return Uo(e.root,v.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function Wl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vs(n){return"object"==typeof n&&null!=n&&n.outlets}function Uo(n,e,t,r,i){let c,o={};r&&cn(r,(m,v)=>{o[v]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),c=n===e?t:lc(n,e,t);const f=z(te(c));return new Vo(f,o,i)}function lc(n,e,t){const r={};return cn(n.children,(i,o)=>{r[o]=i===e?t:lc(i,e,t)}),new $t(n.segments,r)}class ql{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wl(r[0]))throw new l.vHH(4003,!1);const i=r.find(vs);if(i&&i!==ic(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ws{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Kl(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return Pa(n,e,t);const r=function _y(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],f=t[r];if(vs(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!l1(m,v,c))return o;r+=2}else{if(!l1(m,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new $t(n.segments.slice(0,r.pathIndex),{});return o.children[Ot]=new $t(n.segments.slice(r.pathIndex),n.children),Pa(o,0,i)}return r.match&&0===i.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Jl(n,e,t):r.match?Pa(n,0,i):Jl(n,e,t)}function Pa(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function dc(n){return vs(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};return!r[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?Pa(n.children[Ot],e,t):(cn(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=Kl(n.children[c],e,o))}),cn(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new $t(n.segments,i))}}function Jl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(vs(o)){const m=kC(o.outlets);return new $t(r,m)}if(0===i&&Wl(t[0])){r.push(new Vl(n.segments[e].path,yy(t[0]))),i++;continue}const c=vs(o)?o.outlets[Ot]:`${o}`,f=i<t.length-1?t[i+1]:null;c&&f&&Wl(f)?(r.push(new Vl(c,yy(f))),i+=2):(r.push(new Vl(c,{})),i++)}return new $t(r,{})}function kC(n){const e={};return cn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Jl(new $t([],{}),0,t))}),e}function yy(n){const e={};return cn(n,(t,r)=>e[r]=`${t}`),e}function l1(n,e,t){return n==t.path&&ms(e,t.parameters)}const yh="imperative";class go{constructor(e,t){this.id=e,this.url=t}}class jp extends go{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fa extends go{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ql extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gp extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class La extends go{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PC extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FC extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MR extends go{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LC extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vy extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class by{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let VC=(()=>{class n{createUrlTree(t,r,i,o,c,f){return ac(t||r.root,i,o,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),UC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return VC.\u0275fac(e)},providedIn:"root"}),n})();class h1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qs(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qs(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ba(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ba(e,this._root).map(t=>t.value)}}function qs(n,e){if(n===e.value)return e;for(const t of e.children){const r=qs(n,t);if(r)return r}return null}function Ba(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ba(n,t);if(r.length)return r.unshift(e),r}return[]}class $o{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class f1 extends h1{constructor(e,t){super(e),this.snapshot=t,Ey(this,e)}toString(){return this.snapshot.toString()}}function p1(n,e){const t=function $C(n,e){const c=new zp([],{},{},"",{},Ot,e,null,n.root,-1,{});return new g1("",new $o(c,[]))}(n,e),r=new cr([new Vl("",{})]),i=new cr({}),o=new cr({}),c=new cr({}),f=new cr(""),m=new mo(r,i,c,f,o,Ot,e,t.root);return m.snapshot=t.root,new f1(new $o(m,[]),t)}class mo{constructor(e,t,r,i,o,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Je.U)(v=>v[Ll]))??tt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(e=>Lo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(e=>Lo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function jC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zp{get title(){return this.data?.[Ll]}constructor(e,t,r,i,o,c,f,m,v,D,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g1 extends h1{constructor(e,t){super(t),this.url=e,Ey(this,t)}toString(){return vh(this._root)}}function Ey(n,e){e.value._routerState=n,e.children.forEach(t=>Ey(n,t))}function vh(n){const e=n.children.length>0?` { ${n.children.map(vh).join(", ")} } `:"";return`${n.value}${e}`}function Zs(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ms(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ms(e.params,t.params)||n.params.next(t.params),function py(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ms(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ms(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eu(n,e){const t=ms(n.params,e.params)&&function Vp(n,e){return Hs(n,e)&&n.every((t,r)=>ms(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||eu(n.parent,e.parent))}function fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fc(n,r,i);return fc(n,r)})}(n,e,t);return new $o(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>fc(n,f)),c}}const r=function kR(n){return new mo(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>fc(n,o));return new $o(r,i)}}const y1="ngNavigationCancelingError";function GC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=je(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Wp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Wp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[y1]=!0,r.cancellationCode=e,t&&(r.url=t),r}function qp(n){return HC(n)&&je(n.url)}function HC(n){return n&&n[y1]}class PR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pc,this.attachRef=null}}let pc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new PR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zp=!1;let Ty=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(pc),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Zp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Zp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Zp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Zp);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new zC(t,f,i.injector);if(r&&function WC(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class zC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mo?this.route:e===pc?this.childContexts:this.parent.get(e,t)}}let Yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ty],encapsulation:2}),n})();function bh(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Cy(n){const e=n.children&&n.children.map(Cy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=Yp),t}function bs(n){return n.outlet||Ot}function w1(n,e){const t=n.filter(r=>bs(r)===e);return t.push(...n.filter(r=>bs(r)!==e)),t}function wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class LR{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zs(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=hc(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),cn(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=hc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new d1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new by(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Zs(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Zs(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=wh(i.snapshot),m=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class YC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Va{constructor(e,t){this.component=e,this.route=t}}function Sy(n,e,t){const r=n._root;return gc(r,e?e._root:null,t,[r.value])}function tu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function gc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hc(e);return n.children.forEach(c=>{(function KC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function JC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hs(n.url,e.url)||!ms(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eu(n,e)||!ms(n.queryParams,e.queryParams);default:return!eu(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new YC(r)):(o.data=c.data,o._resolvedData=c._resolvedData),gc(n,e,o.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Va(f.outlet.component,c))}else c&&mc(e,f,i),i.canActivateChecks.push(new YC(r)),gc(n,null,o.component?f?f.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),cn(o,(c,f)=>mc(c,t.getContext(f),i)),i}function mc(n,e,t){const r=hc(n),i=n.value;cn(r,(o,c)=>{mc(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Va(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _c(n){return"function"==typeof n}function My(n){return n instanceof Ta||"EmptyError"===n?.name}const yc=Symbol("INITIAL_VALUE");function jo(){return yn(n=>Ki(n.map(e=>e.pipe(pn(1),js(yc)))).pipe((0,Je.U)(e=>{for(const t of e)if(!0!==t){if(t===yc)return yc;if(!1===t||t instanceof Vo)return t}return!0}),tn(e=>e!==yc),pn(1)))}function iu(n){return(0,cy.z)(Vn(e=>{if(je(e))throw GC(0,e)}),(0,Je.U)(e=>!0===e))}const ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(n,e,t,r,i){const o=Dh(n,e,t);return o.matched?function rS(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?tt(i.map(c=>{const f=tu(c,n);return _s(function T1(n){return n&&_c(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(jo(),iu()):tt(!0)}(r=bh(e,r),e,t).pipe((0,Je.U)(c=>!0===c?o:{...ky})):tt(o)}function Dh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ky}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hh)(t,n,e);if(!i)return{...ky};const o={};cn(i.posParams,(f,m)=>{o[m]=f.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Qp(n,e,t,r){if(t.length>0&&function N1(n,e,t){return t.some(r=>Xp(n,e,r)&&bs(r)!==Ot)}(n,t,r)){const o=new $t(e,function iS(n,e,t,r){const i={};i[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&bs(o)!==Ot){const c=new $t([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[bs(o)]=c}return i}(n,e,r,new $t(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function VR(n,e,t){return t.some(r=>Xp(n,e,r))}(n,t,r)){const o=new $t(n.segments,function A1(n,e,t,r,i){const o={};for(const c of r)if(Xp(n,t,c)&&!i[bs(c)]){const f=new $t([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[bs(c)]=f}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new $t(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Xp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vc(n,e,t,r){return!!(bs(n)===r||r!==Ot&&Xp(e,t,n))&&("**"===n.path||Dh(e,n,t).matched)}function O1(n,e,t){return 0===e.length&&!n.children[t]}const Go=!1;class Ua{constructor(e){this.segmentGroup=e||null}}class M1{constructor(e){this.urlTree=e}}function bc(n){return Qi(new Ua(n))}function x1(n){return Qi(new M1(n))}class k1{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Qp(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,Je.U)(o=>this.createUrlTree(te(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(o=>{if(o instanceof M1)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ua?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,Je.U)(i=>this.createUrlTree(te(i),e.queryParams,e.fragment))).pipe(Po(i=>{throw i instanceof Ua?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Go)}createUrlTree(e,t,r){const i=z(e);return new Vo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Je.U)(o=>new $t([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,un.D)(i).pipe(po(o=>{const c=r.children[o],f=w1(t,o);return this.expandSegmentGroup(e,f,c,o).pipe((0,Je.U)(m=>({segment:m,outlet:o})))}),Oa((o,c)=>(o[c.outlet]=c.segment,o),{}),dh())}expandSegment(e,t,r,i,o,c){return(0,un.D)(r).pipe(po(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,o,c).pipe(Po(v=>{if(v instanceof Ua)return tt(null);throw v}))),Gs(f=>!!f),Po((f,m)=>{if(My(f))return O1(t,i,o)?tt(new $t([],{})):bc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,o,c,f){return vc(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):bc(t):bc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?x1(o):this.lineralizeSegments(r,o).pipe((0,Br.z)(c=>{const f=new $t(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:D}=Dh(t,i,o);if(!f)return bc(t);const I=this.applyRedirectCommands(m,i.redirectTo,D);return i.redirectTo.startsWith("/")?x1(I):this.lineralizeSegments(i,I).pipe((0,Br.z)(N=>this.expandSegment(e,t,r,N.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=bh(r,e),r.loadChildren?(r._loadedRoutes?tt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Je.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new $t(i,{})))):tt(new $t(i,{}))):S1(t,r,i,e).pipe(yn(({matched:c,consumedSegments:f,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Br.z)(D=>{const I=D.injector??e,N=D.routes,{segmentGroup:x,slicedSegments:j}=Qp(t,f,m,N),Y=new $t(x.segments,x.children);if(0===j.length&&Y.hasChildren())return this.expandChildren(I,N,Y).pipe((0,Je.U)(Me=>new $t(f,Me)));if(0===N.length&&0===j.length)return tt(new $t(f,{}));const J=bs(r)===o;return this.expandSegment(I,Y,N,j,J?Ot:o,!0).pipe((0,Je.U)(ge=>new $t(f.concat(ge.segments),ge.children)))})):bc(t)))}getChildConfig(e,t,r){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function C1(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(c=>{const f=tu(c,n);return _s(function BR(n){return n&&_c(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(jo(),iu())}(e,t,r).pipe((0,Br.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Vn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function oS(n){return Qi(Wp(Go,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[Ot])return Qi(new l.vHH(4e3,Go));i=i.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Vo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cn(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=t[f]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return cn(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new $t(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Go);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class aS{}class lS{constructor(e,t,r,i,o,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=Qp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,Je.U)(t=>{if(null===t)return null;const r=new zp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $o(r,t),o=new g1(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=Dy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,un.D)(Object.keys(r.children)).pipe(po(i=>{const o=r.children[i],c=w1(t,i);return this.processSegmentGroup(e,c,o,i)}),Oa((i,o)=>i&&o?(i.push(...o),i):null),function Fp(n,e=!1){return(0,Sn.e)((t,r)=>{let i=0;t.subscribe((0,bn.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),rc(null),dh(),(0,Je.U)(i=>{if(null===i)return null;const o=P1(i);return function uS(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,un.D)(t).pipe(po(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),Gs(c=>!!c),Po(c=>{if(My(c))return O1(r,i,o)?tt([]):tt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!vc(t,r,i,o))return tt(null);let c;if("**"===t.path){const f=i.length>0?ic(i).parameters:{},m=su(r)+i.length;c=tt({snapshot:new zp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L1(t),bs(t),t.component??t._loadedComponent??null,t,F1(r),m,B1(t)),consumedSegments:[],remainingSegments:[]})}else c=S1(r,t,i,e).pipe((0,Je.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:D})=>{if(!f)return null;const I=su(r)+m.length;return{snapshot:new zp(m,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L1(t),bs(t),t.component??t._loadedComponent??null,t,F1(r),I,B1(t)),consumedSegments:m,remainingSegments:v}}));return c.pipe(yn(f=>{if(null===f)return tt(null);const{snapshot:m,consumedSegments:v,remainingSegments:D}=f;e=t._injector??e;const I=t._loadedInjector??e,N=function cS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:j}=Qp(r,v,D,N.filter(J=>void 0===J.redirectTo));if(0===j.length&&x.hasChildren())return this.processChildren(I,N,x).pipe((0,Je.U)(J=>null===J?null:[new $o(m,J)]));if(0===N.length&&0===j.length)return tt([new $o(m,[])]);const Y=bs(t)===o;return this.processSegment(I,N,x,j,Y?Ot:o).pipe((0,Je.U)(J=>null===J?null:[new $o(m,J)]))}))}}function dS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function P1(n){const e=[],t=new Set;for(const r of n){if(!dS(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=P1(r.children);e.push(new $o(r.value,i))}return e.filter(r=>!t.has(r))}function F1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function su(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function L1(n){return n.data||{}}function B1(n){return n.resolve||{}}function j1(n){return"string"==typeof n.title||null===n.title}function tg(n){return yn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,Je.U)(()=>e)):tt(e)})}const li=new l.OlP("ROUTES");let Ly=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=_s(t.loadComponent()).pipe((0,Je.U)(z1),Vn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(t)})),i=new Na(r,()=>new on.x).pipe(Pp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Je.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,D=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=fh(m.get(li,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(Cy),injector:m}}),$i(()=>{this.childrenLoaders.delete(r)})),c=new Na(o,()=>new on.x).pipe(Pp());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return _s(t()).pipe((0,Je.U)(z1),(0,Br.z)(i=>i instanceof l.YKP||Array.isArray(i)?tt(i):(0,un.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z1(n){return function H1(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let rg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new on.x,this.configLoader=(0,l.f3M)(Ly),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)($l),this.rootContexts=(0,l.f3M)(pc),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new u1(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new BC(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(r=>0!==r.id),(0,Je.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),yn(r=>{let i=!1,o=!1;return tt(r).pipe(Vn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yn(c=>{const f=t.browserUrlTree.toString(),m=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new Gp(c.id,t.serializeUrl(r.rawUrl),D,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Xi.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W1(c.source)&&(t.browserUrlTree=c.extractedUrl),tt(c).pipe(yn(D=>{const I=this.transitions?.getValue();return this.events.next(new jp(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),I!==this.transitions?.getValue()?Xi.E:Promise.resolve(D)}),function Py(n,e,t,r){return yn(i=>function R1(n,e,t,r,i){return new k1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Je.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Vn(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function UR(n,e,t,r,i){return(0,Br.z)(o=>function Eh(n,e,t,r,i,o,c="emptyOnly"){return new lS(n,e,t,r,i,c,o).recognize().pipe(yn(f=>null===f?function Fy(n){return new Yn.y(e=>e.error(n))}(new aS):tt(f)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,Je.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Vn(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(N,D)}t.browserUrlTree=D.urlAfterRedirects}const I=new PC(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(I)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:I,source:N,restoredState:x,extras:j}=c,Y=new jp(D,this.urlSerializer.serialize(I),N,x);this.events.next(Y);const J=p1(I,this.rootComponentType).snapshot;return tt(r={...c,targetSnapshot:J,urlAfterRedirects:I,extras:{...j,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new Gp(c.id,t.serializeUrl(r.extractedUrl),D,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Xi.E}}),Vn(c=>{const f=new FC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Je.U)(c=>r={...c,guards:Sy(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function eS(n,e){return(0,Br.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?tt({...t,guardsResult:!0}):function xy(n,e,t,r){return(0,un.D)(n).pipe((0,Br.z)(i=>function nS(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?tt(o.map(f=>{const m=wh(e)??i,v=tu(f,m);return _s(function Oy(n){return n&&_c(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(Gs())})).pipe(jo()):tt(!0)}(i.component,i.route,t,e,r)),Gs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Br.z)(f=>f&&function Ay(n){return"boolean"==typeof n}(f)?function Jp(n,e,t,r){return(0,un.D)(e).pipe(po(i=>Sa(function I1(n,e){return null!==n&&e&&e(new Hp(n)),tt(!0)}(i.route.parent,r),function ru(n,e){return null!==n&&e&&e(new c1(n)),tt(!0)}(i.route,r),function tS(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function E1(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Aa(()=>tt(c.guards.map(m=>{const v=wh(c.node)??t,D=tu(m,v);return _s(function QC(n){return n&&_c(n.canActivateChild)}(D)?D.canActivateChild(r,n):v.runInContext(()=>D(r,n))).pipe(Gs())})).pipe(jo())));return tt(o).pipe(jo())}(n,i.path,t),function Ry(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(o=>Aa(()=>{const c=wh(e)??t,f=tu(o,c);return _s(function Ny(n){return n&&_c(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Gs())}));return tt(i).pipe(jo())}(n,i.route,t))),Gs(i=>!0!==i,!0))}(r,o,n,e):tt(f)),(0,Je.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),Vn(c=>{if(r.guardsResult=c.guardsResult,je(c.guardsResult))throw GC(0,c.guardsResult);const f=new MR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),tn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),tg(c=>{if(c.guards.canActivateChecks.length)return tt(c).pipe(Vn(f=>{const m=new LC(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),yn(f=>{let m=!1;return tt(f).pipe(function $R(n,e){return(0,Br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let o=0;return(0,un.D)(i).pipe(po(c=>function V1(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!j1(i)&&(o[Ll]=i.title),function jR(n,e,t,r){const i=function U1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return tt({});const o={};return(0,un.D)(i).pipe((0,Br.z)(c=>function $1(n,e,t,r){const i=wh(e)??r,o=tu(n,i);return _s(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(Gs(),Vn(f=>{o[c]=f}))),Fo(1),Fl(o),Po(c=>My(c)?Xi.E:Qi(c)))}(o,n,e,r).pipe((0,Je.U)(c=>(n._resolvedData=c,n.data=Dy(n,t).resolve,i&&j1(i)&&(n.data[Ll]=i.title),null)))}(c.route,r,n,e)),Vn(()=>o++),Fo(1),(0,Br.z)(c=>o===i.length?tt(t):Xi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Vn({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Vn(f=>{const m=new vy(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),tg(c=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Vn(D=>{m.component=D}),(0,Je.U)(()=>{})));for(const D of m.children)v.push(...f(D));return v};return Ki(f(c.targetSnapshot.root)).pipe(rc(),pn(1))}),tg(()=>this.afterPreactivation()),(0,Je.U)(c=>{const f=function m1(n,e,t){const r=fc(n,e._root,t?t._root:void 0);return new f1(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),Vn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Je.U)(r=>(new LR(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Vn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Fa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),$i(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Po(c=>{if(o=!0,HC(c)){qp(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Ql(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),qp(c)){const m=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||W1(r.source)};t.scheduleNavigation(m,yh,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new La(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(m){r.reject(m)}}return Xi.E}))}))}cancelNavigationTransition(t,r,i){const o=new Ql(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W1(n){return n!==yh}let By=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[Ll]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(pS)},providedIn:"root"}),n})(),pS=(()=>{class n extends By{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Lt)},providedIn:"root"}),n})();class mS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Lt=(()=>{class n extends mS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Th=new l.OlP("",{providedIn:"root",factory:()=>({})});let Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(_S)},providedIn:"root"}),n})(),_S=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K1(n){throw n}function yS(n,e,t){return e.parse("/")}const J1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Th,{optional:!0})||{},this.errorHandler=this.options.errorHandler||K1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Z1),this.routeReuseStrategy=(0,l.f3M)(gS),this.urlCreationStrategy=(0,l.f3M)(UC),this.titleStrategy=(0,l.f3M)(By),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fh((0,l.f3M)(li,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(rg),this.urlSerializer=(0,l.f3M)($l),this.location=(0,l.f3M)($e),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=p1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Cy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:c;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,D,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=je(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yh,null,r)}navigate(t,r={skipLocationChange:!1}){return function GR(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...J1}:!1===r?{...vS}:r,je(t))return Ma(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Ma(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let f,m,v,D;return c?(f=c.resolve,m=c.reject,v=c.promise):v=new Promise((I,N)=>{f=I,m=N}),D="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ja=(()=>{class n{constructor(t,r,i,o,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new on.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Fa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ji),l.Y36(mo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(rt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class X1{}let bS=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(tn(t=>t instanceof Fa),po(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,f=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,un.D)(i).pipe((0,kl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):tt(null);const o=i.pipe((0,Br.z)(c=>null===c?tt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,un.D)([o,c]).pipe((0,kl.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ji),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(X1),l.LFG(Ly))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nD=new l.OlP("");let wS=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function wc(n,e){return{\u0275kind:n,\u0275providers:e}}function Ch(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(ji),i=n.get(rD);1===n.get(ig)&&r.initialNavigation(),n.get(iD,null,l.XFs.Optional)?.setUpPreloading(),n.get(nD,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const rD=new l.OlP("",{factory:()=>new on.x}),ig=new l.OlP("",{providedIn:"root",factory:()=>1});const iD=new l.OlP("");function CS(n){return wc(0,[{provide:iD,useExisting:bS},{provide:X1,useExisting:n}])}const sg=new l.OlP("ROUTER_FORROOT_GUARD"),qR=[$e,{provide:$l,useClass:xa},ji,pc,{provide:mo,useFactory:function Vy(n){return n.routerState.root},deps:[ji]},Ly,[]];function $y(){return new l.PXZ("Router",ji)}let sD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qR,[],{provide:li,multi:!0,useValue:t},{provide:sg,useFactory:NS,deps:[[ji,new l.FiY,new l.tp0]]},{provide:Th,useValue:r||{}},r?.useHash?{provide:rt,useClass:Ie}:{provide:rt,useClass:Ne},{provide:nD,useFactory:()=>{const n=(0,l.f3M)(sp),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(Th),r=(0,l.f3M)(rg),i=(0,l.f3M)($l);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wS(i,r,n,e,t)}},r?.preloadingStrategy?CS(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:$y},r?.initialNavigation?aD(r):[],[{provide:lD,useFactory:Ch},{provide:l.tb,multi:!0,useExisting:lD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:li,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sg,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Yp]}),n})();function NS(n){return"guarded"}function aD(n){return["disabled"===n.initialNavigation?wc(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(ji);return()=>{e.setUpLocationChangeListener()}}},{provide:ig,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wc(2,[{provide:ig,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(ji),c=e.get(rD);(function r(i){e.get(ji).events.pipe(tn(c=>c instanceof Fa||c instanceof Ql||c instanceof La),(0,Je.U)(c=>c instanceof Fa||c instanceof Ql&&(0===c.code||1===c.code)&&null),tn(c=>null!==c),pn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(rg).afterPreactivation=()=>(i(!0),c.closed?tt(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const lD=new l.OlP("");class Ic extends ch.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Cc={setInterval(n,e,...t){const{delegate:r}=Cc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Cc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Sh=L(8737);class og extends Ic{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Cc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Cc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sh.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Sc={now:()=>(Sc.delegate||Date).now(),delegate:void 0};class Ac{constructor(e,t=Ac.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ac.now=Sc.now;class ag extends Ac{constructor(e,t=Ac.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Nc=new ag(og),Gy=Nc;var Xt=L(6881);(0,Xt.registerVersion)("firebase","9.23.0","app");var W=L(5861),ft=L(2090),Ys=L(4859),ws=L(1877);let cD,dD;const fD=new WeakMap,pD=new WeakMap,lg=new WeakMap,ug=new WeakMap,zy=new WeakMap;let cg={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return pD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||lg.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ga(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Wy(n){return"function"==typeof n?function PS(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hD(){return dD||(dD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qy(this),e),Ga(fD.get(this))}:function(...e){return Ga(n.apply(qy(this),e))}:function(e,...t){const r=n.call(qy(this),e,...t);return lg.set(r,e.sort?e.sort():[e]),Ga(r)}}(n):(n instanceof IDBTransaction&&function RS(n){if(pD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});pD.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function es(){return cD||(cD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,cg):n)}function Ga(n){if(n instanceof IDBRequest)return function xS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ga(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&fD.set(t,n)}).catch(()=>{}),zy.set(e,n),e}(n);if(ug.has(n))return ug.get(n);const e=Wy(n);return e!==n&&(ug.set(n,e),zy.set(e,n)),e}const qy=n=>zy.get(n),LS=["get","getKey","getAll","getAllKeys","count"],_o=["put","add","delete","clear"],Ah=new Map;function gD(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ah.get(e))return Ah.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_o.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!LS.includes(t))return;const o=function(){var c=(0,W.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let D=v.store;return r&&(D=D.index(m.shift())),(yield Promise.all([D[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return Ah.set(e,o),o}!function kS(n){cg=n(cg)}(n=>({...n,get:(e,t,r)=>gD(e,t)||n.get(e,t,r),has:(e,t)=>!!gD(e,t)||n.has(e,t)}));const mD="@firebase/installations",dg="0.6.4",yD=`w:${dg}`,vD="FIS_v2",Ds=new ft.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function US(n){return n instanceof ft.ZR&&n.code.includes("request-failed")}function Nh({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function $S(n){return{token:n.token,requestStatus:2,expiresIn:gg(n.expiresIn),creationTime:Date.now()}}function fg(n,e){return pg.apply(this,arguments)}function pg(){return(pg=(0,W.Z)(function*(n,e){const r=(yield e.json()).error;return Ds.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ky({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Jy(n,{refreshToken:e}){const t=Ky(n);return t.append("Authorization",function mg(n){return`${vD} ${n}`}(e)),t}function Oh(n){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,W.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function gg(n){return Number(n.replace("s","000"))}function Mh(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Nh(n),i=Ky(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:vD,appId:n.appId,sdkVersion:yD})},m=yield Oh(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:$S(v.authToken)}}throw yield fg("Create Installation",m)})).apply(this,arguments)}function Xy(n){return new Promise(e=>{setTimeout(e,n)})}const jS=/^[cdef][\w-]{21}$/;function xh(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function GS(n){return function bD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return jS.test(t)?t:""}catch{return""}}function Rh(n){return`${n.appName}!${n.appId}`}const Oc=new Map;function wD(n,e){const t=Rh(n);DD(t,e),function WS(n,e){const t=function tv(){return!au&&"BroadcastChannel"in self&&(au=new BroadcastChannel("[Firebase] FID Change"),au.onmessage=n=>{DD(n.data.key,n.data.fid)}),au}();t&&t.postMessage({key:n,fid:e}),function _g(){0===Oc.size&&au&&(au.close(),au=null)}()}(t,e)}function DD(n,e){const t=Oc.get(n);if(t)for(const r of t)r(e)}let au=null;const lu="firebase-installations-store";let rv=null;function iv(){return rv||(rv=function FS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),f=Ga(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Ga(c.result),m.oldVersion,m.newVersion,Ga(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lu)}})),rv}function yg(n,e){return sv.apply(this,arguments)}function sv(){return(sv=(0,W.Z)(function*(n,e){const t=Rh(n),i=(yield iv()).transaction(lu,"readwrite"),o=i.objectStore(lu),c=yield o.get(t);return yield o.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&wD(n,e.fid),e})).apply(this,arguments)}function ov(n){return av.apply(this,arguments)}function av(){return(av=(0,W.Z)(function*(n){const e=Rh(n),r=(yield iv()).transaction(lu,"readwrite");yield r.objectStore(lu).delete(e),yield r.done})).apply(this,arguments)}function Mc(n,e){return vg.apply(this,arguments)}function vg(){return(vg=(0,W.Z)(function*(n,e){const t=Rh(n),i=(yield iv()).transaction(lu,"readwrite"),o=i.objectStore(lu),c=yield o.get(t),f=e(c);return void 0===f?yield o.delete(t):yield o.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&wD(n,f.fid),f})).apply(this,arguments)}function lv(n){return ED.apply(this,arguments)}function ED(){return(ED=(0,W.Z)(function*(n){let e;const t=yield Mc(n.appConfig,r=>{const i=TD(r),o=bg(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function TD(n){return Dg(n||{fid:xh(),registrationStatus:0})}function bg(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ds.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function uu(n,e){return ID.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wg(n)}:{installationEntry:e}}function ID(){return(ID=(0,W.Z)(function*(n,e){try{const t=yield Mh(n,e);return yg(n.appConfig,t)}catch(t){throw US(t)&&409===t.customData.serverCode?yield ov(n.appConfig):yield yg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function wg(n){return uv.apply(this,arguments)}function uv(){return(uv=(0,W.Z)(function*(n){let e=yield CD(n.appConfig);for(;1===e.registrationStatus;)yield Xy(100),e=yield CD(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield lv(n);return r||t}return e})).apply(this,arguments)}function CD(n){return Mc(n,e=>{if(!e)throw Ds.create("installation-not-found");return Dg(e)})}function Dg(n){return function ZS(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function yo(n,e){return cu.apply(this,arguments)}function cu(){return(cu=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=ui(n,t),i=Jy(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:yD,appId:n.appId}})},m=yield Oh(()=>fetch(r,f));if(m.ok)return $S(yield m.json());throw yield fg("Generate Auth Token",m)})).apply(this,arguments)}function ui(n,{fid:e}){return`${Nh(n)}/${e}/authTokens:generate`}function Ho(n){return xc.apply(this,arguments)}function xc(){return(xc=(0,W.Z)(function*(n,e=!1){let t;const r=yield Mc(n.appConfig,o=>{if(!hu(o))throw Ds.create("not-registered");const c=o.authToken;if(!e&&kc(c))return o;if(1===c.requestStatus)return t=Es(n,e),o;{if(!navigator.onLine)throw Ds.create("app-offline");const f=Fc(o);return t=Rc(n,f),f}});return t?yield t:r.authToken})).apply(this,arguments)}function Es(n,e){return kh.apply(this,arguments)}function kh(){return(kh=(0,W.Z)(function*(n,e){let t=yield du(n.appConfig);for(;1===t.authToken.requestStatus;)yield Xy(100),t=yield du(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Ho(n,e):r})).apply(this,arguments)}function du(n){return Mc(n,e=>{if(!hu(e))throw Ds.create("not-registered");return function Lc(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Rc(n,e){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,W.Z)(function*(n,e){try{const t=yield yo(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield yg(n.appConfig,r),t}catch(t){if(!US(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield yg(n.appConfig,r)}else yield ov(n.appConfig);throw t}})).apply(this,arguments)}function hu(n){return void 0!==n&&2===n.registrationStatus}function kc(n){return 2===n.requestStatus&&!function Pc(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Fc(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Eg(){return(Eg=(0,W.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield lv(e);return r?r.catch(console.error):Ho(e).catch(console.error),t.fid})).apply(this,arguments)}function Tg(){return(Tg=(0,W.Z)(function*(n,e=!1){const t=n;return yield AD(t),(yield Ho(t,e)).token})).apply(this,arguments)}function AD(n){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,W.Z)(function*(n){const{registrationPromise:e}=yield lv(n);e&&(yield e)})).apply(this,arguments)}function Sg(n){return Ds.create("missing-app-config-values",{valueName:n})}const Ag="installations",QS=n=>{const e=n.getProvider("app").getImmediate(),t=function JS(n){if(!n||!n.options)throw Sg("App Configuration");if(!n.name)throw Sg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Sg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Xt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ng=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Xt._getProvider)(e,Ag).getImmediate();return{getId:()=>function Bc(n){return Eg.apply(this,arguments)}(t),getToken:i=>function SD(n){return Tg.apply(this,arguments)}(t,i)}};(function Og(){(0,Xt._registerComponent)(new Ys.wA(Ag,QS,"PUBLIC")),(0,Xt._registerComponent)(new Ys.wA("installations-internal",Ng,"PRIVATE"))})(),(0,Xt.registerVersion)(mD,dg),(0,Xt.registerVersion)(mD,dg,"esm2017");const Ph="@firebase/remote-config",Ii=new ft.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class UD{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&c.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(c),o})()}}function $D(n=navigator){return n.languages&&n.languages[0]||n.language}class jD{constructor(e,t,r,i,o,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=c}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:$D()},v={method:"POST",headers:f,body:JSON.stringify(m)},D=fetch(c,v),I=new Promise((ie,ge)=>{e.signal.addEventListener(()=>{const Me=new Error("The operation was aborted.");Me.name="AbortError",ge(Me)})});let N;try{yield Promise.race([D,I]),N=yield D}catch(ie){let ge="fetch-client-network";throw"AbortError"===ie?.name&&(ge="fetch-timeout"),Ii.create(ge,{originalErrorMessage:ie?.message})}let x=N.status;const j=N.headers.get("ETag")||void 0;let Y,J;if(200===N.status){let ie;try{ie=yield N.json()}catch(ge){throw Ii.create("fetch-client-parse",{originalErrorMessage:ge?.message})}Y=ie.entries,J=ie.state}if("INSTANCE_STATE_UNSPECIFIED"===J?x=500:"NO_CHANGE"===J?x=304:("NO_TEMPLATE"===J||"EMPTY_CONFIG"===J)&&(Y={}),304!==x&&200!==x)throw Ii.create("fetch-status",{httpStatus:x});return{status:x,eTag:j,config:Y}})()}}class za{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,W.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,W.Z)(function*(){yield function GD(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Pg(n){if(!(n instanceof ft.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const c={throttleEndTimeMillis:Date.now()+(0,ft.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class gv{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vo(n,e){const t=n.target.error||void 0;return Ii.create(e,{originalErrorMessage:t&&t?.message})}const zo="app_namespace_store";class QR{constructor(e,t,r,i=function JR(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(vo(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zo,{keyPath:"compositeKey"})}}catch(t){e(Ii.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([zo],"readonly").objectStore(zo),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=D=>{o(vo(D,"storage-get"))},v.onsuccess=D=>{const I=D.target.result;i(I?I.value:void 0)}}catch(v){o(Ii.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,W.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,c)=>{const m=i.transaction([zo],"readwrite").objectStore(zo),v=r.createCompositeKey(e);try{const D=m.put({compositeKey:v,value:t});D.onerror=I=>{c(vo(I,"storage-set"))},D.onsuccess=()=>{o()}}catch(D){c(Ii.create("storage-set",{originalErrorMessage:D?.message}))}})})()}delete(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([zo],"readwrite").objectStore(zo),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=D=>{o(vo(D,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){o(Ii.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class aA{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,W.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Sr(){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,W.Z)(function*(){if(!(0,ft.hl)())return!1;try{return yield(0,ft.eu)()}catch{return!1}})).apply(this,arguments)}let HD,yv;!function lA(){(0,Xt._registerComponent)(new Ys.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ii.create("registration-window");if(!(0,ft.hl)())throw Ii.create("indexed-db-unavailable");const{projectId:o,apiKey:c,appId:f}=r.options;if(!o)throw Ii.create("registration-project-id");if(!c)throw Ii.create("registration-api-key");if(!f)throw Ii.create("registration-app-id");const m=new QR(f,r.name,t=t||"firebase"),v=new aA(m),D=new ws.Yd(Ph);D.logLevel=ws.in.ERROR;const I=new jD(i,Xt.SDK_VERSION,t,o,c,f),N=new za(I,m),x=new UD(N,m,v,D),j=new gv(r,x,v,m,D);return function LD(n){const e=(0,ft.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),(0,Xt.registerVersion)(Ph,"0.4.4"),(0,Xt.registerVersion)(Ph,"0.4.4","esm2017")}();const vv=new WeakMap,Wa=new WeakMap,WD=new WeakMap,bv=new WeakMap,Lg=new WeakMap;let ZD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Wa.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WD.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function bo(n){return"function"==typeof n?function Dv(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zD(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Bg(this),e),Wo(vv.get(this))}:function(...e){return Wo(n.apply(Bg(this),e))}:function(e,...t){const r=n.call(Bg(this),e,...t);return WD.set(r,e.sort?e.sort():[e]),Wo(r)}}(n):(n instanceof IDBTransaction&&function qD(n){if(Wa.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Wa.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function dA(){return HD||(HD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ZD):n)}function Wo(n){if(n instanceof IDBRequest)return function hA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Wo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&vv.set(t,n)}).catch(()=>{}),Lg.set(e,n),e}(n);if(bv.has(n))return bv.get(n);const e=bo(n);return e!==n&&(bv.set(n,e),Lg.set(e,n)),e}const Bg=n=>Lg.get(n);function Js(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),f=Wo(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Wo(c.result),m.oldVersion,m.newVersion,Wo(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function ts(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Wo(t).then(()=>{})}const Qs=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],Vg=new Map;function KD(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Vg.get(e))return Vg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=YD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qs.includes(t))return;const o=function(){var c=(0,W.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let D=v.store;return r&&(D=D.index(m.shift())),(yield Promise.all([D[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return Vg.set(e,o),o}!function wv(n){ZD=n(ZD)}(n=>({...n,get:(e,t,r)=>KD(e,t)||n.get(e,t,r),has:(e,t)=>!!KD(e,t)||n.has(e,t)}));const fA="/firebase-messaging-sw.js",pA="/firebase-cloud-messaging-push-scope",JD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vc="google.c.a.c_id",gA="google.c.a.c_l",QD="google.c.a.ts",mA="google.c.a.e";var fu=(()=>{return(n=fu||(fu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",fu;var n})();function Ts(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yA(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Ug="fcm_token_details_db",$g="fcm_token_object_Store";function jg(n){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,W.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Ug))return null;let e=null;return(yield Js(Ug,5,{upgrade:(r=(0,W.Z)(function*(i,o,c,f){var m;if(o<2||!i.objectStoreNames.contains($g))return;const v=f.objectStore($g),D=yield v.index("fcmSenderId").get(n);if(yield v.clear(),D)if(2===o){const I=D;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(m=I.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:Ts(I.vapidKey)}}}else if(3===o){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Ts(I.auth),p256dh:Ts(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Ts(I.vapidKey)}}}else if(4===o){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Ts(I.auth),p256dh:Ts(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Ts(I.vapidKey)}}}}),function(o,c,f,m){return r.apply(this,arguments)})})).close(),yield ts(Ug),yield ts("fcm_vapid_details_db"),yield ts("undefined"),eE(e)?e:null;var r}),Bh.apply(this,arguments)}function eE(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const qa="firebase-messaging-store";let Gg=null;function Hg(){return Gg||(Gg=Js("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(qa)}})),Gg}function Tv(n){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,W.Z)(function*(n){const e=Av(n),r=yield(yield Hg()).transaction(qa).objectStore(qa).get(e);if(r)return r;{const i=yield jg(n.appConfig.senderId);if(i)return yield zg(n,i),i}})).apply(this,arguments)}function zg(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,W.Z)(function*(n,e){const t=Av(n),i=(yield Hg()).transaction(qa,"readwrite");return yield i.objectStore(qa).put(e,t),yield i.done,e})).apply(this,arguments)}function vA(n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,W.Z)(function*(n){const e=Av(n),r=(yield Hg()).transaction(qa,"readwrite");yield r.objectStore(qa).delete(e),yield r.done})).apply(this,arguments)}function Av({appConfig:n}){return n.appId}const Yr=new ft.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wA(n,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,W.Z)(function*(n,e){const t=yield Rv(n),r=iE(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(xv(n.appConfig),i)).json()}catch(c){throw Yr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(o.error)throw Yr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Yr.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function DA(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,W.Z)(function*(n,e){const t=yield Rv(n),r=iE(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${xv(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw Yr.create("token-update-failed",{errorInfo:c?.toString()})}if(o.error)throw Yr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Yr.create("token-update-no-token");return o.token})).apply(this,arguments)}function rE(n,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,W.Z)(function*(n,e){const r={method:"DELETE",headers:yield Rv(n)};try{const o=yield(yield fetch(`${xv(n.appConfig)}/${e}`,r)).json();if(o.error)throw Yr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Yr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function xv({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Rv(n){return kv.apply(this,arguments)}function kv(){return(kv=(0,W.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function iE({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==JD&&(i.web.applicationPubKey=r),i}const sE=6048e5;function oE(n){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,W.Z)(function*(n){const e=yield Lv(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ts(e.getKey("auth")),p256dh:Ts(e.getKey("p256dh"))},r=yield Tv(n.firebaseDependencies);if(r){if(pu(r.subscriptionOptions,t))return Date.now()>=r.createTime+sE?aE(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield rE(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Fv(n.firebaseDependencies,t)}return Fv(n.firebaseDependencies,t)})).apply(this,arguments)}function Pv(n){return qg.apply(this,arguments)}function qg(){return(qg=(0,W.Z)(function*(n){const e=yield Tv(n.firebaseDependencies);e&&(yield rE(n.firebaseDependencies,e.token),yield vA(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function aE(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,W.Z)(function*(n,e){try{const t=yield DA(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield zg(n.firebaseDependencies,r),t}catch(t){throw yield Pv(n),t}})).apply(this,arguments)}function Fv(n,e){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,W.Z)(function*(n,e){const r={token:yield wA(n,e),createTime:Date.now(),subscriptionOptions:e};return yield zg(n,r),r.token})).apply(this,arguments)}function Lv(n,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,W.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yA(e)})})).apply(this,arguments)}function pu(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function lE(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function EA(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Uc(n,e){e.data&&(n.data=e.data)}(e,n),function XR(n,e){var t,r,i,o,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;f&&(n.fcmOptions.link=f);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Bv(n){return"object"==typeof n&&!!n&&Vc in n}function TA(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Jg(n){return Yr.create("missing-app-config-values",{valueName:n})}TA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),TA("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ek{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uE(n){if(!n||!n.options)throw Jg("App Configuration Object");if(!n.name)throw Jg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Jg(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Dt(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,W.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(fA,{scope:pA}),n.swRegistration.update().catch(()=>{})}catch(e){throw Yr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function IA(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,W.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield Dt(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Yr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function $c(n,e){return $v.apply(this,arguments)}function $v(){return($v=(0,W.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=JD)})).apply(this,arguments)}function jc(){return(jc=(0,W.Z)(function*(n,e){if(!navigator)throw Yr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yr.create("permission-blocked");return yield $c(n,e?.vapidKey),yield IA(n,e?.serviceWorkerRegistration),oE(n)})).apply(this,arguments)}function Kn(n,e,t){return cE.apply(this,arguments)}function cE(){return(cE=(0,W.Z)(function*(n,e,t){const r=dE(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Vc],message_name:t[gA],message_time:t[QD],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dE(n){switch(n){case fu.NOTIFICATION_CLICKED:return"notification_open";case fu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jv(){return(jv=(0,W.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===fu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(lE(t)):n.onMessageHandler.next(lE(t)));const r=t.data;Bv(r)&&"1"===r[mA]&&(yield Kn(n,t.messageType,r))})).apply(this,arguments)}const Gv="@firebase/messaging",fE=n=>{const e=new ek(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function hE(n,e){return jv.apply(this,arguments)}(e,t)),e},pE=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Vh(n,e){return jc.apply(this,arguments)}(e,r)}};function gE(){return zv.apply(this,arguments)}function zv(){return(zv=(0,W.Z)(function*(){try{yield(0,ft.eu)()}catch{return!1}return typeof window<"u"&&(0,ft.hl)()&&(0,ft.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function CA(){(0,Xt._registerComponent)(new Ys.wA("messaging",fE,"PUBLIC")),(0,Xt._registerComponent)(new Ys.wA("messaging-internal",pE,"PRIVATE")),(0,Xt.registerVersion)(Gv,"0.12.4"),(0,Xt.registerVersion)(Gv,"0.12.4","esm2017")}();const Xg="analytics",$h="firebase_id",MA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zv="https://www.googletagmanager.com/gtag/js",Ar=new ws.Yd("@firebase/analytics"),ci=new ft.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xA(n){if(!n.startsWith(Zv)){const e=ci.create("invalid-gtag-resource",{gtagURL:n});return Ar.warn(e.message),""}return n}function Yv(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function kA(n,e){const t=function RA(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:xA}),r=document.createElement("script"),i=`${Zv}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rk(n,e,t,r,i,o){return _E.apply(this,arguments)}function _E(){return(_E=(0,W.Z)(function*(n,e,t,r,i,o){const c=r[i];try{if(c)yield e[c];else{const m=(yield Yv(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){Ar.error(f)}n("config",i,o)})).apply(this,arguments)}function ik(n,e,t,r,i){return em.apply(this,arguments)}function em(){return(em=(0,W.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield Yv(t);for(const m of c){const v=f.find(I=>I.measurementId===m),D=v&&e[v.appId];if(!D){o=[];break}o.push(D)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Ar.error(o)}})).apply(this,arguments)}function FA(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Zv)&&t.src.includes(n))return t;return null}const vE=new class LA{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function BA(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function VA(n){return bE.apply(this,arguments)}function bE(){return(bE=(0,W.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:BA(r)},o=MA.replace("{app-id}",t),c=yield fetch(o,i);if(200!==c.status&&304!==c.status){let f="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function UA(n){return nm.apply(this,arguments)}function nm(){return(nm=(0,W.Z)(function*(n,e=vE,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw ci.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ci.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new DE;return setTimeout((0,W.Z)(function*(){f.abort()}),void 0!==t?t:6e4),wE({appId:r,apiKey:i,measurementId:o},c,f,e)})).apply(this,arguments)}function wE(n,e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,W.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=vE){var o;const{appId:c,measurementId:f}=n;try{yield Hh(r,e)}catch(m){if(f)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=yield VA(n);return i.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!$A(v)){if(i.deleteThrottleMetadata(c),f)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw m}const D=503===Number(null===(o=v?.customData)||void 0===o?void 0:o.httpStatus)?(0,ft.$s)(t,i.intervalMillis,30):(0,ft.$s)(t,i.intervalMillis),I={throttleEndTimeMillis:Date.now()+D,backoffCount:t+1};return i.setThrottleMetadata(c,I),Ar.debug(`Calling attemptFetch again in ${D} millis`),wE(n,I,r,i)}})).apply(this,arguments)}function Hh(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $A(n){if(!(n instanceof ft.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class DE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Jv,r0;function Qv(){return(Qv=(0,W.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function s0(n){r0=n}function CE(n){Jv=n}function HA(){return o0.apply(this,arguments)}function o0(){return(o0=(0,W.Z)(function*(){if(!(0,ft.hl)())return Ar.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ft.eu)()}catch(n){return Ar.warn(ci.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function a0(){return(a0=(0,W.Z)(function*(n,e,t,r,i,o,c){var f;const m=UA(n);m.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ar.error(x)),e.push(m);const v=HA().then(x=>{if(x)return r.getId()}),[D,I]=yield Promise.all([m,v]);FA(o)||kA(o,D.measurementId),r0&&(i("consent","default",r0),s0(void 0)),i("js",new Date);const N=null!==(f=c?.config)&&void 0!==f?f:{};return N.origin="firebase",N.update=!0,null!=I&&(N[$h]=I),i("config",D.measurementId,N),Jv&&(i("set",Jv),CE(void 0)),D.measurementId})).apply(this,arguments)}class WA{constructor(e){this.app=e}_delete(){return delete wo[this.app.options.appId],Promise.resolve()}}let wo={},SE=[];const l0={};let AE,Is,Wh="dataLayer",im=!1;function c0(n,e,t){!function qA(){const n=[];if((0,ft.ru)()&&n.push("This is a browser extension environment."),(0,ft.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ci.create("invalid-analytics-context",{errorInfo:e});Ar.warn(t.message)}}();const r=n.options.appId;if(!r)throw ci.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ci.create("no-api-key");Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wo[r])throw ci.create("already-exists",{id:r});if(!im){!function nk(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Wh);const{wrappedGtag:o,gtagCore:c}=function PA(n,e,t,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function tm(n,e,t,r){function o(){return(o=(0,W.Z)(function*(c,...f){try{if("event"===c){const[m,v]=f;yield ik(n,e,t,m,v)}else if("config"===c){const[m,v]=f;yield rk(n,e,t,r,m,v)}else if("consent"===c){const[m]=f;n("consent","update",m)}else if("get"===c){const[m,v,D]=f;n("get",m,v,D)}else if("set"===c){const[m]=f;n("set",m)}else n(c,...f)}catch(m){Ar.error(m)}})).apply(this,arguments)}return function i(c){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(wo,SE,l0,Wh,"gtag");Is=o,AE=c,im=!0}return wo[r]=function zA(n,e,t,r,i,o,c){return a0.apply(this,arguments)}(n,SE,l0,e,AE,Wh,t),new WA(n)}function d0(){return h0.apply(this,arguments)}function h0(){return(h0=(0,W.Z)(function*(){if((0,ft.ru)()||!(0,ft.zI)()||!(0,ft.hl)())return!1;try{return yield(0,ft.eu)()}catch{return!1}})).apply(this,arguments)}const sm="@firebase/analytics";!function p0(){(0,Xt._registerComponent)(new Ys.wA(Xg,(e,{options:t})=>c0(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Xt._registerComponent)(new Ys.wA("analytics-internal",function n(e){try{const t=e.getProvider(Xg).getImmediate();return{logEvent:(r,i,o)=>function lk(n,e,t,r){n=(0,ft.m9)(n),function EE(n,e,t,r,i){return Qv.apply(this,arguments)}(Is,wo[n.app.options.appId],e,t,r).catch(i=>Ar.error(i))}(t,r,i,o)}}catch(t){throw ci.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Xt.registerVersion)(sm,"0.10.0"),(0,Xt.registerVersion)(sm,"0.10.0","esm2017")}();const g0=new class RE extends ag{}(class JA extends og{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var Gc=L(9468),gu=L(5363);const Zh=new l.GfV("7.5.0"),m0="__angularfire_symbol__analyticsIsSupportedValue",_0="__angularfire_symbol__analyticsIsSupported",y0="__angularfire_symbol__remoteConfigIsSupportedValue",v0="__angularfire_symbol__remoteConfigIsSupported",om="__angularfire_symbol__messagingIsSupportedValue",kE="__angularfire_symbol__messagingIsSupported";globalThis[_0]||(globalThis[_0]=d0().then(n=>globalThis[m0]=n).catch(()=>globalThis[m0]=!1)),globalThis[kE]||(globalThis[kE]=gE().then(n=>globalThis[om]=n).catch(()=>globalThis[om]=!1)),globalThis[v0]||(globalThis[v0]=Sr().then(n=>globalThis[y0]=n).catch(()=>globalThis[y0]=!1));const w0=(n,e)=>{const t=e?[e]:(0,Xt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function mu(){}class D0{constructor(e,t=g0){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class PE{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mu,{},mu,mu)),t.pipe(Vn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new D0(Zone.current)),this.insideAngular=t.run(()=>new D0(Zone.current,Nc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _u(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function XA(n){return _u().ngZone.runOutsideAngular(()=>n())}function yu(n){return _u().ngZone.run(()=>n())}function ns(n){return _u(),function Kh(n){return function(t){return(t=t.lift(new PE(n.ngZone))).pipe((0,Gc.R)(n.outsideAngular),(0,gu.Q)(n.insideAngular))}}(_u())(n)}const FE=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),yu(()=>n.apply(void 0,r))},E0=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=yu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mu,{},mu,mu)))),r[o]=FE(r[o],t));const i=XA(()=>n.apply(this,r));if(!e){if(i instanceof Yn.y){const o=_u();return i.pipe((0,Gc.R)(o.outsideAngular),(0,gu.Q)(o.insideAngular))}return yu(()=>i)}return i instanceof Yn.y?i.pipe(ns):i instanceof Promise?yu(()=>new Promise((o,c)=>i.then(f=>yu(()=>o(f)),f=>yu(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:yu(()=>i)};function lm(){return(0,Sn.e)((n,e)=>{let t,r=!1;n.subscribe((0,bn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Hc(n,e=Ei.y){return n=n??LE,(0,Sn.e)((t,r)=>{let i,o=!0;t.subscribe((0,bn.x)(r,c=>{const f=e(c);(o||!n(i,f))&&(o=!1,i=f,r.next(c))}))})}function LE(n,e){return n===e}var Ke,Cs=L(2011),pk=(L(9568),L(3942)),BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ss={},T0=T0||{},Pt=BE||self;function Za(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var As="closure_uid_"+(1e9*Math.random()>>>0),eN=0;function C0(n,e,t){return n.call.apply(n.bind,arguments)}function Qh(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C0:Qh).apply(null,arguments)}function um(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Xs(){this.s=this.s,this.o=this.o}Xs.prototype.s=!1,Xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function I0(n){Object.prototype.hasOwnProperty.call(n,As)&&n[As]||(n[As]=++eN)}(this)},Xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function S0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function A0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Za(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Kr.prototype.h=function(){this.defaultPrevented=!0};var N0=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",()=>{},e),Pt.removeEventListener("test",()=>{},e)}catch{}return n}();function zc(n){return/^[\s\xa0]*$/.test(n)}function Wc(){var n=Pt.navigator;return n&&(n=n.userAgent)?n:""}function Ns(n){return-1!=Wc().indexOf(n)}function dm(n){return dm[" "](n),n}dm[" "]=function(){};var fm,n,M0=Ns("Opera"),qc=Ns("Trident")||Ns("MSIE"),UE=Ns("Edge"),x0=UE||qc,$E=Ns("Gecko")&&!(-1!=Wc().toLowerCase().indexOf("webkit")&&!Ns("Edge"))&&!(Ns("Trident")||Ns("MSIE"))&&!Ns("Edge"),jE=-1!=Wc().toLowerCase().indexOf("webkit")&&!Ns("Edge");function hm(){var n=Pt.document;return n?n.documentMode:void 0}e:{var pm="",gm=(n=Wc(),$E?/rv:([^\);]+)(\)|;)/.exec(n):UE?/Edge\/([\d\.]+)/.exec(n):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jE?/WebKit\/(\S+)/.exec(n):M0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gm&&(pm=gm?gm[1]:""),qc){var mm=hm();if(null!=mm&&mm>parseFloat(pm)){fm=String(mm);break e}}fm=pm}var GE=Pt.document&&qc&&(hm()||parseInt(fm,10))||void 0;function Xh(n,e){if(Kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($E){e:{try{dm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xh.$.h.call(this)}}Vr(Xh,Kr);var HE={2:"touch",3:"pen",4:"mouse"};Xh.prototype.h=function(){Xh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),Ci=0;function Yc(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Ci,this.fa=this.ia=!1}function _m(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function P0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function tN(n){const e={};for(const t in n)e[t]=n[t];return e}const F0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L0(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<F0.length;o++)t=F0[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ya(n){this.src=n,this.g={},this.h=0}function B0(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=VE(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_m(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ef(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Ya.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=ef(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Yc(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var V0="closure_lm_"+(1e6*Math.random()|0),ym={};function zE(n,e,t,r,i){if(r&&r.once)return vm(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zE(n,e[o],t,r,i);return null}return t=j0(t),n&&n[Zc]?n.O(e,t,Jh(r)?!!r.capture:!!r,i):WE(n,e,t,!1,r,i)}function WE(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=Jh(i)?!!i.capture:!!i,f=qE(n);if(f||(n[V0]=f=new Ya(n)),(t=f.add(e,t,r,c,o)).proxy)return t;if(r=function nN(){const e=$0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)N0||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(tf(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vm(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vm(n,e[o],t,r,i);return null}return t=j0(t),n&&n[Zc]?n.P(e,t,Jh(r)?!!r.capture:!!r,i):WE(n,e,t,!0,r,i)}function U0(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)U0(n,e[o],t,r,i);else r=Jh(r)?!!r.capture:!!r,t=j0(t),n&&n[Zc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ef(o=n.g[e],t,r,i))&&(_m(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=qE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ef(e,t,r,i)),(t=-1<n?e[n]:null)&&bm(t))}function bm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zc])B0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(tf(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qE(e))?(B0(t,n),0==t.h&&(t.src=null,e[V0]=null)):_m(n)}}}function tf(n){return n in ym?ym[n]:ym[n]="on"+n}function $0(n,e){if(n.fa)n=!0;else{e=new Xh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&bm(n),n=t.call(r,e)}return n}function qE(n){return(n=n[V0])instanceof Ya?n:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function j0(n){return"function"==typeof n?n:(n[wm]||(n[wm]=function(e){return n.handleEvent(e)}),n[wm])}function Nr(){Xs.call(this),this.i=new Ya(this),this.S=this,this.J=null}function Jn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Kr(e,n);else if(e instanceof Kr)e.target=e.target||n;else{var i=e;L0(e=new Kr(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=Dm(c,r,!0,e)&&i}if(i=Dm(c=e.g=n,r,!0,e)&&i,i=Dm(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Dm(c=e.g=t[o],r,!1,e)&&i}function Dm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var f=c.listener,m=c.la||c.src;c.ia&&B0(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Vr(Nr,Xs),Nr.prototype[Zc]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){U0(this,n,e,t,r)},Nr.prototype.N=function(){if(Nr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_m(t[r]);delete n.g[e],n.h--}}this.J=null},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Em=Pt.JSON.stringify;function mk(){var n=H0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iN=new class G0{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sN,n=>n.reset());class sN{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oN(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function aN(n){Pt.setTimeout(()=>{throw n},0)}let Kc,Jc=!1,H0=new class rN{constructor(){this.h=this.g=null}add(e,t){const r=iN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},z0=()=>{const n=Pt.Promise.resolve(void 0);Kc=()=>{n.then(ZE)}};var ZE=()=>{for(var n;n=mk();){try{n.h.call(n.g)}catch(t){aN(t)}var e=iN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jc=!1};function Tm(n,e){Nr.call(this),this.h=n||1,this.g=e||Pt,this.j=di(this.qb,this),this.l=Date.now()}function W0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Im(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function YE(n){n.g=Im(()=>{n.g=null,n.i&&(n.i=!1,YE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(Tm,Nr),(Ke=Tm.prototype).ga=!1,Ke.T=null,Ke.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jn(this,"tick"),this.ga&&(W0(this),this.start()))}},Ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.N=function(){Tm.$.N.call(this),W0(this),delete this.g};class KE extends Xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YE(this)}N(){super.N(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qc(n){Xs.call(this),this.h=n,this.g={}}Vr(Qc,Xs);var q0=[];function Z0(n,e,t,r){Array.isArray(t)||(t&&(q0[0]=t.toString()),t=q0);for(var i=0;i<t.length;i++){var o=zE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function JE(n){P0(n.g,function(e,t){this.g.hasOwnProperty(t)&&bm(e)},n),n.g={}}function Cm(){this.g=!0}function nf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vk(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return Em(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Qc.prototype.N=function(){Qc.$.N.call(this),JE(this)},Qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cm.prototype.Ea=function(){this.g=!1},Cm.prototype.info=function(){};var Xc={},lN=null;function Y0(){return lN=lN||new Nr}function uN(n){Kr.call(this,Xc.Ta,n)}function Sm(n){const e=Y0();Jn(e,new uN(e))}function rf(n,e){Kr.call(this,Xc.STAT_EVENT,n),this.stat=e}function Gi(n){const e=Y0();Jn(e,new rf(e,n))}function K0(n,e){Kr.call(this,Xc.Ua,n),this.size=e}function Ka(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}Xc.Ta="serverreachability",Vr(uN,Kr),Xc.STAT_EVENT="statevent",Vr(rf,Kr),Xc.Ua="timingevent",Vr(K0,Kr);var sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function XE(){}function Q0(){}XE.prototype.h=null;var tT,af={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nm(){Kr.call(this,"d")}function eT(){Kr.call(this,"c")}function Om(){}function lf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Qc(this),this.P=cN,this.V=new Tm(n=x0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uf}function uf(){this.i=null,this.g="",this.h=!1}Vr(Nm,Kr),Vr(eT,Kr),Vr(Om,XE),Om.prototype.g=function(){return new XMLHttpRequest},Om.prototype.i=function(){return{}},tT=new Om;var cN=45e3,nT={},X0={};function rT(n,e,t){n.L=1,n.v=Rm(Zo(e)),n.s=t,n.S=!0,iT(n,null)}function iT(n,e){n.G=Date.now(),cf(n),n.A=Zo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),uT(t.i,"t",r),n.C=0,t=n.l.J,n.h=new uf,n.g=ET(n.l,t?e:null,!n.s),0<n.O&&(n.M=new KE(di(n.Pa,n,n.g),n.O)),Z0(n.U,n.g,"readystatechange",n.nb),e=n.I?tN(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Sm(),function _k(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",f=o.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var D=v[0];v=v[1];var I=D.split("_");c=2<=I.length&&"type"==I[1]?c+(D+"=")+v+"&":c+(D+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function sT(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function oT(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=bk(n,t),i==X0){4==e&&(n.o=4,Gi(14),r=!1),nf(n.j,n.m,null,"[Incomplete Response]");break}if(i==nT){n.o=4,Gi(15),nf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}nf(n.j,n.m,i,null),tb(n,i)}sT(n)&&i!=X0&&i!=nT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),hb(e),e.M=!0,Gi(11))):(nf(n.j,n.m,t,"[Invalid Chunked Response]"),Jr(n),Mm(n))}function bk(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?X0:(t=Number(e.substring(t,r)),isNaN(t)?nT:(r+=1)+t>e.length?X0:(e=e.slice(r,r+t),n.C=r+t,e))}function cf(n){n.Y=Date.now()+n.P,eb(n,n.P)}function eb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ka(di(n.lb,n),e)}function df(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function Mm(n){0==n.l.H||n.J||wT(n.l,n)}function Jr(n){df(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,W0(n.V),JE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||km(t.i,n)))if(!n.K&&km(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hm(t),Vm(t)}Gm(t),Gi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ka(di(t.ib,t),6e3));if(1>=cT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Xa(t,11)}else if((n.K||t.g==n)&&Hm(t),!zc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const D=v[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const I=v[4];null!=I&&(t.Ga=I,t.l.info("SVER="+t.Ga));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.L=r=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const j=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=r.i;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dT(o,o.h),o.h=null))}if(r.F){const Y=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.Da=Y,In(r.I,r.F,Y))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=DT(r,r.J?r.pa:null,r.Y),c.K){Pm(r.i,c);var f=c,m=r.L;m&&f.setTimeout(m),f.B&&(df(f),cf(f)),r.g=c}else SN(r);0<t.j.length&&sd(t)}else"stop"!=v[0]&&"close"!=v[0]||Xa(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Xa(t,7):ff(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}Sm()}catch{}}function hN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Za(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dN(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Za(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function nb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Za(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Ke=lf.prototype).setTimeout=function(n){this.P=n},Ke.nb=function(n){n=n.target;const e=this.M;e&&3==is(n)?e.l():this.Pa(n)},Ke.Pa=function(n){try{if(n==this.g)e:{const D=is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||x0||this.g&&(this.h.h||this.g.ja()||vT(this.g)))){this.J||4!=D||7==e||Sm(),df(this);var t=this.g.da();this.ca=t;t:if(sT(this)){var r=vT(this.g);n="";var i=r.length,o=4==is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Mm(this);var c="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function QE(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Gi(12),Jr(this),Mm(this);break e}nf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tb(this,t)}this.S?(oT(this,D,c),x0&&this.i&&3==D&&(Z0(this.U,this.V,"tick",this.mb),this.V.start())):(nf(this.j,this.m,c,null),tb(this,c)),4==D&&Jr(this),this.i&&!this.J&&(4==D?wT(this.l,this):(this.i=!1,cf(this)))}else(function TN(n){const e={};n=(n.g&&2<=is(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(zc(n[r]))continue;var t=oN(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function gk(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),Jr(this),Mm(this)}}}catch{}},Ke.mb=function(){if(this.g){var n=is(this.g),e=this.g.ja();this.C<e.length&&(df(this),oT(this,n,e),this.i&&4!=n&&cf(this))}},Ke.cancel=function(){this.J=!0,Jr(this)},Ke.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sm(),Gi(17)),Jr(this),this.o=2,Mm(this)):eb(this,this.Y-n)};var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qo){this.h=n.h,xm(this,n.j),this.s=n.s,this.g=n.g,ed(this,n.m),this.l=n.l;var e=n.i,t=new vu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),rb(this,t),this.o=n.o}else n&&(e=String(n).match(rs))?(this.h=!1,xm(this,e[1]||"",!0),this.s=td(e[2]||""),this.g=td(e[3]||"",!0),ed(this,e[4]),this.l=td(e[5]||"",!0),rb(this,e[6]||"",!0),this.o=td(e[7]||"")):(this.h=!1,this.i=new vu(null,this.h))}function Zo(n){return new qo(n)}function xm(n,e,t){n.j=t?td(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ed(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rb(n,e,t){e instanceof vu?(n.i=e,function _N(n,e){e&&!n.j&&(hi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(lT(this,r),uT(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nd(e,Ja)),n.i=new vu(e,n.h))}function In(n,e,t){n.i.set(e,t)}function Rm(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function td(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nd(e,ib,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nd(e,ib,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nd(t,"/"==t.charAt(0)?sb:gN,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nd(t,aT)),n.join("")};var ib=/[#\/\?@]/g,gN=/[#\?:]/g,sb=/[#\?]/g,Ja=/[#\?@]/g,aT=/#/g;function vu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hi(n){n.g||(n.g=new Map,n.h=0,n.i&&function fN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lT(n,e){hi(n),e=rd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mN(n,e){return hi(n),e=rd(n,e),n.g.has(e)}function uT(n,e,t){lT(n,e),0<t.length&&(n.i=null,n.g.set(rd(n,e),S0(t)),n.h+=t.length)}function rd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ob(n){this.l=n||wk,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ka&&Pt.g.Ka()&&Pt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=vu.prototype).add=function(n,e){hi(this),this.i=null,n=rd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){hi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ke.ta=function(){hi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Ke.Z=function(n){hi(this);let e=[];if("string"==typeof n)mN(this,n)&&(e=e.concat(this.g.get(rd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ke.set=function(n,e){return hi(this),this.i=null,mN(this,n=rd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var wk=10;function ab(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cT(n){return n.h?1:n.g?n.g.size:0}function km(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dT(n,e){n.g?n.g.add(e):n.h=e}function Pm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return S0(n.i)}function fT(){this.g=new class{stringify(n){return Pt.JSON.stringify(n,void 0)}parse(n){return Pt.JSON.parse(n,void 0)}}}function pT(n,e,t){const r=t||"";try{hN(n,function(i,o){let c=i;Jh(i)&&(c=Em(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bu(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qa(n){this.l=n.fc||null,this.j=n.ob||!1}function hf(n,e){Nr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ub,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ob.prototype.cancel=function(){if(this.i=lb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vr(Qa,XE),Qa.prototype.g=function(){return new hf(this.l,this.j)},Qa.prototype.i=function(n){return function(){return n}}({}),Vr(hf,Nr);var ub=0;function mT(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lm(n)}function Lm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=hf.prototype).open=function(n,e){if(this.readyState!=ub)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lm(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fm(this)),this.readyState=ub},Ke.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lm(this)),this.g&&(this.readyState=3,Lm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mT(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ke.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fm(this):Lm(this),3==this.readyState&&mT(this)}},Ke.Za=function(n){this.g&&(this.response=this.responseText=n,Fm(this))},Ke.Ya=function(n){this.g&&(this.response=n,Fm(this))},Ke.ka=function(){this.g&&Fm(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dk=Pt.JSON.parse;function Un(n){Nr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_T,this.L=this.M=!1}Vr(Un,Nr);var _T="",vN=/^https?$/i,bN=["POST","PUT"];function wN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,DN(n),cb(n)}function DN(n){n.F||(n.F=!0,Jn(n,"complete"),Jn(n,"error"))}function EN(n){if(n.h&&typeof T0<"u"&&(!n.C[1]||4!=is(n)||2!=n.da()))if(n.v&&4==is(n))Im(n.La,0,n);else if(Jn(n,"readystatechange"),4==is(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(rs)[1]||null;!i&&Pt.self&&Pt.self.location&&(i=Pt.self.location.protocol.slice(0,-1)),r=!vN.test(i?i.toLowerCase():"")}t=r}if(t)Jn(n,"complete"),Jn(n,"success");else{n.m=6;try{var o=2<is(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",DN(n)}}finally{cb(n)}}}function cb(n,e){if(n.g){yT(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Jn(n,"ready");try{t.onreadystatechange=r}catch{}}}function yT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function is(n){return n.g?n.g.readyState:0}function vT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case _T:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function db(n){let e="";return P0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Yo(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=db(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Bm(n){this.Ga=0,this.j=[],this.l=new Cm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=id("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=id("baseRetryDelayMs",5e3,n),this.hb=id("retryDelaySeedMs",1e4,n),this.eb=id("forwardChannelMaxRetries",2,n),this.xa=id("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ob(n&&n.concurrentRequestLimit),this.Ja=new fT,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ff(n){if(Um(n),3==n.H){var e=n.W++,t=Zo(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),jm(n,t),(e=new lf(n,n.l,e)).L=2,e.v=Rm(Zo(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon)try{t=Pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ET(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cf(e)}pb(n)}function Vm(n){n.g&&(hb(n),n.g.cancel(),n.g=null)}function Um(n){Vm(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),Hm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function sd(n){if(!ab(n.i)&&!n.m){n.m=!0;var e=n.Na;Kc||z0(),Jc||(Kc(),Jc=!0),H0.add(e,n),n.C=0}}function IN(n,e){var t;t=e?e.m:n.W++;const r=Zo(n.I);In(r,"SID",n.K),In(r,"RID",t),In(r,"AID",n.V),jm(n,r),n.o&&n.s&&Yo(r,n.o,n.s),t=new lf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=CN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dT(n.i,t),rT(t,r,e)}function jm(n,e){n.na&&P0(n.na,function(t,r){In(e,r,t)}),n.h&&hN({},function(t,r){In(e,r,t)})}function CN(n,e,t){t=Math.min(n.j.length,t);var r=n.h?di(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const D=i[m].map;if(v-=o,0>v)o=Math.max(0,i[m].g-100),f=!1;else try{pT(D,c,"req"+v+"_")}catch{r&&r(D)}}if(f){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function SN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Kc||z0(),Jc||(Kc(),Jc=!0),H0.add(e,n),n.A=0}}function Gm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ka(di(n.Ma,n),fb(n,n.A)),n.A++,0))}function hb(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function bT(n){n.g=new lf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Zo(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),jm(n,e),n.o&&n.s&&Yo(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Rm(Zo(e)),t.s=null,t.S=!0,iT(t,n)}function Hm(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function wT(n,e){var t=null;if(n.g==e){Hm(n),hb(n),n.g=null;var r=2}else{if(!km(n.i,e))return;t=e.F,Pm(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Jn(r=Y0(),new K0(r,t)),sd(n)}else SN(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function $m(n,e){return!(cT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ka(di(n.Na,n,e),fb(n,n.C)),n.C++,0)))}(n,e)||2==r&&Gm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xa(n,5);break;case 4:Xa(n,10);break;case 3:Xa(n,6);break;default:Xa(n,2)}}function fb(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Xa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=di(n.pb,n);t||(t=new qo("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||xm(t,"https"),Rm(t)),function gT(n,e){const t=new Cm;if(Pt.Image){const r=new Image;r.onload=um(bu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=um(bu,t,r,"TestLoadImage: error",!1,e),r.onabort=um(bu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=um(bu,t,r,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gi(2);n.H=0,n.h&&n.h.za(e),pb(n),Um(n)}function pb(n){if(n.H=0,n.ma=[],n.h){const e=lb(n.i);(0!=e.length||0!=n.j.length)&&(A0(n.ma,e),A0(n.ma,n.j),n.i.i.length=0,S0(n.j),n.j.length=0),n.h.ya()}}function DT(n,e,t){var r=t instanceof qo?Zo(t):new qo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ed(r,r.m);else{var i=Pt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new qo(null);r&&xm(o,r),e&&(o.g=e),i&&ed(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&In(r,t,e),In(r,"VER",n.ra),jm(n,r),r}function ET(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t&&n.Ha&&!n.va?new Qa({ob:!0}):n.va)).Oa(n.J),e}function gb(){}function od(){if(qc&&!(10<=Number(GE)))throw Error("Environmental error: no available transport.")}function Os(n,e){Nr.call(this),this.g=new Bm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!zc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ad(this)}function mb(n){Nm.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zm(){eT.call(this),this.status=1}function ad(n){this.g=n}function Do(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TT(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function _n(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Ke=Un.prototype).Oa=function(n){this.M=n},Ke.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tT.g(),this.C=function Am(n){return n.h||(n.h=n.i())}(this.u?this.u:tT),this.g.onreadystatechange=di(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void wN(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Pt.FormData&&n instanceof Pt.FormData,!(0<=VE(bN,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yT(this),0<this.B&&((this.L=function Ek(n){return qc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.ua,this)):this.A=Im(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){wN(this,o)}},Ke.ua=function(){typeof T0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jn(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jn(this,"complete"),Jn(this,"abort"),cb(this))},Ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cb(this,!0)),Un.$.N.call(this)},Ke.La=function(){this.s||(this.G||this.v||this.l?EN(this):this.kb())},Ke.kb=function(){EN(this)},Ke.isActive=function(){return!!this.g},Ke.da=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},Ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ke.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Dk(e)}},Ke.Ia=function(){return this.m},Ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=Bm.prototype).ra=8,Ke.H=1,Ke.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new lf(this,this.l,n);let o=this.s;if(this.U&&(o?(o=tN(o),L0(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CN(this,i,e),In(t=Zo(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),jm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(db(o)))+"&"+e:this.o&&Yo(t,this.o,o)),dT(this.i,i),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),i.aa=!0,rT(i,t,null)):rT(i,t,e),this.H=2}}else 3==this.H&&(n?IN(this,n):0==this.j.length||ab(this.i)||IN(this))},Ke.Ma=function(){if(this.u=null,bT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ka(di(this.jb,this),n)}},Ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gi(10),Vm(this),bT(this))},Ke.ib=function(){null!=this.v&&(this.v=null,Vm(this),Gm(this),Gi(19))},Ke.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Gi(2)):(this.l.info("Failed to ping google.com"),Gi(1))},Ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ke=gb.prototype).Ba=function(){},Ke.Aa=function(){},Ke.za=function(){},Ke.ya=function(){},Ke.isActive=function(){return!0},Ke.Va=function(){},od.prototype.g=function(n,e){return new Os(n,e)},Vr(Os,Nr),Os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Gi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=DT(n,null,n.Y),sd(n)},Os.prototype.close=function(){ff(this.g)},Os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Em(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sd(e)},Os.prototype.N=function(){this.g.h=null,delete this.j,ff(this.g),delete this.g,Os.$.N.call(this)},Vr(mb,Nm),Vr(zm,eT),Vr(ad,gb),ad.prototype.Ba=function(){Jn(this.g,"a")},ad.prototype.Aa=function(n){Jn(this.g,new mb(n))},ad.prototype.za=function(n){Jn(this.g,new zm)},ad.prototype.ya=function(){Jn(this.g,"b")},Vr(Do,function AN(){this.blockSize=-1}),Do.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Do.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)TT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){TT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){TT(this,r),i=0;break}}this.h=i,this.i+=e},Do.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var NN={};function _b(n){return-128<=n&&128>n?function O0(n,e){var t=NN;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new _n([0|e],0>e?-1:0)}):new _n([0|n],0>n?-1:0)}function Ko(n){if(isNaN(n)||!isFinite(n))return pf;if(0>n)return fi(Ko(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=IT;return new _n(e,0)}var IT=4294967296,pf=_b(0),CT=_b(1),ST=_b(16777216);function el(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function eo(n){return-1==n.h}function fi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new _n(t,~n.h).add(CT)}function yb(n,e){return n.add(fi(e))}function Wm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qm(n,e){this.g=n,this.h=e}function s(n,e){if(el(e))throw Error("division by zero");if(el(n))return new qm(pf,pf);if(eo(n))return e=s(fi(n),e),new qm(fi(e.g),fi(e.h));if(eo(e))return e=s(n,fi(e)),new qm(fi(e.g),e.h);if(30<n.g.length){if(eo(n)||eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=CT,r=e;0>=r.X(n);)t=a(t),r=a(r);var i=u(t,1),o=u(r,1);for(r=u(r,2),t=u(t,2);!el(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=u(r,1),t=u(t,1)}return e=yb(n,i.R(e)),new qm(i,e)}for(i=pf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=Ko(t)).R(e);eo(c)||0<c.X(n);)c=(o=Ko(t-=r)).R(e);el(o)&&(o=CT),i=i.add(o),n=yb(n,c)}return new qm(i,n)}function a(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new _n(t,n.h)}function u(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new _n(i,n.h)}(Ke=_n.prototype).ea=function(){if(eo(this))return-fi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:IT+r)*e,e*=IT}return n},Ke.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(el(this))return"0";if(eo(this))return"-"+fi(this).toString(n);for(var e=Ko(Math.pow(n,6)),t=this,r="";;){var i=s(t,e).g,o=((0<(t=yb(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(el(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ke.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ke.X=function(n){return eo(n=yb(this,n))?-1:el(n)?0:1},Ke.abs=function(){return eo(this)?fi(this):this},Ke.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new _n(t,-2147483648&t[t.length-1]?-1:0)},Ke.R=function(n){if(el(this)||el(n))return pf;if(eo(this))return eo(n)?fi(this).R(fi(n)):fi(fi(this).R(n));if(eo(n))return fi(this.R(fi(n)));if(0>this.X(ST)&&0>n.X(ST))return Ko(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,Wm(t,2*r+2*i),t[2*r+2*i+1]+=o*m,Wm(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,Wm(t,2*r+2*i+1),t[2*r+2*i+2]+=o*f,Wm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new _n(t,0)},Ke.gb=function(n){return s(this,n).h},Ke.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new _n(t,this.h&n.h)},Ke.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new _n(t,this.h|n.h)},Ke.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new _n(t,this.h^n.h)},od.prototype.createWebChannel=od.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,J0.COMPLETE="complete",Q0.EventType=af,af.OPEN="a",af.CLOSE="b",af.ERROR="c",af.MESSAGE="d",Nr.prototype.listen=Nr.prototype.O,Un.prototype.listenOnce=Un.prototype.P,Un.prototype.getLastError=Un.prototype.Sa,Un.prototype.getLastErrorCode=Un.prototype.Ia,Un.prototype.getStatus=Un.prototype.da,Un.prototype.getResponseJson=Un.prototype.Wa,Un.prototype.getResponseText=Un.prototype.ja,Un.prototype.send=Un.prototype.ha,Un.prototype.setWithCredentials=Un.prototype.Oa,Do.prototype.digest=Do.prototype.l,Do.prototype.reset=Do.prototype.reset,Do.prototype.update=Do.prototype.j,_n.prototype.add=_n.prototype.add,_n.prototype.multiply=_n.prototype.R,_n.prototype.modulo=_n.prototype.gb,_n.prototype.compare=_n.prototype.X,_n.prototype.toNumber=_n.prototype.ea,_n.prototype.toString=_n.prototype.toString,_n.prototype.getBits=_n.prototype.D,_n.fromNumber=Ko,_n.fromString=function ON(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return fi(ON(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ko(Math.pow(e,8)),r=pf,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=Ko(Math.pow(e,o)),r=r.R(o).add(Ko(c))):r=(r=r.R(t)).add(Ko(c))}return r};var d=Ss.createWebChannelTransport=function(){return new od},h=Ss.getStatEventTarget=function(){return Y0()},g=Ss.ErrorCode=sf,y=Ss.EventType=J0,E=Ss.Event=Xc,T=Ss.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},C=Ss.FetchXmlHttpFactory=Qa,A=Ss.WebChannel=Q0,P=Ss.XhrIo=Un,H=Ss.Md5=Do,K=Ss.Integer=_n;const fe="@firebase/firestore";class ye{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");let He="9.23.0";const et=new ws.Yd("@firebase/firestore");function Et(){return et.logLevel}function se(n,...e){if(et.logLevel<=ws.in.DEBUG){const t=e.map(AT);et.debug(`Firestore (${He}): ${n}`,...t)}}function Bt(n,...e){if(et.logLevel<=ws.in.ERROR){const t=e.map(AT);et.error(`Firestore (${He}): ${n}`,...t)}}function dn(n,...e){if(et.logLevel<=ws.in.WARN){const t=e.map(AT);et.warn(`Firestore (${He}): ${n}`,...t)}}function AT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${He}) INTERNAL ASSERTION FAILED: `+n;throw Bt(e),new Error(e)}function gt(n,e){n||ot()}function Qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ye.UNAUTHENTICATED))}shutdown(){}}class h${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f${constructor(e){this.t=e,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,W.Z)(function*(){yield v.promise,yield o(r.currentUser)}))},m=v=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new Tk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new ye(e)}}class p${constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class g${constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new p$(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m${constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),this.T=t.token,new Ik(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ck{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function Zm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Sk(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Qn(0,0))}static max(){return new _t(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vb{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends vb{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const y$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends vb{construct(e,t,r){return new fr(e,t,r)}static isValidIdentifier(e){return y$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(o(),i++)}if(o(),c)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(hn.fromString(e))}static fromName(e){return new Ye(hn.fromString(e).popFirst(5))}static empty(){return new Ye(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new hn(e.slice()))}}class NT{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function MN(n){return n.fields.find(e=>2===e.kind)}function gf(n){return n.fields.filter(e=>2!==e.kind)}NT.UNKNOWN_ID=-1;class OT{constructor(e,t){this.fieldPath=e,this.kind=t}}class bb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bb(0,to.min())}}function Ak(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new to(i,Ye.empty(),e)}function Nk(n){return new to(n.readTime,n.key,-1)}class to{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new to(_t.min(),Ye.empty(),-1)}static max(){return new to(_t.max(),Ye.empty(),-1)}}function xN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ld(n){return RN.apply(this,arguments)}function RN(){return RN=(0,W.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==Ok)throw n;se("LocalStore","Unexpectedly lost primary lease")}),RN.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,o=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++o,c&&o===i&&t()},m=>r(m))}),c=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const o=e.length,c=new Array(o);let f=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next(D=>{c[v]=D,++f,f===o&&r(c)},D=>i(D))}})}static doWhile(e,t){return new ee((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class MT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new wb(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=kN(r.target.error);this.v.reject(new wb(e,i))}}static open(e,t,r,i){try{return new MT(t,e.transaction(i,r))}catch(o){throw new wb(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D$(t)}}class Jo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Jo.S((0,ft.z$)())&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),mf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ft.hl)())return!1;if(Jo.C())return!0;const e=(0,ft.z$)(),t=Jo.S(e),r=0<t&&t<10,i=Jo.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,W.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new wb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new _e(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new _e(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new wb(e,f))},o.onupgradeneeded=c=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,W.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.$(e);const m=MT.open(o.db,e,c?"readonly":"readwrite",r),v=i(m).next(D=>(m.P(),D)).catch(D=>(m.abort(D),ee.reject(D))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,D="FirebaseError"!==v.name&&f<3;if(se("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),o.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class w${constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return mf(this.L.delete())}}class wb extends _e{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ud(n){return"IndexedDbTransactionError"===n.name}class D${constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mf(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),mf(this.store.add(e))}get(e){return mf(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),mf(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),mf(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,f)=>{o.push(f)}).next(()=>o)}{const i=this.store.getAll(r.range);return new ee((o,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{o(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ee((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ee((r,i)=>{t.onerror=o=>{const c=kN(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}W(e,t){const r=[];return new ee((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new w$(f),v=t(f.primaryKey,f.value,m);if(v instanceof ee){const D=v.catch(I=>(m.done(),ee.reject(I)));r.push(D)}m.isDone?i():null===m.K?f.continue():f.continue(m.K)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mf(n){return new ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=kN(r.target.error);t(i)}})}let xk=!1;function kN(n){const e=Jo.S((0,ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xk||(xk=!0,setTimeout(()=>{throw r},0)),r}}return n}class E${constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ud(r)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ld(r)}yield t.et(6e4)}))}}class T${constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return ee.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return se("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(f=>{i-=f,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(f=>(se("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=Nk(o);xN(c,r)>0&&(r=c)}),new to(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let no=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Db(n){return null==n}function Eb(n){return 0===n&&1/n==-1/0}function Rk(n){return"number"==typeof n&&Number.isInteger(n)&&!Eb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Hi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kk(e)),e=I$(n.get(t),e);return kk(e)}function I$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function kk(n){return n+"\x01\x01"}function tl(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&ot(),n.charAt(c+1)){case"\x01":const f=n.substring(o,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:ot()}o=c+2}return new hn(r)}const Pk=["userId","batchId"];function xT(n,e){return[n,Hi(e)]}function Fk(n,e,t){return[n,Hi(e),t]}const C$={},S$=["prefixPath","collectionGroup","readTime","documentId"],A$=["prefixPath","collectionGroup","documentId"],N$=["collectionGroup","readTime","prefixPath","documentId"],O$=["canonicalId","targetId"],M$=["targetId","path"],x$=["path","targetId"],R$=["collectionId","parent"],k$=["indexId","uid"],P$=["uid","sequenceNumber"],F$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L$=["indexId","uid","orderedDocumentKey"],B$=["userId","collectionPath","documentId"],V$=["userId","collectionPath","largestBatchId"],U$=["userId","collectionGroup","largestBatchId"],Lk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$$=[...Lk,"documentOverlays"],Bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vk=Bk,j$=[...Vk,"indexConfiguration","indexState","indexEntries"];class PN extends Mk{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function pi(n,e){const t=Qe(n);return Jo.M(t.ht,e)}function Uk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $k(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pn{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new Pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RT(this.root,e,this.comparator,!1)}getReverseIterator(){return new RT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RT(this.root,e,this.comparator,!0)}}class RT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=o??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Si(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jk(this.data.getIterator())}getIteratorFrom(e){return new jk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class jk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ym(n){return n.hasNext()?n.getNext():void 0}class Ms{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new Ms([])}unionWith(e){let t=new $n(fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Gk("Invalid base64 string: "+i):i}}(e);return new Xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const H$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dd(n){if(gt(!!n),"string"==typeof n){let e=0;const t=H$.exec(n);if(gt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function kT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PT(n){const e=n.mapValue.fields.__previous_value__;return kT(e)?PT(e):e}function Tb(n){const e=dd(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class z${constructor(e,t,r,i,o,c,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class hd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FT={nullValue:"NULL_VALUE"};function pd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kT(n)?4:qk(n)?9007199254740991:10:ot()}function nl(n,e){if(n===e)return!0;const t=pd(n);if(t!==pd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tb(n).isEqual(Tb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=dd(r.timestampValue),c=dd(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,wu(n.bytesValue).isEqual(wu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pr(r.geoPointValue.latitude)===pr(i.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pr(r.integerValue)===pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=pr(r.doubleValue),c=pr(i.doubleValue);return o===c?Eb(o)===Eb(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Zm(n.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Uk(o)!==Uk(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===c[f]||!nl(o[f],c[f])))return!1;return!0}(n,e);default:return ot()}var i}function Ib(n,e){return void 0!==(n.values||[]).find(t=>nl(t,e))}function gd(n,e){if(n===e)return 0;const t=pd(n),r=pd(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=pr(i.integerValue||i.doubleValue),f=pr(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Hk(n.timestampValue,e.timestampValue);case 4:return Hk(Tb(n),Tb(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,o){const c=wu(i),f=wu(o);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),f=o.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=Vt(c[m],f[m]);if(0!==v)return v}return Vt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Vt(pr(i.latitude),pr(o.latitude));return 0!==c?c:Vt(pr(i.longitude),pr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],f=o.values||[];for(let m=0;m<c.length&&m<f.length;++m){const v=gd(c[m],f[m]);if(v)return v}return Vt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===fd.mapValue&&o===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(o===fd.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),m=o.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let D=0;D<f.length&&D<v.length;++D){const I=Vt(f[D],v[D]);if(0!==I)return I;const N=gd(c[f[D]],m[v[D]]);if(0!==N)return N}return Vt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw ot()}}function Hk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=dd(n),r=dd(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function Km(n){return FN(n)}function FN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=dd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=FN(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${FN(r.fields[f])}`;return o+"}"}(n.mapValue):ot();var e}function _f(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function LN(n){return!!n&&"integerValue"in n}function Cb(n){return!!n&&"arrayValue"in n}function zk(n){return!!n&&"nullValue"in n}function Wk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function BT(n){return!!n&&"mapValue"in n}function Sb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function W$(n){return"nullValue"in n?FT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_f(hd.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function q$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_f(hd.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?fd:ot()}function Zk(n,e){const t=gd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Yk(n,e){const t=gd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!BT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sb(t)}setAll(e){let t=fr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Sb(c):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());BT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];BT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cd(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ai(Sb(this.value))}}function Kk(n){const e=[];return cd(n.fields,(t,r)=>{const i=new fr([t]);if(BT(r)){const o=Kk(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Ms(e)}class jn{constructor(e,t,r,i,o,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new jn(e,0,_t.min(),_t.min(),_t.min(),Ai.empty(),0)}static newFoundDocument(e,t,r,i){return new jn(e,1,t,_t.min(),r,i,0)}static newNoDocument(e,t){return new jn(e,2,t,_t.min(),_t.min(),Ai.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,_t.min(),_t.min(),Ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class md{constructor(e,t){this.position=e,this.inclusive=t}}function Jk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):gd(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Qk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nl(n.position[t],e.position[t]))return!1;return!0}class Jm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xk{}class nn extends Xk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Y$(e,t,r):"array-contains"===t?new Q$(e,r):"in"===t?new sP(e,r):"not-in"===t?new X$(e,r):"array-contains-any"===t?new ej(e,r):new nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new K$(e,r):new J$(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gd(t,this.value)):null!==t&&pd(this.value)===pd(t)&&this.matchesComparison(gd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends Xk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new wn(e,t)}matches(e){return Qm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qm(n){return"and"===n.op}function BN(n){return"or"===n.op}function VN(n){return eP(n)&&Qm(n)}function eP(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}function UN(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Km(n.value);if(VN(n))return n.filters.map(e=>UN(e)).join(",");{const e=n.filters.map(t=>UN(t)).join(",");return`${n.op}(${e})`}}function tP(n,e){return n instanceof nn?(t=n,(r=e)instanceof nn&&t.op===r.op&&t.field.isEqual(r.field)&&nl(t.value,r.value)):n instanceof wn?function(t,r){return r instanceof wn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&tP(o,r.filters[c]),!0)}(n,e):void ot();var t,r}function nP(n,e){const t=n.filters.concat(e);return wn.create(t,n.op)}function rP(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${Km(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(rP).join(" ,")+"}"}(n):"Filter";var e}class Y$ extends nn{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class K$ extends nn{constructor(e,t){super(e,"in",t),this.keys=iP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class J$ extends nn{constructor(e,t){super(e,"not-in",t),this.keys=iP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class Q$ extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cb(t)&&Ib(t.arrayValue,this.value)}}class sP extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ib(this.value.arrayValue,t)}}class X$ extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ib(this.value.arrayValue,t)}}class ej extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ib(this.value.arrayValue,r))}}class tj{constructor(e,t=null,r=[],i=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=f,this.dt=null}}function $N(n,e=null,t=[],r=[],i=null,o=null,c=null){return new tj(n,e,t,r,i,o,c)}function yf(n){const e=Qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>UN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Db(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Km(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Km(r)).join(",")),e.dt=t}return e.dt}function Ab(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qk(n.startAt,e.startAt)&&Qk(n.endAt,e.endAt)}function VT(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function UT(n,e){return n.filters.filter(t=>t instanceof nn&&t.field.isEqual(e))}function oP(n,e,t){let r=FT,i=!0;for(const o of UT(n,e)){let c=FT,f=!0;switch(o.op){case"<":case"<=":c=W$(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,f=!1;break;case"!=":case"not-in":c=FT}Zk({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Zk({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function aP(n,e,t){let r=fd,i=!0;for(const o of UT(n,e)){let c=fd,f=!0;switch(o.op){case">=":case">":c=q$(o.value),f=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,f=!1;break;case"!=":case"not-in":c=fd}Yk({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Yk({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Du{constructor(e,t=null,r=[],i=[],o=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function lP(n,e,t,r,i,o,c,f){return new Du(n,e,t,r,i,o,c,f)}function Xm(n){return new Du(n)}function uP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $T(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function GN(n){return null!==n.collectionGroup}function vf(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=$T(e),r=jN(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Jm(t)),e.wt.push(new Jm(fr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jm(fr.keyField(),o))}}}return e.wt}function ss(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=$N(e.path,e.collectionGroup,vf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of vf(e))t.push(new Jm(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new md(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new md(e.startAt.position,e.startAt.inclusive):null;e._t=$N(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function HN(n,e){e.getFirstInequalityField(),$T(n);const t=n.filters.concat([e]);return new Du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jT(n,e,t){return new Du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nb(n,e){return Ab(ss(n),ss(e))&&n.limitType===e.limitType}function cP(n){return`${yf(ss(n))}|lt:${n.limitType}`}function zN(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>rP(r)).join(", ")}]`),Db(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Km(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Km(r)).join(",")),`Target(${t})`}(ss(n))}; limitType=${n.limitType})`}function Ob(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of vf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const f=Jk(i,o,c);return i.inclusive?f<=0:f<0}(t.startAt,vf(t),r)||t.endAt&&!function(i,o,c){const f=Jk(i,o,c);return i.inclusive?f>=0:f>0}(t.endAt,vf(t),r)));var t,r}function dP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hP(n){return(e,t)=>{let r=!1;for(const i of vf(n)){const o=nj(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function nj(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,o,c){const f=o.data.field(i),m=c.data.field(i);return null!==f&&null!==m?gd(f,m):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class Eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cd(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return $k(this.inner)}size(){return this.innerSize}}const rj=new Pn(Ye.comparator);function xs(){return rj}const fP=new Pn(Ye.comparator);function Mb(...n){let e=fP;for(const t of n)e=e.insert(t.key,t);return e}function pP(n){let e=fP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rl(){return xb()}function gP(){return xb()}function xb(){return new Eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const ij=new Pn(Ye.comparator),sj=new $n(Ye.comparator);function qt(...n){let e=sj;for(const t of n)e=e.add(t);return e}const oj=new $n(Vt);function WN(){return oj}function mP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eb(e)?"-0":e}}function _P(n){return{integerValue:""+n}}function yP(n,e){return Rk(e)?_P(e):mP(n,e)}class GT{constructor(){this._=void 0}}function aj(n,e,t){return n instanceof e_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&kT(i)&&(i=PT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof bf?bP(n,e):n instanceof wf?wP(n,e):function(r,i){const o=vP(r,i),c=DP(o)+DP(r.gt);return LN(o)&&LN(r.gt)?_P(c):mP(r.serializer,c)}(n,e)}function lj(n,e,t){return n instanceof bf?bP(n,e):n instanceof wf?wP(n,e):t}function vP(n,e){return n instanceof t_?LN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class e_ extends GT{}class bf extends GT{constructor(e){super(),this.elements=e}}function bP(n,e){const t=EP(e);for(const r of n.elements)t.some(i=>nl(i,r))||t.push(r);return{arrayValue:{values:t}}}class wf extends GT{constructor(e){super(),this.elements=e}}function wP(n,e){let t=EP(e);for(const r of n.elements)t=t.filter(i=>!nl(i,r));return{arrayValue:{values:t}}}class t_ extends GT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function DP(n){return pr(n.integerValue||n.doubleValue)}function EP(n){return Cb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rb{constructor(e,t){this.field=e,this.transform=t}}class cj{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function HT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zT{}function TP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new r_(n.key,Xn.none()):new n_(n.key,n.data,Xn.none());{const t=n.data,r=Ai.empty();let i=new $n(fr.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new Tu(n.key,r,new Ms(i.toArray()),Xn.none())}}function dj(n,e,t){n instanceof n_?function(r,i,o){const c=r.value.clone(),f=SP(r.fieldTransforms,i,o.transformResults);c.setAll(f),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Tu?function(r,i,o){if(!HT(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=SP(r.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(CP(r)),f.setAll(c),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kb(n,e,t,r){return n instanceof n_?function(i,o,c,f){if(!HT(i.precondition,o))return c;const m=i.value.clone(),v=AP(i.fieldTransforms,f,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tu?function(i,o,c,f){if(!HT(i.precondition,o))return c;const m=AP(i.fieldTransforms,f,o),v=o.data;return v.setAll(CP(i)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,HT(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function hj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=vP(r.transform,i||null);null!=o&&(null===t&&(t=Ai.empty()),t.set(r.field,o))}return t||null}function IP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zm(t,r,(i,o)=>function uj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof bf&&r instanceof bf||t instanceof wf&&r instanceof wf?Zm(t.elements,r.elements,nl):t instanceof t_&&r instanceof t_?nl(t.gt,r.gt):t instanceof e_&&r instanceof e_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class n_ extends zT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tu extends zT{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function SP(n,e,t){const r=new Map;gt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,f=e.data.field(o.field);r.set(o.field,lj(c,f,t[i]))}return r}function AP(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,aj(o,c,e))}return r}class r_ extends zT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qN extends zT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gP();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(i.key)?null:f;const m=TP(c,f);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Zm(this.mutations,e.mutations,(t,r)=>IP(t,r))&&Zm(this.baseMutations,e.baseMutations,(t,r)=>IP(t,r))}}class YN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){gt(e.mutations.length===r.length);let i=ij;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new YN(e,t,r,i)}}class KN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pj{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ur,fn;function NP(n){switch(n){default:return ot();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function OP(n){if(void 0===n)return Bt("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ur.OK:return re.OK;case Ur.CANCELLED:return re.CANCELLED;case Ur.UNKNOWN:return re.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return re.INTERNAL;case Ur.UNAVAILABLE:return re.UNAVAILABLE;case Ur.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ur.NOT_FOUND:return re.NOT_FOUND;case Ur.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ur.ABORTED:return re.ABORTED;case Ur.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ur.DATA_LOSS:return re.DATA_LOSS;default:return ot()}}(fn=Ur||(Ur={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class JN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return WT}static getOrCreateInstance(){return null===WT&&(WT=new JN),WT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let WT=null;function MP(){return new TextEncoder}const gj=new K([4294967295,4294967295],0);function xP(n){const e=MP().encode(n),t=new H;return t.update(e),new Uint8Array(t.digest())}function RP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new K([t,r],0),new K([i,o],0)]}class QN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pb(`Invalid padding: ${t}`);if(r<0)throw new Pb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Pb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Pb(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=K.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(K.fromNumber(r)));return 1===i.compare(gj)&&(i=new K([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=xP(e),[r,i]=RP(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new QN(o,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const t=xP(e),[r,i]=RP(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fb{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Lb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fb(_t.min(),i,new Pn(Vt),xs(),qt())}}class Lb{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lb(r,t,qt(),qt(),qt())}}class qT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class kP{constructor(e,t){this.targetId=e,this.Vt=t}}class PP{constructor(e,t,r=Xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class FP{constructor(){this.St=0,this.Dt=BP(),this.Ct=Xr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qt(),t=qt(),r=qt();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Lb(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=BP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class mj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xs(),this.zt=LP(),this.Wt=new Pn(Vt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const c=o.target;if(VT(c))if(0===i){const f=new Ye(c.path);this.Yt(r,f,jn.newNoDocument(f,_t.min()))}else gt(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=JN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,D,I){var N,x,j,Y,J,ie;const ge={localCacheCount:D,existenceFilterCount:I.count},Me=I.unchangedNames;return Me&&(ge.bloomFilter={applied:0===v,hashCount:null!==(N=Me?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Y=null===(j=null===(x=Me?.bits)||void 0===x?void 0:x.bitmap)||void 0===j?void 0:j.length)&&void 0!==Y?Y:0,padding:null!==(ie=null===(J=Me?.bits)||void 0===J?void 0:J.padding)&&void 0!==ie?ie:0}),ge}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:f=0}=r;let m,v;try{m=wu(o).toUint8Array()}catch(D){if(D instanceof Gk)return dn("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{v=new QN(m,c,f)}catch(D){return dn(D instanceof Pb?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.vt(f)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,c)=>{const f=this.se(c);if(f){if(o.current&&VT(f.target)){const m=new Ye(f.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,jn.newNoDocument(m,e))}o.Mt&&(t.set(c,o.Ot()),o.Ft())}});let r=qt();this.zt.forEach((o,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(e));const i=new Fb(e,t,this.Wt,this.jt,r);return this.jt=xs(),this.zt=LP(),this.Wt=new Pn(Vt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new FP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $n(Vt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new FP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LP(){return new Pn(Ye.comparator)}function BP(){return new Pn(Ye.comparator)}const _j={asc:"ASCENDING",desc:"DESCENDING"},yj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vj={and:"AND",or:"OR"};class bj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function XN(n,e){return n.useProto3Json||Db(e)?e:{value:e}}function i_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wj(n,e){return i_(n,e.toTimestamp())}function Or(n){return gt(!!n),_t.fromTimestamp(function(e){const t=dd(e);return new Qn(t.seconds,t.nanos)}(n))}function eO(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UP(n){const e=hn.fromString(n);return gt(YP(e)),e}function Bb(n,e){return eO(n.databaseId,e.path)}function il(n,e){const t=UP(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(jP(t))}function tO(n,e){return eO(n.databaseId,e)}function $P(n){const e=UP(n);return 4===e.length?hn.emptyPath():jP(e)}function Vb(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jP(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GP(n,e,t){return{name:Bb(n,e),fields:t.value.mapValue.fields}}function HP(n,e,t){const r=il(n,e.name),i=Or(e.updateTime),o=e.createTime?Or(e.createTime):_t.min(),c=new Ai({mapValue:{fields:e.fields}}),f=jn.newFoundDocument(r,i,o,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Ub(n,e){let t;if(e instanceof n_)t={update:GP(n,e.key,e.value)};else if(e instanceof r_)t={delete:Bb(n,e.key)};else if(e instanceof Tu)t={update:GP(n,e.key,e.data),updateMask:Nj(e.fieldMask)};else{if(!(e instanceof qN))return ot();t={verify:Bb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof e_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof t_)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function nO(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xn.updateTime(Or(i.updateTime)):void 0!==i.exists?Xn.exists(i.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let f=null;"setToServerValue"in c?(gt("REQUEST_TIME"===c.setToServerValue),f=new e_):"appendMissingElements"in c?f=new bf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new wf(c.removeAllFromArray.values||[]):"increment"in c?f=new t_(o,c.increment):ot();const m=fr.fromServerFormat(c.fieldPath);return new Rb(m,f)}(n,i)):[];var i;if(e.update){const i=il(n,e.update.name),o=new Ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ms((e.updateMask.fieldPaths||[]).map(v=>fr.fromServerFormat(v)));return new Tu(i,o,c,t,r)}return new n_(i,o,t,r)}if(e.delete){const i=il(n,e.delete);return new r_(i,t)}if(e.verify){const i=il(n,e.verify);return new qN(i,t)}return ot()}function zP(n,e){return{documents:[tO(n,e.path)]}}function rO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=tO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return ZP(wn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:_d((D=v).field),direction:Cj(D.dir)};var D})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=XN(n,e.limit);var f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function WP(n){let e=$P(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){gt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let o=[];t.where&&(o=function(D){const I=qP(D);return I instanceof wn&&VN(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new Jm(s_((I=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(D){let I;return I="object"==typeof D?D.value:D,Db(I)?null:I}(t.limit));let m=null;var D;t.startAt&&(m=new md((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new md(D.values||[],!D.before)}(t.endAt)),lP(e,i,c,o,f,"F",m,v)}function qP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=s_(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=s_(e.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=s_(e.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=s_(e.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?nn.create(s_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>qP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function Cj(n){return _j[n]}function Sj(n){return yj[n]}function Aj(n){return vj[n]}function _d(n){return{fieldPath:n.canonicalString()}}function s_(n){return fr.fromServerFormat(n.fieldPath)}function ZP(n){return n instanceof nn?function(e){if("=="===e.op){if(Wk(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NAN"}};if(zk(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wk(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NAN"}};if(zk(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(e.field),op:Sj(e.op),value:e.value}}}(n):n instanceof wn?function(e){const t=e.getFilters().map(r=>ZP(r));return 1===t.length?t[0]:{compositeFilter:{op:Aj(e.op),filters:t}}}(n):ot()}function Nj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Iu{constructor(e,t,r,i,o=_t.min(),c=_t.min(),f=Xr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KP{constructor(e){this.fe=e}}function JP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ZT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bb(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:i_(i,o.version.toTimestamp()),createTime:i_(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Df(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Df(e.version)}}var i,o;return r}function ZT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Df(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ef(n){const e=new Qn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function Tf(n,e){const t=(e.baseMutations||[]).map(o=>nO(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>nO(n.fe,o)),i=Qn.fromMillis(e.localWriteTimeMs);return new ZN(e.batchId,i,t,r)}function $b(n){const e=Ef(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ef(n.lastLimboFreeSnapshotVersion):_t.min();let r;var i;return void 0!==n.query.documents?(gt(1===(i=n.query).documents.length),r=ss(Xm($P(i.documents[0])))):r=ss(WP(n.query)),new Iu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function QP(n,e){const t=Df(e.snapshotVersion),r=Df(e.lastLimboFreeSnapshotVersion);let i;i=VT(e.target)?zP(n.fe,e.target):rO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yf(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function iO(n){const e=WP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jT(e,e.limit,"L"):e}function sO(n,e){return new KN(e.largestBatchId,nO(n.fe,e.overlayMutation))}function XP(n,e){const t=e.path.lastSegment();return[n,Hi(e.path.popLast()),t]}function eF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Df(r.readTime),documentKey:Hi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Mj{getBundleMetadata(e,t){return tF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ef(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tF(e).put({bundleId:(r=t).id,createTime:Df(Or(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:iO(i.bundledQuery),readTime:Ef(i.readTime)};var i})}saveNamedQuery(e,t){return nF(e).put({name:(r=t).name,readTime:Df(Or(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tF(n){return pi(n,"bundles")}function nF(n){return pi(n,"namedQueries")}class YT{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new YT(e,t.uid||"")}getOverlay(e,t){return jb(e).get(XP(this.userId,t)).next(r=>r?sO(this.serializer,r):null)}getOverlays(e,t){const r=rl();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const f=new KN(t,c);i.push(this.we(e,f))}),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Hi(c.getCollectionPath())));const o=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(jb(e).J("collectionPathOverlayIndex",f))}),ee.waitFor(o)}getOverlaysForCollection(e,t,r){const i=rl(),o=Hi(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return jb(e).j("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const v=sO(this.serializer,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=rl();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jb(e).X({index:"collectionGroupOverlayIndex",range:f},(m,v,D)=>{const I=sO(this.serializer,v);o.size()<i||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):D.done()}).next(()=>o)}we(e,t){return jb(e).put(function(r,i,o){const[c,f,m]=XP(i,o.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ub(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function jb(n){return pi(n,"documentOverlays")}class If{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Eb(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?qk(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xj(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function rF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=xj(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}If.Ve=new If;class Rj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=rF(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=rF(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kj{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Pj{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Gb{constructor(){this.je=new Rj,this.ze=new kj(this.je),this.We=new Pj(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Cf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Cf(this.indexId,this.documentKey,this.arrayValue,r)}}function yd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iF(n.arrayValue,e.arrayValue),0!==t?t:(t=iF(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function iF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Fj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){gt(e.collectionGroup===this.collectionId);const t=MN(e);if(void 0!==t&&!this.en(t))return!1;const r=gf(e);let i=new Set,o=0,c=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[o];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[c++],f))return!1}++o}for(;o<r.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function sF(n){var e,t;if(gt(n instanceof nn||n instanceof wn),n instanceof nn){if(n instanceof sP){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>nn.create(n.field,"==",o)))||[];return wn.create(i,"or")}return n}const r=n.filters.map(i=>sF(i));return wn.create(r,n.op)}function Lj(n){if(0===n.getFilters().length)return[];const e=lO(sF(n));return gt(oF(e)),oO(e)||aO(e)?[e]:e.getFilters()}function oO(n){return n instanceof nn}function aO(n){return n instanceof wn&&VN(n)}function oF(n){return oO(n)||aO(n)||function(e){if(e instanceof wn&&BN(e)){for(const t of e.getFilters())if(!oO(t)&&!aO(t))return!1;return!0}return!1}(n)}function lO(n){if(gt(n instanceof nn||n instanceof wn),n instanceof nn)return n;if(1===n.filters.length)return lO(n.filters[0]);const e=n.filters.map(r=>lO(r));let t=wn.create(e,n.op);return t=KT(t),oF(t)?t:(gt(t instanceof wn),gt(Qm(t)),gt(t.filters.length>1),t.filters.reduce((r,i)=>uO(r,i)))}function uO(n,e){let t;return gt(n instanceof nn||n instanceof wn),gt(e instanceof nn||e instanceof wn),t=n instanceof nn?e instanceof nn?wn.create([n,e],"and"):aF(n,e):e instanceof nn?aF(e,n):function(r,i){if(gt(r.filters.length>0&&i.filters.length>0),Qm(r)&&Qm(i))return nP(r,i.getFilters());const o=BN(r)?r:i,c=BN(r)?i:r,f=o.filters.map(m=>uO(m,c));return wn.create(f,"or")}(n,e),KT(t)}function aF(n,e){if(Qm(e))return nP(e,n.getFilters());{const t=e.filters.map(r=>uO(n,r));return wn.create(t,"or")}}function KT(n){if(gt(n instanceof nn||n instanceof wn),n instanceof nn)return n;const e=n.getFilters();if(1===e.length)return KT(e[0]);if(eP(n))return n;const t=e.map(i=>KT(i)),r=[];return t.forEach(i=>{i instanceof nn?r.push(i):i instanceof wn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:wn.create(r,n.op)}class Bj{constructor(){this.rn=new cO}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(to.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class cO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $n(hn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $n(hn.comparator)).toArray()}}const JT=new Uint8Array(0);class Vj{constructor(e,t){this.user=e,this.databaseId=t,this.on=new cO,this.un=new Eu(r=>yf(r),(r,i)=>Ab(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:Hi(i)};return lF(e).put(o)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Sk(t),""],!1,!0);return lF(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(tl(c.parent))}return r})}addFieldIndex(e,t){const r=QT(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=zb(e);return o.next(f=>{c.put(eF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=QT(e),i=zb(e),o=Hb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hb(e);let i=!0;const o=new Map;return ee.forEach(this.cn(t),c=>this.an(e,c).next(f=>{i&&(i=!!f),o.set(c,f)})).next(()=>{if(i){let c=qt();const f=[];return ee.forEach(o,(m,v)=>{var D;se("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Me=>`${Me.fieldPath}:${Me.kind}`).join(",")}`} to execute ${yf(t)}`);const I=function(Me,xe){const Ge=MN(xe);if(void 0===Ge)return null;for(const We of UT(Me,Ge.fieldPath))switch(We.op){case"array-contains-any":return We.value.arrayValue.values||[];case"array-contains":return[We.value]}return null}(v,m),N=function(Me,xe){const Ge=new Map;for(const We of gf(xe))for(const Rt of UT(Me,We.fieldPath))switch(Rt.op){case"==":case"in":Ge.set(We.fieldPath.canonicalString(),Rt.value);break;case"not-in":case"!=":return Ge.set(We.fieldPath.canonicalString(),Rt.value),Array.from(Ge.values())}return null}(v,m),x=function(Me,xe){const Ge=[];let We=!0;for(const Rt of gf(xe)){const en=0===Rt.kind?oP(Me,Rt.fieldPath,Me.startAt):aP(Me,Rt.fieldPath,Me.startAt);Ge.push(en.value),We&&(We=en.inclusive)}return new md(Ge,We)}(v,m),j=function(Me,xe){const Ge=[];let We=!0;for(const Rt of gf(xe)){const en=0===Rt.kind?aP(Me,Rt.fieldPath,Me.endAt):oP(Me,Rt.fieldPath,Me.endAt);Ge.push(en.value),We&&(We=en.inclusive)}return new md(Ge,We)}(v,m),Y=this.hn(m,v,x),J=this.hn(m,v,j),ie=this.ln(m,v,N),ge=this.fn(m.indexId,I,Y,x.inclusive,J,j.inclusive,ie);return ee.forEach(ge,Me=>r.H(Me,t.limit).next(xe=>{xe.forEach(Ge=>{const We=Ye.fromSegments(Ge.documentKey);c.has(We)||(c=c.add(We),f.push(We))})}))}).next(()=>f)}return ee.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Lj(wn.create(e.filters,"and")).map(r=>$N(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,c,f){const m=(null!=t?t.length:1)*Math.max(r.length,o.length),v=m/(null!=t?t.length:1),D=[];for(let I=0;I<m;++I){const N=t?this.dn(t[I/v]):JT,x=this.wn(e,N,r[I%v],i),j=this._n(e,N,o[I%v],c),Y=f.map(J=>this.wn(e,N,J,!0));D.push(...this.createRange(x,j,Y))}return D}wn(e,t,r,i){const o=new Cf(e,Ye.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new Cf(e,Ye.empty(),t,r);return i?o.Je():o}an(e,t){const r=new Fj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const f of o)r.tn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return ee.forEach(i,o=>this.an(e,o).next(c=>{c?0!==r&&c.fields.length<function(f){let m=new $n(fr.comparator),v=!1;for(const D of f.filters)for(const I of D.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const D of f.orderBy)D.field.isKeyField()||(m=m.add(D.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Gb;for(const i of gf(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.He(i.kind);If.Ve._e(o,c)}return r.Qe()}dn(e){const t=new Gb;return If.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Gb;return If.Ve._e(_f(this.databaseId,t),r.He(function(i){const o=gf(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Gb);let o=0;for(const c of gf(e)){const f=r[o++];for(const m of i)if(this.yn(t,c.fieldPath)&&Cb(f))i=this.pn(i,c,f);else{const v=m.He(c.kind);If.Ve._e(f,v)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new Gb;m.seed(f.Qe()),If.Ve._e(c,m.He(t.kind)),o.push(m)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof nn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=QT(e),i=zb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return ee.forEach(o,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(v,D){const I=D?new bb(D.sequenceNumber,new to(Ef(D.readTime),new Ye(tl(D.documentKey)),D.largestBatchId)):bb.empty(),N=v.fields.map(([x,j])=>new OT(fr.fromServerFormat(x),j));return new NT(v.indexId,v.collectionGroup,N,I)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Vt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=QT(e),o=zb(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ee.forEach(f,m=>o.put(eF(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?ee.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ee.forEach(f,m=>this.En(e,i,m).next(v=>{const D=this.An(o,m);return v.isEqual(D)?ee.resolve():this.vn(e,o,m,v,D)}))))})}Rn(e,t,r,i){return Hb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Hb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Hb(e);let o=new $n(yd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,f)=>{o=o.add(new Cf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}An(e,t){let r=new $n(yd);const i=this.mn(t,e);if(null==i)return r;const o=MN(t);if(null!=o){const c=e.data.field(o.fieldPath);if(Cb(c))for(const f of c.arrayValue.values||[])r=r.add(new Cf(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Cf(t.indexId,e.key,JT,i));return r}vn(e,t,r,i,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,v,D,I){const N=f.getIterator(),x=m.getIterator();let j=Ym(N),Y=Ym(x);for(;j||Y;){let J=!1,ie=!1;if(j&&Y){const ge=v(j,Y);ge<0?ie=!0:ge>0&&(J=!0)}else null!=j?ie=!0:J=!0;J?(D(Y),Y=Ym(x)):ie?(I(j),j=Ym(N)):(j=Ym(N),Y=Ym(x))}}(i,o,yd,f=>{c.push(this.Rn(e,t,r,f))},f=>{c.push(this.Pn(e,t,r,f))}),ee.waitFor(c)}Tn(e){let t=1;return zb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>yd(c,f)).filter((c,f,m)=>!f||0!==yd(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=yd(c,e),m=yd(c,t);if(0===f)i[0]=e.Je();else if(f>0&&m<0)i.push(c),i.push(c.Je());else if(m>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,JT,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,JT,[]]))}return o}bn(e,t){return yd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(uF)}getMinOffset(e,t){return ee.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ot())).next(uF)}}function lF(n){return pi(n,"collectionParents")}function Hb(n){return pi(n,"indexEntries")}function QT(n){return pi(n,"indexConfiguration")}function zb(n){return pi(n,"indexState")}function uF(n){gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;xN(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new to(e.readTime,e.documentKey,t)}const cF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.X({range:c},(D,I,N)=>(f++,N.delete()));o.push(m.next(()=>{gt(1===f)}));const v=[];for(const D of t.mutations){const I=Fk(e,D.key.path,t.batchId);o.push(i.delete(I)),v.push(D.key)}return ee.waitFor(o).next(()=>v)}function XT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class eI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){gt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new eI(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vd(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=o_(e),c=vd(e);return c.add({}).next(f=>{gt("number"==typeof f);const m=new ZN(f,t,r,i),v=function(N,x,j){const Y=j.baseMutations.map(ie=>Ub(N.fe,ie)),J=j.mutations.map(ie=>Ub(N.fe,ie));return{userId:x,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:Y,mutations:J}}(this.serializer,this.userId,m),D=[];let I=new $n((N,x)=>Vt(N.canonicalString(),x.canonicalString()));for(const N of i){const x=Fk(this.userId,N.key.path,f);I=I.add(N.key.path.popLast()),D.push(c.put(v)),D.push(o.put(x,C$))}return I.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),ee.waitFor(D).next(()=>m)})}lookupMutationBatch(e,t){return vd(e).get(t).next(r=>r?(gt(r.userId===this.userId),Tf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ee.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return vd(e).X({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(gt(f.batchId>=r),o=Tf(this.serializer,f)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vd(e).j("userMutationsIndex",t).next(r=>r.map(i=>Tf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return o_(e).X({range:i},(c,f,m)=>{const[v,D,I]=c,N=tl(D);if(v===this.userId&&t.path.isEqual(N))return vd(e).get(I).next(x=>{if(!x)throw ot();gt(x.userId===this.userId),o.push(Tf(this.serializer,x))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Vt);const i=[];return t.forEach(o=>{const c=xT(this.userId,o.path),f=IDBKeyRange.lowerBound(c),m=o_(e).X({range:f},(v,D,I)=>{const[N,x,j]=v,Y=tl(x);N===this.userId&&o.path.isEqual(Y)?r=r.add(j):I.done()});i.push(m)}),ee.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=xT(this.userId,r),c=IDBKeyRange.lowerBound(o);let f=new $n(Vt);return o_(e).X({range:c},(m,v,D)=>{const[I,N,x]=m,j=tl(N);I===this.userId&&r.isPrefixOf(j)?j.length===i&&(f=f.add(x)):D.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(vd(e).get(o).next(c=>{if(null===c)throw ot();gt(c.userId===this.userId),r.push(Tf(this.serializer,c))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return dF(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return o_(e).X({range:r},(o,c,f)=>{if(o[0]===this.userId){const m=tl(o[1]);i.push(m)}else f.done()}).next(()=>{gt(0===i.length)})})}containsKey(e,t){return hF(e,this.userId,t)}xn(e){return fF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hF(n,e,t){const r=xT(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return o_(n).X({range:o,Y:!0},(f,m,v)=>{const[D,I,N]=f;D===e&&I===i&&(c=!0),v.done()}).next(()=>c)}function vd(n){return pi(n,"mutations")}function o_(n){return pi(n,"documentMutations")}function fF(n){return pi(n,"mutationQueues")}class Sf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Sf(0)}static Mn(){return new Sf(-1)}}class Uj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Sf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>a_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return a_(e).X((c,f)=>{const m=$b(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,o.push(this.removeTargetData(e,m)))}).next(()=>ee.waitFor(o)).next(()=>i)}forEachTarget(e,t){return a_(e).X((r,i)=>{const o=$b(i);t(o)})}$n(e){return pF(e).get("targetGlobalKey").next(t=>(gt(null!==t),t))}On(e,t){return pF(e).put("targetGlobalKey",t)}Fn(e,t){return a_(e).put(QP(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return a_(e).X({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const v=$b(f);Ab(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=bd(e);return t.forEach(c=>{const f=Hi(c.path);i.push(o.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=bd(e);return ee.forEach(t,o=>{const c=Hi(o.path);return ee.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=bd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=bd(e);let o=qt();return i.X({range:r,Y:!0},(c,f,m)=>{const v=tl(c[1]),D=new Ye(v);o=o.add(D)}).next(()=>o)}containsKey(e,t){const r=Hi(t.path),i=IDBKeyRange.bound([r],[Sk(r)],!1,!0);let o=0;return bd(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,f],m,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}le(e,t){return a_(e).get(t).next(r=>r?$b(r):null)}}function a_(n){return pi(n,"targets")}function pF(n){return pi(n,"targetGlobal")}function bd(n){return pi(n,"targetDocuments")}function gF([n,e],[t,r]){const i=Vt(n,t);return 0===i?Vt(e,r):i}class $j{constructor(e){this.Ln=e,this.buffer=new $n(gF),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ud(r)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ld(r)}yield t.Qn(3e5)}))}}class jj{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ee.resolve(no.ct);const r=new $j(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(cF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cF):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,c,f,m,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,c=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,f=Date.now(),this.removeTargets(e,r,t))).next(I=>(o=I,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),Et()<=ws.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${o} targets in `+(m-f)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-D}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:I})))}}class Gj{constructor(e,t){this.db=e,this.garbageCollector=function _F(n,e){return new jj(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return tI(e,r)}removeReference(e,t,r){return tI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tI(e,t)}Xn(e,t){return function(r,i){let o=!1;return fF(r).Z(c=>hF(r,c,i).next(f=>(f&&(o=!0),ee.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(c,f)=>{if(f<=t){const m=this.Xn(e,c).next(v=>{if(!v)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,_t.min()),bd(e).delete([0,Hi(c.path)])))});i.push(m)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tI(e,t)}Yn(e,t){const r=bd(e);let i,o=no.ct;return r.X({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:v})=>{0===c?(o!==no.ct&&t(new Ye(tl(i)),o),o=v,i=m):o=no.ct}).next(()=>{o!==no.ct&&t(new Ye(tl(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tI(n,e){return bd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Hi(e.path),sequenceNumber:r}));var r}class yF{constructor(){this.changes=new Eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Af(e).put(r)}removeEntry(e,t,r){return Af(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ZT(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=jn.newInvalidDocument(t);return Af(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:jn.newInvalidDocument(t)};return Af(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(t))},(i,o)=>{r={document:this.ts(t,o),size:XT(o)}}).next(()=>r)}getEntries(e,t){let r=xs();return this.ns(e,t,(i,o)=>{const c=this.ts(i,o);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=xs(),i=new Pn(Ye.comparator);return this.ns(e,t,(o,c)=>{const f=this.ts(o,c);r=r.insert(o,f),i=i.insert(o,XT(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ee.resolve();let i=new $n(DF);t.forEach(m=>i=i.add(m));const o=IDBKeyRange.bound(Wb(i.first()),Wb(i.last())),c=i.getIterator();let f=c.getNext();return Af(e).X({index:"documentKeyIndex",range:o},(m,v,D)=>{const I=Ye.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&DF(f,I)<0;)r(f,null),f=c.getNext();f&&f.isEqual(I)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?D.G(Wb(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),ZT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Af(e).j(IDBKeyRange.bound(c,f,!0)).next(m=>{let v=xs();for(const D of m){const I=this.ts(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);I.isFoundDocument()&&(Ob(t,I)||i.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(e,t,r,i){let o=xs();const c=wF(t,r),f=wF(t,to.max());return Af(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,v,D)=>{const I=this.ts(Ye.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(I.key,I),o.size===i&&D.done()}).next(()=>o)}newChangeBuffer(e){return new zj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bF(e).get("remoteDocumentGlobalKey").next(t=>(gt(!!t),t))}Zn(e,t){return bF(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function Oj(n,e){let t;if(e.document)t=HP(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=Ef(e.noDocument.readTime);t=jn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ye.fromSegments(e.unknownDocument.path),i=Ef(e.unknownDocument.version);t=jn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Qn(r[0],r[1]);return _t.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return jn.newInvalidDocument(e)}}function vF(n){return new Hj(n)}class zj extends yF{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Eu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new $n((o,c)=>Vt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const f=this.us.get(o);if(t.push(this.os.removeEntry(e,o,f.readTime)),c.isValidDocument()){const m=JP(this.os.serializer,c);i=i.add(o.path.popLast());const v=XT(m);r+=v-f.size,t.push(this.os.addEntry(e,o,m))}else if(r-=f.size,this.trackRemovals){const m=JP(this.os.serializer,c.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,o,m))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,c)=>{this.us.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function bF(n){return pi(n,"remoteDocumentGlobal")}function Af(n){return pi(n,"remoteDocumentsV14")}function Wb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wF(n,e){const t=e.documentKey.path.toArray();return[n,ZT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Vt(t[o],r[o]),i)return i;return i=Vt(t.length,r.length),i||(i=Vt(t[t.length-2],r[r.length-2]),i||Vt(t[t.length-1],r[r.length-1]))}class Wj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class EF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&kb(r.mutation,i,Ms.empty(),Qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const i=rl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=Mb();return o.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=rl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let o=xs();const c=xb(),f=xb();return t.forEach((m,v)=>{const D=r.get(v.key);i.has(v.key)&&(void 0===D||D.mutation instanceof Tu)?o=o.insert(v.key,v):void 0!==D?(c.set(v.key,D.mutation.getFieldMask()),kb(D.mutation,v,D.mutation.getFieldMask(),Qn.now())):c.set(v.key,Ms.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((v,D)=>c.set(v,D)),t.forEach((v,D)=>{var I;return f.set(v,new Wj(D,null!==(I=c.get(v))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(e,t){const r=xb();let i=new Pn((c,f)=>c-f),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let D=r.get(m)||Ms.empty();D=f.applyToLocalView(v,D),r.set(m,D);const I=(i.get(f.batchId)||qt()).add(m);i=i.insert(f.batchId,I)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,D=m.value,I=gP();D.forEach(N=>{if(!o.has(N)){const x=TP(t.get(N),r.get(N));null!==x&&I.set(N,x),o=o.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,I))}return ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):GN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ee.resolve(rl());let f=-1,m=o;return c.next(v=>ee.forEach(v,(D,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),o.get(D)?ee.resolve():this.remoteDocumentCache.getEntry(e,D).next(N=>{m=m.insert(D,N)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,m,v,qt())).next(D=>({batchId:f,changes:pP(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let i=Mb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Mb();return this.indexManager.getCollectionParents(e,i).next(c=>ee.forEach(c,f=>{const m=(v=t,D=f.child(i),new Du(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((D,I)=>{o=o.insert(D,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((f,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,jn.newInvalidDocument(v)))});let c=Mb();return o.forEach((f,m)=>{const v=i.get(f);void 0!==v&&kb(v.mutation,m,Ms.empty(),Qn.now()),Ob(t,m)&&(c=c.insert(f,m))}),c})}}class qj{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Or(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:iO(r.bundledQuery),readTime:Or(r.readTime)}),ee.resolve();var r}}class Zj{constructor(){this.overlays=new Pn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=rl();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=rl(),o=t.length+1,c=new Ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pn((v,D)=>v-D);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let D=o.get(v.largestBatchId);null===D&&(D=rl(),o=o.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const f=rl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,D)=>f.set(v,D)),!(f.size()>=i)););return ee.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new KN(t,r));let o=this.ls.get(t);void 0===o&&(o=qt(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class dO{constructor(){this.fs=new $n(gi.ds),this.ws=new $n(gi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new gi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new gi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new hn([])),r=new gi(t,e),i=new gi(t,e+1),o=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new hn([])),r=new gi(t,e),i=new gi(t,e+1);let o=qt();return this.ws.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new gi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Vt(e.As,t.As)}static _s(e,t){return Vt(e.As,t.As)||Ye.comparator(e.key,t.key)}}class Yj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $n(gi.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const c=new ZN(o,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new gi(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gi(t,0),i=new gi(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.Ps(c.As);o.push(f)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Vt);return t.forEach(i=>{const o=new gi(i,0),c=new gi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],f=>{r=r.add(f.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ye.isDocumentKey(o)||(o=o.child(""));const c=new gi(new Ye(o),0);let f=new $n(Vt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},c),ee.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){gt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,i=>{const o=new gi(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new gi(t,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kj{constructor(e){this.Ds=e,this.docs=new Pn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=xs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=xs();const c=t.path,f=new Ye(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:D}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||xN(Nk(D),r)<=0||(i.has(D.key)||Ob(t,D))&&(o=o.insert(D.key,D.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ot()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Jj(this)}getSize(e){return ee.resolve(this.size)}}class Jj extends yF{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Qj{constructor(e){this.persistence=e,this.xs=new Eu(t=>yf(t),Ab),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dO,this.targetCount=0,this.Ms=Sf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Sf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class hO{constructor(e,t){this.$s={},this.overlays={},this.Os=new no(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Qj(this),this.indexManager=new Bj,this.remoteDocumentCache=new Kj(r=>this.referenceDelegate.Ls(r)),this.serializer=new KP(t),this.qs=new qj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Yj(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);const i=new Xj(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Xj extends Mk{constructor(e){super(),this.currentSequenceNumber=e}}class nI{constructor(e){this.persistence=e,this.Qs=new dO,this.js=null}static zs(e){return new nI(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const i=Ye.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eG{constructor(e){this.serializer=e}O(e,t,r,i){const o=new MT("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pk,{unique:!0}),f.createObjectStore("documentMutations"),TF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ee.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),TF(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pk,{unique:!0});const D=m.store("mutations"),I=v.map(N=>D.put(N));return ee.waitFor(I)})}(e,o))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(o))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(o))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(o))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:B$});m.createIndex("collectionPathOverlayIndex",V$,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",U$,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:S$});m.createIndex("documentKeyIndex",A$),m.createIndex("collectionGroupIndex",N$)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,o))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:k$}).createIndex("sequenceNumberIndex",P$,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:F$}).createIndex("documentKeyIndex",L$,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=XT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ee.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(f=>ee.forEach(f,m=>{gt(m.userId===o.userId);const v=Tf(this.serializer,m);return dF(e,o.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,f)=>{const m=new hn(c),v=[0,Hi(m)];o.push(t.get(v).next(D=>D?ee.resolve():t.put({targetId:0,path:Hi(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ee.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:R$});const r=t.store("collectionParents"),i=new cO,o=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:Hi(m)})}};return t.store("remoteDocuments").X({Y:!0},(c,f)=>{const m=new hn(c);return o(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,f,m],v)=>{const D=tl(f);return o(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=$b(i),c=QP(this.serializer,o);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const f=t.store("remoteDocumentsV14"),m=(v=c,v.document?new Ye(hn.fromString(v.document.name).popFirst(5)):v.noDocument?Ye.fromSegments(v.noDocument.path):v.unknownDocument?Ye.fromSegments(v.unknownDocument.path):ot()).path.toArray();var v;const D={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(D))}).next(()=>ee.waitFor(i))}si(e,t){const r=t.store("mutations"),i=vF(this.serializer),o=new hO(nI.zs,this.serializer.fe);return r.j().next(c=>{const f=new Map;return c.forEach(m=>{var v;let D=null!==(v=f.get(m.userId))&&void 0!==v?v:qt();Tf(this.serializer,m).keys().forEach(I=>D=D.add(I)),f.set(m.userId,D)}),ee.forEach(f,(m,v)=>{const D=new ye(v),I=YT.de(this.serializer,D),N=o.getIndexManager(D),x=eI.de(D,this.serializer,N,o.referenceDelegate);return new EF(i,x,I,N).recalculateAndSaveOverlaysForDocumentKeys(new PN(t,no.ct),m).next()})})}}function TF(n){n.createObjectStore("targetDocuments",{keyPath:M$}).createIndex("documentTargetsIndex",x$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",O$,{unique:!0}),n.createObjectStore("targetGlobal")}const fO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pO{constructor(e,t,r,i,o,c,f,m,v,D,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=c,this.document=f,this.ri=v,this.oi=D,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!pO.D())throw new _e(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gj(this,i),this.di=t+"main",this.serializer=new KP(m),this.wi=new Jo(this.di,this.ui,new eG(this.serializer)),this.Bs=new Uj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vF(this.serializer),this.qs=new Mj,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,fO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new no(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,W.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,W.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ud(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qb(e).get("owner").next(t=>ee.resolve(this.Ri(t)))}Pi(e){return iI(e).delete(this.clientId)}bi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=pi(r,"clientMetadata");return i.j().next(o=>{const c=e.Si(o,18e5),f=o.filter(m=>-1===c.indexOf(m));return ee.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ee.resolve(!0):qb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,fO);return!1}}return!(!this.networkEnabled||!this.inForeground)||iI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new PN(t,no.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>iI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return eI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vj(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return YT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){se("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.ui)?j$:14===c?Vk:13===c?Bk:12===c?$$:11===c?Lk:void ot();var c;let f;return this.wi.runTransaction(e,i,o,m=>(f=new PN(m,this.Os?this.Os.next():no.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _e(re.FAILED_PRECONDITION,Ok);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return qb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(re.FAILED_PRECONDITION,fO)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qb(e).put("owner",t)}static D(){return Jo.D()}Ai(e){const t=qb(e);return t.get("owner").next(r=>this.Ri(r)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ee.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Bt(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ft.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qb(n){return pi(n,"owner")}function iI(n){return pi(n,"clientMetadata")}function gO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class mO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=qt(),i=qt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mO(e,t.fromCache,r,i)}}class IF{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(uP(t))return ee.resolve(null);let r=ss(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=jT(t,null,"F"),r=ss(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=qt(...o);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,c,m.readTime)?this.Ki(e,jT(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return uP(t)||i.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const c=this.ji(t,o);return this.zi(t,c,r,i)?this.Qi(e,t):(Et()<=ws.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zN(t)),this.Wi(e,c,t,Ak(i,-1)))})}ji(e,t){let r=new $n(hP(e));return t.forEach((i,o)=>{Ob(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return Et()<=ws.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",zN(t)),this.Ui.getDocumentsMatchingQuery(e,t,to.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class tG{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Pn(Vt),this.Yi=new Eu(o=>yf(o),Ab),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function CF(n,e,t,r){return new tG(n,e,t,r)}function SF(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,W.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],f=[];let m=qt();for(const v of i){c.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}for(const v of o){f.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:c,addedBatchIds:f}))})})}),_O.apply(this,arguments)}function nG(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,v){const D=m.batch,I=D.keys();let N=ee.resolve();return I.forEach(x=>{N=N.next(()=>v.getEntry(f,x)).next(j=>{const Y=m.docVersions.get(x);gt(null!==Y),j.version.compareTo(Y)<0&&(D.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(f,D))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=qt();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function AF(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function rG(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((D,I)=>{const N=i.get(I);if(!N)return;f.push(t.Bs.removeMatchingKeys(o,D.removedDocuments,I).next(()=>t.Bs.addMatchingKeys(o,D.addedDocuments,I)));let x=N.withSequenceNumber(o.currentSequenceNumber);var j,Y,J;null!==e.targetMismatches.get(I)?x=x.withResumeToken(Xr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):D.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(D.resumeToken,r)),i=i.insert(I,x),Y=x,J=D,(0===(j=N).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(o,x))});let m=xs(),v=qt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,D))}),f.push(NF(o,c,e.documentUpdates).next(D=>{m=D.nr,v=D.sr})),!r.isEqual(_t.min())){const D=t.Bs.getLastRemoteSnapshotVersion(o).next(I=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(D)}return ee.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(t.Ji=i,o))}function NF(n,e,t){let r=qt(),i=qt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=xs();return t.forEach((f,m)=>{const v=o.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(_t.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):se("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:c,sr:i}})}function iG(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l_(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Iu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function u_(n,e,t){return yO.apply(this,arguments)}function yO(){return yO=(0,W.Z)(function*(n,e,t){const r=Qe(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ud(c))throw c;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),yO.apply(this,arguments)}function sI(n,e,t){const r=Qe(n);let i=_t.min(),o=qt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,v){const D=Qe(f),I=D.Yi.get(v);return void 0!==I?ee.resolve(D.Ji.get(I)):D.Bs.getTargetData(m,v)}(r,c,ss(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{o=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:_t.min(),t?o:qt())).next(f=>(xF(r,dP(e),f),{documents:f,ir:o})))}function OF(n,e){const t=Qe(n),r=Qe(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.le(o,e).next(c=>c?c.target:null))}function MF(n,e){const t=Qe(n),r=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Ak(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(xF(t,e,i),i))}function xF(n,e,t){let r=n.Xi.get(e)||_t.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}function vO(){return vO=(0,W.Z)(function*(n,e,t,r){const i=Qe(n);let o=qt(),c=xs();for(const v of t){const D=e.rr(v.metadata.name);v.document&&(o=o.add(D));const I=e.ur(v);I.setReadTime(e.cr(v.metadata.readTime)),c=c.insert(D,I)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),m=yield l_(i,(v=r,ss(Xm(hn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>NF(v,f,c).next(D=>(f.apply(v),D)).next(D=>i.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Bs.addMatchingKeys(v,o,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,D.nr,D.sr)).next(()=>D.nr)))}),vO.apply(this,arguments)}function oG(n,e){return bO.apply(this,arguments)}function bO(){return bO=(0,W.Z)(function*(n,e,t=qt()){const r=yield l_(n,ss(iO(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Or(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(o,e);const f=r.withResumeToken(Xr.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(o,f).next(()=>i.Bs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Bs.addMatchingKeys(o,t,r.targetId)).next(()=>i.qs.saveNamedQuery(o,e))})}),bO.apply(this,arguments)}function RF(n,e){return`firestore_clients_${n}_${e}`}function kF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wO(n,e){return`firestore_targets_${n}_${e}`}class oI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new _e(i.error.code,i.error.message))),c?new oI(e,t,i.state,o):(Bt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new _e(r.error.code,r.error.message))),o?new Zb(e,r.state,i):(Bt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=WN();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Rk(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new aI(e,o):(Bt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DO{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DO(t.clientId,t.onlineState):(Bt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class EO{constructor(){this.activeTargetIds=WN()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TO{constructor(e,t,r,i,o){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Pn(Vt),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=RF(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new EO),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const o=e.getItem(RF(e.persistenceKey,i));if(o){const c=aI.ar(i,o);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wO(this.persistenceKey,e));if(r){const i=Zb.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wO(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(o){let c=no.ct;if(null!=o)try{const f=JSON.parse(o);gt("number"==typeof f),c=f}catch(f){Bt("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==no.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new oI(this.currentUser,e,t,r),o=kF(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const t=kF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=wO(this.persistenceKey,e),o=new Zb(e,t,r);this.setItem(i,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return aI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return oI.ar(new ye(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Zb.ar(i,t)}br(e){return DO.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),c=[],f=[];return o.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{o.has(m)||f.push(m)}),this.syncEngine.Wr(c,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=WN();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class PF{constructor(){this.Hr=new EO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aG{Yr(e){}shutdown(){}}class FF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lI=null;function IO(){return null===lI?lI=268435456+Math.round(2147483648*Math.random()):lI++,"0x"+lI.toString(16)}const lG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uG{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wi="WebChannelConnection";class cG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const c=IO(),f=this.To(e,t);se("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const m={};return this.Eo(m,i,o),this.Ao(e,f,m,r).then(v=>(se("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw dn("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,o,c){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+He,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${lG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=IO();return new Promise((c,f)=>{const m=new P;m.setWithCredentials(!0),m.listenOnce(y.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case g.NO_ERROR:const D=m.getResponseJson();se(Wi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(D)),c(D);break;case g.TIMEOUT:se(Wi,`RPC '${e}' ${o} timed out`),f(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case g.HTTP_ERROR:const I=m.getStatus();if(se(Wi,`RPC '${e}' ${o} failed with status:`,I,"response text:",m.getResponseText()),I>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const x=N?.error;if(x&&x.status&&x.message){const j=function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN}(x.status);f(new _e(j,x.message))}else f(new _e(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(re.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{se(Wi,`RPC '${e}' ${o} completed.`)}});const v=JSON.stringify(i);se(Wi,`RPC '${e}' ${o} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=IO(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=d(),f=h(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new C({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const D=o.join("");se(Wi,`Creating RPC '${e}' stream ${i}: ${D}`,m);const I=c.createWebChannel(D,m);let N=!1,x=!1;const j=new uG({ro:J=>{x?se(Wi,`Not sending because RPC '${e}' stream ${i} is closed:`,J):(N||(se(Wi,`Opening RPC '${e}' stream ${i} transport.`),I.open(),N=!0),se(Wi,`RPC '${e}' stream ${i} sending:`,J),I.send(J))},oo:()=>I.close()}),Y=(J,ie,ge)=>{J.listen(ie,Me=>{try{ge(Me)}catch(xe){setTimeout(()=>{throw xe},0)}})};return Y(I,A.EventType.OPEN,()=>{x||se(Wi,`RPC '${e}' stream ${i} transport opened.`)}),Y(I,A.EventType.CLOSE,()=>{x||(x=!0,se(Wi,`RPC '${e}' stream ${i} transport closed`),j.wo())}),Y(I,A.EventType.ERROR,J=>{x||(x=!0,dn(Wi,`RPC '${e}' stream ${i} transport errored:`,J),j.wo(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),Y(I,A.EventType.MESSAGE,J=>{var ie;if(!x){const ge=J.data[0];gt(!!ge);const xe=ge.error||(null===(ie=ge[0])||void 0===ie?void 0:ie.error);if(xe){se(Wi,`RPC '${e}' stream ${i} received error:`,xe);const Ge=xe.status;let We=function(en){const _r=Ur[en];if(void 0!==_r)return OP(_r)}(Ge),Rt=xe.message;void 0===We&&(We=re.INTERNAL,Rt="Unknown error status: "+Ge+" with message "+xe.message),x=!0,j.wo(new _e(We,Rt)),I.close()}else se(Wi,`RPC '${e}' stream ${i} received:`,ge),j._o(ge)}}),Y(f,E.STAT_EVENT,J=>{J.stat===T.PROXY?se(Wi,`RPC '${e}' stream ${i} detected buffering proxy`):J.stat===T.NOPROXY&&se(Wi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function LF(){return typeof window<"u"?window:null}function uI(){return typeof document<"u"?document:null}function Yb(n){return new bj(n,!0)}class CO{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class BF{constructor(e,t,r,i,o,c,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new CO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,W.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,W.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,W.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,W.Z)(function*(){e.state=0,e.start()}))}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dG extends BF{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Ej(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ot(),i=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(gt(void 0===v||"string"==typeof v),Xr.fromBase64String(v||"")):(gt(void 0===v||v instanceof Uint8Array),Xr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=void 0===m.code?re.UNKNOWN:OP(m.code);return new _e(v,m.message||"")}(c);t=new PP(r,i,o,f||null)}else if("documentChange"in e){const r=e.documentChange,i=il(n,r.document.name),o=Or(r.document.updateTime),c=r.document.createTime?Or(r.document.createTime):_t.min(),f=new Ai({mapValue:{fields:r.document.fields}}),m=jn.newFoundDocument(i,o,c,f);t=new qT(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=il(n,r.document),o=r.readTime?Or(r.readTime):_t.min(),c=jn.newNoDocument(i,o);t=new qT([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=il(n,r.document);t=new qT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new pj(i,o);t=new kP(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return _t.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?Or(o.readTime):_t.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Vb(this.serializer),t.addTarget=function(i,o){let c;const f=o.target;if(c=VT(f)?{documents:zP(i,f)}:{query:rO(i,f)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=VP(i,o.resumeToken);const m=XN(i,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(_t.min())>0){c.readTime=i_(i,o.snapshotVersion.toTimestamp());const m=XN(i,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function Ij(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Vb(this.serializer),t.removeTarget=e,this.Wo(t)}}class hG extends BF{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Tj(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,i){let o=Or(r.updateTime?r.updateTime:i);return o.isEqual(_t.min())&&(o=Or(i)),new cj(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.cu(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ub(this.serializer,r))};this.Wo(t)}}class fG extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(re.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(re.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class gG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bt(t),this.mu=!1):se("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class mG{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(f=>{r.enqueueAndForget((0,W.Z)(function*(){var m;wd(c)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,W.Z)(function*(v){const D=Qe(v);D.vu.add(4),yield c_(D),D.bu.set("Unknown"),D.vu.delete(4),yield Kb(D)}),function(v){return m.apply(this,arguments)})(c))}))}),this.bu=new gG(r,i)}}function Kb(n){return AO.apply(this,arguments)}function AO(){return AO=(0,W.Z)(function*(n){if(wd(n))for(const e of n.Ru)yield e(!0)}),AO.apply(this,arguments)}function c_(n){return NO.apply(this,arguments)}function NO(){return NO=(0,W.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),NO.apply(this,arguments)}function cI(n,e){const t=Qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),xO(t)?MO(t):h_(t).Ko()&&OO(t,e))}function Jb(n,e){const t=Qe(n),r=h_(t);t.Au.delete(e),r.Ko()&&VF(t,e),0===t.Au.size&&(r.Ko()?r.jo():wd(t)&&t.bu.set("Unknown"))}function OO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}h_(n).su(e)}function VF(n,e){n.Vu.qt(e),h_(n).iu(e)}function MO(n){n.Vu=new mj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),h_(n).start(),n.bu.gu()}function xO(n){return wd(n)&&!h_(n).Uo()&&n.Au.size>0}function wd(n){return 0===Qe(n).vu.size}function UF(n){n.Vu=void 0}function _G(n){return RO.apply(this,arguments)}function RO(){return RO=(0,W.Z)(function*(n){n.Au.forEach((e,t)=>{OO(n,e)})}),RO.apply(this,arguments)}function yG(n,e){return kO.apply(this,arguments)}function kO(){return kO=(0,W.Z)(function*(n,e){UF(n),xO(n)?(n.bu.Iu(e),MO(n)):n.bu.set("Unknown")}),kO.apply(this,arguments)}function vG(n,e,t){return PO.apply(this,arguments)}function PO(){return PO=(0,W.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof PP&&2===e.state&&e.cause)try{yield(r=(0,W.Z)(function*(i,o){const c=o.cause;for(const f of o.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dI(n,r)}else if(e instanceof qT?n.Vu.Ht(e):e instanceof kP?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const r=yield AF(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.Vu.ce(o);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,o))}}),c.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Xr.EMPTY_BYTE_STRING,v.snapshotVersion)),VF(i,f);const D=new Iu(v.target,f,m,v.sequenceNumber);OO(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield dI(n,r)}var r}),PO.apply(this,arguments)}function dI(n,e,t){return FO.apply(this,arguments)}function FO(){return FO=(0,W.Z)(function*(n,e,t){if(!ud(e))throw e;n.vu.add(1),yield c_(n),n.bu.set("Offline"),t||(t=()=>AF(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Kb(n)}))}),FO.apply(this,arguments)}function $F(n,e){return e().catch(t=>dI(n,t,e))}function d_(n){return LO.apply(this,arguments)}function LO(){return LO=(0,W.Z)(function*(n){const e=Qe(n),t=Dd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bG(e);)try{const i=yield iG(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,wG(e,i)}catch(i){yield dI(e,i)}jF(e)&&GF(e)}),LO.apply(this,arguments)}function bG(n){return wd(n)&&n.Eu.length<10}function wG(n,e){n.Eu.push(e);const t=Dd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function jF(n){return wd(n)&&!Dd(n).Uo()&&n.Eu.length>0}function GF(n){Dd(n).start()}function DG(n){return BO.apply(this,arguments)}function BO(){return BO=(0,W.Z)(function*(n){Dd(n).hu()}),BO.apply(this,arguments)}function EG(n){return VO.apply(this,arguments)}function VO(){return VO=(0,W.Z)(function*(n){const e=Dd(n);for(const t of n.Eu)e.uu(t.mutations)}),VO.apply(this,arguments)}function TG(n,e,t){return UO.apply(this,arguments)}function UO(){return UO=(0,W.Z)(function*(n,e,t){const r=n.Eu.shift(),i=YN.from(r,e,t);yield $F(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield d_(n)}),UO.apply(this,arguments)}function IG(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,W.Z)(function*(n,e){var t;e&&Dd(n).ou&&(yield(t=(0,W.Z)(function*(r,i){if(NP(o=i.code)&&o!==re.ABORTED){const c=r.Eu.shift();Dd(r).Qo(),yield $F(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield d_(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),jF(n)&&GF(n)}),$O.apply(this,arguments)}function HF(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,W.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=wd(t);t.vu.add(3),yield c_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Kb(t)}),jO.apply(this,arguments)}function GO(n,e){return HO.apply(this,arguments)}function HO(){return HO=(0,W.Z)(function*(n,e){const t=Qe(n);e?(t.vu.delete(2),yield Kb(t)):e||(t.vu.add(2),yield c_(t),t.bu.set("Unknown"))}),HO.apply(this,arguments)}function h_(n){return n.Su||(n.Su=function(e,t,r){const i=Qe(e);return i.fu(),new dG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:_G.bind(null,n),ao:yG.bind(null,n),nu:vG.bind(null,n)}),n.Ru.push(function(){var e=(0,W.Z)(function*(t){t?(n.Su.Qo(),xO(n)?MO(n):n.bu.set("Unknown")):(yield n.Su.stop(),UF(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Dd(n){return n.Du||(n.Du=function(e,t,r){const i=Qe(e);return i.fu(),new hG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:DG.bind(null,n),ao:IG.bind(null,n),au:EG.bind(null,n),cu:TG.bind(null,n)}),n.Ru.push(function(){var e=(0,W.Z)(function*(t){t?(n.Du.Qo(),yield d_(n)):(yield n.Du.stop(),n.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class zO{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,f=new zO(e,t,c,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(n,e){if(Bt("AsyncQueue",`${e}: ${n}`),ud(n))return new _e(re.UNAVAILABLE,`${e}: ${n}`);throw n}class p_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Mb(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new p_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof p_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new p_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zF{constructor(){this.Cu=new Pn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class g_{constructor(e,t,r,i,o,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new g_(e,t,p_.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class CG{constructor(){this.Nu=void 0,this.listeners=[]}}class SG{constructor(){this.queries=new Eu(e=>cP(e),Nb),this.onlineState="Unknown",this.ku=new Set}}function WO(n,e){return qO.apply(this,arguments)}function qO(){return qO=(0,W.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new CG),i)try{o.Nu=yield t.onListen(r)}catch(c){const f=f_(c,`Initialization of query '${zN(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&KO(t)}),qO.apply(this,arguments)}function ZO(n,e){return YO.apply(this,arguments)}function YO(){return YO=(0,W.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),YO.apply(this,arguments)}function AG(n,e){const t=Qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.$u(i)&&(r=!0);c.Nu=i}}r&&KO(t)}function NG(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function KO(n){n.ku.forEach(e=>{e.next()})}class JO{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new g_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=g_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class OG{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class WF{constructor(e){this.serializer=e}rr(e){return il(this.serializer,e)}ur(e){return e.metadata.exists?HP(this.serializer,e.document,!1):jn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Or(e)}}class MG{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qF(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=hn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new WF(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.rr(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||qt()).add(o);t.set(c,f)}}return t}complete(){var e=this;return(0,W.Z)(function*(){const t=yield function sG(n,e,t,r){return vO.apply(this,arguments)}(e.localStore,new WF(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield oG(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function qF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZF{constructor(e){this.key=e}}class YF{constructor(e){this.key=e}}class KF{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qt(),this.mutatedKeys=qt(),this.tc=hP(e),this.ec=new p_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new zF,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,I)=>{const N=i.get(D),x=Ob(this.query,I)?I:null,j=!!N&&this.mutatedKeys.has(N.key),Y=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let J=!1;N&&x?N.data.isEqual(x.data)?j!==Y&&(r.track({type:3,doc:x}),J=!0):this.rc(N,x)||(r.track({type:2,doc:x}),J=!0,(m&&this.tc(x,m)>0||v&&this.tc(x,v)<0)&&(f=!0)):!N&&x?(r.track({type:0,doc:x}),J=!0):N&&!x&&(r.track({type:1,doc:N}),J=!0,(m||v)&&(f=!0)),J&&(x?(c=c.add(x),o=Y?o.add(D):o.delete(D)):(c=c.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),o=o.delete(D.key),r.track({type:1,doc:D})}return{ec:c,ic:r,zi:f,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((v,D)=>function(I,N){const x=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return x(I)-x(N)}(v.type,D.type)||this.tc(v.doc,D.doc)),this.oc(r);const c=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==o.length||m?{snapshot:new g_(this.query,e.ec,i,o,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new YF(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new ZF(r))}),t}hc(e){this.Yu=e.ir,this.Zu=qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return g_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class xG{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RG{constructor(e){this.key=e,this.fc=!1}}class kG{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Eu(f=>cP(f),Nb),this._c=new Map,this.mc=new Set,this.gc=new Pn(Ye.comparator),this.yc=new Map,this.Ic=new dO,this.Tc={},this.Ec=new Map,this.Ac=Sf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function PG(n,e){return QO.apply(this,arguments)}function QO(){return QO=(0,W.Z)(function*(n,e){const t=wM(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const c=yield l_(t.localStore,ss(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield XO(t,e,r,"current"===f,c.resumeToken),t.isPrimaryClient&&cI(t.remoteStore,c)}return i}),QO.apply(this,arguments)}function XO(n,e,t,r,i){return eM.apply(this,arguments)}function eM(){return eM=(0,W.Z)(function*(n,e,t,r,i){n.Rc=(I,N,x)=>{return(j=(0,W.Z)(function*(Y,J,ie,ge){let Me=J.view.sc(ie);Me.zi&&(Me=yield sI(Y.localStore,J.query,!1).then(({documents:We})=>J.view.sc(We,Me)));const xe=ge&&ge.targetChanges.get(J.targetId),Ge=J.view.applyChanges(Me,Y.isPrimaryClient,xe);return cM(Y,J.targetId,Ge.cc),Ge.snapshot}),function(Y,J,ie,ge){return j.apply(this,arguments)})(n,I,N,x);var j};const o=yield sI(n.localStore,e,!0),c=new KF(e,o.ir),f=c.sc(o.documents),m=Lb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,m);cM(n,t,v.cc);const D=new xG(e,t,c);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),eM.apply(this,arguments)}function FG(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,W.Z)(function*(n,e){const t=Qe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Nb(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield u_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Jb(t.remoteStore,r.targetId),m_(t,r.targetId)}).catch(ld))):(m_(t,r.targetId),yield u_(t.localStore,r.targetId,!0))}),tM.apply(this,arguments)}function nM(){return nM=(0,W.Z)(function*(n,e,t){const r=DM(n);try{const i=yield function(o,c){const f=Qe(o),m=Qn.now(),v=c.reduce((N,x)=>N.add(x.key),qt());let D,I;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let x=xs(),j=qt();return f.Zi.getEntries(N,v).next(Y=>{x=Y,x.forEach((J,ie)=>{ie.isValidDocument()||(j=j.add(J))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,x)).next(Y=>{D=Y;const J=[];for(const ie of c){const ge=hj(ie,D.get(ie.key).overlayedDocument);null!=ge&&J.push(new Tu(ie.key,ge,Kk(ge.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,m,J,c)}).next(Y=>{I=Y;const J=Y.applyToLocalDocumentSet(D,j);return f.documentOverlayCache.saveOverlays(N,Y.batchId,J)})}).then(()=>({batchId:I.batchId,changes:pP(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,f){let m=o.Tc[o.currentUser.toKey()];m||(m=new Pn(Vt)),m=m.insert(c,f),o.Tc[o.currentUser.toKey()]=m}(r,i.batchId,t),yield Cu(r,i.changes),yield d_(r.remoteStore)}catch(i){const o=f_(i,"Failed to persist write");t.reject(o)}}),nM.apply(this,arguments)}function JF(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,W.Z)(function*(n,e){const t=Qe(n);try{const r=yield rG(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.yc.get(o);c&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?gt(c.fc):i.removedDocuments.size>0&&(gt(c.fc),c.fc=!1))}),yield Cu(t,r,e)}catch(r){yield ld(r)}}),rM.apply(this,arguments)}function QF(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,c)=>{const f=c.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(o,c){const f=Qe(o);f.onlineState=c;let m=!1;f.queries.forEach((v,D)=>{for(const I of D.listeners)I.Mu(c)&&(m=!0)}),m&&KO(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BG(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,W.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let c=new Pn(Ye.comparator);c=c.insert(o,jn.newNoDocument(o,_t.min()));const f=qt().add(o),m=new Fb(_t.min(),new Map,new Pn(Vt),c,f);yield JF(r,m),r.gc=r.gc.remove(o),r.yc.delete(e),dM(r)}else yield u_(r.localStore,e,!1).then(()=>m_(r,e,t)).catch(ld)}),iM.apply(this,arguments)}function VG(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,W.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield nG(t.localStore,e);uM(t,r,null),lM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cu(t,i)}catch(i){yield ld(i)}}),sM.apply(this,arguments)}function UG(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,W.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(o,c){const f=Qe(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next(D=>(gt(null!==D),v=D.keys(),f.mutationQueue.removeMutationBatch(m,D))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);uM(r,e,t),lM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(r,i)}catch(i){yield ld(i)}}),oM.apply(this,arguments)}function aM(){return aM=(0,W.Z)(function*(n,e){const t=Qe(n);wd(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=Qe(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=f_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),aM.apply(this,arguments)}function lM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function uM(n,e,t){const r=Qe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function m_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||XF(n,r)})}function XF(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Jb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),dM(n))}function cM(n,e,t){for(const r of t)r instanceof ZF?(n.Ic.addReference(r.key,e),jG(n,r)):r instanceof YF?(se("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||XF(n,r.key)):ot()}function jG(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(se("SyncEngine","New document in limbo: "+t),n.mc.add(r),dM(n))}function dM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(hn.fromString(e)),r=n.Ac.next();n.yc.set(r,new RG(t)),n.gc=n.gc.insert(t,r),cI(n.remoteStore,new Iu(ss(Xm(t.path)),r,"TargetPurposeLimboResolution",no.ct))}}function Cu(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,W.Z)(function*(n,e,t){const r=Qe(n),i=[],o=[],c=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{c.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const D=mO.Li(m.targetId,v);o.push(D)}}))}),yield Promise.all(c),r.dc.nu(i),yield(f=(0,W.Z)(function*(m,v){const D=Qe(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ee.forEach(v,N=>ee.forEach(N.Fi,x=>D.persistence.referenceDelegate.addReference(I,N.targetId,x)).next(()=>ee.forEach(N.Bi,x=>D.persistence.referenceDelegate.removeReference(I,N.targetId,x)))))}catch(I){if(!ud(I))throw I;se("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const N=I.targetId;if(!I.fromCache){const x=D.Ji.get(N),Y=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);D.Ji=D.Ji.insert(N,Y)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,o))}),hM.apply(this,arguments)}function GG(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,W.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=yield SF(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(f=>{f.reject(new _e(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cu(t,r.er)}var i}),fM.apply(this,arguments)}function HG(n,e){const t=Qe(n),r=t.yc.get(e);if(r&&r.fc)return qt().add(r.key);{let i=qt();const o=t._c.get(e);if(!o)return i;for(const c of o){const f=t.wc.get(c);i=i.unionWith(f.view.nc)}return i}}function zG(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,W.Z)(function*(n,e){const t=Qe(n),r=yield sI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&cM(t,e.targetId,i.cc),i}),pM.apply(this,arguments)}function WG(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,W.Z)(function*(n,e){const t=Qe(n);return MF(t.localStore,e).then(r=>Cu(t,r))}),gM.apply(this,arguments)}function qG(n,e,t,r){return mM.apply(this,arguments)}function mM(){return mM=(0,W.Z)(function*(n,e,t,r){const i=Qe(n),o=yield function(c,f){const m=Qe(c),v=Qe(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Sn(D,f).next(I=>I?m.localDocuments.getDocuments(D,I):ee.resolve(null)))}(i.localStore,e);var f;null!==o?("pending"===t?yield d_(i.remoteStore):"acknowledged"===t||"rejected"===t?(uM(i,e,r||null),lM(i,e),f=e,Qe(Qe(i.localStore).mutationQueue).Cn(f)):ot(),yield Cu(i,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),mM.apply(this,arguments)}function _M(){return _M=(0,W.Z)(function*(n,e){const t=Qe(n);if(wM(t),DM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield eL(t,r.toArray());t.vc=!0,yield GO(t.remoteStore,!0);for(const o of i)cI(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(m_(t,c),u_(t.localStore,c,!0))),Jb(t.remoteStore,c)}),yield i,yield eL(t,r),function(o){const c=Qe(o);c.yc.forEach((f,m)=>{Jb(c.remoteStore,m)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Pn(Ye.comparator)}(t),t.vc=!1,yield GO(t.remoteStore,!1)}}),_M.apply(this,arguments)}function eL(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,W.Z)(function*(n,e,t){const r=Qe(n),i=[],o=[];for(const c of e){let f;const m=r._c.get(c);if(m&&0!==m.length){f=yield l_(r.localStore,ss(m[0]));for(const v of m){const D=r.wc.get(v),I=yield zG(r,D);I.snapshot&&o.push(I.snapshot)}}else{const v=yield OF(r.localStore,c);f=yield l_(r.localStore,v),yield XO(r,tL(v),c,!1,f.resumeToken)}i.push(f)}return r.dc.nu(o),i}),yM.apply(this,arguments)}function tL(n){return lP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YG(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).$i()}function KG(n,e,t,r){return vM.apply(this,arguments)}function vM(){return vM=(0,W.Z)(function*(n,e,t,r){const i=Qe(n);if(i.vc)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield MF(i.localStore,dP(o[0])),f=Fb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xr.EMPTY_BYTE_STRING);yield Cu(i,c,f);break}case"rejected":yield u_(i.localStore,e,!0),m_(i,e,r);break;default:ot()}}),vM.apply(this,arguments)}function JG(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,W.Z)(function*(n,e,t){const r=wM(n);if(r.vc){for(const i of e){if(r._c.has(i)){se("SyncEngine","Adding an already active target "+i);continue}const o=yield OF(r.localStore,i),c=yield l_(r.localStore,o);yield XO(r,tL(o),c.targetId,!1,c.resumeToken),cI(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield u_(r.localStore,i,!1).then(()=>{Jb(r.remoteStore,i),m_(r,i)}).catch(ld))}}),bM.apply(this,arguments)}function wM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BG.bind(null,e),e.dc.nu=AG.bind(null,e.eventManager),e.dc.Pc=NG.bind(null,e.eventManager),e}function DM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UG.bind(null,e),e}class Qb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.serializer=Yb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return CF(this.persistence,new IF,e.initialUser,this.serializer)}createPersistence(e){return new hO(nI.zs,this.serializer)}createSharedClientState(e){return new PF}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class EM extends Qb{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield DM(r.Vc.syncEngine),yield d_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return CF(this.persistence,new IF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new mF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new T$(t,this.persistence);return new E$(e.asyncQueue,r)}createPersistence(e){const t=gO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new pO(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,LF(),uI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new PF}}class nL extends EM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof TO&&(r.sharedClientState.syncEngine={jr:qG.bind(null,i),zr:KG.bind(null,i),Wr:JG.bind(null,i),$i:YG.bind(null,i),Qr:WG.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var o=(0,W.Z)(function*(c){yield function ZG(n,e){return _M.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=LF();if(!TO.D(t))throw new _e(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TO(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class __{initialize(e,t){var r=this;return(0,W.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GG.bind(null,r.syncEngine),yield GO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SG}createDatastore(e){const t=Yb(e.databaseInfo.databaseId),r=new cG(e.databaseInfo);return new fG(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=f=>QF(this.syncEngine,f,0),c=FF.D()?new FF:new aG,new mG(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,f,m,v){const D=new kG(r,i,o,c,f,m);return v&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const r=Qe(t);se("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield c_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rL(n,e=10240){let t=0;return{read:()=>(0,W.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class e3{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,W.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const o=yield e.$c(i);return new OG(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,W.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,W.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class t3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,W.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _e(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,W.Z)(function*(o,c){const f=Qe(o),m=Vb(f.serializer)+"/documents",v={documents:c.map(x=>Bb(f.serializer,x))},D=yield f.vo("BatchGetDocuments",m,v,c.length),I=new Map;D.forEach(x=>{const j=function Dj(n,e){return"found"in e?function(t,r){gt(!!r.found);const i=il(t,r.found.name),o=Or(r.found.updateTime),c=r.found.createTime?Or(r.found.createTime):_t.min(),f=new Ai({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(i,o,c,f)}(n,e):"missing"in e?function(t,r){gt(!!r.missing),gt(!!r.readTime);const i=il(t,r.missing),o=Or(r.readTime);return jn.newNoDocument(i,o)}(n,e):ot()}(f.serializer,x);I.set(j.key.toString(),j)});const N=[];return c.forEach(x=>{const j=I.get(x.toString());gt(!!j),N.push(j)}),N}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new r_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Ye.fromPath(i);e.mutations.push(new qN(o,e.precondition(o)))}),yield(r=(0,W.Z)(function*(i,o){const c=Qe(i),f=Vb(c.serializer)+"/documents",m={writes:o.map(v=>Ub(c.serializer,v))};yield c.Io("Commit",f,m)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new _e(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class n3{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new CO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,W.Z)(function*(){const t=new t3(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Uc(o)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Db(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!NP(t)}return!1}}class r3{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ye.UNAUTHENTICATED,this.clientId=Ck.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,W.Z)(function*(f){se("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(se("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=f_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function fI(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,W.Z)(function*(o){r.isEqual(o)||(yield SF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),TM.apply(this,arguments)}function IM(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SM(n);se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>HF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>HF(e.remoteStore,o)),n._onlineComponents=e}),CM.apply(this,arguments)}function iL(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function SM(n){return AM.apply(this,arguments)}function AM(){return AM=(0,W.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!iL(t))throw t;dn("Error using user provided cache. Falling back to memory cache: "+t),yield fI(n,new Qb)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield fI(n,new Qb);return n._offlineComponents}),AM.apply(this,arguments)}function pI(n){return NM.apply(this,arguments)}function NM(){return NM=(0,W.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield IM(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield IM(n,new __))),n._onlineComponents}),NM.apply(this,arguments)}function sL(n){return SM(n).then(e=>e.persistence)}function gI(n){return SM(n).then(e=>e.localStore)}function oL(n){return pI(n).then(e=>e.remoteStore)}function OM(n){return pI(n).then(e=>e.syncEngine)}function y_(n){return MM.apply(this,arguments)}function MM(){return MM=(0,W.Z)(function*(n){const e=yield pI(n),t=e.eventManager;return t.onListen=PG.bind(null,e.syncEngine),t.onUnlisten=FG.bind(null,e.syncEngine),t}),MM.apply(this,arguments)}function lL(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,o,c,f,m){const v=new hI({next:I=>{o.enqueueAndForget(()=>ZO(i,D));const N=I.docs.has(c);!N&&I.fromCache?m.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&f&&"server"===f.source?m.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),D=new JO(Xm(c.path),v,{includeMetadataChanges:!0,Ku:!0});return WO(i,D)}(yield y_(n),n.asyncQueue,e,t,r)})),r.promise}function uL(n,e,t={}){const r=new Qr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,o,c,f,m){const v=new hI({next:I=>{o.enqueueAndForget(()=>ZO(i,D)),I.fromCache&&"server"===f.source?m.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),D=new JO(c,v,{includeMetadataChanges:!0,Ku:!0});return WO(i,D)}(yield y_(n),n.asyncQueue,e,t,r)})),r.promise}function cL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const dL=new Map;function xM(n,e,t){if(!t)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hL(n,e,t,r){if(!0===e&&!0===r)throw new _e(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fL(n){if(!Ye.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pL(n){if(Ye.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mI(n);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gL(n,e){if(e<=0)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new d$;switch(t.type){case"firstParty":return new g$(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dL.get(e);t&&(se("ComponentProvider","Removing Datastore"),dL.delete(e),t.terminate())}(this),Promise.resolve()}}function _L(n,e,t,r={}){var i;const o=(n=rn(n,Xb))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=ye.MOCK_USER;else{f=(0,ft.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ye(v)}n._authCredentials=new h$(new Tk(f,m))}}class Gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class sl extends Ni{constructor(e,t,r){super(e,t,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Ye(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function yL(n,e,...t){if(n=(0,ft.m9)(n),xM("collection","path",e),n instanceof Xb){const r=hn.fromString(e,...t);return pL(r),new sl(n,null,r)}{if(!(n instanceof Gn||n instanceof sl))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return pL(r),new sl(n.firestore,null,r)}}function _I(n,e,...t){if(n=(0,ft.m9)(n),1===arguments.length&&(e=Ck.A()),xM("doc","path",e),n instanceof Xb){const r=hn.fromString(e,...t);return fL(r),new Gn(n,null,new Ye(r))}{if(!(n instanceof Gn||n instanceof sl))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return fL(r),new Gn(n.firestore,n instanceof sl?n.converter:null,new Ye(r))}}function vL(n,e){return n=(0,ft.m9)(n),e=(0,ft.m9)(e),(n instanceof Gn||n instanceof sl)&&(e instanceof Gn||e instanceof sl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RM(n,e){return n=(0,ft.m9)(n),e=(0,ft.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&Nb(n._query,e._query)&&n.converter===e.converter}class f3{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new CO(this,"async_queue_retry"),this.Xc=()=>{const t=uI();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=uI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=uI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,W.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ud(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=zO.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function kM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class p3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends Xb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new f3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bL(this),this._firestoreClient.terminate()}}function m3(n,e){const t="object"==typeof n?n:(0,Xt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Xt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,ft.P0)("firestore");o&&_L(i,...o)}return i}function Mr(n){return n._firestoreClient||bL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bL(n){var e,t,r;const i=n._freezeSettings(),o=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z$(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,cL(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new r3(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function wL(n,e,t){const r=new Qr;return n.asyncQueue.enqueue((0,W.Z)(function*(){try{yield fI(n,t),yield IM(n,e),r.resolve()}catch(i){const o=i;if(!iL(o))throw o;dn("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function DL(n){if(n._initialized||n._terminated)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Xr.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class yI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const C3=/^__.*__$/;class S3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new n_(e,this.data,t,this.fieldTransforms)}}class EL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class vI{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return DI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TL(this.ca)&&C3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class A3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yb(e)}ya(e,t,r,i=!1){return new vI({ca:e,methodName:t,ga:r,path:fr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(n){const e=n._freezeSettings(),t=Yb(n._databaseId);return new A3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bI(n,e,t,r,i,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,e,t,i);BM("Data must be an object, but it was:",c,r);const f=SL(r,c);let m,v;if(o.merge)m=new Ms(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const D=[];for(const I of o.mergeFields){const N=nw(e,I,t);if(!c.contains(N))throw new _e(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);NL(D,N)||D.push(N)}m=new Ms(D),v=c.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=c.fieldTransforms;return new S3(new Ai(f),m,v)}class tw extends Nf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function IL(n,e,t){return new vI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class PM extends Nf{_toFieldTransform(e){return new Rb(e.path,new e_)}isEqual(e){return e instanceof PM}}class N3 extends Nf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=IL(this,e,!0),r=this.pa.map(o=>Mf(o,t)),i=new bf(r);return new Rb(e.path,i)}isEqual(e){return this===e}}class O3 extends Nf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=IL(this,e,!0),r=this.pa.map(o=>Mf(o,t)),i=new wf(r);return new Rb(e.path,i)}isEqual(e){return this===e}}class M3 extends Nf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new t_(e.serializer,yP(e.serializer,this.Ia));return new Rb(e.path,t)}isEqual(e){return this===e}}function FM(n,e,t,r){const i=n.ya(1,e,t);BM("Data must be an object, but it was:",i,r);const o=[],c=Ai.empty();cd(r,(m,v)=>{const D=wI(e,m,t);v=(0,ft.m9)(v);const I=i.da(D);if(v instanceof tw)o.push(D);else{const N=Mf(v,I);null!=N&&(o.push(D),c.set(D,N))}});const f=new Ms(o);return new EL(c,f,i.fieldTransforms)}function LM(n,e,t,r,i,o){const c=n.ya(1,e,t),f=[nw(e,r,t)],m=[i];if(o.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)f.push(nw(e,o[N])),m.push(o[N+1]);const v=[],D=Ai.empty();for(let N=f.length-1;N>=0;--N)if(!NL(v,f[N])){const x=f[N];let j=m[N];j=(0,ft.m9)(j);const Y=c.da(x);if(j instanceof tw)v.push(x);else{const J=Mf(j,Y);null!=J&&(v.push(x),D.set(x,J))}}const I=new Ms(v);return new EL(D,I,c.fieldTransforms)}function CL(n,e,t,r=!1){return Mf(t,n.ya(r?4:3,e))}function Mf(n,e){if(AL(n=(0,ft.m9)(n)))return BM("Unsupported field value:",e,n),SL(n,e);if(n instanceof Nf)return function(t,r){if(!TL(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let f=Mf(c,r.wa(o));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qn.fromDate(t);return{timestampValue:i_(r.serializer,i)}}if(t instanceof Qn){const i=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:i_(r.serializer,i)}}if(t instanceof yI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ol)return{bytesValue:VP(r.serializer,t._byteString)};if(t instanceof Gn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eO(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${mI(t)}`)}(n,e)}function SL(n,e){const t={};return $k(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cd(n,(r,i)=>{const o=Mf(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function AL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof yI||n instanceof ol||n instanceof Gn||n instanceof Nf)}function BM(n,e,t){if(!AL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function nw(n,e,t){if((e=(0,ft.m9)(e))instanceof Su)return e._internalPath;if("string"==typeof e)return wI(n,e);throw DI("Field path arguments must be of type string or ",n,!1,void 0,t)}const x3=new RegExp("[~\\*/\\[\\]]");function wI(n,e,t){if(e.search(x3)>=0)throw DI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Su(...e.split("."))._internalPath}catch{throw DI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DI(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new _e(re.INVALID_ARGUMENT,f+n+m)}function NL(n,e){return n.some(t=>t.isEqual(e))}class rw{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class R3 extends rw{data(){return super.data()}}function EI(n,e){return"string"==typeof e?wI(n,e):e instanceof Su?e._internalPath:e._delegate._internalPath}function OL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VM{}class iw extends VM{}function Ed(n,e,...t){let r=[];e instanceof VM&&r.push(e),r=r.concat(t),function(i){const o=i.filter(f=>f instanceof v_).length,c=i.filter(f=>f instanceof sw).length;if(o>1||o>0&&c>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class sw extends iw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sw(e,t,r)}_apply(e){const t=this._parse(e);return kL(e._query,t),new Ni(e.firestore,e.converter,HN(e._query,t))}_parse(e){const t=Of(e.firestore);return function(i,o,c,f,m,v,D){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){RL(D,v);const N=[];for(const x of D)N.push(xL(f,i,x));I={arrayValue:{values:N}}}else I=xL(f,i,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||RL(D,v),I=CL(c,"where",D,"in"===v||"not-in"===v);return nn.create(m,v,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class v_ extends VM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new v_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const f of c)kL(o,f),o=HN(o,f)}(e._query,t),new Ni(e.firestore,e.converter,HN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class UM extends iw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UM(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Jm(i,o);return function(f,m){if(null===jN(f)){const v=$T(f);null!==v&&PL(0,v,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Du(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class TI extends iw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new TI(e,t,r)}_apply(e){return new Ni(e.firestore,e.converter,jT(e._query,this._limit,this._limitType))}}class II extends iw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new II(e,t,r)}_apply(e){const t=ML(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CI extends iw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new CI(e,t,r)}_apply(e){const t=ML(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,(i=t,new Du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ML(n,e,t,r){if(t[0]=(0,ft.m9)(t[0]),t[0]instanceof rw)return function(i,o,c,f,m){if(!f)throw new _e(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const D of vf(i))if(D.field.isKeyField())v.push(_f(o,f.key));else{const I=f.data.field(D.field);if(kT(I))throw new _e(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=D.field.canonicalString();throw new _e(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(I)}return new md(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Of(n.firestore);return function(o,c,f,m,v,D){const I=o.explicitOrderBy;if(v.length>I.length)throw new _e(re.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let x=0;x<v.length;x++){const j=v[x];if(I[x].field.isKeyField()){if("string"!=typeof j)throw new _e(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!GN(o)&&-1!==j.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const Y=o.path.child(hn.fromString(j));if(!Ye.isDocumentKey(Y))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const J=new Ye(Y);N.push(_f(c,J))}else{const Y=CL(f,m,j);N.push(Y)}}return new md(N,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function xL(n,e,t){if("string"==typeof(t=(0,ft.m9)(t))){if(""===t)throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GN(e)&&-1!==t.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!Ye.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _f(n,new Ye(r))}if(t instanceof Gn)return _f(n,t._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mI(t)}.`)}function RL(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kL(n,e){if(e.isInequality()){const r=$T(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new _e(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=jN(n);null!==o&&PL(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function PL(n,e,t){if(!t.isEqual(e))throw new _e(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $M{convertValue(e,t="none"){switch(pd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return cd(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new yI(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tb(e));default:return null}}convertTimestamp(e){const t=dd(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);gt(YP(r));const i=new hd(r.get(1),r.get(3)),o=new Ye(r.popFirst(5));return i.isEqual(t)||Bt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function SI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class j3 extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}class xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends rw{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ow extends Au{data(e={}){return super.data(e)}}class Td{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ow(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new ow(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new ow(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:H3(c.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function H3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function LL(n,e){return n instanceof Au&&e instanceof Au?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Td&&e instanceof Td&&n._firestore===e._firestore&&RM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Id extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function BL(n,e,t){n=rn(n,Gn);const r=rn(n.firestore,Hn),i=SI(n.converter,e,t);return b_(r,[bI(Of(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xn.none())])}function VL(n,e,t,...r){n=rn(n,Gn);const i=rn(n.firestore,Hn),o=Of(i);let c;return c="string"==typeof(e=(0,ft.m9)(e))||e instanceof Su?LM(o,"updateDoc",n._key,e,t,r):FM(o,"updateDoc",n._key,e),b_(i,[c.toMutation(n._key,Xn.exists(!0))])}function UL(n,...e){var t,r,i;n=(0,ft.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||kM(e[c])||(o=e[c],c++);const f={includeMetadataChanges:o.includeMetadataChanges};if(kM(e[c])){const I=e[c];e[c]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[c+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[c+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let m,v,D;if(n instanceof Gn)v=rn(n.firestore,Hn),D=Xm(n._key.path),m={next:I=>{e[c]&&e[c](jM(v,n,I))},error:e[c+1],complete:e[c+2]};else{const I=rn(n,Ni);v=rn(I.firestore,Hn),D=I._query;const N=new Id(v);m={next:x=>{e[c]&&e[c](new Td(v,N,I,x))},error:e[c+1],complete:e[c+2]},OL(n._query)}return function(I,N,x,j){const Y=new hI(j),J=new JO(N,Y,x);return I.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return WO(yield y_(I),J)})),()=>{Y.Dc(),I.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return ZO(yield y_(I),J)}))}}(Mr(v),D,f,m)}function b_(n,e){return function(t,r){const i=new Qr;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function LG(n,e,t){return nM.apply(this,arguments)}(yield OM(t),r,i)})),i.promise}(Mr(n),e)}function jM(n,e,t){const r=t.docs.get(e._key),i=new Id(n);return new Au(n,i,e._key,r,new xf(t.hasPendingWrites,t.fromCache),e.converter)}const lH={maxAttempts:5};class $L{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}set(e,t,r){this._verifyNotCommitted();const i=Cd(e,this._firestore),o=SI(i.converter,t,r),c=bI(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Cd(e,this._firestore);let c;return c="string"==typeof(t=(0,ft.m9)(t))||t instanceof Su?LM(this._dataReader,"WriteBatch.update",o._key,t,r,i):FM(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Cd(e,this._firestore);return this._mutations=this._mutations.concat(new r_(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cd(n,e){if((n=(0,ft.m9)(n)).firestore!==e)throw new _e(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Of(e)}get(e){const t=Cd(e,this._firestore),r=new j3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const o=i[0];if(o.isFoundDocument())return new rw(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new rw(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=Cd(e,this._firestore),o=SI(i.converter,t,r),c=bI(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=Cd(e,this._firestore);let c;return c="string"==typeof(t=(0,ft.m9)(t))||t instanceof Su?LM(this._dataReader,"Transaction.update",o._key,t,r,i):FM(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=Cd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Cd(e,this._firestore),r=new Id(this._firestore);return super.get(e).then(i=>new Au(this._firestore,r,t._key,i._document,new xf(!1,!1),t.converter))}}function GM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function GL(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function HL(){if(!function G$(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){He=Xt.SDK_VERSION,(0,Xt._registerComponent)(new Ys.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new Hn(new f$(t.getProvider("auth-internal")),new m$(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(f.options.projectId,m)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Xt.registerVersion)(fe,"3.13.0",n),(0,Xt.registerVersion)(fe,"3.13.0","esm2017")}();class aw{constructor(e){this._delegate=e}static fromBase64String(e){return HL(),new aw(ol.fromBase64String(e))}static fromUint8Array(e){return GL(),new aw(ol.fromUint8Array(e))}toBase64(){return HL(),this._delegate.toBase64()}toUint8Array(){return GL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HM(n){return function yH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vH{enableIndexedDbPersistence(e,t){return function _3(n,e){DL(n=rn(n,Hn));const t=Mr(n);if(t._uninitializedComponentsProvider)throw new _e(re.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new __;return wL(t,i,new EM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function y3(n){DL(n=rn(n,Hn));const e=Mr(n);if(e._uninitializedComponentsProvider)throw new _e(re.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new __;return wL(e,r,new nL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function v3(n){if(n._initialized&&!n._terminated)throw new _e(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(t=(0,W.Z)(function*(r){if(!Jo.D())return Promise.resolve();const i=r+"main";yield Jo.delete(i)}),function(r){return t.apply(this,arguments)})(gO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class zL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){_L(this._delegate,e,t,r)}enableNetwork(){return function w3(n){return function i3(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield sL(n),t=yield oL(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i.vu.delete(0),Kb(i)}(t)}))}(Mr(n=rn(n,Hn)))}(this._delegate)}disableNetwork(){return function D3(n){return function s3(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield sL(n),t=yield oL(n);return e.setNetworkEnabled(!1),(r=(0,W.Z)(function*(i){const o=Qe(i);o.vu.add(0),yield c_(o),o.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Mr(n=rn(n,Hn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function b3(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function $G(n,e){return aM.apply(this,arguments)}(yield OM(e),t)})),t.promise}(Mr(n=rn(n,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function X3(n,e){return function l3(n,e){const t=new hI(e);return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield y_(n),i=t,Qe(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield y_(n),i=t,void Qe(r).ku.delete(i);var r,i}))}}(Mr(n=rn(n,Hn)),kM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new w_(this,yL(this._delegate,e))}catch(t){throw os(t,"collection()","Firestore.collection()")}}doc(e){try{return new Eo(this,_I(this._delegate,e))}catch(t){throw os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new as(this,function h3(n,e){if(n=rn(n,Xb),xM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new Du(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cH(n,e,t){n=rn(n,Hn);const r=Object.assign(Object.assign({},lH),t);return function(i){if(i.maxAttempts<1)throw new _e(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const f=new Qr;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const m=yield function aL(n){return pI(n).then(e=>e.datastore)}(i);new n3(i.asyncQueue,m,c,o,f).run()})),f.promise}(Mr(n),i=>e(new uH(n,i)),r)}(this._delegate,t=>e(new WL(this,t)))}batch(){return Mr(this._delegate),new qL(new $L(this._delegate,e=>b_(this._delegate,e)))}loadBundle(e){return function E3(n,e){const t=Mr(n=rn(n,Hn)),r=new p3;return function u3(n,e,t,r){const i=function(o,c){let f;return f="string"==typeof o?MP().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return rL(m,v);if(m instanceof ArrayBuffer)return rL(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new e3(m,c);var m}(t,Yb(e));n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function QG(n,e,t){const r=Qe(n);var i;(i=(0,W.Z)(function*(o,c,f){try{const m=yield c.getMetadata();if(yield function(N,x){const j=Qe(N),Y=Or(x.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",J=>j.qs.getBundleMetadata(J,x.id)).then(J=>!!J&&J.createTime.compareTo(Y)>=0)}(o.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=m).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(qF(m));const v=new MG(m,o.localStore,c.serializer);let D=yield c.bc();for(;D;){const N=yield v.zu(D);N&&f._updateProgress(N),D=yield c.bc()}const I=yield v.complete();return yield Cu(o,I.Ju,void 0),yield function(N,x){const j=Qe(N);return j.persistence.runTransaction("Save bundle","readwrite",Y=>j.qs.saveBundleMetadata(Y,x))}(o.localStore,m),f._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return dn("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var N}),function(o,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield OM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function T3(n,e){return function c3(n,e){return n.asyncQueue.enqueue((0,W.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,r))}(yield gI(n),e)}))}(Mr(n=rn(n,Hn)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new as(this,t):null)}}class AI extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new aw(new ol(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Eo.forKey(t,this.firestore,null)}}class WL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=kf(e);return this._delegate.get(t).then(r=>new lw(this._firestore,new Au(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=kf(e);return r?(GM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=kf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=kf(e);return this._delegate.delete(t),this}}class qL{constructor(e){this._delegate=e}set(e,t,r){const i=kf(e);return r?(GM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=kf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=kf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ow(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Rf(e,new AI(e),t),i.set(t,o)),o}}Rf.INSTANCES=new WeakMap;class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Eo(t,new Gn(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Eo(t,new Gn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new w_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new w_(this.firestore,yL(this._delegate,e))}catch(t){throw os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ft.m9)(e))instanceof Gn&&vL(this._delegate,e)}set(e,t){t=GM("DocumentReference.set",t);try{return t?BL(this._delegate,e,t):BL(this._delegate,e)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?VL(this._delegate,e):VL(this._delegate,e,t,...r)}catch(i){throw os(i,"updateDoc()","DocumentReference.update()")}}delete(){return function J3(n){return b_(rn(n.firestore,Hn),[new r_(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=ZL(e),r=YL(e,i=>new lw(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return UL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function W3(n){n=rn(n,Gn);const e=rn(n.firestore,Hn),t=Mr(e),r=new Id(e);return function o3(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,o,c){try{const f=yield function(m,v){const D=Qe(m);return D.persistence.runTransaction("read document","readonly",I=>D.localDocuments.getDocument(I,v))}(i,o);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new _e(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=f_(f,`Failed to get document '${o} from cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield gI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Au(e,r,n._key,i,new xf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function q3(n){n=rn(n,Gn);const e=rn(n.firestore,Hn);return lL(Mr(e),n._key,{source:"server"}).then(t=>jM(e,n,t))}(this._delegate):function z3(n){n=rn(n,Gn);const e=rn(n.firestore,Hn);return lL(Mr(e),n._key).then(t=>jM(e,n,t))}(this._delegate),t.then(r=>new lw(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function os(n,e,t){return n.message=n.message.replace(e,t),n}function ZL(n){for(const e of n)if("object"==typeof e&&!HM(e))return e;return{}}function YL(n,e){var t,r;let i;return i=HM(n[0])?n[0]:HM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Eo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return LL(this._delegate,e._delegate)}}class uw extends lw{data(e){const t=this._delegate.data(e);return function c$(n,e){n||ot()}(void 0!==t),t}}class as{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,r){try{return new as(this.firestore,Ed(this._delegate,function k3(n,e,t){const r=e,i=EI("where",n);return sw._create(i,r,t)}(e,t,r)))}catch(i){throw os(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new as(this.firestore,Ed(this._delegate,function P3(n,e="asc"){const t=e,r=EI("orderBy",n);return UM._create(r,t)}(e,t)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new as(this.firestore,Ed(this._delegate,function F3(n){return gL("limit",n),TI._create("limit",n,"F")}(e)))}catch(t){throw os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new as(this.firestore,Ed(this._delegate,function L3(n){return gL("limitToLast",n),TI._create("limitToLast",n,"L")}(e)))}catch(t){throw os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new as(this.firestore,Ed(this._delegate,function B3(...n){return II._create("startAt",n,!0)}(...e)))}catch(t){throw os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new as(this.firestore,Ed(this._delegate,function V3(...n){return II._create("startAfter",n,!1)}(...e)))}catch(t){throw os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new as(this.firestore,Ed(this._delegate,function U3(...n){return CI._create("endBefore",n,!1)}(...e)))}catch(t){throw os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new as(this.firestore,Ed(this._delegate,function $3(...n){return CI._create("endAt",n,!0)}(...e)))}catch(t){throw os(t,"endAt()","Query.endAt()")}}isEqual(e){return RM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Y3(n){n=rn(n,Ni);const e=rn(n.firestore,Hn),t=Mr(e),r=new Id(e);return function a3(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,o,c){try{const f=yield sI(i,o,!0),m=new KF(o,f.ir),v=m.sc(f.documents),D=m.applyChanges(v,!1);c.resolve(D.snapshot)}catch(f){const m=f_(f,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield gI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Td(e,r,n,i))}(this._delegate):"server"===e?.source?function K3(n){n=rn(n,Ni);const e=rn(n.firestore,Hn),t=Mr(e),r=new Id(e);return uL(t,n._query,{source:"server"}).then(i=>new Td(e,r,n,i))}(this._delegate):function Z3(n){n=rn(n,Ni);const e=rn(n.firestore,Hn),t=Mr(e),r=new Id(e);return OL(n._query),uL(t,n._query).then(i=>new Td(e,r,n,i))}(this._delegate),t.then(r=>new zM(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ZL(e),r=YL(e,i=>new zM(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return UL(this._delegate,t,r)}withConverter(e){return new as(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}class wH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new uw(this._firestore,r))})}isEqual(e){return LL(this._delegate,e._delegate)}}class w_ extends as{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Eo(this.firestore,e):null}doc(e){try{return new Eo(this.firestore,void 0===e?_I(this._delegate):_I(this._delegate,e))}catch(t){throw os(t,"doc()","CollectionReference.doc()")}}add(e){return function Q3(n,e){const t=rn(n.firestore,Hn),r=_I(n),i=SI(n.converter,e);return b_(t,[bI(Of(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Eo(this.firestore,t))}isEqual(e){return vL(this._delegate,e._delegate)}withConverter(e){return new w_(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function kf(n){return rn(n,Gn)}class WM{constructor(...e){this._delegate=new Su(...e)}static documentId(){return new WM(fr.keyField().canonicalString())}isEqual(e){return(e=(0,ft.m9)(e))instanceof Su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hH(){return new PM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pf(e)}static delete(){const e=function dH(){return new tw("deleteField")}();return e._methodName="FieldValue.delete",new Pf(e)}static arrayUnion(...e){const t=function fH(...n){return new N3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Pf(t)}static arrayRemove(...e){const t=function pH(...n){return new O3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Pf(t)}static increment(e){const t=function gH(n){return new M3("increment",n)}(e);return t._methodName="FieldValue.increment",new Pf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DH={Firestore:zL,GeoPoint:yI,Timestamp:Qn,Blob:aw,Transaction:WL,WriteBatch:qL,DocumentReference:Eo,DocumentSnapshot:lw,Query:as,QueryDocumentSnapshot:uw,QuerySnapshot:zM,CollectionReference:w_,FieldPath:WM,FieldValue:Pf,setLogLevel:function bH(n){!function Ee(n){et.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function TH(n){(function EH(n,e){n.INTERNAL.registerComponent(new Ys.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},DH)))})(n,(e,t)=>new zL(e,t,new vH)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(pk.Z);var cw=L(6451);class IH extends on.x{constructor(e=1/0,t=1/0,r=Sc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var CH=L(3099);function qM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,CH.B)({connector:()=>new IH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function KL(n,e){return(0,Ti.m)(e)?yn(()=>n,e):yn(()=>n)}class D_{constructor(e){return e}}class JL{constructor(){return(0,Xt.getApps)()}}const ZM=new l.OlP("angularfire2._apps"),AH={provide:D_,useFactory:function SH(n){return n&&1===n.length?n[0]:new D_((0,Xt.getApp)())},deps:[[new l.FiY,ZM]]},NH={provide:JL,deps:[[new l.FiY,ZM]]};function OH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new D_(r)}}let MH=(()=>{class n{constructor(t){(0,Xt.registerVersion)("angularfire",Zh.full,"core"),(0,Xt.registerVersion)("angularfire",Zh.full,"app"),(0,Xt.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[AH,NH]}),n})();const RH=E0(Xt.initializeApp,!0),YM=new Map,QL={activated:!1,tokenObservers:[]},kH={initialized:!1,enabled:!1};function gr(n){return YM.get(n)||Object.assign({},QL)}function NI(){return kH}class UH{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new ft.BH,yield function $H(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oi=new ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JM(n){if(!gr(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}function xI(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,W.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,o)}catch(I){throw Oi.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==c.status)throw Oi.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(I){throw Oi.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+v,issuedAtTimeMillis:D}}),XM.apply(this,arguments)}function e2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const dw="firebase-app-check-store";let RI=null;function n2(){return RI||(RI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Oi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dw,{keyPath:"compositeKey"})}}catch(t){e(Oi.create("storage-open",{originalErrorMessage:t?.message}))}}),RI)}function ex(){return ex=(0,W.Z)(function*(n,e){const r=(yield n2()).transaction(dw,"readwrite"),o=r.objectStore(dw).put({compositeKey:n,value:e});return new Promise((c,f)=>{o.onsuccess=m=>{c()},r.onerror=m=>{var v;f(Oi.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),ex.apply(this,arguments)}const hw=new ws.Yd("@firebase/app-check");function rx(n,e){return(0,ft.hl)()?function ZH(n,e){return function r2(n,e){return ex.apply(this,arguments)}(function s2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sx(){return NI().enabled}function ox(){return ax.apply(this,arguments)}function ax(){return ax=(0,W.Z)(function*(){const n=NI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ax.apply(this,arguments)}const e6={error:"UNKNOWN_ERROR"};function t6(n){return ft.US.encodeString(JSON.stringify(n),!1)}function kI(n){return lx.apply(this,arguments)}function lx(){return lx=(0,W.Z)(function*(n,e=!1){const t=n.app;JM(t);const r=gr(t);let o,i=r.token;if(i&&!E_(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(E_(m)?i=m:yield rx(t,void 0))}if(!e&&i&&E_(i))return{token:i.token};let f,c=!1;if(sx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xI(e2(t,yield ox()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield rx(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield gr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?hw.warn(m.message):hw.error(m),o=m}return i?o?f=E_(i)?{token:i.token,internalError:o}:u2(o):(f={token:i.token},r.token=i,yield rx(t,i)):f=u2(o),c&&l2(t,f),f}),lx.apply(this,arguments)}function ux(){return ux=(0,W.Z)(function*(n){const e=n.app;JM(e);const{provider:t}=gr(e);if(sx()){const r=yield ox(),{token:i}=yield xI(e2(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),ux.apply(this,arguments)}function dx(n,e){const t=gr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function a2(n){const{app:e}=n,t=gr(e);let r=t.tokenRefresher;r||(r=function n6(n){const{app:e}=n;return new UH((0,W.Z)(function*(){let r;if(r=gr(e).token?yield kI(n,!0):yield kI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function l2(n,e){const t=gr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function E_(n){return n.expireTimeMillis-Date.now()>0}function u2(n){return{token:t6(e6),error:n}}class r6{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gr(this.app);for(const t of e)dx(this.app,t.next);return Promise.resolve()}}const _2="app-check-internal";!function _6(){(0,Xt._registerComponent)(new Ys.wA("app-check",n=>function i6(n,e){return new r6(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_2).initialize()})),(0,Xt._registerComponent)(new Ys.wA(_2,n=>function s6(n){return{getToken:e=>kI(n,e),getLimitedUseToken:()=>function o2(n){return ux.apply(this,arguments)}(n),addTokenListener:e=>function cx(n,e,t,r){const{app:i}=n,o=gr(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&E_(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),a2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>a2(n))}(n,"INTERNAL",e),removeTokenListener:e=>dx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xt.registerVersion)("@firebase/app-check","0.8.0")}();class FI{constructor(){return w0("app-check")}}typeof window<"u"&&window;var D6=L(9260);const v2=new l.OlP("angularfire2.auth.use-emulator"),b2=new l.OlP("angularfire2.auth.settings"),w2=new l.OlP("angularfire2.auth.tenant-id"),D2=new l.OlP("angularfire2.auth.langugage-code"),E2=new l.OlP("angularfire2.auth.use-device-language"),T2=new l.OlP("angularfire.auth.persistence"),I2=(n,e,t,r,i,o,c,f)=>(0,Cs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,o&&m.useDeviceLanguage(),c)for(const[v,D]of Object.entries(c))m.settings[v]=D;return f&&m.setPersistence(f),m},[t,r,i,o,c,f]);let C2=(()=>{class n{constructor(t,r,i,o,c,f,m,v,D,I,N,x){const j=new on.x,Y=tt(void 0).pipe((0,gu.Q)(c.outsideAngular),yn(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Je.U)(()=>(0,Cs.on)(t,o,r)),(0,Je.U)(J=>I2(J,o,f,v,D,I,m,N)),qM({bufferSize:1,refCount:!1}));if(ca(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{Y.pipe(Gs()).subscribe();const ie=Y.pipe(yn(xe=>xe.getRedirectResult().then(Ge=>Ge,()=>null)),ns,qM({bufferSize:1,refCount:!1})),ge=Y.pipe(yn(xe=>new Yn.y(Ge=>({unsubscribe:o.runOutsideAngular(()=>xe.onAuthStateChanged(We=>Ge.next(We),We=>Ge.error(We),()=>Ge.complete()))})))),Me=Y.pipe(yn(xe=>new Yn.y(Ge=>({unsubscribe:o.runOutsideAngular(()=>xe.onIdTokenChanged(We=>Ge.next(We),We=>Ge.error(We),()=>Ge.complete()))}))));this.authState=ie.pipe(KL(ge),(0,Gc.R)(c.outsideAngular),(0,gu.Q)(c.insideAngular)),this.user=ie.pipe(KL(Me),(0,Gc.R)(c.outsideAngular),(0,gu.Q)(c.insideAngular)),this.idToken=this.user.pipe(yn(xe=>xe?(0,un.D)(xe.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(yn(xe=>xe?(0,un.D)(xe.getIdTokenResult()):tt(null))),this.credential=(0,cw.T)(ie,j,this.authState.pipe(tn(xe=>!xe))).pipe((0,Je.U)(xe=>xe?.user?xe:null),(0,Gc.R)(c.outsideAngular),(0,gu.Q)(c.insideAngular))}return(0,Cs.pX)(this,Y,o,{spy:{apply:(J,ie,ge)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&ge.then(Me=>j.next(Me))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Dh),l.LFG(Cs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yh),l.LFG(v2,8),l.LFG(b2,8),l.LFG(w2,8),l.LFG(D2,8),l.LFG(E2,8),l.LFG(T2,8),l.LFG(FI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function S2(n,e){return function T6(n,e=Nc){return new Yn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function mx(n,e){return S2(n,e).pipe((0,Je.U)(t=>({payload:t,type:"query"})))}function LI(n,e){return mx(n,e).pipe(js(void 0),lm(),(0,Je.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(D=>D.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),o}))}function A2(n,e,t){return LI(n,t).pipe(Oa((r,i)=>function C6(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function S6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _x(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _x(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _x(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),Hc(),(0,Je.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _x(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function N2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class O2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=LI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Je.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(js(void 0),lm(),tn(([r,i])=>i.length>0||!r),(0,Je.U)(([r,i])=>i),ns)}auditTrail(e){return this.stateChanges(e).pipe(Oa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=N2(e);return A2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ns)}valueChanges(e={}){return mx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ns)}get(e){return(0,un.D)(this.query.get(e)).pipe(ns)}add(e){return this.ref.add(e)}doc(e){return new M2(this.ref.doc(e),this.afs)}}class M2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=k2(r,t);return new O2(i,o,this.afs)}snapshotChanges(){return function I6(n,e){return S2(n,e).pipe(js(void 0),lm(),(0,Je.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ns)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(ns)}}class A6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?LI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),tn(t=>t.length>0),ns):LI(this.query,this.afs.schedulers.outsideAngular).pipe(ns)}auditTrail(e){return this.stateChanges(e).pipe(Oa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=N2(e);return A2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ns)}valueChanges(e={}){return mx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ns)}get(e){return(0,un.D)(this.query.get(e)).pipe(ns)}}const x2=new l.OlP("angularfire2.enableFirestorePersistence"),R2=new l.OlP("angularfire2.firestore.persistenceSettings"),N6=new l.OlP("angularfire2.firestore.settings"),O6=new l.OlP("angularfire2.firestore.use-emulator");function k2(n,e=(t=>t)){return{query:e(n),ref:n}}let BI=(()=>{class n{constructor(t,r,i,o,c,f,m,v,D,I,N,x,j,Y,J,ie,ge){this.schedulers=m;const Me=(0,Cs.on)(t,f,r),xe=D;I&&I2(Me,f,N,j,Y,J,x,ie),[this.firestore,this.persistenceEnabled$]=(0,Cs.cc)(`${Me.name}.firestore`,"AngularFirestore",Me.name,()=>{const Ge=f.runOutsideAngular(()=>Me.firestore());if(o&&Ge.settings(o),xe&&Ge.useEmulator(...xe),i&&!ca(c)){const We=()=>{try{return(0,un.D)(Ge.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Rt){return typeof console<"u"&&console.warn(Rt),tt(!1)}};return[Ge,f.runOutsideAngular(We)]}return[Ge,tt(!1)]},[o,xe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=k2(i,r),f=this.schedulers.ngZone.run(()=>o);return new O2(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new A6(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new M2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Dh),l.LFG(Cs.xv,8),l.LFG(x2,8),l.LFG(N6,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yh),l.LFG(R2,8),l.LFG(O6,8),l.LFG(C2,8),l.LFG(v2,8),l.LFG(b2,8),l.LFG(w2,8),l.LFG(D2,8),l.LFG(E2,8),l.LFG(T2,8),l.LFG(FI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M6=(()=>{class n{constructor(){D6.Z.registerVersion("angularfire",Zh.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:x2,useValue:!0},{provide:R2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[BI]}),n})();const x6=function(){return["home"]};class fw{constructor(e,t,r){this.route=e,this.sanitizer=t,this.about={},r.collection("about").valueChanges().pipe(pn(1)).subscribe(i=>{this.about=this.sanitizer.bypassSecurityTrustHtml(i[0].details.toString())})}}fw.\u0275fac=function(e){return new(e||fw)(l.Y36(mo),l.Y36(Us),l.Y36(BI))},fw.\u0275cmp=l.Xpm({type:fw,selectors:[["app-about"]],decls:23,vars:3,consts:[[2,"width","calc( 100% )","position","relative"],[2,"text-align","center","margin-top","15vh","position","relative"],["src","https://i.imgur.com/fVlfMI3.png",2,"border","1px solid transparent","border-radius","20em","max-width","250px","position","relative","top","0","/* add the blur effect */\n            filter","blur(8px)","-webkit-filter","blur(8px)","left","0"],[2,"position","absolute","margin","0 auto","width","100%","margin-top","-245px"],["src","https://i.imgur.com/fVlfMI3.png",2,"border","1px solid rgba(0,0,0,0.2)","border-radius","20em","max-width","250px"],[2,"text-align","center"],[1,"logo"],[3,"routerLink"],[2,"width","100%","text-align","center","margin-top","calc( 80vh - 425px)"],[1,"panos-card","active",2,"padding-top","20px","margin-left","0px"],[2,"width","100%!important",";overflow","auto","overflow-x","hidden","height","92%"],[2,"position","relative",3,"innerHtml"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"div",3),l._UZ(4,"img",4),l.qZA()(),l._UZ(5,"br"),l.TgZ(6,"p",5)(7,"a",6),l._uU(8,"PANOS PETRIDISOGLOU"),l.qZA(),l._UZ(9,"br")(10,"br"),l.TgZ(11,"button",7),l._uU(12,"CONTINUE"),l.qZA()()(),l.TgZ(13,"div",8),l._uU(14," \u{1f447} "),l.TgZ(15,"strong"),l._uU(16,"Scroll"),l.qZA(),l._uU(17," to learn more \u{1f447}\n"),l.qZA(),l.TgZ(18,"div",9),l._UZ(19,"br")(20,"br"),l.TgZ(21,"div",10),l._UZ(22,"div",11),l.qZA()()),2&e&&(l.xp6(11),l.Q6J("routerLink",l.DdM(2,x6)),l.xp6(11),l.Q6J("innerHtml",t.about,l.oJD))},dependencies:[ja],encapsulation:2});class VI{}class yx{}class Qo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===o.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class R6{encodeKey(e){return P2(e)}encodeValue(e){return P2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const P6=/%(\d[a-f0-9])/gi,F6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P2(n){return encodeURIComponent(n).replace(P6,(e,t)=>F6[t]??e)}function UI(n){return`${n}`}class Sd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new R6,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k6(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,f]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],m=t.get(c)||[];m.push(f),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(UI):[UI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Sd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(UI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(UI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class L6{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function F2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L2(n){return typeof Blob<"u"&&n instanceof Blob}function B2(n){return typeof FormData<"u"&&n instanceof FormData}class pw{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function B6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Qo),this.context||(this.context=new L6),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Sd,this.urlWithParams=t}serializeBody(){return null===this.body?null:F2(this.body)||L2(this.body)||B2(this.body)||function V6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B2(this.body)?null:L2(this.body)?this.body.type||null:F2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((I,N)=>I.set(N,e.setHeaders[N]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((I,N)=>I.set(N,e.setParams[N]),v)),new pw(t,r,o,{params:v,headers:m,context:D,reportProgress:f,responseType:i,withCredentials:c})}}var $r=(()=>(($r=$r||{})[$r.Sent=0]="Sent",$r[$r.UploadProgress=1]="UploadProgress",$r[$r.ResponseHeader=2]="ResponseHeader",$r[$r.DownloadProgress=3]="DownloadProgress",$r[$r.Response=4]="Response",$r[$r.User=5]="User",$r))();class vx{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class bx extends vx{constructor(e={}){super(e),this.type=$r.ResponseHeader}clone(e={}){return new bx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $I extends vx{constructor(e={}){super(e),this.type=$r.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $I({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class V2 extends vx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Dx=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof pw)o=t;else{let m,v;m=i.headers instanceof Qo?i.headers:new Qo(i.headers),i.params&&(v=i.params instanceof Sd?i.params:new Sd({fromObject:i.params})),o=new pw(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=tt(o).pipe(po(m=>this.handler.handle(m)));if(t instanceof pw||"events"===i.observe)return c;const f=c.pipe(tn(m=>m instanceof $I));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,Je.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,Je.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Sd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wx(i,r))}post(t,r,i={}){return this.request("POST",t,wx(i,r))}put(t,r,i={}){return this.request("PUT",t,wx(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function U2(n,e){return e(n)}function U6(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const j6=new l.OlP("HTTP_INTERCEPTORS"),gw=new l.OlP("HTTP_INTERCEPTOR_FNS");function G6(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(j6,{optional:!0})??[]).reduceRight(U6,U2)),n(e,t))}let $2=(()=>{class n extends VI{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(gw)));this.chain=r.reduceRight((i,o)=>function $6(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),U2)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yx),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const q6=/^\)\]\}',?\n/;let G2=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((x,j)=>i.setRequestHeader(x,j.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&i.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();i.responseType="json"!==x?x:"text"}const o=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const x=i.statusText||"OK",j=new Qo(i.getAllResponseHeaders()),Y=function Z6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new bx({headers:j,status:i.status,statusText:x,url:Y}),c},m=()=>{let{headers:x,status:j,statusText:Y,url:J}=f(),ie=null;204!==j&&(ie=typeof i.response>"u"?i.responseText:i.response),0===j&&(j=ie?200:0);let ge=j>=200&&j<300;if("json"===t.responseType&&"string"==typeof ie){const Me=ie;ie=ie.replace(q6,"");try{ie=""!==ie?JSON.parse(ie):null}catch(xe){ie=Me,ge&&(ge=!1,ie={error:xe,text:ie})}}ge?(r.next(new $I({body:ie,headers:x,status:j,statusText:Y,url:J||void 0})),r.complete()):r.error(new V2({error:ie,headers:x,status:j,statusText:Y,url:J||void 0}))},v=x=>{const{url:j}=f(),Y=new V2({error:x,status:i.status||0,statusText:i.statusText||"Unknown Error",url:j||void 0});r.error(Y)};let D=!1;const I=x=>{D||(r.next(f()),D=!0);let j={type:$r.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(j.total=x.total),"text"===t.responseType&&i.responseText&&(j.partialText=i.responseText),r.next(j)},N=x=>{let j={type:$r.UploadProgress,loaded:x.loaded};x.lengthComputable&&(j.total=x.total),r.next(j)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",I),null!==o&&i.upload&&i.upload.addEventListener("progress",N)),i.send(o),r.next({type:$r.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",I),null!==o&&i.upload&&i.upload.removeEventListener("progress",N)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ap))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ex=new l.OlP("XSRF_ENABLED"),H2="XSRF-TOKEN",z2=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>H2}),W2="X-XSRF-TOKEN",q2=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>W2});class Z2{}let Y6=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le),l.LFG(l.Lbi),l.LFG(z2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function K6(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(Ex)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(Z2).getToken(),i=(0,l.f3M)(q2);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var xr=(()=>((xr=xr||{})[xr.Interceptors=0]="Interceptors",xr[xr.LegacyInterceptors=1]="LegacyInterceptors",xr[xr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xr[xr.NoXsrfProtection=3]="NoXsrfProtection",xr[xr.JsonpSupport=4]="JsonpSupport",xr[xr.RequestsMadeViaParent=5]="RequestsMadeViaParent",xr))();function T_(n,e){return{\u0275kind:n,\u0275providers:e}}function J6(...n){const e=[Dx,G2,$2,{provide:VI,useExisting:$2},{provide:yx,useExisting:G2},{provide:gw,useValue:K6,multi:!0},{provide:Ex,useValue:!0},{provide:Z2,useClass:Y6}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const Y2=new l.OlP("LEGACY_INTERCEPTOR_FN");function X6({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:z2,useValue:n}),void 0!==e&&t.push({provide:q2,useValue:e}),T_(xr.CustomXsrfConfiguration,t)}let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[J6(T_(xr.LegacyInterceptors,[{provide:Y2,useFactory:G6},{provide:gw,useExisting:Y2,multi:!0}]),X6({cookieName:H2,headerName:W2}))]}),n})(),K2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Ff=(()=>{class n extends K2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Rs=new l.OlP("NgValueAccessor"),rz={provide:Rs,useExisting:(0,l.Gpc)(()=>mw),multi:!0},sz=new l.OlP("CompositionEventMode");let mw=(()=>{class n extends K2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iz(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(sz,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([rz]),l.qOj]}),n})();const Mi=new l.OlP("NgValidators"),Nd=new l.OlP("NgAsyncValidators");function aB(n){return null!=n}function lB(n){return(0,l.QGY)(n)?(0,un.D)(n):n}function uB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cB(n,e){return e.map(t=>t(n))}function dB(n){return n.map(e=>function lz(n){return!n.validate}(e)?e:t=>e.validate(t))}function Tx(n){return null!=n?function hB(n){if(!n)return null;const e=n.filter(aB);return 0==e.length?null:function(t){return uB(cB(t,e))}}(dB(n)):null}function Ix(n){return null!=n?function fB(n){if(!n)return null;const e=n.filter(aB);return 0==e.length?null:function(t){return function tz(...n){const e=(0,Di.jO)(n),{args:t,keys:r}=fo(n),i=new Yn.y(o=>{const{length:c}=t;if(!c)return void o.complete();const f=new Array(c);let m=c,v=c;for(let D=0;D<c;D++){let I=!1;(0,Ji.Xf)(t[D]).subscribe((0,bn.x)(o,N=>{I||(I=!0,v--),f[D]=N},()=>m--,void 0,()=>{(!m||!I)&&(v||o.next(r?oh(r,f):f),o.complete())}))}});return e?i.pipe(Ca(e)):i}(cB(t,e).map(lB)).pipe((0,Je.U)(uB))}}(dB(n)):null}function pB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gB(n){return n._rawValidators}function mB(n){return n._rawAsyncValidators}function Cx(n){return n?Array.isArray(n)?n:[n]:[]}function GI(n,e){return Array.isArray(n)?n.includes(e):n===e}function _B(n,e){const t=Cx(e);return Cx(n).forEach(i=>{GI(t,i)||t.push(i)}),t}function yB(n,e){return Cx(e).filter(t=>!GI(n,t))}class vB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ix(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ls extends vB{get formDirective(){return null}get path(){return null}}class Od extends vB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sx=(()=>{class n extends bB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Od,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),wB=(()=>{class n extends bB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const _w="VALID",zI="INVALID",I_="PENDING",yw="DISABLED";function Mx(n){return(WI(n)?n.validators:n)||null}function xx(n,e){return(WI(e)?e.asyncValidators:n)||null}function WI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class IB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_w}get invalid(){return this.status===zI}get pending(){return this.status==I_}get disabled(){return this.status===yw}get enabled(){return this.status!==yw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_B(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_B(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yB(e,this._rawAsyncValidators))}hasValidator(e){return GI(this._rawValidators,e)}hasAsyncValidator(e){return GI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=I_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_w,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_w||this.status===I_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yw:_w}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=I_,this._hasOwnPendingAsyncValidator=!0;const t=lB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?yw:this.errors?zI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(I_)?I_:this._anyControlsHaveStatus(zI)?zI:_w}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){WI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gz(n){return Array.isArray(n)?Tx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mz(n){return Array.isArray(n)?Ix(n):n||null}(this._rawAsyncValidators)}}class qI extends IB{constructor(e,t,r){super(Mx(t),xx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function TB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function EB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const C_=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ZI}),ZI="always";function YI(n,e){return[...e.path,n]}function vw(n,e,t=ZI){Rx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CB(n,e)})}(n,e),function wz(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yz(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function KI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),QI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function JI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rx(n,e){const t=gB(n);null!==e.validator?n.setValidators(pB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mB(n);null!==e.asyncValidator?n.setAsyncValidators(pB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();JI(e._rawValidators,i),JI(e._rawAsyncValidators,i)}function QI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=gB(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=mB(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return JI(e._rawValidators,r),JI(e._rawAsyncValidators,r),t}function CB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Px(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Fx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===mw?t=o:function Tz(n){return Object.getPrototypeOf(n.constructor)===Ff}(o)?r=o:i=o}),i||r||t||null}function NB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function OB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const S_=class extends IB{constructor(e=null,t,r){super(Mx(t),xx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),WI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=OB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){OB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Nz={provide:Od,useExisting:(0,l.Gpc)(()=>Bx)},RB=(()=>Promise.resolve())();let Bx=(()=>{class n extends Od{constructor(t,r,i,o,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new S_,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Fx(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Px(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){RB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);RB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?YI(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,9),l.Y36(Mi,10),l.Y36(Nd,10),l.Y36(Rs,10),l.Y36(l.sBO,8),l.Y36(C_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Nz]),l.qOj,l.TTD]}),n})(),kB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Vx=new l.OlP("NgModelWithFormControlWarning"),Pz={provide:ls,useExisting:(0,l.Gpc)(()=>XI)};let XI=(()=>{class n extends ls{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){KI(t.control||null,t,!1),function Iz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function AB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(KI(r||null,t),(n=>n instanceof S_)(i)&&(vw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function SB(n,e){Rx(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Dz(n,e){return QI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rx(this.form,this),this._oldForm&&QI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mi,10),l.Y36(Nd,10),l.Y36(C_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Pz]),l.qOj,l.TTD]}),n})();const Bz={provide:Od,useExisting:(0,l.Gpc)(()=>jx)};let jx=(()=>{class n extends Od{set isDisabled(t){}constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Fx(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Px(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return YI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,13),l.Y36(Mi,10),l.Y36(Nd,10),l.Y36(Rs,10),l.Y36(Vx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Bz]),l.qOj,l.TTD]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[FB]}),n})(),e4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:C_,useValue:t.callSetDisabledState??ZI}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[QB]}),n})(),t4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:C_,useValue:t.callSetDisabledState??ZI}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[QB]}),n})();function n4(n,e){1&n&&(l.TgZ(0,"div")(1,"div",1),l._UZ(2,"br"),l._uU(3," Welcome Admin, "),l._UZ(4,"br")(5,"br")(6,"br"),l.TgZ(7,"a",2),l._uU(8,"LOGIN"),l.qZA()(),l._UZ(9,"br")(10,"br")(11,"br"),l.qZA())}function r4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"th"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td")(6,"button",5),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.edit(o))}),l._uU(7,"EDIT"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.fields.name.stringValue),l.xp6(2),l.Oqu(null==t.fields.info?null:t.fields.info.stringValue)}}function i4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l._UZ(1,"br")(2,"br")(3,"br"),l.TgZ(4,"div",3)(5,"h3",4),l._uU(6,"Projects "),l.qZA(),l.TgZ(7,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.create())}),l._uU(8,"CREATE NEW"),l.qZA()(),l._UZ(9,"br")(10,"br"),l.TgZ(11,"div",6)(12,"table",4)(13,"thead")(14,"tr")(15,"th"),l._uU(16,"Name"),l.qZA(),l.TgZ(17,"th"),l._uU(18,"Info"),l.qZA(),l.TgZ(19,"th"),l._uU(20,"Action"),l.qZA()()(),l.TgZ(21,"tbody"),l.YNc(22,r4,8,2,"tr",7),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(22),l.Q6J("ngForOf",t.posts)}}function s4(n,e){if(1&n&&(l.TgZ(0,"a",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function o4(n,e){if(1&n&&(l.TgZ(0,"div",20),l.YNc(1,s4,2,1,"a",21),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.currentTags.split(","))}}function a4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",20)(1,"input",23),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.disableEdit(i))}),l.qZA()()}}function l4(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.ALo(2,"slice"),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.AsE("",l.Dn7(2,2,t.currentName,0,19),"",t.currentName.length>19?"...":"","")}}function u4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"h5")(1,"input",24),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.disableEdit(i))}),l.qZA()()}}function c4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p"),l._uU(1,"Icon: "),l._UZ(2,"br"),l.TgZ(3,"input",25),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.disableEdit(i))}),l.qZA()()}}function d4(n,e){if(1&n&&l._UZ(0,"img",26),2&n){const t=l.oxw(2);l.s9C("src",t.currentIcon,l.LSH)}}function h4(n,e){1&n&&(l.TgZ(0,"a",27),l._uU(1,"Show More"),l.qZA())}function f4(n,e){if(1&n&&(l.TgZ(0,"a",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function p4(n,e){if(1&n&&(l.TgZ(0,"div",20),l.YNc(1,f4,2,1,"a",21),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.currentTags.split(","))}}function g4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",20)(1,"input",23),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.disableEdit(i))}),l.qZA()()}}function m4(n,e){if(1&n&&(l.TgZ(0,"h5"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.currentName)}}function _4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"h5")(1,"input",24),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())})("keypress",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.disableEdit(i))}),l.qZA()()}}function y4(n,e){if(1&n&&l._UZ(0,"div",28),2&n){const t=l.oxw(2);l.Q6J("innerHtml",t.innerhtml,l.oJD)}}function v4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29)(1,"textarea",30),l.NdJ("change",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.preview())}),l.qZA()()}}function b4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"body")(1,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.goToList())}),l._uU(2,"BACK"),l.qZA(),l._UZ(3,"br")(4,"br"),l.TgZ(5,"h3",4),l._uU(6),l.qZA(),l._UZ(7,"br"),l.TgZ(8,"form",8)(9,"div",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.enableEdit())}),l.YNc(10,o4,2,1,"div",10),l.YNc(11,a4,2,0,"div",10),l._UZ(12,"div",11),l.YNc(13,l4,3,6,"h5",0),l.YNc(14,u4,2,0,"h5",0),l._UZ(15,"div",11),l.TgZ(16,"h6"),l._uU(17),l.ALo(18,"date"),l.qZA(),l._UZ(19,"div",12),l.YNc(20,c4,4,0,"p",0),l.YNc(21,d4,1,1,"img",13),l._UZ(22,"div",12),l.YNc(23,h4,2,0,"a",14),l.qZA(),l._UZ(24,"br"),l.TgZ(25,"div",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.enableEdit())}),l.YNc(26,p4,2,1,"div",10),l.YNc(27,g4,2,0,"div",10),l._UZ(28,"div",11),l.YNc(29,m4,2,1,"h5",0),l.YNc(30,_4,2,0,"h5",0),l._UZ(31,"div",11),l.TgZ(32,"h6"),l._uU(33),l.ALo(34,"date"),l.qZA(),l._UZ(35,"div",12),l.TgZ(36,"div",16),l.YNc(37,y4,1,1,"div",17),l.YNc(38,v4,2,0,"div",18),l.qZA()(),l._UZ(39,"br")(40,"br")(41,"br")(42,"br"),l.TgZ(43,"button",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.upload())}),l._uU(44,"SUBMIT"),l.qZA()(),l._UZ(45,"br")(46,"br")(47,"br"),l.qZA()}if(2&n){const t=l.oxw();l.xp6(6),l.hij("Project ",t.currentName," "),l.xp6(2),l.Q6J("formGroup",t.form),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(3),l.hij(" ",l.xi3(18,17,t.currentDate,"longDate")," "),l.xp6(3),l.Q6J("ngIf",t.editMode),l.xp6(1),l.Q6J("ngIf",!t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(3),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(2),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode),l.xp6(3),l.hij(" ",l.xi3(34,20,t.currentDate,"longDate")," "),l.xp6(4),l.Q6J("ngIf",!t.editMode),l.xp6(1),l.Q6J("ngIf",t.editMode)}}class ww{constructor(e,t){this.http=e,this.sanitizer=t,this.viewList=!0,this.accessKey="",this.posts=[],this.editMode=!1,this.innerhtml={},this.currentTags="test",this.currentName="TEST",this.currentDate="2020-01-01",this.currentIcon="",this.currentProject={},this.form=new qI({currentDetails:new S_(""),currentTitle:new S_(""),currentTags:new S_(""),currentIcon:new S_("")}),this.currentDate=(new Date).toDateString()}ngOnInit(){this.accessKey=window.location.href.split(/(?:=|&)+/)[3],this.getData()}toggleEdit(){this.editMode=!this.editMode}enableEdit(){this.editMode=!0}disableEdit(e=null){(!e||"Enter"==e.key)&&(this.editMode=!1)}preview(){this.innerhtml=this.sanitizer.bypassSecurityTrustHtml(this.form.get("currentDetails").value),this.currentName=this.form.get("currentTitle")?.value,this.currentTags=this.form.get("currentTags")?.value,this.currentIcon=this.form.get("currentIcon")?.value}create(){this.viewList=!1,this.currentProject=null,this.currentDate="",this.currentIcon="",this.currentName="",this.currentTags="",this.innerhtml=""}goToList(){this.viewList=!0}getData(){this.preview();let e={headers:new Qo({"Content-Type":"application/json",Authorization:"Bearer "+this.accessKey})};this.http.get("https://firestore.googleapis.com/v1/projects/bio-site-panospet/databases/(default)/documents/projects",e).subscribe(t=>{this.posts=t.documents})}edit(e){this.viewList=!1,this.currentProject=e,this.form.get("currentTitle")?.setValue(e.fields.name.stringValue),this.form.get("currentDetails")?.setValue(e.fields.details.stringValue),this.currentTags="",e.fields.tags.arrayValue.values.forEach(t=>{this.currentTags+=t.stringValue+","}),this.currentTags=this.currentTags.substring(0,this.currentTags.length-1),this.form.get("currentTags")?.setValue(this.currentTags),this.form.get("currentIcon")?.setValue(e.fields.icon.stringValue),this.preview()}upload(){let e={headers:new Qo({"Content-Type":"application/json",Authorization:"Bearer "+this.accessKey})};this.currentProject?(this.postRequest(e),this.getData()):this.http.post("https://firestore.googleapis.com/v1/projects/bio-site-panospet/databases/(default)/documents/projects",{},e).pipe().subscribe(t=>{this.currentProject=t,this.postRequest(e),this.getData()})}postRequest(e){var t={name:this.currentProject.name,fields:{name:{stringValue:this.form.get("currentTitle")?.value},icon:{stringValue:this.form.get("currentIcon")?.value},date:{stringValue:new Date},details:{stringValue:this.form.get("currentDetails").value},tags:{arrayValue:{values:[{}]}}}};t.fields.tags.arrayValue.values=[],this.form.get("currentTags")?.value.split(",").forEach(r=>t.fields.tags.arrayValue.values.push({stringValue:r})),this.http.patch("https://firestore.googleapis.com/v1/"+this.currentProject.name,t,e).pipe().subscribe(r=>{this.disableEdit(),this.getData()})}}ww.\u0275fac=function(e){return new(e||ww)(l.Y36(Dx),l.Y36(Us))},ww.\u0275cmp=l.Xpm({type:ww,selectors:[["app-admin"]],decls:3,vars:3,consts:[[4,"ngIf"],[2,"width","250px","margin","0 auto"],["href","https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A//www.googleapis.com/auth/datastore&include_granted_scopes=true&response_type=token&state=state_parameter_passthrough_value&redirect_uri=http%3A//panospetridisoglou.github.io/admin&client_id=105141969644-06tcman659rdmlpurrerhsr21p2fh27i.apps.googleusercontent.com",1,"button",2,"color","white","text-decoration","none"],[2,"display","flex","justify-items","flex-end"],[2,"width","100%"],[3,"click"],[1,"panos-card","active",2,"height","unset !important","width","100%"],[4,"ngFor","ngForOf"],[2,"z-index","-100",3,"formGroup"],[1,"panos-card-hovered",3,"click"],["class","panos-tags",4,"ngIf"],[2,"height","10px"],[2,"height","2px"],["class","panos-card-image",3,"src",4,"ngIf"],["class","panos-card-show-more","clickable","",4,"ngIf"],[1,"panos-card","active",2,"margin","0px !important",3,"click"],[2,"overflow","auto","height","calc(100vh - 150px)"],["style","padding:20px;overflow-wrap: anywhere;",3,"innerHtml",4,"ngIf"],["style","padding:20px;overflow-wrap: anywhere;",4,"ngIf"],[2,"background","rgba(255, 255, 255, 0.15)","cursor","pointer","float","right","border","1px solid rgba(255, 255, 255, 0.25)","width","250px","height","50px","box-shadow","0px 0px 5px black","border-radius","2em","padding","20px","padding-top","5px","padding-bottom","5px","color","white",3,"click"],[1,"panos-tags"],["class","panos-tag",4,"ngFor","ngForOf"],[1,"panos-tag"],["formControlName","currentTags",1,"edit-control",3,"change","keypress"],["formControlName","currentTitle",1,"edit-control",3,"change","keypress"],["formControlName","currentIcon",1,"edit-control",3,"change","keypress"],[1,"panos-card-image",3,"src"],["clickable","",1,"panos-card-show-more"],[2,"padding","20px","overflow-wrap","anywhere",3,"innerHtml"],[2,"padding","20px","overflow-wrap","anywhere"],["formControlName","currentDetails",1,"edit-control",2,"width","100%","height","650px","margin","-10px",3,"change"]],template:function(e,t){1&e&&(l.YNc(0,n4,12,0,"div",0),l.YNc(1,i4,23,1,"div",0),l.YNc(2,b4,48,23,"body",0)),2&e&&(l.Q6J("ngIf",!t.accessKey),l.xp6(1),l.Q6J("ngIf",t.accessKey.length>0&&t.viewList),l.xp6(1),l.Q6J("ngIf",t.accessKey.length>0&&!t.viewList))},dependencies:[lr,ur,kB,mw,Sx,wB,XI,jx,ku,Ir]});var w4=L(1144);const D4=["addListener","removeListener"],E4=["addEventListener","removeEventListener"],T4=["on","off"];function ei(n,e,t,r){if((0,Ti.m)(t)&&(r=t,t=void 0),r)return ei(n,e,t).pipe(Ca(r));const[i,o]=function S4(n){return(0,Ti.m)(n.addEventListener)&&(0,Ti.m)(n.removeEventListener)}(n)?E4.map(c=>f=>n[c](e,f,t)):function I4(n){return(0,Ti.m)(n.addListener)&&(0,Ti.m)(n.removeListener)}(n)?D4.map(XB(n,e)):function C4(n){return(0,Ti.m)(n.on)&&(0,Ti.m)(n.off)}(n)?T4.map(XB(n,e)):[];if(!i&&(0,w4.z)(n))return(0,Br.z)(c=>ei(c,e,t))((0,Ji.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Yn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>o(f)})}function XB(n,e){return t=>r=>n[t](e,r)}var A4=L(3532);function eC(n=0,e,t=Gy){let r=-1;return null!=e&&((0,A4.K)(e)?t=e:r=e),new Yn.y(i=>{let o=function N4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:O4}=Array;function eV(n){return 1===n.length&&O4(n[0])?n[0]:n}var tC=L(5032);const Nu=new Yn.y(tC.Z);function nC(...n){const e=(0,Di.jO)(n),t=eV(n);return t.length?new Yn.y(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let c=0;!r.closed&&c<t.length;c++)(0,Ji.Xf)(t[c]).subscribe((0,bn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(v=>v.shift());r.next(e?e(...m):m),i.some((v,D)=>!v.length&&o[D])&&r.complete()}},()=>{o[c]=!0,!i[c].length&&r.complete()}));return()=>{i=o=null}}):Xi.E}function sr(n){return(0,Sn.e)((e,t)=>{(0,Ji.Xf)(n).subscribe((0,bn.x)(t,()=>t.complete(),tC.Z)),!t.closed&&e.subscribe(t)})}function Wx(...n){const e=(0,Di.jO)(n);return(0,Sn.e)((t,r)=>{const i=n.length,o=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,Ji.Xf)(n[m]).subscribe((0,bn.x)(r,v=>{o[m]=v,!f&&!c[m]&&(c[m]=!0,(f=c.every(Ei.y))&&(c=null))},tC.Z));t.subscribe((0,bn.x)(r,m=>{if(f){const v=[m,...o];r.next(e?e(...v):v)}}))})}function nV(n,e){return e?t=>Sa(e.pipe(pn(1),function R4(){return(0,Sn.e)((n,e)=>{n.subscribe((0,bn.x)(e,tC.Z))})}()),t.pipe(nV(n))):(0,Br.z)((t,r)=>(0,Ji.Xf)(n(t,r)).pipe(pn(1),Fl(t)))}function rV(n,e=Nc){const t=eC(n,e);return nV(()=>t)}function B5(n,e){}function V5(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,B5,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function U5(n,e){}function $5(n,e){}function j5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.KtG(o.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,$5,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const G5=function(n,e){return{$implicit:n,opened:e}};function H5(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,U5,0,0,"ng-template",6),l.qZA(),l.YNc(3,j5,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,G5,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function z5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const aC=["*"];function W5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(o.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function q5(n,e){}function Z5(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,q5,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function Y5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function K5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const J5=["ngbDatepickerDayView",""],Q5=["month"],X5=["year"];function eW(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function tW(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function nW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function rW(n,e){1&n&&l._UZ(0,"div",0)}function iW(n,e){1&n&&l._UZ(0,"div",0)}function sW(n,e){if(1&n&&(l.YNc(0,rW,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,iW,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function oW(n,e){if(1&n&&l.YNc(0,sW,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function aW(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function lW(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function uW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,aW,2,1,"div",3),l.YNc(2,lW,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function cW(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function dW(n,e){}function hW(n,e){if(1&n&&l.YNc(0,dW,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function fW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,hW,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function pW(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,cW,2,1,"div",9),l.YNc(2,fW,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function gW(n,e){1&n&&l.YNc(0,pW,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const mW=["defaultDayTemplate"],_W=["content"];function yW(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,o=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",o)("focused",c)}}function vW(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function bW(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,vW,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function wW(n,e){if(1&n&&l.YNc(0,bW,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function DW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateEvent(i))})("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function EW(n,e){}function TW(n,e){}const IW=["dialog"],CW=["ngbNavOutlet",""];function SW(n,e){}const AW=function(n){return{$implicit:n}};function NW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,SW,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,AW,t.active||r.isPanelTransitioning(t)))}}function OW(n,e){if(1&n&&l.YNc(0,NW,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function MW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function xW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function RW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function kW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function PW(n,e){1&n&&l._uU(0,"...")}function FW(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function LW(n,e){if(1&n&&(l._uU(0),l.YNc(1,FW,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function BW(n,e){}const VW=function(n){return{disabled:!0,currentPage:n}};function UW(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,BW,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,VW,t))}}function $W(n,e){}const jW=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function GW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.oxw(2).selectPage(o),l.KtG(i.preventDefault())}),l.YNc(1,$W,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,o=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,jW,i,t,o))}}function HW(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,UW,2,4,"a",18),l.YNc(2,GW,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,o=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||o),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function zW(n,e){1&n&&l.YNc(0,HW,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function WW(n,e){}const rR=function(n,e){return{disabled:n,currentPage:e}};function qW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,WW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,rR,t.previousDisabled(),t.page))}}function ZW(n,e){}const YW=function(n){return{disabled:n}};function KW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page-1),l.KtG(i.preventDefault())}),l.YNc(2,ZW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,YW,t.previousDisabled()))}}function JW(n,e){}function QW(n,e){}function XW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page+1),l.KtG(i.preventDefault())}),l.YNc(2,QW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,rR,t.nextDisabled(),t.page))}}function eq(n,e){}function tq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,eq,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,rR,t.nextDisabled(),t.page))}}const nq=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function sq(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function oq(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function aq(n,e){}function lq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(o+1))})("click",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(o+1))}),l.YNc(3,aq,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function uq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function cq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function dq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function hq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function fq(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function pq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function gq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function mq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,pq,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(o.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(-o.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,gq,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function _q(n,e){1&n&&l._UZ(0,"div",5)}function yq(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function vq(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function bq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,yq,2,1,"ng-container",25),l.YNc(3,vq,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function wq(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function Dq(n,e){}function Eq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,Dq,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function Tq(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function Iq(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function Cq(n,e){if(1&n&&(l.YNc(0,Tq,2,3,"span",1),l.YNc(1,Iq,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function xi(n){return parseInt(`${n}`,10)}function bV(n){return null!=n?`${n}`:""}function lC(n,e,t=0){return Math.max(Math.min(n,e),t)}function Aw(n){return"string"==typeof n}function mr(n){return!isNaN(xi(n))}function or(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Uf(n){return null!=n}function x_(n){return mr(n)?`0${n}`.slice(-2):""}function DV(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function R_(n){return(n||document.body).getBoundingClientRect()}function EV(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const TV={animation:!0,transitionTimerDelayMs:5},Rq=()=>{},{transitionTimerDelayMs:kq}=TV,Nw=new Map,mi=(n,e,t,r)=>{let i=r.context||{};const o=Nw.get(e);if(o)switch(r.runningTransition){case"continue":return Xi.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Nw.delete(e)}const c=t(e,r.animation,i)||Rq;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),tt(void 0).pipe(function Mq(n){return e=>new Yn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new on.x,m=new on.x,v=f.pipe(function x4(...n){return e=>Sa(e,tt(...n))}(!0));Nw.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const D=function xq(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=ei(e,"transitionend").pipe(sr(v),tn(({target:x})=>x===e));(function tV(...n){return 1===(n=eV(n)).length?(0,Ji.Xf)(n[0]):new Yn.y(function M4(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Ji.Xf)(n[r]).subscribe((0,bn.x)(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(eC(D+kq).pipe(sr(v)),I,m).pipe(sr(v)).subscribe(()=>{Nw.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},IV=(n,e,t)=>{let{direction:r,maxSize:i,dimension:o}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function Fq(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,o),t.maxSize=i,n.style[o]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),R_(n),c.add("collapsing")),n.style[o]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[o]=""};f()};let k_=(()=>{class n{constructor(){this.animation=TV.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lq=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bq=0,iR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),CV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),SV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),sR=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+Bq++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,CV,4),l.Suo(i,iR,4),l.Suo(i,SV,4)),2&t){let o;l.iGM(o=l.CRH())&&(r.titleTpls=o),l.iGM(o=l.CRH())&&(r.headerTpls=o),l.iGM(o=l.CRH())&&(r.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),Vq=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),AV=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>oR)),l.Y36(sR,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),oR=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Aw(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,mi(this._ngZone,r,IV,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&mi(this._ngZone,r.panelDiv,IV,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:o}=r;r.isOpen?(r.shown.emit(),this.shown.emit(o)):(r.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lq),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,sR,4),2&t){let o;l.iGM(o=l.CRH())&&(r.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,V5,3,3,"ng-template",0,1,l.W1O),l.YNc(2,H5,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[lr,Bi,AV,Vq,iR,ur],encapsulation:2}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oR]}),n})();const Uq=({classList:n})=>{n.remove("show")};let $q=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jq=(()=>{class n{constructor(t,r,i,o){this._renderer=r,this._element=i,this._zone=o,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=mi(this._zone,this._element.nativeElement,Uq,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($q),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:aC,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,z5,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[ur],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jq]}),n})();var xd=(()=>(function(n){n.START="start",n.END="end"}(xd||(xd={})),xd))();const MV=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Ow=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},uC=n=>{Ow(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Gq=(n,e,{direction:t})=>{const{classList:r}=n;return e?(MV(n)?Ow(r):(r.add("carousel-item-"+(t===xd.START?"next":"prev")),R_(n),r.add("carousel-item-"+t)),()=>{uC(r),r.add("active")}):(Ow(r),uC(r),void r.add("active"))},Hq=(n,e,{direction:t})=>{const{classList:r}=n;return e?(MV(n)?Ow(r):r.add("carousel-item-"+t),()=>{uC(r),r.remove("active")}):(Ow(r),uC(r),void r.remove("active"))};let zq=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wq=0,qq=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Wq++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),Zq=(()=>{class n{constructor(t,r,i,o,c){this._platformId=r,this._ngZone=i,this._cd=o,this._container=c,this.NgbSlideEventSource=$f,this._destroy$=new on.x,this._interval$=new cr(0),this._mouseHover$=new cr(!1),this._focused$=new cr(!1),this._pauseOnHover$=new cr(!1),this._pauseOnFocus$=new cr(!1),this._pause$=new cr(!1),this._wrap$=new cr(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev($f.ARROW_LEFT)}arrowRight(){this.focus(),this.next($f.ARROW_RIGHT)}ngAfterContentInit(){Lr(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ki([this.slide.pipe((0,Je.U)(r=>r.current),js(this.activeId)),this._wrap$,this.slides.changes.pipe(js(null))]).pipe((0,Je.U)(([r,i])=>{const o=this.slides.toArray(),c=this._getSlideIdxById(r);return i?o.length>1:c<o.length-1}),Hc());Ki([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Je.U)(([r,i,o,c,f,m,v])=>r||i&&o||c&&f||!v?0:m),Hc(),yn(r=>r>0?eC(r,r):Nu),sr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next($f.TIMER)))}),this.slides.changes.pipe(sr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Nw.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),xd.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),xd.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],v=this._getSlideById(this.activeId);if(v){const x=mi(this._ngZone,this._getSlideElement(v.id),Hq,f);x.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),m.push(x)}const D=this.activeId;this.activeId=c.id;const I=this._getSlideById(this.activeId),N=mi(this._ngZone,this._getSlideElement(c.id),Gq,f);N.subscribe(()=>{I?.slid.emit({isShown:!0,direction:r,source:i})}),m.push(N),nC(...m).pipe(pn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:D,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?xd.END:xd.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zq),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,qq,4),2&t){let o;l.iGM(o=l.CRH())&&(r.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,W5,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,Z5,4,4,"div",3),l.qZA(),l.YNc(4,Y5,4,0,"button",4),l.YNc(5,K5,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[lr,Bi,ur],encapsulation:2,changeDetection:0}),n})();var $f=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}($f||($f={})),$f))();let xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Zq]}),n})(),RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class ti{constructor(e,t,r){this.year=or(e)?e:null,this.month=or(t)?t:null,this.day=or(r)?r:null}static from(e){return e instanceof ti?e:e?new ti(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function P_(n,e){return!function Yq(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function kV(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function cC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function aR(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==n||i||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function PV(n){return new ti(n.getFullYear(),n.getMonth()+1,n.getDate())}function dC(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let hC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function i8(){return new s8}()},providedIn:"root"}),n})(),s8=(()=>{class n extends hC{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let o=dC(t),c=!0,f=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":f+=i,o.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":o.setDate(o.getDate()+i),c=!1;break;default:return t}return c&&o.getMonth()!==f&&o.setDate(0),PV(o)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=dC(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=dC(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return PV(new Date)}isValid(t){if(!(t&&or(t.year)&&or(t.month)&&or(t.day)&&0!==t.year))return!1;const r=dC(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jf=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function o8(n){return new a8(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),a8=(()=>{class n extends jf{constructor(t){super(),this._locale=t,this._monthsShort=Ve(t,bt.Standalone,qe.Abbreviated),this._monthsFull=Ve(t,bt.Standalone,qe.Wide)}getWeekdayLabel(t,r){const i=be(this._locale,bt.Standalone,void 0===r?qe.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return vr(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),lR=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(or(i=xi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(or(i=xi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(P_(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(P_(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?qe.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==c)return{weekdayWidth:o,weekdaysVisible:c}}},this._model$=new on.x,this._dateSelect$=new on.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:qe.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(tn(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(tn(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&P_(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){aR(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||kV(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(P_(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&aR(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=ti.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:o,focusDate:c,focusVisible:f,disabled:m,outsideDays:v}=t;t.months.forEach(D=>{D.weeks.forEach(I=>{I.days.forEach(N=>{c&&(N.context.focused=c.equals(N.date)&&f),N.tabindex=!m&&c&&N.date.equals(c)&&c.month===D.number?0:-1,!0===m&&(N.context.disabled=!0),void 0!==o&&(N.context.selected=null!==o&&o.equals(N.date)),D.number!==N.date.month&&(N.hidden="hidden"===v||"collapsed"===v||i>1&&N.date.after(r[0].firstDate)&&N.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Kq(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=cC(r.focusDate,r.minDate,r.maxDate),r.firstDate=cC(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=cC(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=cC(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function t8(n,e,t,r,i){const{displayMonths:o,months:c}=t,f=c.splice(0,c.length);return Array.from({length:o},(v,D)=>{const I=Object.assign(n.getNext(e,"m",D),{day:1});if(c[D]=null,!i){const N=f.findIndex(x=>x.firstDate.equals(I));-1!==N&&(c[D]=f.splice(N,1)[0])}return I}).forEach((v,D)=>{null===c[D]&&(c[D]=function n8(n,e,t,r,i={}){const{dayTemplateData:o,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:v,outsideDays:D,weekdayWidth:I,weekdaysVisible:N}=t,x=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function r8(n,e,t){const r=n.getDaysPerWeek(),i=new ti(e.year,e.month,1),o=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+o-t)%r)}(n,e,m),N||(i.weekdays.length=0);for(let j=0;j<n.getWeeksPerMonth();j++){let Y=i.weeks[j];Y||(Y=i.weeks[j]={number:0,days:[],collapsed:!0});const J=Y.days;for(let ie=0;ie<n.getDaysPerWeek();ie++){0===j&&N&&(i.weekdays[ie]=r.getWeekdayLabel(n.getWeekday(e),I));const ge=new ti(e.year,e.month,e.day),Me=n.getNext(ge),xe=r.getDayAriaLabel(ge);let Ge=!!(c&&ge.before(c)||f&&ge.after(f));!Ge&&v&&(Ge=v(ge,{month:i.number,year:i.year}));let We=ge.equals(x),Rt=o?o(ge,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ge.month===i.number&&(i.firstDate=ge),ge.month===i.number&&Me.month!==i.number&&(i.lastDate=ge);let en=J[ie];en||(en=J[ie]={}),en.date=ge,en.context=Object.assign(en.context||{},{$implicit:ge,date:ge,data:Rt,currentMonth:i.number,currentYear:i.year,disabled:Ge,focused:!1,selected:!1,today:We}),en.tabindex=-1,en.ariaLabel=xe,en.hidden=!1,e=Me}Y.number=n.getWeekNumber(J.map(ie=>ie.date),m),Y.collapsed="collapsed"===D&&J[0].date.month!==i.number&&J[J.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!aR(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function Qq(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(o);for(let f=0;f<o;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function Jq(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const o=i.findIndex(c=>c===t.month);i=i.slice(o)}if(r&&e.year===r.year){const o=i.findIndex(c=>c===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function e8(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function Xq(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hC),l.LFG(jf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var F_=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(F_||(F_={})),F_))();let l8=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:J5,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),u8=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new ti(this.date.year,xi(t),1))}changeYear(t){this.select.emit(new ti(xi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jf),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(Q5,7,l.SBq),l.Gf(X5,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(o){return r.changeMonth(o.target.value)}),l.YNc(2,eW,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(o){return r.changeYear(o.target.value)}),l.YNc(5,tW,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[lr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),c8=(()=>{class n{constructor(t){this.i18n=t,this.navigation=F_,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(o){return r.onClickPrev(o)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,nW,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,oW,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(o){return r.onClickNext(o)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[ur,lr,u8],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var an=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(an||(an={})),an))();let d8=(()=>{class n{processKey(t,r){const{state:i,calendar:o}=r;switch(t.which){case an.PageUp:r.focusDate(o.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case an.PageDown:r.focusDate(o.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case an.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case an.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case an.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case an.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case an.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case an.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case an.Enter:case an.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uR=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=qe.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function h8(){return new f8}()},providedIn:"root"}),n})(),f8=(()=>{class n extends cR{fromModel(t){return t&&or(t.year)&&or(t.month)&&or(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&or(t.year)&&or(t.month)&&or(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),FV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),dR=(()=>{class n{constructor(t,r,i,o){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jf),l.Y36((0,l.Gpc)(()=>fC)),l.Y36(d8),l.Y36(lR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,uW,3,2,"div",0),l.YNc(1,gW,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[ur,lr,Bi],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),fC=(()=>{class n{constructor(t,r,i,o,c,f,m,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=v,this._controlValue=null,this._destroyed$=new on.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=D=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(D=>this[D]=o[D]),t.dateSelect$.pipe(sr(this._destroyed$)).subscribe(D=>{this.dateSelect.emit(D)}),t.model$.pipe(sr(this._destroyed$)).subscribe(D=>{const I=D.firstDate,N=this.model?this.model.firstDate:null;this._publicState={maxDate:D.maxDate,minDate:D.minDate,firstDate:D.firstDate,lastDate:D.lastDate,focusedDate:D.focusDate,months:D.months.map(ie=>ie.firstDate)};let x=!1;if(!I.equals(N)&&(this.navigate.emit({current:N?{year:N.year,month:N.month}:null,next:{year:I.year,month:I.month},preventDefault:()=>x=!0}),x&&null!==N))return void this._service.open(N);const j=D.selectedDate,Y=D.focusDate,J=this.model?this.model.focusDate:null;this.model=D,P_(j,this._controlValue)&&(this._controlValue=j,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(j))),P_(Y,J)&&J&&D.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(ti.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(pn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(ti.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=ei(this._contentEl.nativeElement,"focusin"),r=ei(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,cw.T)(t,r).pipe(tn(({target:o,relatedTarget:c})=>!(DV(o,"ngb-dp-day")&&DV(c,"ngb-dp-day")&&i.contains(o)&&i.contains(c))),sr(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:o}=t.startDate;kV(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case F_.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case F_.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=ti.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lR),l.Y36(hC),l.Y36(jf),l.Y36(uR),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(cR),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,FV,7),2&t){let o;l.iGM(o=l.CRH())&&(r.contentTemplate=o.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(mW,7),l.Gf(_W,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Rs,useExisting:(0,l.Gpc)(()=>n),multi:!0},lR]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,yW,1,5,"ng-template",null,0,l.W1O),l.YNc(2,wW,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,DW,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,EW,0,0,"ng-template",6),l.qZA(),l.YNc(9,TW,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[ur,lr,Bi,l8,dR,c8],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const VV=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function UV(n){const e=Array.from(n.querySelectorAll(VV)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fC,dR]}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class zf{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let B8=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(pn(1)).subscribe(()=>{mi(this._zone,this._el.nativeElement,(t,r)=>{r&&R_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class rU{close(e){}dismiss(e){}}class V8{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new on.x,this._dismissed=new on.x,this._hidden=new on.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function wV(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():tt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Rw||(Rw={})),Rw))();let U8=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new on.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new on.x,this.hidden=new on.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Aw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=nC(mi(this._zone,t,()=>t.classList.remove("show"),r),mi(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};nC(mi(this._zone,this._elRef.nativeElement,(o,c)=>{c&&R_(o),o.classList.add("show")},t),mi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ei(t,"keydown").pipe(sr(this._closed$),tn(i=>i.which===an.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Rw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ei(this._dialogEl.nativeElement,"mousedown").pipe(sr(this._closed$),Vn(()=>r=!1),yn(()=>ei(t,"mouseup").pipe(sr(this._closed$),pn(1))),tn(({target:i})=>t===i)).subscribe(()=>{r=!0}),ei(t,"click").pipe(sr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Rw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=UV(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(le),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(IW,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:aC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),$8=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j8=(()=>{class n{constructor(t,r,i,o,c,f,m){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new on.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=ei(e,"focusin").pipe(sr(t),(0,Je.U)(o=>o.target));ei(e,"keydown").pipe(sr(t),tn(o=>o.which===an.Tab),Wx(i)).subscribe(([o,c])=>{const[f,m]=UV(e);(c===f||c===e)&&o.shiftKey&&(m.focus(),o.preventDefault()),c===m&&!o.shiftKey&&(f.focus(),o.preventDefault())}),r&&ei(e,"click").pipe(sr(t),Wx(i),(0,Je.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Uf(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new rU,m=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,m,r,f,i);let D=!1!==i.backdrop?this._attachBackdrop(o):void 0,I=this._attachWindowComponent(o,v.nodes),N=new V8(I,v,D,i.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(I),N.hidden.pipe(pn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=x=>{N.close(x)},f.dismiss=x=>{N.dismiss(x)},this._applyWindowOptions(I.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),D&&D.instance&&(this._applyBackdropOptions(D.instance,i),D.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(B8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(U8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Uf(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Uf(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,o):Aw(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,c):new zf([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new zf([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new zf([[r]])}_createFromComponent(t,r,i,o,c){const f=l.zs3.create({providers:[{provide:rU,useValue:o}],parent:t}),m=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=m.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new zf([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(le),l.LFG($8),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G8=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H8=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(j8),l.LFG(G8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[H8]}),n})();const q8=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Z8=(n,e)=>{e&&R_(n),n.classList.add("show")};let yR=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),lU=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(sr(this.nav.destroy$),js(this._activePane?.item||null),Hc(),function k4(n){return tn((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?mi(this._ngZone,this._activePane.elRef.nativeElement,q8,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),mi(this._ngZone,this._activePane.elRef.nativeElement,Z8,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(yR,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:CW,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,OW,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[yR,lr,ur,Bi],encapsulation:2,changeDetection:0}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lU]}),n})(),Y8=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),dU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),hU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),fU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),pU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),gU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),mU=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),_U=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=lC(t,this.pageCount,1),this.page!==r&&mr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),mr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Y8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,cU,5),l.Suo(i,dU,5),l.Suo(i,hU,5),l.Suo(i,fU,5),l.Suo(i,pU,5),l.Suo(i,gU,5),l.Suo(i,mU,5)),2&t){let o;l.iGM(o=l.CRH())&&(r.tplEllipsis=o.first),l.iGM(o=l.CRH())&&(r.tplFirst=o.first),l.iGM(o=l.CRH())&&(r.tplLast=o.first),l.iGM(o=l.CRH())&&(r.tplNext=o.first),l.iGM(o=l.CRH())&&(r.tplNumber=o.first),l.iGM(o=l.CRH())&&(r.tplPrevious=o.first),l.iGM(o=l.CRH())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,o,c,f,m;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,m=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,MW,2,0,"ng-template",null,0,l.W1O),l.YNc(2,xW,2,0,"ng-template",null,1,l.W1O),l.YNc(4,RW,2,0,"ng-template",null,2,l.W1O),l.YNc(6,kW,2,0,"ng-template",null,3,l.W1O),l.YNc(8,PW,1,0,"ng-template",null,4,l.W1O),l.YNc(10,LW,2,2,"ng-template",null,5,l.W1O),l.YNc(12,zW,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,qW,3,9,"li",7),l.YNc(16,KW,3,8,"li",7),l.YNc(17,JW,0,0,"ng-template",8),l.YNc(18,XW,3,9,"li",7),l.YNc(19,tq,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,nq,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[ur,lr,Bi],encapsulation:2,changeDetection:0}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_U]}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),t9=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n9=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!mr(t)||t<=0?100:t}get max(){return this._max}getValue(){return lC(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(t9))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:aC,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,sq,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[ur,H_],encapsulation:2,changeDetection:0}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[n9]}),n})(),r9=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i9=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case an.ArrowDown:case an.ArrowLeft:this.update(this.rate-1);break;case an.ArrowUp:case an.ArrowRight:this.update(this.rate+1);break;case an.Home:this.update(0);break;case an.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=lC(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*lC(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(r9),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let o;l.iGM(o=l.CRH())&&(r.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(o){return r.handleKeyDown(o)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Rs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,oq,1,1,"ng-template",null,0,l.W1O),l.YNc(2,lq,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[lr,Bi],encapsulation:2,changeDetection:0}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[i9]}),n})();class EU{constructor(e,t,r){this.hour=xi(e),this.minute=xi(t),this.second=xi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=mr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){mr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){mr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return mr(this.hour)&&mr(this.minute)&&(!e||mr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let s9=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function o9(){return new a9}()},providedIn:"root"}),n})(),a9=(()=>{class n extends TU{fromModel(t){return t&&or(t.hour)&&or(t.minute)?{hour:t.hour,minute:t.minute,second:or(t.second)?t.second:null}:null}toModel(t){return t&&or(t.hour)&&or(t.minute)?{hour:t.hour,minute:t.minute,second:or(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),IU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function l9(n){return new u9(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),u9=(()=>{class n extends IU{constructor(t){super(),this._periods=me(t,bt.Standalone,qe.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const c9=/[^0-9]/g;let d9=(()=>{class n{constructor(t,r,i,o){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=o,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=or(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=or(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=or(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new EU(r.hour,r.minute,r.second):new EU,!this.seconds&&(!r||!mr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=xi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(xi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(xi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(c9,"")}formatHour(t){return mr(t)?x_(this.meridian?t%12==0?12:t%12:t%24):x_(NaN)}formatMinSec(t){return x_(mr(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!mr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(s9),l.Y36(TU),l.Y36(l.sBO),l.Y36(IU))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Rs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,o,c,f,m,v,D,I,N,x,j;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,m=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,D=$localize`:@@ngb.timepicker.seconds:Seconds`,I=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,N=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,x=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,j=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],c,f,m,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",D,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],I,N,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],x,j]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,uq,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(o){return r.updateHour(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeHour(r.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeHour(-r.hourStep),o.preventDefault()}),l.qZA(),l.YNc(5,cq,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,dq,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(o){return r.updateMinute(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeMinute(r.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeMinute(-r.minuteStep),o.preventDefault()}),l.qZA(),l.YNc(11,hq,4,7,"button",3),l.qZA(),l.YNc(12,fq,2,0,"div",8),l.YNc(13,mq,4,9,"div",9),l.YNc(14,_q,1,0,"div",8),l.YNc(15,bq,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[ur],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[d9]}),n})();const h9=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),R_(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},f9=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let p9=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),m9=(()=>{class n{constructor(t,r,i,o){this.ariaLive=t,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(pn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=mi(this._zone,this._element.nativeElement,f9,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=mi(this._zone,this._element.nativeElement,h9,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(p9),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,g9,7,l.Rgc),2&t){let o;l.iGM(o=l.CRH())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:aC,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,wq,2,1,"ng-template",null,0,l.W1O),l.YNc(2,Eq,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[ur,Bi],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),SU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[m9]}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_9=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=bV(this.result),i=Array.isArray(this.term)?this.term:[this.term],o=v=>this.accentSensitive?v:EV(v),c=i.map(v=>function Nq(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(bV(v)))).filter(v=>v),f=this.accentSensitive?r:EV(r),m=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let v=0;this.parts=m.map(D=>r.substring(v,v+=D.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,Cq,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[ur,lr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function y9(){return 100}});let NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_9]}),n})(),OU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const v9=[NV,OV,xV,RV,XV,nU,iU,uU,OU,yU,bU,wU,DU,CU,SU,AU,NU];let b9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v9,NV,OV,xV,RV,XV,nU,iU,uU,OU,yU,bU,wU,DU,CU,SU,AU,NU]}),n})();const w9=function(n){return["panos-search",n]},D9=function(){return{search:"app"}},E9=function(){return{search:"game"}},T9=function(){return{search:"art"}};class kw{constructor(e,t){this.route=e,this.router=t,this.searchClass="",this.searchtext=""}activateSearch(){this.searchClass=""==this.searchClass?"active":""}search(e){this.router.navigate(["home"],{queryParams:{search:this.searchtext}})}}kw.\u0275fac=function(e){return new(e||kw)(l.Y36(mo),l.Y36(ji))},kw.\u0275cmp=l.Xpm({type:kw,selectors:[["app-navbar"]],decls:12,vars:10,consts:[[1,"navbar",2,"justify-content","unset"],["clickable","",1,"nav-link",3,"click"],["name","search"],[3,"ngClass","ngModel","ngModelChange","change"],["routerLink",".",1,"nav-link"],["routerLink",".",1,"nav-link",3,"queryParams"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l.NdJ("click",function(){return t.activateSearch()}),l._UZ(2,"ion-icon",2),l.qZA(),l.TgZ(3,"input",3),l.NdJ("ngModelChange",function(i){return t.searchtext=i})("change",function(i){return t.search(i)}),l.qZA(),l.TgZ(4,"a",4),l._uU(5,"All Projects"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"Apps"),l.qZA(),l.TgZ(8,"a",5),l._uU(9,"Games"),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Art"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngClass",l.VKq(5,w9,t.searchClass))("ngModel",t.searchtext),l.xp6(3),l.Q6J("queryParams",l.DdM(7,D9)),l.xp6(2),l.Q6J("queryParams",l.DdM(8,E9)),l.xp6(2),l.Q6J("queryParams",l.DdM(9,T9)))},dependencies:[gR,kt,mw,Sx,Bx,ja]});const I9=function(n){return{search:n}};function C9(n,e){if(1&n&&(l.TgZ(0,"a",12),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("queryParams",l.VKq(2,I9,t)),l.xp6(1),l.Oqu(t)}}function S9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"h5",13),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,o=l.oxw();return l.KtG(o.showMore(i))}),l._uU(1),l.ALo(2,"slice"),l.qZA()}if(2&n){const t=l.oxw().$implicit;l.xp6(1),l.AsE("",l.Dn7(2,2,t.name,0,19),"",t.name.length>19?"...":"","")}}function A9(n,e){if(1&n&&(l.TgZ(0,"div",14),l._UZ(1,"div",15),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("innerHtml",t.details,l.oJD)}}function N9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"img",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,o=l.oxw();return l.KtG(o.showMore(i))}),l.qZA()}if(2&n){const t=l.oxw().$implicit;l.s9C("src",t.icon,l.LSH)}}function O9(n,e){1&n&&l._UZ(0,"div",7)}function M9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",17),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,o=l.oxw();return l.KtG(o.showMore(i))}),l._uU(1,"Show More"),l.qZA()}}const x9=function(n){return{display:n}},R9=function(n){return["panos-card",n]};function k9(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"div",3),l.YNc(2,C9,2,4,"a",4),l.qZA(),l._UZ(3,"div",5),l.YNc(4,S9,3,6,"h5",6),l._UZ(5,"div",5),l.TgZ(6,"h6"),l._uU(7),l.ALo(8,"date"),l.qZA(),l._UZ(9,"div",7),l.YNc(10,A9,2,1,"div",8),l.YNc(11,N9,1,1,"img",9),l.YNc(12,O9,1,0,"div",10),l.YNc(13,M9,2,0,"a",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.s9C("id",t.name),l.Q6J("ngStyle",l.VKq(13,x9,""==r.search||t.tags.includes(r.search.toUpperCase())?"block":"none"))("ngClass",l.VKq(15,R9,t==r.selectedItem?"active":"")),l.xp6(2),l.Q6J("ngForOf",t.tags),l.xp6(2),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(3),l.hij(" ",l.xi3(8,10,t.date,"longDate")," "),l.xp6(3),l.Q6J("ngIf",t==r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem),l.xp6(1),l.Q6J("ngIf",t!=r.selectedItem)}}class Pw{showMore(e){this.selectedItem=e,Nav_ScrollIntoView(e.name)}unselect(){this.selectedItem={}}constructor(e,t,r){this.route=e,this.sanitizer=t,this.selectedItem={},this.items=[],this.search="",this.items=[],this.search="",r.collection("projects").valueChanges().pipe((0,Je.U)(i=>i.sort((o,c)=>new Date(o.date)>new Date(c.date)?-1:1))).subscribe(i=>{i.forEach(o=>{let c={};c=o,c.details=this.sanitizer.bypassSecurityTrustHtml(c.details),this.items.push(c)})})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Pw.\u0275fac=function(e){return new(e||Pw)(l.Y36(mo),l.Y36(Us),l.Y36(BI))},Pw.\u0275cmp=l.Xpm({type:Pw,selectors:[["app-project"]],inputs:{selectedItem:"selectedItem"},decls:2,vars:1,consts:[[1,"page"],[3,"id","ngStyle","ngClass",4,"ngFor","ngForOf"],[3,"id","ngStyle","ngClass"],[1,"panos-tags"],["routerLink",".","class","panos-tag",3,"queryParams",4,"ngFor","ngForOf"],[2,"height","10px"],["clickable","",3,"click",4,"ngIf"],[2,"height","2px"],["style","overflow: auto;height: calc(100vh - 150px);",4,"ngIf"],["class","panos-card-image","clickable","",3,"src","click",4,"ngIf"],["style","height:2px",4,"ngIf"],["class","panos-card-show-more","clickable","",3,"click",4,"ngIf"],["routerLink",".",1,"panos-tag",3,"queryParams"],["clickable","",3,"click"],[2,"overflow","auto","height","calc(100vh - 150px)"],[2,"padding","20px","overflow-wrap","anywhere",3,"innerHtml"],["clickable","",1,"panos-card-image",3,"src","click"],["clickable","",1,"panos-card-show-more",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,k9,14,17,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.items))},dependencies:[kt,lr,ur,lo,ja,ku,Ir]});class Fw{constructor(e,t){this.route=e,this.title="Portfolio",this.search="",this.search="",this.items=t.collection("projects").valueChanges().pipe((0,Je.U)(r=>r.sort((i,o)=>new Date(i.date)>new Date(o.date)?-1:1)))}ngOnInit(){this.route.queryParams.subscribe(e=>{this.search=e.search,this.search||(this.search="")})}}Fw.\u0275fac=function(e){return new(e||Fw)(l.Y36(mo),l.Y36(BI))},Fw.\u0275cmp=l.Xpm({type:Fw,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"header",2,"padding-top","30px","padding-left","30px"],["routerLink","/",1,"logo"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"a",1),l._uU(2,"PANOS PETRIDISOGLOU"),l.qZA()(),l._UZ(3,"br")(4,"app-navbar")(5,"app-project"))},dependencies:[ja,kw,Pw]});const P9=[{path:"",component:fw},{path:"home",component:Fw},{path:"admin",component:ww}];class B_{}B_.\u0275fac=function(e){return new(e||B_)},B_.\u0275mod=l.oAB({type:B_}),B_.\u0275inj=l.cJS({imports:[sD.forRoot(P9),sD]});const L9={connector:()=>new on.x};function MU(n,e=L9){const{connector:t}=e;return(0,Sn.e)((r,i)=>{const o=t();(0,Ji.Xf)(n(function F9(n){return new Yn.y(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}const Lw="Service workers are disabled or not supported by this browser";class bC{constructor(e){if(this.serviceWorker=e,e){const r=ei(e,"controllerchange").pipe((0,Je.U)(()=>e.controller)),o=Sa(Aa(()=>tt(e.controller)),r);this.worker=o.pipe(tn(D=>!!D)),this.registration=this.worker.pipe(yn(()=>e.getRegistration()));const v=ei(e,"message").pipe((0,Je.U)(D=>D.data)).pipe(tn(D=>D&&D.type)).pipe(function V9(n){return n?e=>MU(n)(e):e=>function B9(n,e){const t=(0,Ti.m)(n)?n:()=>n;return(0,Ti.m)(e)?MU(e,{connector:t}):r=>new Na(r,t)}(new on.x)(e)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function U9(n){return Aa(()=>Qi(new Error(n)))}(Lw)}postMessage(e,t){return this.worker.pipe(pn(1),Vn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(tn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(pn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(tn(t=>t.nonce===e),pn(1),(0,Je.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let $9=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new on.x,!t.isEnabled)return this.messages=Nu,this.notificationClicks=Nu,void(this.subscription=Nu);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Je.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Je.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Je.U)(i=>i.pushManager));const r=this.pushManager.pipe(yn(i=>i.getSubscription()));this.subscription=(0,cw.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Lw));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return r.applicationServerKey=o,this.pushManager.pipe(yn(c=>c.subscribe(r)),pn(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(pn(1),yn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Lw))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),j9=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Nu,this.available=Nu,this.activated=Nu,void(this.unrecoverable=Nu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(tn(r=>"VERSION_READY"===r.type),(0,Je.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Lw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Lw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vR{}const xU=new l.OlP("NGSW_REGISTER_SCRIPT");function G9(n,e,t,r){return()=>{if(!Lr(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=tt(null);break;case"registerWithDelay":i=RU(+f[0]||0);break;case"registerWhenStable":i=f[0]?(0,cw.T)(kU(n),RU(+f[0])):kU(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>i.pipe(pn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function RU(n){return tt(null).pipe(rV(n))}function kU(n){return n.get(l.z2F).isStable.pipe(tn(t=>t))}function H9(n,e){return new bC(Lr(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let z9=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:xU,useValue:t},{provide:vR,useValue:r},{provide:bC,useFactory:H9,deps:[vR,l.Lbi]},{provide:l.ip1,useFactory:G9,deps:[l.zs3,xU,vR,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$9,j9]}),n})();const PU={firebase:{projectId:"bio-site-panospet",appId:"1:105141969644:web:854d5aba223588475ffbc9",storageBucket:"bio-site-panospet.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAVI8RKwFQvtLnmAJba33mb1QhfbL2DPeo",authDomain:"bio-site-panospet.firebaseapp.com",messagingSenderId:"105141969644",measurementId:"G-MTF5MB90YP"},production:!1};L(1389);class LU{constructor(){return w0("auth")}}class DR{constructor(e){return e}}const BU="firestore",ER=new l.OlP("angularfire2.firestore-instances");function J9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new DR(r)}}const Q9={provide:class Y9{constructor(){return w0(BU)}},deps:[[new l.FiY,ER]]},X9={provide:DR,useFactory:function K9(n,e){const t=function b0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(c=>c.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(BU,n,e);return t&&new DR(t)},deps:[[new l.FiY,ER],D_]};let e7=(()=>{class n{constructor(){(0,Xt.registerVersion)("angularfire",Zh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[X9,Q9]}),n})();const n7=E0(m3,!0);let V_={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const UU=/[&<>"']/,i7=new RegExp(UU.source,"g"),$U=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,s7=new RegExp($U.source,"g"),o7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jU=n=>o7[n];function Ri(n,e){if(e){if(UU.test(n))return n.replace(i7,jU)}else if($U.test(n))return n.replace(s7,jU);return n}const a7=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function GU(n){return n.replace(a7,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const l7=/(^|[^\[])\^/g;function An(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,i)=>(i=(i=i.source||i).replace(l7,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const u7=/[^\w:]/g,c7=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function HU(n,e,t){if(n){let r;try{r=decodeURIComponent(GU(t)).replace(u7,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!c7.test(t)&&(t=function p7(n,e){wC[" "+n]||(wC[" "+n]=d7.test(n)?n+"/":EC(n,"/",!0));const t=-1===(n=wC[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(h7,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(f7,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const wC={},d7=/^[^:]+:\/*[^/]*$/,h7=/^([^:]+:)[\s\S]*$/,f7=/^([^:]+:\/*[^/]*)[\s\S]*$/,DC={exec:function(){}};function na(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function zU(n,e){const r=n.replace(/\|/g,(o,c,f)=>{let m=!1,v=c;for(;--v>=0&&"\\"===f[v];)m=!m;return m?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function EC(n,e,t){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const o=n.charAt(r-i-1);if(o!==e||t){if(o===e||!t)break;i++}else i++}return n.slice(0,r-i)}function WU(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qU(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function ZU(n,e,t,r){const i=e.href,o=e.title?Ri(e.title):null,c=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const f={type:"link",raw:t,href:i,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,f}return{type:"image",raw:t,href:i,title:o,text:Ri(c)}}class TR{constructor(e){this.options=e||V_}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:EC(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=function m7(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(i=>{const o=i.match(/^\s+/);if(null===o)return i;const[c]=o;return c.length>=r.length?i.slice(r.length):i}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=EC(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,o,c,f,m,v,D,I,N,x,j,Y=t[1].trim();const J=Y.length>1,ie={type:"list",raw:"",ordered:J,start:J?+Y.slice(0,-1):"",loose:!1,items:[]};Y=J?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic&&(Y=J?Y:"[*+-]");const ge=new RegExp(`^( {0,3}${Y})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(j=!1,(t=ge.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),D=t[2].split("\n",1)[0].replace(/^\t+/,xe=>" ".repeat(3*xe.length)),I=e.split("\n",1)[0],this.options.pedantic?(c=2,x=D.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,x=D.slice(c),c+=t[1].length),m=!1,!D&&/^ *$/.test(I)&&(r+=I+"\n",e=e.substring(I.length+1),j=!0),!j){const xe=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ge=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),We=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),Rt=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(N=e.split("\n",1)[0],I=N,this.options.pedantic&&(I=I.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(We.test(I)||Rt.test(I)||xe.test(I)||Ge.test(e)));){if(I.search(/[^ ]/)>=c||!I.trim())x+="\n"+I.slice(c);else{if(m||D.search(/[^ ]/)>=4||We.test(D)||Rt.test(D)||Ge.test(D))break;x+="\n"+I}!m&&!I.trim()&&(m=!0),r+=N+"\n",e=e.substring(N.length+1),D=I.slice(c)}}ie.loose||(v?ie.loose=!0:/\n *\n *$/.test(r)&&(v=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(x),i&&(o="[ ] "!==i[0],x=x.replace(/^\[[ xX]\] +/,""))),ie.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:x}),ie.raw+=r}ie.items[ie.items.length-1].raw=r.trimRight(),ie.items[ie.items.length-1].text=x.trimRight(),ie.raw=ie.raw.trimRight();const Me=ie.items.length;for(f=0;f<Me;f++)if(this.lexer.state.top=!1,ie.items[f].tokens=this.lexer.blockTokens(ie.items[f].text,[]),!ie.loose){const xe=ie.items[f].tokens.filter(We=>"space"===We.type),Ge=xe.length>0&&xe.some(We=>/\n.*\n/.test(We.raw));ie.loose=Ge}if(ie.loose)for(f=0;f<Me;f++)ie.items[f].loose=!0;return ie}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):Ri(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:zU(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let o,c,f,m,i=r.align.length;for(o=0;o<i;o++)r.align[o]=/^ *-+: *$/.test(r.align[o])?"right":/^ *:-+: *$/.test(r.align[o])?"center":/^ *:-+ *$/.test(r.align[o])?"left":null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=zU(r.rows[o],r.header.length).map(v=>({text:v}));for(i=r.header.length,c=0;c<i;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(i=r.rows.length,c=0;c<i;c++)for(m=r.rows[c],f=0;f<m.length;f++)m[f].tokens=this.lexer.inline(m[f].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ri(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ri(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=EC(r.slice(0,-1),"\\");if((r.length-c.length)%2==0)return}else{const c=function g7(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if("\\"===n[i])i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(c>-1){const m=(0===t[0].indexOf("!")?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],o=c[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),ZU(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return ZU(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(""===r||this.rules.inline.punctuation.exec(r))){const c=i[0].length-1;let f,m,v=c,D=0;const I="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(I.lastIndex=0,t=t.slice(-1*e.length+c);null!=(i=I.exec(t));){if(f=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!f)continue;if(m=f.length,i[3]||i[4]){v+=m;continue}if((i[5]||i[6])&&c%3&&!((c+m)%3)){D+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+D);const N=e.slice(0,c+i.index+(i[0].length-f.length)+m);if(Math.min(c,m)%2){const j=N.slice(1,-1);return{type:"em",raw:N,text:j,tokens:this.lexer.inlineTokens(j)}}const x=N.slice(2,-2);return{type:"strong",raw:N,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=Ri(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,o;return"@"===r[2]?(i=Ri(this.options.mangle?t(r[1]):r[1]),o="mailto:"+i):(i=Ri(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,o;if("@"===r[2])i=Ri(this.options.mangle?t(r[0]):r[0]),o="mailto:"+i;else{let c;do{c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(c!==r[0]);i=Ri(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ri(r[0]):r[0]:Ri(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Ct={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:DC,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ct.def=An(Ct.def).replace("label",Ct._label).replace("title",Ct._title).getRegex(),Ct.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ct.listItemStart=An(/^( *)(bull) */).replace("bull",Ct.bullet).getRegex(),Ct.list=An(Ct.list).replace(/bull/g,Ct.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ct.def.source+")").getRegex(),Ct._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ct._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ct.html=An(Ct.html,"i").replace("comment",Ct._comment).replace("tag",Ct._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ct.paragraph=An(Ct._paragraph).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.blockquote=An(Ct.blockquote).replace("paragraph",Ct.paragraph).getRegex(),Ct.normal=na({},Ct),Ct.gfm=na({},Ct.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ct.gfm.table=An(Ct.gfm.table).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.gfm.paragraph=An(Ct._paragraph).replace("hr",Ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ct.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ct._tag).getRegex(),Ct.pedantic=na({},Ct.normal,{html:An("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ct._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:DC,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:An(Ct.normal._paragraph).replace("hr",Ct.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ct.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ut={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:DC,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:DC,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function _7(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function YU(n){let t,r,e="";const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}ut._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ut.punctuation=An(ut.punctuation).replace(/punctuation/g,ut._punctuation).getRegex(),ut.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ut.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ut._comment=An(Ct._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ut.emStrong.lDelim=An(ut.emStrong.lDelim).replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimAst=An(ut.emStrong.rDelimAst,"g").replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimUnd=An(ut.emStrong.rDelimUnd,"g").replace(/punct/g,ut._punctuation).getRegex(),ut._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ut._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ut._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ut.autolink=An(ut.autolink).replace("scheme",ut._scheme).replace("email",ut._email).getRegex(),ut._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ut.tag=An(ut.tag).replace("comment",ut._comment).replace("attribute",ut._attribute).getRegex(),ut._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ut._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ut._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ut.link=An(ut.link).replace("label",ut._label).replace("href",ut._href).replace("title",ut._title).getRegex(),ut.reflink=An(ut.reflink).replace("label",ut._label).replace("ref",Ct._label).getRegex(),ut.nolink=An(ut.nolink).replace("ref",Ct._label).getRegex(),ut.reflinkSearch=An(ut.reflinkSearch,"g").replace("reflink",ut.reflink).replace("nolink",ut.nolink).getRegex(),ut.normal=na({},ut),ut.pedantic=na({},ut.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:An(/^!?\[(label)\]\((.*?)\)/).replace("label",ut._label).getRegex(),reflink:An(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ut._label).getRegex()}),ut.gfm=na({},ut.normal,{escape:An(ut.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ut.gfm.url=An(ut.gfm.url,"i").replace("email",ut.gfm._extended_email).getRegex(),ut.breaks=na({},ut.gfm,{br:An(ut.br).replace("{2,}","*").getRegex(),text:An(ut.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Mu{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||V_,this.options.tokenizer=this.options.tokenizer||new TR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ct.normal,inline:ut.normal};this.options.pedantic?(t.block=Ct.pedantic,t.inline=ut.pedantic):this.options.gfm&&(t.block=Ct.gfm,t.inline=this.options.breaks?ut.breaks:ut.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ct,inline:ut}}static lex(e,t){return new Mu(t).lex(e)}static lexInline(e,t){return new Mu(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,i,o,c;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(f,m,v)=>m+"    ".repeat(v.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>!!(r=f.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=e.slice(1);let v;this.options.extensions.startBlock.forEach(function(D){v=D.call({lexer:this},m),"number"==typeof v&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(o=e.substring(0,f+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=t[t.length-1],c&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),c=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,o,f,m,v,c=e;if(this.tokens.links){const D=Object.keys(this.tokens.links);if(D.length>0)for(;null!=(f=this.tokenizer.rules.inline.reflinkSearch.exec(c));)D.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,f.index)+"["+qU("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(f=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,f.index)+"["+qU("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(f=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,f.index+f[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(D=>!!(r=D.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,c,v)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,YU)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,YU))){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let D=1/0;const I=e.slice(1);let N;this.options.extensions.startInline.forEach(function(x){N=x.call({lexer:this},I),"number"==typeof N&&N>=0&&(D=Math.min(D,N))}),D<1/0&&D>=0&&(o=e.substring(0,D+1))}if(r=this.tokenizer.inlineText(o,_7)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(v=r.raw.slice(-1)),m=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const D="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}}return t}}class Bw{constructor(e){this.options=e||V_}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,i);null!=o&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Ri(i)+'">'+(r?e:Ri(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:Ri(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=HU(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(null===(e=HU(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class KU{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class JU{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class ul{constructor(e){this.options=e||V_,this.options.renderer=this.options.renderer||new Bw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new KU,this.slugger=new JU}static parse(e,t){return new ul(t).parse(e)}static parseInline(e,t){return new ul(t).parseInline(e)}parse(e,t=!0){let i,o,c,f,m,v,D,I,N,x,j,Y,J,ie,ge,Me,xe,Ge,We,r="";const Rt=e.length;for(i=0;i<Rt;i++)if(x=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(We=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==We||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=We||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,GU(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(I="",D="",f=x.header.length,o=0;o<f;o++)D+=this.renderer.tablecell(this.parseInline(x.header[o].tokens),{header:!0,align:x.align[o]});for(I+=this.renderer.tablerow(D),N="",f=x.rows.length,o=0;o<f;o++){for(v=x.rows[o],D="",m=v.length,c=0;c<m;c++)D+=this.renderer.tablecell(this.parseInline(v[c].tokens),{header:!1,align:x.align[c]});N+=this.renderer.tablerow(D)}r+=this.renderer.table(I,N);continue;case"blockquote":N=this.parse(x.tokens),r+=this.renderer.blockquote(N);continue;case"list":for(j=x.ordered,Y=x.start,J=x.loose,f=x.items.length,N="",o=0;o<f;o++)ge=x.items[o],Me=ge.checked,xe=ge.task,ie="",ge.task&&(Ge=this.renderer.checkbox(Me),J?ge.tokens.length>0&&"paragraph"===ge.tokens[0].type?(ge.tokens[0].text=Ge+" "+ge.tokens[0].text,ge.tokens[0].tokens&&ge.tokens[0].tokens.length>0&&"text"===ge.tokens[0].tokens[0].type&&(ge.tokens[0].tokens[0].text=Ge+" "+ge.tokens[0].tokens[0].text)):ge.tokens.unshift({type:"text",text:Ge}):ie+=Ge),ie+=this.parse(ge.tokens,J),N+=this.renderer.listitem(ie,xe,Me);r+=this.renderer.list(N,j,Y);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(N=x.tokens?this.parseInline(x.tokens):x.text;i+1<Rt&&"text"===e[i+1].type;)x=e[++i],N+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=t?this.renderer.paragraph(N):N;continue;default:{const en='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(en);throw new Error(en)}}return r}parseInline(e,t){t=t||this.renderer;let i,o,c,r="";const f=e.length;for(i=0;i<f;i++)if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(c=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))r+=c||"";else switch(o.type){case"escape":case"text":r+=t.text(o.text);break;case"html":r+=t.html(o.text);break;case"link":r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":r+=t.image(o.href,o.title,o.text);break;case"strong":r+=t.strong(this.parseInline(o.tokens,t));break;case"em":r+=t.em(this.parseInline(o.tokens,t));break;case"codespan":r+=t.codespan(o.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(o.tokens,t));break;default:{const m='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}}return r}}function Mt(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),WU(e=na({},Mt.defaults,e||{})),t){const i=e.highlight;let o;try{o=Mu.lex(n,e)}catch(m){return t(m)}const c=function(m){let v;if(!m)try{e.walkTokens&&Mt.walkTokens(o,e.walkTokens),v=ul.parse(o,e)}catch(D){m=D}return e.highlight=i,m?t(m):t(null,v)};if(!i||i.length<3||(delete e.highlight,!o.length))return c();let f=0;return Mt.walkTokens(o,function(m){"code"===m.type&&(f++,setTimeout(()=>{i(m.text,m.lang,function(v,D){if(v)return c(v);null!=D&&D!==m.text&&(m.text=D,m.escaped=!0),f--,0===f&&c()})},0))}),void(0===f&&c())}function r(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Ri(i.message+"",!0)+"</pre>";throw i}try{const i=Mu.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(Mt.walkTokens(i,e.walkTokens)).then(()=>ul.parse(i,e)).catch(r);Mt.walkTokens(i,e.walkTokens)}return ul.parse(i,e)}catch(i){r(i)}}Mt.options=Mt.setOptions=function(n){return na(Mt.defaults,n),function r7(n){V_=n}(Mt.defaults),Mt},Mt.getDefaults=function VU(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Mt.defaults=V_,Mt.use=function(...n){const e=Mt.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=na({},t);if(r.async=Mt.defaults.async||r.async,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const o=e.renderers[i.name];e.renderers[i.name]=o?function(...c){let f=i.renderer.apply(this,c);return!1===f&&(f=o.apply(this,c)),f}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){const i=Mt.defaults.renderer||new Bw;for(const o in t.renderer){const c=i[o];i[o]=(...f)=>{let m=t.renderer[o].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.renderer=i}if(t.tokenizer){const i=Mt.defaults.tokenizer||new TR;for(const o in t.tokenizer){const c=i[o];i[o]=(...f)=>{let m=t.tokenizer[o].apply(i,f);return!1===m&&(m=c.apply(i,f)),m}}r.tokenizer=i}if(t.walkTokens){const i=Mt.defaults.walkTokens;r.walkTokens=function(o){let c=[];return c.push(t.walkTokens.call(this,o)),i&&(c=c.concat(i.call(this,o))),c}}Mt.setOptions(r)})},Mt.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(Mt,r)),r.type){case"table":for(const i of r.header)t=t.concat(Mt.walkTokens(i.tokens,e));for(const i of r.rows)for(const o of i)t=t.concat(Mt.walkTokens(o.tokens,e));break;case"list":t=t.concat(Mt.walkTokens(r.items,e));break;default:Mt.defaults.extensions&&Mt.defaults.extensions.childTokens&&Mt.defaults.extensions.childTokens[r.type]?Mt.defaults.extensions.childTokens[r.type].forEach(function(i){t=t.concat(Mt.walkTokens(r[i],e))}):r.tokens&&(t=t.concat(Mt.walkTokens(r.tokens,e)))}return t},Mt.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");WU(e=na({},Mt.defaults,e||{}));try{const t=Mu.lexInline(n,e);return e.walkTokens&&Mt.walkTokens(t,e.walkTokens),ul.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Ri(t.message+"",!0)+"</pre>";throw t}},Mt.Parser=ul,Mt.parser=ul.parse,Mt.Renderer=Bw,Mt.TextRenderer=KU,Mt.Lexer=Mu,Mt.lexer=Mu.lex,Mt.Tokenizer=TR,Mt.Slugger=JU,Mt.parse=Mt;let IR=(()=>{class n{constructor(){this._buttonClick$=new on.x,this.copied$=this._buttonClick$.pipe(yn(()=>(0,cw.T)(tt(!0),eC(3e3).pipe(Fl(!1)))),Hc(),qM(1)),this.copiedText$=this.copied$.pipe(js(!1),(0,Je.U)(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return r.onCopyToClipboardClick()}),l.ALo(1,"async"),l._uU(2),l.ALo(3,"async"),l.qZA()),2&t&&(l.ekj("copied",l.lcZ(1,3,r.copied$)),l.xp6(2),l.Oqu(l.lcZ(3,5,r.copiedText$)))},dependencies:[Fs],encapsulation:2,changeDetection:0}),n})();class w7{}class E7{}const QU=new l.OlP("SECURITY_CONTEXT");let CR=(()=>{class n{constructor(t,r,i,o,c,f){this.platform=t,this.securityContext=r,this.http=i,this.clipboardOptions=o,this.sanitizer=f,this.DEFAULT_MARKED_OPTIONS={renderer:new Bw},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new on.x,this.reload$=this._reload$.asObservable(),this.options=c}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:o,emoji:c,mermaid:f,disableSanitizer:m}=r,v={...this.options,...r.markedOptions};f&&(this.renderer=this.extendRenderer(v.renderer||new Bw));const D=this.trimIndentation(t),I=i?this.decodeHtml(D):D,N=c?this.parseEmoji(I):I,x=this.parseMarked(N,v,o);return(m?x:this.sanitizer.sanitize(this.securityContext,x))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:o,clipboardOptions:c,katex:f,katexOptions:m,mermaid:v,mermaidOptions:D}=r;o&&this.renderClipboard(t,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),f&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...m}),v&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...D}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,Je.U)(r=>this.handleExtension(t,r)))}highlight(t){if(!Lr(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Lr(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const i=t.code;return t.code=function(o,c,f){return"mermaid"===c?`<div class="mermaid">${o}</div>`:i.call(this,o,c,f)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const i=t.lastIndexOf("://"),o=i>-1?t.substring(i+4):t,c=o.lastIndexOf("/"),f=c>-1?o.substring(c+1).split("?")[0]:"",m=f.lastIndexOf("."),v=m>-1?f.substring(m+1):"";return v&&"md"!==v?"```"+v+"\n"+r+"\n```":r}parseMarked(t,r,i=!1){return i?Mt.parseInline(t,r):Mt.parse(t,r)}parseEmoji(t){if(!Lr(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Lr(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,i){if(!Lr(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:c}=i,f=t.querySelectorAll("pre");for(let m=0;m<f.length;m++){const v=f.item(m),D=document.createElement("div");D.style.position="relative",v.parentNode.insertBefore(D,v),D.appendChild(v);const I=document.createElement("div");let N,x;I.style.position="absolute",I.style.top=".5em",I.style.right=".5em",I.style.opacity="0",I.style.transition="opacity 250ms ease-out",D.insertAdjacentElement("beforeend",I),v.onmouseover=()=>I.style.opacity="1",v.onmouseout=()=>I.style.opacity="0",N=o?r.createComponent(o).hostView:c?r.createEmbeddedView(c):r.createComponent(IR).hostView,N.rootNodes.forEach(j=>{j.onmouseover=()=>I.style.opacity="1",I.appendChild(j),x=new ClipboardJS(j,{text:()=>v.innerText})}),N.onDestroy(()=>x.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Lr(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=t.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(i=>{let o=r;return i.length>0&&(o=isNaN(o)?i.search(/\S|$/):Math.min(i.search(/\S|$/),o)),isNaN(r)&&(r=o),o?i.substring(o):i}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi),l.LFG(QU),l.LFG(Dx,8),l.LFG(w7,8),l.LFG(E7,8),l.LFG(Us))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),O7=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[CR,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:QU,useValue:t&&null!=t.sanitize?t.sanitize:l.q3G.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[z_]}),n})();var XU;!function(n){let e;var i;let t,r;(i=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(XU||(XU={}));class Uw{}Uw.\u0275fac=function(e){return new(e||Uw)},Uw.\u0275cmp=l.Xpm({type:Uw,selectors:[["app-main"]],decls:9,vars:0,consts:[[2,"max-width","1080px","margin","0 auto","padding","10px"],[1,"footer-copyrights"],["href","admin"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.TgZ(2,"div",1),l._uU(3," Copyrights 2023\xa9 "),l._UZ(4,"br"),l._uU(5,"Template made with "),l.TgZ(6,"a",2),l._uU(7,"\u{1f52e}"),l.qZA(),l._uU(8," by Panos Petridisoglou\n"),l.qZA()())},dependencies:[Ty]});class U_{}U_.\u0275fac=function(e){return new(e||U_)},U_.\u0275mod=l.oAB({type:U_,bootstrap:[Uw]}),U_.\u0275inj=l.cJS({providers:[{provide:Cs.Dh,useValue:PU.firebase}],imports:[ez,b9,Qu,e4,B_,t4,z9.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),function xH(n,...e){return{ngModule:MH,providers:[{provide:ZM,useFactory:OH(n),multi:!0,deps:[l.R0b,l.zs3,Yh,...e]}]}}(()=>RH(PU.firebase)),function t7(n,...e){return{ngModule:e7,providers:[{provide:ER,useFactory:J9(n),multi:!0,deps:[l.R0b,l.zs3,Yh,JL,[new l.FiY,LU],[new l.FiY,FI],...e]}]}}(()=>n7()),M6,O7.forRoot()]}),Qd().bootstrapModule(U_).catch(n=>console.error(n))},9751:(vt,Ce,L)=>{L.d(Ce,{y:()=>Te});var l=L(930),V=L(727),F=L(8822),oe=L(9635),ve=L(2416),le=L(576),Le=L(2806);let Te=(()=>{class q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const nt=new q;return nt.source=this,nt.operator=Ae,nt}subscribe(Ae,nt,rt){const ne=function $(q){return q&&q instanceof l.Lv||function G(q){return q&&(0,le.m)(q.next)&&(0,le.m)(q.error)&&(0,le.m)(q.complete)}(q)&&(0,V.Nn)(q)}(Ae)?Ae:new l.Hp(Ae,nt,rt);return(0,Le.x)(()=>{const{operator:Ne,source:Ie}=this;ne.add(Ne?Ne.call(ne,Ie):Ie?this._subscribe(ne):this._trySubscribe(ne))}),ne}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(nt){Ae.error(nt)}}forEach(Ae,nt){return new(nt=Re(nt))((rt,ne)=>{const Ne=new l.Hp({next:Ie=>{try{Ae(Ie)}catch($e){ne($e),Ne.unsubscribe()}},error:ne,complete:rt});this.subscribe(Ne)})}_subscribe(Ae){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Ae)}[F.L](){return this}pipe(...Ae){return(0,oe.U)(Ae)(this)}toPromise(Ae){return new(Ae=Re(Ae))((nt,rt)=>{let ne;this.subscribe(Ne=>ne=Ne,Ne=>rt(Ne),()=>nt(ne))})}}return q.create=Ue=>new q(Ue),q})();function Re(q){var Ue;return null!==(Ue=q??ve.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(vt,Ce,L)=>{L.d(Ce,{x:()=>Le});var l=L(9751),V=L(727);const oe=(0,L(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=L(8737),le=L(2806);let Le=(()=>{class Re extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const q=new Te(this,this);return q.operator=$,q}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next($)}})}error($){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:q}=this;for(;q.length;)q.shift().error($)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:q,isStopped:Ue,observers:Ae}=this;return q||Ue?V.Lc:(this.currentObservers=null,Ae.push($),new V.w0(()=>{this.currentObservers=null,(0,ve.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:q,thrownError:Ue,isStopped:Ae}=this;q?$.error(Ue):Ae&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return Re.create=(G,$)=>new Te(G,$),Re})();class Te extends Le{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===q||q.call($,G)}error(G){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===q||q.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,q;return null!==(q=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==q?q:V.Lc}}},930:(vt,Ce,L)=>{L.d(Ce,{Hp:()=>rt,Lv:()=>q});var l=L(576),V=L(727),F=L(2416),oe=L(7849),ve=L(5032);const le=Re("C",void 0,void 0);function Re(we,pe,De){return{kind:we,value:pe,error:De}}var G=L(3410),$=L(2806);class q extends V.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,V.Nn)(pe)&&pe.add(this)):this.destination=$e}static create(pe,De,Be){return new rt(pe,De,Be)}next(pe){this.isStopped?Ie(function Te(we){return Re("N",we,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Ie(function Le(we){return Re("E",void 0,we)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Ie(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ae(we,pe){return Ue.call(we,pe)}class nt{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:De}=this;if(De.next)try{De.next(pe)}catch(Be){ne(Be)}}error(pe){const{partialObserver:De}=this;if(De.error)try{De.error(pe)}catch(Be){ne(Be)}else ne(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(De){ne(De)}}}class rt extends q{constructor(pe,De,Be){let ke;if(super(),(0,l.m)(pe)||!pe)ke={next:pe??void 0,error:De??void 0,complete:Be??void 0};else{let X;this&&F.v.useDeprecatedNextContext?(X=Object.create(pe),X.unsubscribe=()=>this.unsubscribe(),ke={next:pe.next&&Ae(pe.next,X),error:pe.error&&Ae(pe.error,X),complete:pe.complete&&Ae(pe.complete,X)}):ke=pe}this.destination=new nt(ke)}}function ne(we){F.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(we):(0,oe.h)(we)}function Ie(we,pe){const{onStoppedNotification:De}=F.v;De&&G.z.setTimeout(()=>De(we,pe))}const $e={closed:!0,next:ve.Z,error:function Ne(we){throw we},complete:ve.Z}},727:(vt,Ce,L)=>{L.d(Ce,{Lc:()=>le,w0:()=>ve,Nn:()=>Le});var l=L(576);const F=(0,L(3888).d)(Re=>function($){Re(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((q,Ue)=>`${Ue+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=L(8737);class ve{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:q}=this;if((0,l.m)(q))try{q()}catch(Ae){G=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ae of Ue)try{Te(Ae)}catch(nt){G=G??[],nt instanceof F?G=[...G,...nt.errors]:G.push(nt)}}if(G)throw new F(G)}}add(G){var $;if(G&&G!==this)if(this.closed)Te(G);else{if(G instanceof ve){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,oe.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,oe.P)($,G),G instanceof ve&&G._removeParent(this)}}ve.EMPTY=(()=>{const Re=new ve;return Re.closed=!0,Re})();const le=ve.EMPTY;function Le(Re){return Re instanceof ve||Re&&"closed"in Re&&(0,l.m)(Re.remove)&&(0,l.m)(Re.add)&&(0,l.m)(Re.unsubscribe)}function Te(Re){(0,l.m)(Re)?Re():Re.unsubscribe()}},2416:(vt,Ce,L)=>{L.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ce,L)=>{L.d(Ce,{E:()=>V});const V=new(L(9751).y)(ve=>ve.complete())},8996:(vt,Ce,L)=>{L.d(Ce,{D:()=>pe});var l=L(8421),V=L(5363),F=L(9468),le=L(9751),Te=L(2202),Re=L(576),G=L(9672);function q(De,Be){if(!De)throw new Error("Iterable cannot be null");return new le.y(ke=>{(0,G.f)(ke,Be,()=>{const X=De[Symbol.asyncIterator]();(0,G.f)(ke,Be,()=>{X.next().then(it=>{it.done?ke.complete():ke.next(it.value)})},0,!0)})})}var Ue=L(3670),Ae=L(8239),nt=L(1144),rt=L(6495),ne=L(2206),Ne=L(4532),Ie=L(3260);function pe(De,Be){return Be?function we(De,Be){if(null!=De){if((0,Ue.c)(De))return function oe(De,Be){return(0,l.Xf)(De).pipe((0,F.R)(Be),(0,V.Q)(Be))}(De,Be);if((0,nt.z)(De))return function Le(De,Be){return new le.y(ke=>{let X=0;return Be.schedule(function(){X===De.length?ke.complete():(ke.next(De[X++]),ke.closed||this.schedule())})})}(De,Be);if((0,Ae.t)(De))return function ve(De,Be){return(0,l.Xf)(De).pipe((0,F.R)(Be),(0,V.Q)(Be))}(De,Be);if((0,ne.D)(De))return q(De,Be);if((0,rt.T)(De))return function $(De,Be){return new le.y(ke=>{let X;return(0,G.f)(ke,Be,()=>{X=De[Te.h](),(0,G.f)(ke,Be,()=>{let it,bt;try{({value:it,done:bt}=X.next())}catch(qe){return void ke.error(qe)}bt?ke.complete():ke.next(it)},0,!0)}),()=>(0,Re.m)(X?.return)&&X.return()})}(De,Be);if((0,Ie.L)(De))return function $e(De,Be){return q((0,Ie.Q)(De),Be)}(De,Be)}throw(0,Ne.z)(De)}(De,Be):(0,l.Xf)(De)}},8421:(vt,Ce,L)=>{L.d(Ce,{Xf:()=>Ue});var l=L(655),V=L(1144),F=L(8239),oe=L(9751),ve=L(3670),le=L(2206),Le=L(4532),Te=L(6495),Re=L(3260),G=L(576),$=L(7849),q=L(8822);function Ue(we){if(we instanceof oe.y)return we;if(null!=we){if((0,ve.c)(we))return function Ae(we){return new oe.y(pe=>{const De=we[q.L]();if((0,G.m)(De.subscribe))return De.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,V.z)(we))return function nt(we){return new oe.y(pe=>{for(let De=0;De<we.length&&!pe.closed;De++)pe.next(we[De]);pe.complete()})}(we);if((0,F.t)(we))return function rt(we){return new oe.y(pe=>{we.then(De=>{pe.closed||(pe.next(De),pe.complete())},De=>pe.error(De)).then(null,$.h)})}(we);if((0,le.D)(we))return Ne(we);if((0,Te.T)(we))return function ne(we){return new oe.y(pe=>{for(const De of we)if(pe.next(De),pe.closed)return;pe.complete()})}(we);if((0,Re.L)(we))return function Ie(we){return Ne((0,Re.Q)(we))}(we)}throw(0,Le.z)(we)}function Ne(we){return new oe.y(pe=>{(function $e(we,pe){var De,Be,ke,X;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(we);!(Be=yield De.next()).done;)if(pe.next(Be.value),pe.closed)return}catch(it){ke={error:it}}finally{try{Be&&!Be.done&&(X=De.return)&&(yield X.call(De))}finally{if(ke)throw ke.error}}pe.complete()})})(we,pe).catch(De=>pe.error(De))})}},6451:(vt,Ce,L)=>{L.d(Ce,{T:()=>le});var l=L(8189),V=L(8421),F=L(515),oe=L(3269),ve=L(8996);function le(...Le){const Te=(0,oe.yG)(Le),Re=(0,oe._6)(Le,1/0),G=Le;return G.length?1===G.length?(0,V.Xf)(G[0]):(0,l.J)(Re)((0,ve.D)(G,Te)):F.E}},5403:(vt,Ce,L)=>{L.d(Ce,{x:()=>V});var l=L(930);function V(oe,ve,le,Le,Te){return new F(oe,ve,le,Le,Te)}class F extends l.Lv{constructor(ve,le,Le,Te,Re,G){super(ve),this.onFinalize=Re,this.shouldUnsubscribe=G,this._next=le?function($){try{le($)}catch(q){ve.error(q)}}:super._next,this._error=Te?function($){try{Te($)}catch(q){ve.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch($){ve.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(vt,Ce,L)=>{L.d(Ce,{U:()=>F});var l=L(4482),V=L(5403);function F(oe,ve){return(0,l.e)((le,Le)=>{let Te=0;le.subscribe((0,V.x)(Le,Re=>{Le.next(oe.call(ve,Re,Te++))}))})}},8189:(vt,Ce,L)=>{L.d(Ce,{J:()=>F});var l=L(5577),V=L(4671);function F(oe=1/0){return(0,l.z)(V.y,oe)}},5577:(vt,Ce,L)=>{L.d(Ce,{z:()=>Te});var l=L(4004),V=L(8421),F=L(4482),oe=L(9672),ve=L(5403),Le=L(576);function Te(Re,G,$=1/0){return(0,Le.m)(G)?Te((q,Ue)=>(0,l.U)((Ae,nt)=>G(q,Ae,Ue,nt))((0,V.Xf)(Re(q,Ue))),$):("number"==typeof G&&($=G),(0,F.e)((q,Ue)=>function le(Re,G,$,q,Ue,Ae,nt,rt){const ne=[];let Ne=0,Ie=0,$e=!1;const we=()=>{$e&&!ne.length&&!Ne&&G.complete()},pe=Be=>Ne<q?De(Be):ne.push(Be),De=Be=>{Ae&&G.next(Be),Ne++;let ke=!1;(0,V.Xf)($(Be,Ie++)).subscribe((0,ve.x)(G,X=>{Ue?.(X),Ae?pe(X):G.next(X)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Ne--;ne.length&&Ne<q;){const X=ne.shift();nt?(0,oe.f)(G,nt,()=>De(X)):De(X)}we()}catch(X){G.error(X)}}))};return Re.subscribe((0,ve.x)(G,pe,()=>{$e=!0,we()})),()=>{rt?.()}}(q,Ue,Re,$)))}},5363:(vt,Ce,L)=>{L.d(Ce,{Q:()=>oe});var l=L(9672),V=L(4482),F=L(5403);function oe(ve,le=0){return(0,V.e)((Le,Te)=>{Le.subscribe((0,F.x)(Te,Re=>(0,l.f)(Te,ve,()=>Te.next(Re),le),()=>(0,l.f)(Te,ve,()=>Te.complete(),le),Re=>(0,l.f)(Te,ve,()=>Te.error(Re),le)))})}},3099:(vt,Ce,L)=>{L.d(Ce,{B:()=>ve});var l=L(8421),V=L(7579),F=L(930),oe=L(4482);function ve(Le={}){const{connector:Te=(()=>new V.x),resetOnError:Re=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=Le;return q=>{let Ue,Ae,nt,rt=0,ne=!1,Ne=!1;const Ie=()=>{Ae?.unsubscribe(),Ae=void 0},$e=()=>{Ie(),Ue=nt=void 0,ne=Ne=!1},we=()=>{const pe=Ue;$e(),pe?.unsubscribe()};return(0,oe.e)((pe,De)=>{rt++,!Ne&&!ne&&Ie();const Be=nt=nt??Te();De.add(()=>{rt--,0===rt&&!Ne&&!ne&&(Ae=le(we,$))}),Be.subscribe(De),!Ue&&rt>0&&(Ue=new F.Hp({next:ke=>Be.next(ke),error:ke=>{Ne=!0,Ie(),Ae=le($e,Re,ke),Be.error(ke)},complete:()=>{ne=!0,Ie(),Ae=le($e,G),Be.complete()}}),(0,l.Xf)(pe).subscribe(Ue))})(q)}}function le(Le,Te,...Re){if(!0===Te)return void Le();if(!1===Te)return;const G=new F.Hp({next:()=>{G.unsubscribe(),Le()}});return(0,l.Xf)(Te(...Re)).subscribe(G)}},9468:(vt,Ce,L)=>{L.d(Ce,{R:()=>V});var l=L(4482);function V(F,oe=0){return(0,l.e)((ve,le)=>{le.add(F.schedule(()=>ve.subscribe(le),oe))})}},3410:(vt,Ce,L)=>{L.d(Ce,{z:()=>l});const l={setTimeout(V,F,...oe){const{delegate:ve}=l;return ve?.setTimeout?ve.setTimeout(V,F,...oe):setTimeout(V,F,...oe)},clearTimeout(V){const{delegate:F}=l;return(F?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(vt,Ce,L)=>{L.d(Ce,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ce,L)=>{L.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ce,L)=>{L.d(Ce,{_6:()=>le,jO:()=>oe,yG:()=>ve});var l=L(576),V=L(3532);function F(Le){return Le[Le.length-1]}function oe(Le){return(0,l.m)(F(Le))?Le.pop():void 0}function ve(Le){return(0,V.K)(F(Le))?Le.pop():void 0}function le(Le,Te){return"number"==typeof F(Le)?Le.pop():Te}},8737:(vt,Ce,L)=>{function l(V,F){if(V){const oe=V.indexOf(F);0<=oe&&V.splice(oe,1)}}L.d(Ce,{P:()=>l})},3888:(vt,Ce,L)=>{function l(V){const oe=V(ve=>{Error.call(ve),ve.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(Ce,{d:()=>l})},2806:(vt,Ce,L)=>{L.d(Ce,{O:()=>oe,x:()=>F});var l=L(2416);let V=null;function F(ve){if(l.v.useDeprecatedSynchronousErrorHandling){const le=!V;if(le&&(V={errorThrown:!1,error:null}),ve(),le){const{errorThrown:Le,error:Te}=V;if(V=null,Le)throw Te}}else ve()}function oe(ve){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ve)}},9672:(vt,Ce,L)=>{function l(V,F,oe,ve=0,le=!1){const Le=F.schedule(function(){oe(),le?V.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(V.add(Le),!le)return Le}L.d(Ce,{f:()=>l})},4671:(vt,Ce,L)=>{function l(V){return V}L.d(Ce,{y:()=>l})},1144:(vt,Ce,L)=>{L.d(Ce,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(vt,Ce,L)=>{L.d(Ce,{D:()=>V});var l=L(576);function V(F){return Symbol.asyncIterator&&(0,l.m)(F?.[Symbol.asyncIterator])}},576:(vt,Ce,L)=>{function l(V){return"function"==typeof V}L.d(Ce,{m:()=>l})},3670:(vt,Ce,L)=>{L.d(Ce,{c:()=>F});var l=L(8822),V=L(576);function F(oe){return(0,V.m)(oe[l.L])}},6495:(vt,Ce,L)=>{L.d(Ce,{T:()=>F});var l=L(2202),V=L(576);function F(oe){return(0,V.m)(oe?.[l.h])}},8239:(vt,Ce,L)=>{L.d(Ce,{t:()=>V});var l=L(576);function V(F){return(0,l.m)(F?.then)}},3260:(vt,Ce,L)=>{L.d(Ce,{L:()=>oe,Q:()=>F});var l=L(655),V=L(576);function F(ve){return(0,l.FC)(this,arguments,function*(){const Le=ve.getReader();try{for(;;){const{value:Te,done:Re}=yield(0,l.qq)(Le.read());if(Re)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Te)}}finally{Le.releaseLock()}})}function oe(ve){return(0,V.m)(ve?.getReader)}},3532:(vt,Ce,L)=>{L.d(Ce,{K:()=>V});var l=L(576);function V(F){return F&&(0,l.m)(F.schedule)}},4482:(vt,Ce,L)=>{L.d(Ce,{A:()=>V,e:()=>F});var l=L(576);function V(oe){return(0,l.m)(oe?.lift)}function F(oe){return ve=>{if(V(ve))return ve.lift(function(le){try{return oe(le,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ce,L)=>{function l(){}L.d(Ce,{Z:()=>l})},9635:(vt,Ce,L)=>{L.d(Ce,{U:()=>F,z:()=>V});var l=L(4671);function V(...oe){return F(oe)}function F(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(le){return oe.reduce((Le,Te)=>Te(Le),le)}}},7849:(vt,Ce,L)=>{L.d(Ce,{h:()=>F});var l=L(2416),V=L(3410);function F(oe){V.z.setTimeout(()=>{const{onUnhandledError:ve}=l.v;if(!ve)throw oe;ve(oe)})}},4532:(vt,Ce,L)=>{function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>l})},655:(vt,Ce,L)=>{function oe(ce,ue){var me={};for(var be in ce)Object.prototype.hasOwnProperty.call(ce,be)&&ue.indexOf(be)<0&&(me[be]=ce[be]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(be=Object.getOwnPropertySymbols(ce);Ve<be.length;Ve++)ue.indexOf(be[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ce,be[Ve])&&(me[be[Ve]]=ce[be[Ve]])}return me}function q(ce,ue,me,be){return new(me||(me=Promise))(function(Pe,at){function Fe(Jt){try{mt(be.next(Jt))}catch(wt){at(wt)}}function Nt(Jt){try{mt(be.throw(Jt))}catch(wt){at(wt)}}function mt(Jt){Jt.done?Pe(Jt.value):function Ve(Pe){return Pe instanceof me?Pe:new me(function(at){at(Pe)})}(Jt.value).then(Fe,Nt)}mt((be=be.apply(ce,ue||[])).next())})}function we(ce){return this instanceof we?(this.v=ce,this):new we(ce)}function pe(ce,ue,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,be=me.apply(ce,ue||[]),Pe=[];return Ve={},at("next"),at("throw"),at("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function at(Gt){be[Gt]&&(Ve[Gt]=function(Fn){return new Promise(function(Nn,ri){Pe.push([Gt,Fn,Nn,ri])>1||Fe(Gt,Fn)})})}function Fe(Gt,Fn){try{!function Nt(Gt){Gt.value instanceof we?Promise.resolve(Gt.value.v).then(mt,Jt):wt(Pe[0][2],Gt)}(be[Gt](Fn))}catch(Nn){wt(Pe[0][3],Nn)}}function mt(Gt){Fe("next",Gt)}function Jt(Gt){Fe("throw",Gt)}function wt(Gt,Fn){Gt(Fn),Pe.shift(),Pe.length&&Fe(Pe[0][0],Pe[0][1])}}function Be(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ue=ce[Symbol.asyncIterator];return ue?ue.call(ce):(ce=function rt(ce){var ue="function"==typeof Symbol&&Symbol.iterator,me=ue&&ce[ue],be=0;if(me)return me.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&be>=ce.length&&(ce=void 0),{value:ce&&ce[be++],done:!ce}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),me={},be("next"),be("throw"),be("return"),me[Symbol.asyncIterator]=function(){return this},me);function be(Pe){me[Pe]=ce[Pe]&&function(at){return new Promise(function(Fe,Nt){!function Ve(Pe,at,Fe,Nt){Promise.resolve(Nt).then(function(mt){Pe({value:mt,done:Fe})},at)}(Fe,Nt,(at=ce[Pe](at)).done,at.value)})}}}L.d(Ce,{FC:()=>pe,KL:()=>Be,_T:()=>oe,mG:()=>q,qq:()=>we})},4650:(vt,Ce,L)=>{L.d(Ce,{$8M:()=>Xd,$WT:()=>cl,$Z:()=>oD,AFp:()=>sf,ALo:()=>Cs,AaK:()=>Te,AsE:()=>Bh,BQk:()=>Fh,CHM:()=>Vd,CRH:()=>mm,CZH:()=>Ka,CqO:()=>kD,D6c:()=>_b,DdM:()=>mu,Dn7:()=>Ke,EJc:()=>cN,EiD:()=>qC,EpF:()=>Ii,F$t:()=>kg,F4k:()=>RD,FYo:()=>bc,FiY:()=>fo,Gf:()=>pm,GfV:()=>R1,Gpc:()=>$,Hsn:()=>tA,Ikx:()=>Lv,JOm:()=>$i,JVY:()=>hc,JZr:()=>rt,KtG:()=>Ud,L6k:()=>f1,LAX:()=>$C,LFG:()=>Yt,LMc:()=>Wm,LSH:()=>Iy,Lbi:()=>af,Lck:()=>ak,MAs:()=>Sg,MGl:()=>pv,MMx:()=>p0,MR2:()=>KC,MT6:()=>zg,NdJ:()=>xg,OlP:()=>mn,Oqu:()=>$g,P3R:()=>D1,PXZ:()=>rd,Q6J:()=>Ag,QGY:()=>hv,Qsj:()=>x1,QtT:()=>im,R0b:()=>rs,RDi:()=>BC,Rgc:()=>Qh,SBq:()=>Ua,SDv:()=>u0,Sil:()=>sT,Suo:()=>gm,TTD:()=>ip,TgZ:()=>Ng,Tol:()=>Bg,Udp:()=>wv,VKq:()=>D0,W1O:()=>Zc,WLB:()=>PE,X6Q:()=>mT,XFs:()=>st,Xpm:()=>ae,Xts:()=>Sy,Y36:()=>Tc,YKP:()=>YA,YNc:()=>KS,Yjl:()=>En,Yz7:()=>wt,Z0I:()=>ri,ZZ4:()=>od,_Bn:()=>ZA,_UZ:()=>Ph,_Vd:()=>vc,_c5:()=>_n,_uU:()=>XD,aQg:()=>zm,c2e:()=>Om,cJS:()=>Fn,cg1:()=>Bv,dDg:()=>pN,dqk:()=>pt,eBb:()=>p1,eFA:()=>ab,ekj:()=>Dv,eoX:()=>ib,f3M:()=>vi,g9A:()=>Q0,h0i:()=>qh,hGG:()=>NN,hij:()=>jg,iGM:()=>fm,ifc:()=>he,ip1:()=>K0,jDz:()=>RE,kEZ:()=>Yh,kL8:()=>uE,lG2:()=>Dr,lcZ:()=>BE,lqb:()=>ru,lri:()=>td,mCW:()=>vh,n5z:()=>Ju,oAB:()=>It,oJD:()=>Kp,oxw:()=>LD,pB0:()=>mo,pQV:()=>Is,q3G:()=>hr,q4F:()=>k1,qLn:()=>Eh,qOj:()=>_g,qZA:()=>Og,qzn:()=>Ba,rWj:()=>nd,s9C:()=>BD,sBO:()=>_T,s_b:()=>cm,soG:()=>uf,tb:()=>Nm,tp0:()=>Ei,uIk:()=>kh,vHH:()=>ne,vpe:()=>As,wAp:()=>Dt,xi3:()=>Ss,xp6:()=>q1,ynx:()=>Mg,z2F:()=>bu,z3N:()=>qs,zSh:()=>yc,zs3:()=>ou});var l=L(7579),V=L(727),F=L(9751),oe=L(6451),ve=L(3099);function le(s){for(let a in s)if(s[a]===le)return a;throw Error("Could not find renamed property on target object.")}function Le(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function Te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Re(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const G=le({__forward_ref__:le});function $(s){return s.__forward_ref__=$,s.toString=function(){return Te(this())},s}function q(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}function Ae(s){return s&&!!s.\u0275providers}const rt="https://g.co/ng/security#xss";class ne extends Error{constructor(a,u){super(function Ne(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s,a){throw new ne(-201,!1)}function Fe(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Fn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nn(s){return tr(s,ki)||tr(s,On)}function ri(s){return null!==Nn(s)}function tr(s,a){return s.hasOwnProperty(a)?s[a]:null}function cs(s){return s&&(s.hasOwnProperty(oo)||s.hasOwnProperty(ii))?s[oo]:null}const ki=le({\u0275prov:le}),oo=le({\u0275inj:le}),On=le({ngInjectableDef:le}),ii=le({ngInjectorDef:le});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Pi;function Dn(s){const a=Pi;return Pi=s,a}function yr(s,a,u){const d=Nn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&st.Optional?null:void 0!==a?a:void Be(Te(s))}const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},zn="__NG_DI_FLAG__",br="ngTempTokenPath",wr=/\n/gm,ks="__source";let zt;function yi(s){const a=zt;return zt=s,a}function Mn(s,a=st.Default){if(void 0===zt)throw new ne(-203,!1);return null===zt?yr(s,void 0,a):zt.get(s,a&st.Optional?null:void 0,a)}function Yt(s,a=st.Default){return(function ds(){return Pi}()||Mn)(q(s),a)}function vi(s,a=st.Default){return Yt(s,qn(a))}function qn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Zi(s){const a=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ne(900,!1);let h,g=st.Default;for(let y=0;y<d.length;y++){const E=d[y],T=bi(E);"number"==typeof T?-1===T?h=E.token:g|=T:h=E}a.push(Yt(h,g))}else a.push(Yt(d))}return a}function Pr(s,a){return s[zn]=a,s.prototype[zn]=a,s}function bi(s){return s[zn]}function R(s){return{toString:s}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),he=(()=>{return(s=he||(he={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",he;var s})();const Ze={},ze=[],yt=le({\u0275cmp:le}),Qt=le({\u0275dir:le}),St=le({\u0275pipe:le}),vn=le({\u0275mod:le}),Tt=le({\u0275fac:le}),Zn=le({__NG_ELEMENT_ID__:le});let Co=0;function ae(s){return R(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ze,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||he.Emulated,id:"c"+Co++,styles:s.styles||ze,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,y=s.features;return h.inputs=ln(s.inputs,d),h.outputs=ln(s.outputs),y&&y.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Se).filter(ct):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(jr).filter(ct):null,h})}function Se(s){return jt(s)||Ln(s)}function ct(s){return null!==s}function It(s){return R(()=>({type:s.type,bootstrap:s.bootstrap||ze,declarations:s.declarations||ze,imports:s.imports||ze,exports:s.exports||ze,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ln(s,a){if(null==s)return Ze;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,a&&(a[h]=g)}return u}const Dr=ae;function En(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[yt]||null}function Ln(s){return s[Qt]||null}function jr(s){return s[St]||null}function cl(s){const a=jt(s)||Ln(s)||jr(s);return null!==a&&a.standalone}function Gr(s,a){const u=s[vn]||null;if(!u&&!0===a)throw new Error(`Type ${Te(s)} does not have '\u0275mod' property.`);return u}function Hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yi(s){return Array.isArray(s)&&!0===s[1]}function fl(s){return 0!=(4&s.flags)}function pl(s){return s.componentOffset>-1}function la(s){return 1==(1&s.flags)}function Ir(s){return null!==s.template}function Ls(s){return 0!=(256&s[2])}function fs(s,a){return s.hasOwnProperty(Tt)?s[Tt]:null}class zw{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ip(){return sp}function sp(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ao),Z_}function Z_(){const s=Pu(this),a=s?.current;if(a){const u=s.previous;if(u===Ze)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Ao(s,a,u,d){const h=this.declaredInputs[u],g=Pu(s)||function ap(s,a){return s[op]=a}(s,{previous:Ze,current:null}),y=g.current||(g.current={}),E=g.previous,T=E[h];y[h]=new zw(T&&T.currentValue,a,E===Ze),s[d]=a}ip.ngInherit=!0;const op="__ngSimpleChanges__";function Pu(s){return s[op]||null}function rr(s){for(;Array.isArray(s);)s=s[0];return s}function yl(s,a){return rr(a[s])}function Cr(s,a){return rr(a[s.index])}function Fu(s,a){return s.data[a]}function No(s,a){return s[a]}function zr(s,a){const u=a[s];return Hr(u)?u:u[0]}function ha(s){return 64==(64&s[2])}function Bs(s,a){return null==a?null:s[a]}function Fd(s){s[18]=0}function vl(s,a){s[5]+=a;let u=s,d=s[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const At={lFrame:jd(null),bindingsEnabled:!0};function dp(){return At.bindingsEnabled}function de(){return At.lFrame.lView}function Kt(){return At.lFrame.tView}function Vd(s){return At.lFrame.contextLView=s,s[8]}function Ud(s){return At.lFrame.contextLView=null,s}function Bn(){let s=J_();for(;null!==s&&64===s.type;)s=s.parent;return s}function J_(){return At.lFrame.currentTNode}function fa(){const s=At.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function ps(s,a){const u=At.lFrame;u.currentTNode=s,u.isParent=a}function Vu(){return At.lFrame.isParent}function fp(){At.lFrame.isParent=!1}function Wr(){const s=At.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function wi(){return At.lFrame.bindingIndex}function Oo(){return At.lFrame.bindingIndex++}function uo(s){const a=At.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function bl(s){At.lFrame.inI18n=s}function qw(s,a){const u=At.lFrame;u.bindingIndex=u.bindingRootIndex=s,wl(a)}function wl(s){At.lFrame.currentDirectiveIndex=s}function $d(){return At.lFrame.currentQueryIndex}function _p(s){At.lFrame.currentQueryIndex=s}function yp(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Q_(s,a,u){if(u&st.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||u&st.Host||(h=yp(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,s=g}const d=At.lFrame=X_();return d.currentTNode=a,d.lView=s,!0}function ju(s){const a=X_(),u=s[1];At.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function X_(){const s=At.lFrame,a=null===s?null:s.child;return null===a?jd(s):a}function jd(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ey(){const s=At.lFrame;return At.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Gd=ey;function vp(){const s=ey();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return At.lFrame.selectedIndex}function co(s){At.lFrame.selectedIndex=s}function Tn(){const s=At.lFrame;return Fu(s.tView,s.selectedIndex)}function zd(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:C,ngOnDestroy:A}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),T&&(s.viewHooks||(s.viewHooks=[])).push(-u,T),C&&((s.viewHooks||(s.viewHooks=[])).push(u,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,C)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function Wd(s,a,u){ga(s,a,3,u)}function qd(s,a,u,d){(3&s[2])===u&&ga(s,a,u,d)}function Gu(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function ga(s,a,u,d){const g=d??-1,y=a.length-1;let E=0;for(let T=void 0!==d?65535&s[18]:0;T<y;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(s[18]+=65536),(E<g||-1==g)&&(ny(s,u,a,T),s[18]=(4294901760&s[18])+T+2),T++}function ny(s,a,u,d){const h=u[d]<0,g=u[d+1],E=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Hu{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function zu(s,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],y=u[d++],E=u[d++];s.setAttribute(a,y,E,g)}else{const g=h,y=u[++d];Yd(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),d++}}return d}function El(s){return 3===s||4===s||6===s}function Yd(s){return 64===s.charCodeAt(0)}function xo(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||_a(s,u,h,null,-1===u||2===u?a[++d]:null)}}return s}function _a(s,a,u,d,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Tl(s){return-1!==s}function Il(s){return 32767&s}function Cl(s,a){let u=function Wu(s){return s>>16}(s),d=a;for(;u>0;)d=d[15],u--;return d}let Kd=!0;function qu(s){const a=Kd;return Kd=s,a}let Tp=0;const Ui={};function Al(s,a){const u=Cp(s,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,Ro(d.data,s),Ro(a,null),Ro(d.blueprint,null));const h=kn(s,a),g=s.injectorIndex;if(Tl(h)){const y=Il(h),E=Cl(h,a),T=E[1].data;for(let C=0;C<8;C++)a[g+C]=E[y+C]|T[y+C]}return a[g+8]=h,g}function Ro(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Cp(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function kn(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=Qu(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Zu(s,a,u){!function Ip(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Zn)&&(d=u[Zn]),null==d&&(d=u[Zn]=Tp++);const h=255&d;a.data[s+(h>>5)]|=1<<h}(s,a,u)}function Sp(s,a,u){if(u&st.Optional||void 0!==s)return s;Be()}function Yu(s,a,u,d){if(u&st.Optional&&void 0===d&&(d=null),!(u&(st.Self|st.Host))){const h=s[9],g=Dn(void 0);try{return h?h.get(a,d,u&st.Optional):yr(a,d,u&st.Optional)}finally{Dn(g)}}return Sp(d,0,u)}function Ku(s,a,u,d=st.Default,h){if(null!==s){if(1024&a[2]){const y=function Np(s,a,u,d,h){let g=s,y=a;for(;null!==g&&null!==y&&1024&y[2]&&!(256&y[2]);){const E=sy(g,y,u,d|st.Self,Ui);if(E!==Ui)return E;let T=g.parent;if(!T){const C=y[21];if(C){const A=C.get(u,Ui,d);if(A!==Ui)return A}T=Qu(y),y=y[15]}g=T}return h}(s,a,u,d,Ui);if(y!==Ui)return y}const g=sy(s,a,u,d,Ui);if(g!==Ui)return g}return Yu(a,u,d,h)}function sy(s,a,u,d,h){const g=function Ap(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Zn)?s[Zn]:void 0;return"number"==typeof a?a>=0?255&a:Qd:a}(u);if("function"==typeof g){if(!Q_(a,s,d))return d&st.Host?Sp(h,0,d):Yu(a,u,d,h);try{const y=g(d);if(null!=y||d&st.Optional)return y;Be()}finally{Gd()}}else if("number"==typeof g){let y=null,E=Cp(s,a),T=-1,C=d&st.Host?a[16][6]:null;for((-1===E||d&st.SkipSelf)&&(T=-1===E?kn(s,a):a[E+8],-1!==T&&Ol(d,!1)?(y=a[1],E=Il(T),a=Cl(T,a)):E=-1);-1!==E;){const A=a[1];if(ya(g,E,A.data)){const P=oy(E,a,u,y,d,C);if(P!==Ui)return P}T=a[E+8],-1!==T&&Ol(d,a[1].data[E+8]===C)&&ya(g,E,a)?(y=A,E=Il(T),a=Cl(T,a)):E=-1}}return h}function oy(s,a,u,d,h,g){const y=a[1],E=y.data[s+8],A=Nl(E,y,u,null==d?pl(E)&&Kd:d!=y&&0!=(3&E.type),h&st.Host&&g===E);return null!==A?Vs(a,y,A,E):Ui}function Nl(s,a,u,d,h){const g=s.providerIndexes,y=a.data,E=1048575&g,T=s.directiveStart,A=g>>20,H=h?E+A:s.directiveEnd;for(let K=d?E:E+A;K<H;K++){const fe=y[K];if(K<T&&u===fe||K>=T&&fe.type===u)return K}if(h){const K=y[T];if(K&&Ir(K)&&K.type===u)return T}return null}function Vs(s,a,u,d){let h=s[u];const g=a.data;if(function ry(s){return s instanceof Hu}(h)){const y=h;y.resolving&&function we(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ne(-200,`Circular dependency in DI detected for ${s}${u}`)}(function $e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(g[u]));const E=qu(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Dn(y.injectImpl):null;Q_(s,d,st.Default);try{h=s[u]=y.factory(void 0,g,s,d),a.firstCreatePass&&u>=d.directiveStart&&function Xw(s,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const y=sp(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],a)}finally{null!==T&&Dn(T),qu(E),y.resolving=!1,Gd()}}return h}function ya(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function Ol(s,a){return!(s&st.Self||s&st.Host&&a)}class ko{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return Ku(this._tNode,this._lView,a,qn(d),u)}}function Qd(){return new ko(Bn(),de())}function Ju(s){return R(()=>{const a=s.prototype.constructor,u=a[Tt]||va(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Tt]||va(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function va(s){return Ue(s)?()=>{const a=va(q(s));return a&&a()}:fs(s)}function Qu(s){const a=s[1],u=a.type;return 2===u?a.declTNode:1===u?s[6]:null}function Xd(s){return function Jd(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(El(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}(Bn(),s)}const Ml="__parameters__";function wa(s,a,u){return R(()=>{const d=function eh(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(T,C,A){const P=T.hasOwnProperty(Ml)?T[Ml]:Object.defineProperty(T,Ml,{value:[]})[Ml];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(y),T}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class mn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Da(s,a){s.forEach(u=>Array.isArray(u)?Da(u,a):a(u))}function nh(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function rh(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ea(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function ai(s,a,u){let d=un(s,a);return d>=0?s[1|d]=u:(d=~d,function Us(s,a,u,d){let h=s.length;if(h==a)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function nc(s,a){const u=un(s,a);if(u>=0)return s[1|u]}function un(s,a){return function tt(s,a,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<u];if(a===y)return g<<u;y>a?h=g:d=g+1}return~(h<<u)}(s,a,1)}const fo=Pr(wa("Optional"),8),Ei=Pr(wa("SkipSelf"),4);var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();const Ot=/^>|^->|<!--|-->|--!>|<!-$/g,Ll=/(<|>)/;const hh=new Map;let py=0;const ph="__ngContext__";function dr(s,a){Hr(a)?(s[ph]=a[20],function Lp(s){hh.set(s[20],s)}(a)):s[ph]=a}let Hs;function Ul(s,a){return Hs(s,a)}function xa(s){const a=s[3];return Yi(a)?a[3]:a}function ys(s){return Ra(s[13])}function Gl(s){return Ra(s[4])}function Ra(s){for(;null!==s&&!Yi(s);)s=s[4];return s}function ka(s,a,u,d,h){if(null!=d){let g,y=!1;Yi(d)?g=d:Hr(d)&&(y=!0,d=d[0]);const E=rr(d);0===s&&null!==u?null==h?Zr(a,u,E):Ft(a,u,E,h||null,!0):1===s&&null!==u?Ft(a,u,E,h||null,!0):2===s?Pa(a,E,y):3===s&&a.destroyNode(E),null!=g&&function l1(s,a,u,d,h){const g=u[7];g!==rr(u)&&ka(a,s,d,g,h);for(let E=10;E<u.length;E++){const T=u[E];Jl(T[1],T,s,a,d,g)}}(a,s,g,u,h)}}function Hl(s,a){return s.createText(a)}function zl(s,a,u){s.setValue(a,u)}function Up(s,a){return s.createComment(function Lo(s){return s.replace(Ot,a=>a.replace(Ll,"\u200b$1\u200b"))}(a))}function oc(s,a,u){return s.createElement(a,u)}function w(s,a){const u=s[9],d=u.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,vl(h,-1)),u.splice(d,1)}function S(s,a){if(s.length<=10)return;const u=10+a,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&w(h,d),a>0&&(s[u-1][4]=d[4]);const g=rh(s,10+a);!function $p(s,a){Jl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function M(s,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Jl(s,a,u,3,null,null),function b(s){let a=s[13];if(!a)return z(s[1],s);for(;a;){let u=null;if(Hr(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==s;)Hr(a)&&z(a[1],a),a=a[3];null===a&&(a=s),Hr(a)&&z(a[1],a),u=a&&a[4]}a=u}}(a)}}function z(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Oe(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof Hu)){const g=u[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],T=g[y+1];try{T.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,a),function te(s,a){const u=s.cleanup,d=a[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),g+=2}else{const y=d[h=u[g+1]];u[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Yi(a[3])){u!==a[3]&&w(u,a);const d=a[19];null!==d&&d.detachView(s)}!function ic(s){hh.delete(s[20])}(a)}}function je(s,a,u){return lt(s,a.parent,u)}function lt(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===he.None||g===he.Emulated)return null}return Cr(d,u)}}function Ft(s,a,u,d,h){s.insertBefore(a,u,d,h)}function Zr(s,a,u){s.appendChild(a,u)}function zs(s,a,u,d,h){null!==d?Ft(s,a,u,d,h):Zr(s,a,u)}function vs(s,a){return s.parentNode(a)}function lc(s,a,u){return uc(s,a,u)}function ql(s,a,u){return 40&s.type?Cr(s,u):null}let Ws,Ql,vy,Hp,uc=ql;function cc(s,a){uc=s,Ws=a}function Zl(s,a,u,d){const h=je(s,d,a),g=a[11],E=lc(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(u))for(let T=0;T<u.length;T++)zs(g,h,u[T],E,!1);else zs(g,h,u,E,!1);void 0!==Ws&&Ws(g,d,a,u,h)}function Yl(s,a){if(null!==a){const u=a.type;if(3&u)return Cr(a,s);if(4&u)return Kl(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return Yl(s,d);{const h=s[a.index];return Yi(h)?Kl(-1,h):rr(h)}}if(32&u)return Ul(a,s)()||rr(s[a.index]);{const d=dc(s,a);return null!==d?Array.isArray(d)?d[0]:Yl(xa(s[16]),d):Yl(s,a.next)}}return null}function dc(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Kl(s,a){const u=10+s+1;if(u<a.length){const d=a[u],h=d[1].firstChild;if(null!==h)return Yl(d,h)}return a[7]}function Pa(s,a,u){const d=vs(s,a);d&&function ac(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}function _y(s,a,u,d,h,g,y){for(;null!=u;){const E=d[u.index],T=u.type;if(y&&0===a&&(E&&dr(rr(E),d),u.flags|=2),32!=(32&u.flags))if(8&T)_y(s,a,u.child,d,h,g,!1),ka(a,s,h,E,g);else if(32&T){const C=Ul(u,d);let A;for(;A=C();)ka(a,s,h,A,g);ka(a,s,h,E,g)}else 16&T?yy(s,a,d,u,h,g):ka(a,s,h,E,g);u=y?u.projectionNext:u.next}}function Jl(s,a,u,d,h,g){_y(u,d,s.firstChild,a,h,g,!1)}function yy(s,a,u,d,h,g){const y=u[16],T=y[6].projection[d.projection];if(Array.isArray(T))for(let C=0;C<T.length;C++)ka(a,s,h,T[C],g);else _y(s,a,T,y[3],h,g,!0)}function jp(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Fa(s,a,u){const{mergedAttrs:d,classes:h,styles:g}=u;null!==d&&zu(s,a,d),null!==h&&jp(s,a,h),null!==g&&function go(s,a,u){s.setAttribute(a,"style",u)}(s,a,g)}function La(s){return function Gp(){if(void 0===Ql&&(Ql=null,pt.trustedTypes))try{Ql=pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ql}()?.createHTML(s)||s}function BC(s){vy=s}function u1(){return void 0!==vy?vy:typeof document<"u"?document:void 0}function by(){if(void 0===Hp&&(Hp=null,pt.trustedTypes))try{Hp=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hp}function c1(s){return by()?.createHTML(s)||s}function wy(s){return by()?.createScriptURL(s)||s}class Xl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class xR extends Xl{getTypeName(){return"HTML"}}class VC extends Xl{getTypeName(){return"Style"}}class RR extends Xl{getTypeName(){return"Script"}}class UC extends Xl{getTypeName(){return"URL"}}class h1 extends Xl{getTypeName(){return"ResourceURL"}}function qs(s){return s instanceof Xl?s.changingThisBreaksApplicationSecurity:s}function Ba(s,a){const u=function $o(s){return s instanceof Xl&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${rt})`)}return u===a}function hc(s){return new xR(s)}function f1(s){return new VC(s)}function p1(s){return new RR(s)}function $C(s){return new UC(s)}function mo(s){return new h1(s)}function Dy(s){const a=new zp(s);return function g1(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch{return!1}}()?new jC(a):a}class jC{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(La(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class zp{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=La(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=La(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ey=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function vh(s){return(s=String(s)).match(Ey)?s:"unsafe:"+s}function Zs(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function eu(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const m1=Zs("area,br,col,hr,img,wbr"),fc=Zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_1=Zs("rp,rt"),Wp=eu(m1,eu(fc,Zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eu(_1,Zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eu(_1,fc)),qp=Zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pc=eu(qp,Zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zp=Zs("script,style,template");class Ty{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Wp.hasOwnProperty(u))return this.sanitizedSomething=!0,!Zp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),y=g.name,E=y.toLowerCase();if(!pc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;qp[E]&&(T=vh(T)),this.buf.push(" ",y,'="',Yp(T),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Wp.hasOwnProperty(u)&&!m1.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Yp(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const zC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WC=/([^\#-~ |!])/g;function Yp(s){return s.replace(/&/g,"&amp;").replace(zC,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(WC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bh;function qC(s,a){let u=null;try{bh=bh||Dy(s);let d=a?String(a):"";u=bh.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=bh.getInertBodyElement(d)}while(d!==g);return La((new Ty).sanitizeChildren(v1(u)||u))}finally{if(u){const d=v1(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function v1(s){return"content"in s&&function FR(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function Kp(s){const a=Va();return a?c1(a.sanitize(hr.HTML,s)||""):Ba(s,"HTML")?c1(qs(s)):qC(u1(),Ie(s))}function Iy(s){const a=Va();return a?a.sanitize(hr.URL,s)||"":Ba(s,"URL")?qs(s):vh(Ie(s))}function b1(s){const a=Va();if(a)return wy(a.sanitize(hr.RESOURCE_URL,s)||"");if(Ba(s,"ResourceURL"))return wy(qs(s));throw new ne(904,!1)}function D1(s,a,u){return function wh(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?b1:Iy}(a,u)(s)}function Va(){const s=de();return s&&s[12]}const Sy=new mn("ENVIRONMENT_INITIALIZER"),E1=new mn("INJECTOR",-1),tu=new mn("INJECTOR_DEF_TYPES");class gc{get(a,u=nr){if(u===nr){const d=new Error(`NullInjectorError: No provider for ${Te(a)}!`);throw d.name="NullInjectorError",d}return u}}function KC(s){return{\u0275providers:s}}function JC(...s){return{\u0275providers:mc(0,s),\u0275fromNgModule:!0}}function mc(s,...a){const u=[],d=new Set;let h;return Da(a,g=>{const y=g;Ay(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&_c(h,u),u}function _c(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Ny(h,g=>{a.push(g)})}}function Ay(s,a,u,d){if(!(s=q(s)))return!1;let h=null,g=cs(s);const y=!g&&jt(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(g=cs(T),!g)return!1;h=T}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const C of T)Ay(C,a,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let C;d.add(h);try{Da(g.imports,A=>{Ay(A,a,u,d)&&(C||(C=[]),C.push(A))})}finally{}void 0!==C&&_c(C,a)}if(!E){const C=fs(h)||(()=>new h);a.push({provide:h,useFactory:C,deps:ze},{provide:tu,useValue:h,multi:!0},{provide:Sy,useValue:()=>Yt(h),multi:!0})}const T=g.providers;null==T||E||Ny(T,A=>{a.push(A)})}}return h!==s&&void 0!==s.providers}function Ny(s,a){for(let u of s)Ae(u)&&(u=u.\u0275providers),Array.isArray(u)?Ny(u,a):a(u)}const QC=le({provide:String,useValue:le});function Oy(s){return null!==s&&"object"==typeof s&&QC in s}function nu(s){return"function"==typeof s}const yc=new mn("Set Injector scope."),jo={},eS={};let xy;function Jp(){return void 0===xy&&(xy=new gc),xy}class ru{}class I1 extends ru{get destroyed(){return this._destroyed}constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dh(a,y=>this.processProvider(y)),this.records.set(E1,iu(void 0,this)),h.has("environment")&&this.records.set(ru,iu(void 0,this));const g=this.records.get(yc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(tu.multi,ze,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=yi(this),d=Dn(void 0);try{return a()}finally{yi(u),Dn(d)}}get(a,u=nr,d=st.Default){this.assertNotDestroyed(),d=qn(d);const h=yi(this),g=Dn(void 0);try{if(!(d&st.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function S1(s){return"function"==typeof s||"object"==typeof s&&s instanceof mn}(a)&&Nn(a);E=T&&this.injectableDefInScope(T)?iu(Ry(a),jo):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(d&st.Self?Jp():this.parent).get(a,u=d&st.Optional&&u===nr?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[br]=y[br]||[]).unshift(Te(a)),h)throw y;return function U(s,a,u,d){const h=s[br];throw a[ks]&&h.unshift(a[ks]),s.message=function B(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Te(a);if(Array.isArray(a))h=a.map(Te).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):Te(E)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(wr,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[br]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Dn(g),yi(h)}}resolveInjectorInitializers(){const a=yi(this),u=Dn(void 0);try{const d=this.get(Sy.multi,ze,st.Self);for(const h of d)h()}finally{yi(a),Dn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(Te(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(a){let u=nu(a=q(a))?a:q(a&&a.provide);const d=function nS(s){return Oy(s)?iu(void 0,s.useValue):iu(C1(s),jo)}(a);if(nu(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=iu(void 0,jo,!0),h.factory=()=>Zi(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===jo&&(u.value=eS,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ky(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=q(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Ry(s){const a=Nn(s),u=null!==a?a.factory:fs(s);if(null!==u)return u;if(s instanceof mn)throw new ne(204,!1);if(s instanceof Function)return function tS(s){const a=s.length;if(a>0)throw Ea(a,"?"),new ne(204,!1);const u=function _i(s){const a=s&&(s[ki]||s[On]);if(a){const u=function qi(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ne(204,!1)}function C1(s,a,u){let d;if(nu(s)){const h=q(s);return fs(h)||Ry(h)}if(Oy(s))d=()=>q(s.useValue);else if(function XC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Zi(s.deps||[]));else if(function T1(s){return!(!s||!s.useExisting)}(s))d=()=>Yt(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function rS(s){return!!s.deps}(s))return fs(h)||Ry(h);d=()=>new h(...Zi(s.deps))}return d}function iu(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Dh(s,a){for(const u of s)Array.isArray(u)?Dh(u,a):u&&Ae(u)?Dh(u.\u0275providers,a):a(u)}class Qp{}class A1{}class Xp{resolveComponentFactory(a){throw function iS(s){const a=Error(`No component factory found for ${Te(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let vc=(()=>{class s{}return s.NULL=new Xp,s})();function O1(){return Go(Bn(),de())}function Go(s,a){return new Ua(Cr(s,a))}let Ua=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=O1,s})();function M1(s){return s instanceof Ua?s.nativeElement:s}class bc{}let x1=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function sS(){const s=de(),u=zr(Bn().index,s);return(Hr(u)?u:s)[11]}(),s})(),oS=(()=>{class s{}return s.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null}),s})();class R1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const k1=new R1("15.1.3"),Py={};function Fy(s){return s.ngOriginalError}class Eh{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Fy(a);for(;u&&Fy(u);)u=Fy(u);return u||null}}function $a(s){return s instanceof Function?s():s}function U1(s,a,u){let d=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const $1="ng-template";function j1(s,a,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==U1(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function tg(s){return 4===s.type&&s.value!==$1}function fS(s,a,u){return a===(4!==s.type||u?s.value:$1)}function G1(s,a,u){let d=4;const h=s.attrs||[],g=function ng(s){for(let a=0;a<s.length;a++)if(El(s[a]))return a;return s.length}(h);let y=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!fS(s,T,u)||""===T&&1===a.length){if(li(d))return!1;y=!0}}else{const C=8&d?T:a[++E];if(8&d&&null!==s.attrs){if(!j1(s.attrs,C,u)){if(li(d))return!1;y=!0}continue}const P=Ly(8&d?"class":T,h,tg(s),u);if(-1===P){if(li(d))return!1;y=!0;continue}if(""!==C){let H;H=P>g?"":h[P+1].toLowerCase();const K=8&d?H:null;if(K&&-1!==U1(K,C,0)||2&d&&C!==H){if(li(d))return!1;y=!0}}}}else{if(!y&&!li(d)&&!li(T))return!1;if(y&&li(T))continue;y=!1,d=T|1&d}}return li(d)||y}function li(s){return 0==(1&s)}function Ly(s,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function rg(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function H1(s,a,u=!1){for(let d=0;d<a.length;d++)if(G1(s,a[d],u))return!0;return!1}function W1(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function By(s,a){return s?":not("+a.trim()+")":a}function pS(s){let a=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const E=s[++u];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!li(y)&&(a+=By(g,h),h=""),d=y,g=g||!li(d);u++}return""!==h&&(a+=By(g,h)),a}const Lt={};function q1(s){Th(Kt(),de(),qr()+s,!1)}function Th(s,a,u,d){if(!d)if(3==(3&a[2])){const g=s.preOrderCheckHooks;null!==g&&Wd(a,g,u)}else{const g=s.preOrderHooks;null!==g&&qd(a,g,0,u)}co(u)}function ja(s,a=null,u=null,d){const h=Q1(s,a,u,d);return h.resolveInjectorInitializers(),h}function Q1(s,a=null,u=null,d,h=new Set){const g=[u||ze,JC(s)];return d=d||("object"==typeof s?void 0:Te(s)),new I1(g,a||Jp(),d||null,h)}let ou=(()=>{class s{static create(u,d){if(Array.isArray(u))return ja({name:""},d,u,"");{const h=u.name??"";return ja({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=nr,s.NULL=new gc,s.\u0275prov=wt({token:s,providedIn:"any",factory:()=>Yt(E1)}),s.__NG_ELEMENT_ID__=-1,s})();function Tc(s,a=st.Default){const u=de();return null===u?Yt(s,a):Ku(Bn(),u,q(s),a)}function oD(){throw new Error("invalid")}function aD(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const y=s.data[g];_p(u[d]),y.contentQueries(2,a[g],g)}}}function jy(s,a,u,d,h,g,y,E,T,C,A){const P=a.blueprint.slice();return P[0]=h,P[2]=76|d,(null!==A||s&&1024&s[2])&&(P[2]|=1024),Fd(P),P[3]=P[15]=s,P[8]=u,P[10]=y||s&&s[10],P[11]=E||s&&s[11],P[12]=T||s&&s[12]||null,P[9]=C||s&&s[9]||null,P[6]=g,P[20]=function ms(){return py++}(),P[21]=A,P[16]=2==a.type?s[16]:P,P}function Ic(s,a,u,d,h){let g=s.data[a];if(null===g)g=Cc(s,a,u,d,h),function mp(){return At.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const y=fa();g.injectorIndex=null===y?-1:y.injectorIndex}return ps(g,!0),g}function Cc(s,a,u,d,h){const g=J_(),y=Vu(),T=s.data[a]=function Ys(s,a,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,a,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(y?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}function Sh(s,a,u,d){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function og(s,a,u){ju(a);try{const d=s.viewQuery;null!==d&&Nh(1,d,u);const h=s.template;null!==h&&Ac(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&aD(s,a),s.staticViewQueries&&Nh(2,s.viewQuery,u);const g=s.components;null!==g&&function OS(s,a){for(let u=0;u<a.length;u++)BS(s,a[u])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,vp()}}function Sc(s,a,u,d){const h=a[2];if(128!=(128&h)){ju(a);try{Fd(a),function pa(s){return At.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Ac(s,a,u,2,d);const y=3==(3&h);if(y){const C=s.preOrderCheckHooks;null!==C&&Wd(a,C,null)}else{const C=s.preOrderHooks;null!==C&&qd(a,C,0,null),Gu(a,0)}if(function yD(s){for(let a=ys(s);null!==a;a=Gl(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const h=u[d];512&h[2]||vl(h[3],1),h[2]|=512}}}(a),function _D(s){for(let a=ys(s);null!==a;a=Gl(a))for(let u=10;u<a.length;u++){const d=a[u],h=d[1];ha(d)&&Sc(h,d,h.template,d[8])}}(a),null!==s.contentQueries&&aD(s,a),y){const C=s.contentCheckHooks;null!==C&&Wd(a,C)}else{const C=s.contentHooks;null!==C&&qd(a,C,1),Gu(a,1)}!function NS(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)co(~h);else{const g=h,y=u[++d],E=u[++d];qw(y,g),E(2,a[g])}}}finally{co(-1)}}(s,a);const E=s.components;null!==E&&function lD(s,a){for(let u=0;u<a.length;u++)vD(s,a[u])}(a,E);const T=s.viewQuery;if(null!==T&&Nh(2,T,d),y){const C=s.viewCheckHooks;null!==C&&Wd(a,C)}else{const C=s.viewHooks;null!==C&&qd(a,C,2),Gu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,vl(a[3],-1))}finally{vp()}}}function Ac(s,a,u,d,h){const g=qr(),y=2&d;try{co(-1),y&&a.length>22&&Th(s,a,22,!1),u(d,h)}finally{co(g)}}function ag(s,a,u){if(fl(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}function Nc(s,a,u){dp()&&(function RS(s,a,u,d){const h=u.directiveStart,g=u.directiveEnd;pl(u)&&function LS(s,a,u){const d=Cr(a,s),h=Xt(u),g=s[10],y=hg(s,jy(s,h,null,u.onPush?32:16,d,a,g,g.createRenderer(d,u),null,null,null));s[a.index]=y}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||Al(u,a),dr(d,a);const y=u.initialInputs;for(let E=h;E<g;E++){const T=s.data[E],C=Vs(a,s,E,u);dr(C,a),null!==y&&gD(0,E-h,C,T,0,y),Ir(T)&&(zr(u.index,a)[8]=Vs(a,s,E,u))}}(s,a,u,Cr(u,a)),64==(64&u.flags)&&cg(s,a,u))}function Gy(s,a,u=Cr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],E=-1===y?u(a,s):s[y];s[h++]=E}}}function Xt(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Hy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Hy(s,a,u,d,h,g,y,E,T,C){const A=22+d,P=A+h,H=function MS(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:Lt);return u}(A,P),K="function"==typeof C?C():C;return H[1]={type:s,blueprint:H,template:u,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:K,incompleteFirstPass:!1}}function ft(s,a,u,d){const h=fg(a);null===u?h.push(d):(h.push(u),s.firstCreatePass&&pg(s).push(d,h.length-1))}function ws(s,a,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const g=s[h];null===d?uD(u,a,h,g):d.hasOwnProperty(h)&&uD(u,a,d[h],g)}return u}function uD(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function es(s,a,u,d,h,g,y,E){const T=Cr(a,u);let A,C=a.inputs;!E&&null!=C&&(A=C[d])?(Oh(s,u,A,d,h),pl(a)&&hD(u,a.index)):3&a.type&&(d=function dD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,g.setProperty(T,d,h))}function hD(s,a){const u=zr(a,s);16&u[2]||(u[2]|=32)}function lg(s,a,u,d){let h=!1;if(dp()){const g=null===d?null:{"":-1},y=function PS(s,a){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];if(H1(a,y.selectors,!1))if(d||(d=[]),Ir(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Wy(s,a,E.length)}else d.unshift(y),Wy(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let E,T;null===y?E=T=null:[E,T]=y,null!==E&&(h=!0,ug(s,a,u,E,g,T)),g&&function Ga(s,a,u){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new ne(-301,!1);d.push(a[h],g)}}}(u,d,g)}return u.mergedAttrs=xo(u.mergedAttrs,u.attrs),h}function ug(s,a,u,d,h,g){for(let C=0;C<d.length;C++)Zu(Al(u,a),s,d[C].type);!function FS(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let C=0;C<d.length;C++){const A=d[C];A.providersResolver&&A.providersResolver(A)}let y=!1,E=!1,T=Sh(s,a,d.length,null);for(let C=0;C<d.length;C++){const A=d[C];u.mergedAttrs=xo(u.mergedAttrs,A.hostAttrs),YR(s,u,a,T,A),qy(T,A,h),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const P=A.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),E=!0),T++}!function cD(s,a,u){const h=a.directiveEnd,g=s.data,y=a.attrs,E=[];let T=null,C=null;for(let A=a.directiveStart;A<h;A++){const P=g[A],H=u?u.get(P):null,fe=H?H.outputs:null;T=ws(P.inputs,A,T,H?H.inputs:null),C=ws(P.outputs,A,C,fe);const ye=null===T||null===y||tg(a)?null:mD(T,A,y);E.push(ye)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=C}(s,u,g)}function cg(s,a,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,y=function Zw(){return At.lFrame.currentDirectiveIndex}();try{co(g);for(let E=d;E<h;E++){const T=s.data[E],C=a[E];wl(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&kS(T,C)}}finally{co(-1),wl(y)}}function kS(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Wy(s,a,u){a.componentOffset=u,(s.components||(s.components=[])).push(a.index)}function qy(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;Ir(a)&&(u[""]=s)}}function YR(s,a,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=fs(h.type)),y=new Hu(g,Ir(h),Tc);s.blueprint[d]=y,u[d]=y,function zy(s,a,u,d,h){const g=h.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~a.index;(function xS(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(y)!=E&&y.push(E),y.push(u,d,g)}}(s,a,d,Sh(s,u,h.hostVars,Lt),h)}function Ah(s,a,u,d,h,g,y){if(null==g)s.removeAttribute(a,h,u);else{const E=null==y?Ie(g):y(g,d||"",h);s.setAttribute(a,h,E,u)}}function gD(s,a,u,d,h,g){const y=g[a];if(null!==y){const E=d.setInput;for(let T=0;T<y.length;){const C=y[T++],A=y[T++],P=y[T++];null!==E?d.setInput(u,P,C,A):u[A]=P}}}function mD(s,a,u){let d=null,h=0;for(;h<u.length;){const g=u[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const y=s[g];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(g,y[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function dg(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null]}function vD(s,a){const u=zr(a,s);if(ha(u)){const d=u[1];48&u[2]?Sc(d,u,d.template,u[8]):u[5]>0&&Zy(u)}}function Zy(s){for(let d=ys(s);null!==d;d=Gl(d))for(let h=10;h<d.length;h++){const g=d[h];if(ha(g))if(512&g[2]){const y=g[1];Sc(y,g,y.template,g[8])}else g[5]>0&&Zy(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=zr(u[d],s);ha(h)&&h[5]>0&&Zy(h)}}function BS(s,a){const u=zr(a,s),d=u[1];(function VS(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),og(d,u,u[8])}function hg(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Yy(s){for(;s;){s[2]|=32;const a=xa(s);if(Ls(s)&&!a)return s;s=a}return null}function Ds(s,a,u,d=!0){const h=a[10];h.begin&&h.begin();try{Sc(s,a,s.template,u)}catch(y){throw d&&Jy(a,y),y}finally{h.end&&h.end()}}function Nh(s,a,u){_p(0),a(s,u)}function fg(s){return s[7]||(s[7]=[])}function pg(s){return s.cleanup||(s.cleanup=[])}function Jy(s,a){const u=s[9],d=u?u.get(Eh,null):null;d&&d.handleError(a)}function Oh(s,a,u,d,h){for(let g=0;g<u.length;){const y=u[g++],E=u[g++],T=a[y],C=s.data[y];null!==C.setInput?C.setInput(T,h,d,E):T[E]=h}}function Ks(s,a,u){const d=yl(a,s);zl(s[11],d,u)}function gg(s,a,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?g=E:1==g?h=Re(h,E):2==g&&(d=Re(d,E+": "+a[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function mg(s,a,u,d,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(rr(g)),Yi(g))for(let E=10;E<g.length;E++){const T=g[E],C=T[1].firstChild;null!==C&&mg(T[1],T,C,d)}const y=u.type;if(8&y)mg(s,a,u.child,d);else if(32&y){const E=Ul(u,a);let T;for(;T=E();)d.push(T)}else if(16&y){const E=dc(a,u);if(Array.isArray(E))d.push(...E);else{const T=xa(a[16]);mg(T[1],T,E,d,!0)}}u=h?u.projectionNext:u.next}return d}class Mh{get rootNodes(){const a=this._lView,u=a[1];return mg(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Yi(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(S(a,d),rh(u,d))}this._attachedToViewContainer=!1}M(this._lView[1],this._lView)}onDestroy(a){ft(this._lView[1],this._lView,null,a)}markForCheck(){Yy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ds(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a1(s,a){Jl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=a}}class Qy extends Mh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ds(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Xy extends vc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=jt(a);return new xh(u,this.ngModule)}}function bD(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class ev{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=qn(d);const h=this.injector.get(a,Py,d);return h!==Py||u===Py?h:this.parentInjector.get(a,u,d)}}class xh extends A1{get inputs(){return bD(this.componentDef.inputs)}get outputs(){return bD(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function gS(s){return s.map(pS).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,h){let g=(h=h||this.ngModule)instanceof ru?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new ev(a,g):a,E=y.get(bc,null);if(null===E)throw new ne(407,!1);const T=y.get(oS,null),C=E.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=d?function W(s,a,u){return s.selectRootElement(a,u===he.ShadowDom)}(C,d,this.componentDef.encapsulation):oc(C,A,function jS(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(A)),H=this.componentDef.onPush?288:272,K=Hy(0,null,null,1,0,null,null,null,null,null),fe=jy(null,K,null,H,null,null,E,C,T,y,null);let ye,He;ju(fe);try{const et=this.componentDef;let Et,Ee=null;et.findHostDirectiveDefs?(Et=[],Ee=new Map,et.findHostDirectiveDefs(et,Et,Ee),Et.push(et)):Et=[et];const se=function Oc(s,a){const u=s[1];return s[22]=a,Ic(u,22,2,"#host",null)}(fe,P),Bt=function wD(s,a,u,d,h,g,y,E){const T=h[1];!function HS(s,a,u,d){for(const h of s)a.mergedAttrs=xo(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(gg(a,a.mergedAttrs,!0),null!==u&&Fa(d,u,a))}(d,s,a,y);const C=g.createRenderer(a,u),A=jy(h,Xt(u),null,u.onPush?32:16,h[s.index],s,g,C,E||null,null,null);return T.firstCreatePass&&Wy(T,s,d.length-1),hg(h,A),h[s.index]=A}(se,P,et,Et,fe,E,C);He=Fu(K,22),P&&function DD(s,a,u,d){if(d)zu(s,u,["ng-version",k1.full]);else{const{attrs:h,classes:g}=function mS(s){const a=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++d]):8===h&&u.push(g);else{if(!li(h))break;h=g}d++}return{attrs:a,classes:u}}(a.selectors[0]);h&&zu(s,u,h),g&&g.length>0&&jp(s,u,g.join(" "))}}(C,et,P,d),void 0!==u&&function WS(s,a,u){const d=s.projection=[];for(let h=0;h<a.length;h++){const g=u[h];d.push(null!=g?Array.from(g):null)}}(He,this.ngContentSelectors,u),ye=function zS(s,a,u,d,h,g){const y=Bn(),E=h[1],T=Cr(y,h);ug(E,h,y,u,null,d);for(let A=0;A<u.length;A++)dr(Vs(h,E,y.directiveStart+A,y),h);cg(E,h,y),T&&dr(T,h);const C=Vs(h,E,y.directiveStart+y.componentOffset,y);if(s[8]=h[8]=C,null!==g)for(const A of g)A(C,a);return ag(E,y,s),C}(Bt,et,Et,Ee,fe,[au]),og(K,fe,null)}finally{vp()}return new GS(this.componentType,ye,Go(He,fe),fe,He)}}class GS extends Qp{constructor(a,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Qy(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;Oh(g[1],g,h,a,u),hD(g,this._tNode.index)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function au(){const s=Bn();zd(de()[1],s)}function _g(s){let a=function tv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let h;if(Ir(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ne(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=nv(s.inputs),y.declaredInputs=nv(s.declaredInputs),y.outputs=nv(s.outputs);const E=h.hostBindings;E&&iv(s,E);const T=h.viewQuery,C=h.contentQueries;if(T&&lu(s,T),C&&rv(s,C),Le(s.inputs,h.inputs),Le(s.declaredInputs,h.declaredInputs),Le(s.outputs,h.outputs),Ir(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(s),E===_g&&(u=!1)}}a=Object.getPrototypeOf(a)}!function qS(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=xo(h.hostAttrs,u=xo(u,h.hostAttrs))}}(d)}function nv(s){return s===Ze?{}:s===ze?[]:s}function lu(s,a){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function rv(s,a){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{a(d,h,g),u(d,h,g)}:a}function iv(s,a){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}let bg=null;function uu(){if(!bg){const s=pt.Symbol;if(s&&s.iterator)bg=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(bg=d)}}}return bg}function wg(s){return!!Dg(s)&&(Array.isArray(s)||!(s instanceof Map)&&uu()in s)}function Dg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function yo(s,a,u){return s[a]=u}function ui(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function Ho(s,a,u,d){const h=ui(s,a,u);return ui(s,a+1,d)||h}function kh(s,a,u,d){const h=de();return ui(h,Oo(),a)&&(Kt(),function _o(s,a,u,d,h,g){const y=Cr(s,a);Ah(a[11],y,g,s.value,u,d,h)}(Tn(),h,s,a,u,d)),kh}function Rc(s,a,u,d){return ui(s,Oo(),u)?a+Ie(u)+d:Lt}function Ha(s,a,u,d,h,g){const E=Ho(s,wi(),u,h);return uo(2),E?a+Ie(u)+d+Ie(h)+g:Lt}function KS(s,a,u,d,h,g,y,E){const T=de(),C=Kt(),A=s+22,P=C.firstCreatePass?function KR(s,a,u,d,h,g,y,E,T){const C=a.consts,A=Ic(a,s,4,y||null,Bs(C,E));lg(a,u,A,Bs(C,T)),zd(a,A);const P=A.tViews=Hy(2,A,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,C);return null!==a.queries&&(a.queries.template(a,A),P.queries=a.queries.embeddedTView(A)),A}(A,C,T,a,u,d,h,g,y):C.data[A];ps(P,!1);const H=T[11].createComment("");Zl(C,T,H,P),dr(H,T),hg(T,T[A]=dg(H,T,H,P)),la(P)&&Nc(C,T,P),null!=y&&Gy(T,P,E)}function Sg(s){return No(function pp(){return At.lFrame.contextLView}(),22+s)}function Ag(s,a,u){const d=de();return ui(d,Oo(),a)&&es(Kt(),Tn(),d,s,a,d[11],u,!1),Ag}function dv(s,a,u,d,h){const y=h?"class":"style";Oh(s,u,a.inputs[y],y,d)}function Ng(s,a,u,d){const h=de(),g=Kt(),y=22+s,E=h[11],T=h[y]=oc(E,a,function Qw(){return At.lFrame.currentNamespace}()),C=g.firstCreatePass?function QS(s,a,u,d,h,g,y){const E=a.consts,C=Ic(a,s,2,h,Bs(E,g));return lg(a,u,C,Bs(E,y)),null!==C.attrs&&gg(C,C.attrs,!1),null!==C.mergedAttrs&&gg(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,g,h,0,a,u,d):g.data[y];return ps(C,!0),Fa(E,T,C),32!=(32&C.flags)&&Zl(g,h,T,C),0===function Ld(){return At.lFrame.elementDepthCount}()&&dr(T,h),function cp(){At.lFrame.elementDepthCount++}(),la(C)&&(Nc(g,h,C),ag(g,C,h)),null!==d&&Gy(h,C),Ng}function Og(){let s=Bn();Vu()?fp():(s=s.parent,ps(s,!1));const a=s;!function Bd(){At.lFrame.elementDepthCount--}();const u=Kt();return u.firstCreatePass&&(zd(u,s),fl(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Mo(s){return 0!=(8&s.flags)}(a)&&dv(u,a,de(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ma(s){return 0!=(16&s.flags)}(a)&&dv(u,a,de(),a.stylesWithoutHost,!1),Og}function Ph(s,a,u,d){return Ng(s,a,u,d),Og(),Ph}function Mg(s,a,u){const d=de(),h=Kt(),g=s+22,y=h.firstCreatePass?function MD(s,a,u,d,h){const g=a.consts,y=Bs(g,d),E=Ic(a,s,8,"ng-container",y);return null!==y&&gg(E,y,!0),lg(a,u,E,Bs(g,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(g,h,d,a,u):h.data[g];ps(y,!0);const E=d[g]=d[11].createComment("");return Zl(h,d,E,y),dr(E,d),la(y)&&(Nc(h,d,y),ag(h,y,d)),null!=u&&Gy(d,y),Mg}function Fh(){let s=Bn();const a=Kt();return Vu()?fp():(s=s.parent,ps(s,!1)),a.firstCreatePass&&(zd(a,s),fl(s)&&a.queries.elementEnd(s)),Fh}function Ii(){return de()}function hv(s){return!!s&&"function"==typeof s.then}function RD(s){return!!s&&"function"==typeof s.subscribe}const kD=RD;function xg(s,a,u,d){const h=de(),g=Kt(),y=Bn();return function XS(s,a,u,d,h,g,y){const E=la(d),C=s.firstCreatePass&&pg(s),A=a[8],P=fg(a);let H=!0;if(3&d.type||y){const ye=Cr(d,a),He=y?y(ye):ye,et=P.length,Et=y?se=>y(rr(se[d.index])):d.index;let Ee=null;if(!y&&E&&(Ee=function fv(s,a,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===u&&h[g+1]===d){const E=a[7],T=h[g+2];return E.length>T?E[T]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,d.index)),null!==Ee)(Ee.__ngLastListenerFn__||Ee).__ngNextListenerFn__=g,Ee.__ngLastListenerFn__=g,H=!1;else{g=Rg(d,a,A,g,!1);const se=u.listen(He,h,g);P.push(g,se),C&&C.push(h,Et,et,et+1)}}else g=Rg(d,a,A,g,!1);const K=d.outputs;let fe;if(H&&null!==K&&(fe=K[h])){const ye=fe.length;if(ye)for(let He=0;He<ye;He+=2){const Bt=a[fe[He]][fe[He+1]].subscribe(g),dn=P.length;P.push(g,Bt),C&&C.push(h,d.index,dn,-(dn+1))}}}(g,h,h[11],y,s,a,d),xg}function FD(s,a,u,d){try{return!1!==u(d)}catch(h){return Jy(s,h),!1}}function Rg(s,a,u,d,h){return function g(y){if(y===Function)return d;Yy(s.componentOffset>-1?zr(s.index,a):a);let T=FD(a,0,d,y),C=g.__ngNextListenerFn__;for(;C;)T=FD(a,0,C,y)&&T,C=C.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function LD(s=1){return function Hd(s){return(At.lFrame.contextLView=function Yw(s,a){for(;s>0;)a=a[15],s--;return a}(s,At.lFrame.contextLView))[8]}(s)}function eA(s,a){let u=null;const d=function z1(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?H1(s,g,!0):W1(d,g))return h}else u=h}return u}function kg(s){const a=de()[16][6];if(!a.projection){const d=a.projection=Ea(s?s.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const y=s?eA(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:d[y]=g,h[y]=g),g=g.next}}}function tA(s,a=0,u){const d=de(),h=Kt(),g=Ic(h,22+s,16,null,u||null);null===g.projection&&(g.projection=a),fp(),32!=(32&g.flags)&&function kC(s,a,u){yy(a[11],0,a,u,je(s,u,a),lc(u.parent||a[6],u,a))}(h,d,g)}function BD(s,a,u){return pv(s,"",a,"",u),BD}function pv(s,a,u,d,h){const g=de(),y=Rc(g,a,u,d);return y!==Lt&&es(Kt(),Tn(),g,s,y,g[11],h,!1),pv}function Pg(s,a){return s<<17|a<<2}function za(s){return s>>17&32767}function gv(s){return 2|s}function vo(s){return(131068&s)>>2}function zo(s,a){return-131069&s|a<<2}function mv(s){return 1|s}function uA(s,a,u,d,h){const g=s[u+1],y=null===a;let E=d?za(g):vo(g),T=!1;for(;0!==E&&(!1===T||y);){const A=s[E+1];_v(s[E],a)&&(T=!0,s[E+1]=d?mv(A):gv(A)),E=d?za(A):vo(A)}T&&(s[u+1]=d?gv(g):mv(g))}function _v(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&un(s,a)>=0}const Sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fg(s){return s.substring(Sr.key,Sr.keyEnd)}function yv(s,a){const u=Sr.textEnd;return u===a?-1:(a=Sr.keyEnd=function WD(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,Sr.key=a,u),Wa(s,a,u))}function Wa(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function wv(s,a,u){return ts(s,a,u,!1),wv}function Dv(s,a){return ts(s,a,null,!0),Dv}function Bg(s){Qs(ai,Js,s,!0)}function Js(s,a){for(let u=function HD(s){return function vv(s){Sr.key=0,Sr.keyEnd=0,Sr.value=0,Sr.valueEnd=0,Sr.textEnd=s.length}(s),yv(s,Wa(s,0,Sr.textEnd))}(a);u>=0;u=yv(a,u))ai(s,Fg(a),!0)}function ts(s,a,u,d){const h=de(),g=Kt(),y=uo(2);g.firstUpdatePass&&Vg(g,s,y,d),a!==Lt&&ui(h,y,a)&&_A(g,g.data[qr()],h,h[11],s,h[y+1]=function yA(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Te(qs(s)))),s}(a,u),d,y)}function Qs(s,a,u,d){const h=Kt(),g=uo(2);h.firstUpdatePass&&Vg(h,null,g,d);const y=de();if(u!==Lt&&ui(y,g,u)){const E=h.data[qr()];if(Ug(E,d)&&!YD(h,g)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=Re(T,u||"")),dv(h,E,y,u,d)}else!function mA(s,a,u,d,h,g,y,E){h===Lt&&(h=ze);let T=0,C=0,A=0<h.length?h[0]:null,P=0<g.length?g[0]:null;for(;null!==A||null!==P;){const H=T<h.length?h[T+1]:void 0,K=C<g.length?g[C+1]:void 0;let ye,fe=null;A===P?(T+=2,C+=2,H!==K&&(fe=P,ye=K)):null===P||null!==A&&A<P?(T+=2,fe=A):(C+=2,fe=P,ye=K),null!==fe&&_A(s,a,u,d,fe,ye,y,E),A=T<h.length?h[T]:null,P=C<g.length?g[C]:null}}(h,E,y,y[11],y[g+1],y[g+1]=function gA(s,a,u){if(null==u||""===u)return ze;const d=[],h=qs(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(s,a,u),d,g)}}function YD(s,a){return a>=s.expandoStartIndex}function Vg(s,a,u,d){const h=s.data;if(null===h[u+1]){const g=h[qr()],y=YD(s,u);Ug(g,d)&&null===a&&!y&&(a=!1),a=function KD(s,a,u,d){const h=function $u(s){const a=At.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=Vc(u=Ev(null,s,a,u,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(u=Ev(h,s,a,u,d),null===g){let T=function fA(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==vo(d))return s[za(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=Ev(null,s,a,T[1],d),T=Vc(T,a.attrs,d),function pA(s,a,u,d){s[za(u?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else g=function JD(s,a,u){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=Vc(d,s[g].hostAttrs,u);return Vc(d,a.attrs,u)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,d),function aA(s,a,u,d,h,g){let y=g?a.classBindings:a.styleBindings,E=za(y),T=vo(y);s[d]=u;let A,C=!1;if(Array.isArray(u)?(A=u[1],(null===A||un(u,A)>0)&&(C=!0)):A=u,h)if(0!==T){const H=za(s[E+1]);s[d+1]=Pg(H,E),0!==H&&(s[H+1]=zo(s[H+1],d)),s[E+1]=function sA(s,a){return 131071&s|a<<17}(s[E+1],d)}else s[d+1]=Pg(E,0),0!==E&&(s[E+1]=zo(s[E+1],d)),E=d;else s[d+1]=Pg(T,0),0===E?E=d:s[T+1]=zo(s[T+1],d),T=d;C&&(s[d+1]=gv(s[d+1])),uA(s,A,d,!0),uA(s,A,d,!1),function lA(s,a,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&un(g,a)>=0&&(u[d+1]=mv(u[d+1]))}(a,A,s,d,g),y=Pg(E,T),g?a.classBindings=y:a.styleBindings=y}(h,g,a,u,y,d)}}function Ev(s,a,u,d,h){let g=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(g=a[E],d=Vc(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(u.directiveStylingLast=E),d}function Vc(s,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ai(s,y,!!u||a[++g]))}return void 0===s?null:s}function _A(s,a,u,d,h,g,y,E){if(!(3&a.type))return;const T=s.data,C=T[E+1],A=function oA(s){return 1==(1&s)}(C)?fu(T,a,u,h,vo(C),y):void 0;Ts(A)||(Ts(g)||function iA(s){return 2==(2&s)}(C)&&(g=fu(T,null,u,h,E,y)),function yh(s,a,u,d,h){if(a)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:$i.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=$i.Important),s.setStyle(u,d,h,g))}}(d,y,yl(qr(),u),h,g))}function fu(s,a,u,d,h,g){const y=null===a;let E;for(;h>0;){const T=s[h],C=Array.isArray(T),A=C?T[1]:T,P=null===A;let H=u[h+1];H===Lt&&(H=P?ze:void 0);let K=P?nc(H,d):A===d?H:void 0;if(C&&!Ts(K)&&(K=nc(T,d)),Ts(K)&&(E=K,y))return E;const fe=s[h+1];h=y?za(fe):vo(fe)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(E=nc(T,d))}return E}function Ts(s){return void 0!==s}function Ug(s,a){return 0!=(s.flags&(a?8:16))}function XD(s,a=""){const u=de(),d=Kt(),h=s+22,g=d.firstCreatePass?Ic(d,h,1,a,null):d.data[h],y=u[h]=Hl(u[11],a);Zl(d,u,y,g),ps(g,!1)}function $g(s){return jg("",s,""),$g}function jg(s,a,u){const d=de(),h=Rc(d,s,a,u);return h!==Lt&&Ks(d,qr(),h),jg}function Bh(s,a,u,d,h){const g=de(),y=Ha(g,s,a,u,d,h);return y!==Lt&&Ks(g,qr(),y),Bh}function zg(s,a,u,d,h){Qs(ai,Js,Ha(de(),s,a,u,d,h),!0)}function Lv(s,a,u){const d=de();return ui(d,Oo(),a)&&es(Kt(),Tn(),d,s,a,d[11],u,!0),Lv}const pu=void 0;var EA=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lE(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Uc={};function Bv(s){const a=function Vv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Jg(a);if(u)return u;const d=a.split("-")[0];if(u=Jg(d),u)return u;if("en"===d)return EA;throw new ne(701,!1)}function uE(s){return Bv(s)[Dt.PluralCase]}function Jg(s){return s in Uc||(Uc[s]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[s]),Uc[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const IA=["zero","one","two","few","many"],$c="en-US",Vh={marker:"element"},jc={marker:"ICU"};var Kn=(()=>((Kn=Kn||{})[Kn.SHIFT=2]="SHIFT",Kn[Kn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Kn[Kn.COMMENT=2]="COMMENT",Kn))();let dE=$c;function hE(s){(function at(s,a){null==s&&Fe(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(dE=s.toLowerCase().replace(/_/g,"-"))}function Gv(s,a,u){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?ql(s,0,u):rr(u[h])}function Hv(s,a,u,d,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let y=d,E=null;if(3&a.type||(E=y,y=h),null!==y&&-1===a.componentOffset)for(let T=1;T<g.length;T++)Ft(s,y,u[g[T]],E,!1)}}function fE(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];pE(d)||CA(d,a)&&null===gE(d)&&zv(d,a.index)}}function pE(s){return!(64&s.type)}function CA(s,a){return pE(a)||s.index>a.index}function gE(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function zv(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(cc(Gv,Hv),s.insertBeforeIndex=a)}function Uh(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function tk(s,a,u){const d=Cc(s,u,64,null,null);return fE(a,d),d}function qv(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Qg(s){return s>>>17}function AA(s){return(131070&s)>>>1}let $h=0,jh=0;function Ar(s,a,u,d){const h=u[11];let y,g=null;for(let E=0;E<a.length;E++){const T=a[E];if("string"==typeof T){const C=a[++E];null===u[C]&&(u[C]=Hl(h,T))}else if("number"==typeof T)switch(1&T){case 0:const C=Qg(T);let A,P;if(null===g&&(g=C,y=vs(h,d)),C===g?(A=d,P=y):(A=null,P=rr(u[C])),null!==P){const ye=AA(T);Ft(h,P,u[ye],A,!1);const et=Uh(s,ye);if(null!==et&&"object"==typeof et){const Et=qv(et,u);null!==Et&&Ar(s,et.create[Et],u,u[et.anchorIdx])}}break;case 1:const K=a[++E],fe=a[++E];Ah(h,yl(T>>>1,u),null,null,K,fe,null)}else switch(T){case jc:const C=a[++E],A=a[++E];null===u[A]&&dr(u[A]=Up(h,C),u);break;case Vh:const P=a[++E],H=a[++E];null===u[H]&&dr(u[H]=oc(h,P,null),u)}}}function mE(s,a,u,d,h){for(let g=0;g<u.length;g++){const y=u[g],E=u[++g];if(y&h){let T="";for(let C=g+1;C<=g+E;C++){const A=u[C];if("string"==typeof A)T+=A;else if("number"==typeof A)if(A<0)T+=Ie(a[d-A]);else{const P=A>>>2;switch(3&A){case 1:const H=u[++C],K=u[++C],fe=s.data[P];"string"==typeof fe?Ah(a[11],a[P],null,fe,H,T,K):es(s,fe,a,H,T,a[11],K,!1);break;case 0:const ye=a[P];null!==ye&&zl(a[11],ye,T);break;case 2:xA(s,Uh(s,P),a,T);break;case 3:ci(s,Uh(s,P),d,a)}}}}else{const T=u[g+1];if(T>0&&3==(3&T)){const A=Uh(s,T>>>2);a[A.currentCaseLViewIndex]<0&&ci(s,A,d,a)}}g+=E}}function ci(s,a,u,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let g=$h;h<0&&(h=d[a.currentCaseLViewIndex]=~h,g=-1),mE(s,d,a.update[h],u,g)}}function xA(s,a,u,d){const h=function RA(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const d=function Uv(s,a){const u=uE(a)(parseInt(s,10)),d=IA[u];return void 0!==d?d:"other"}(a,function jv(){return dE}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,d);if(qv(a,u)!==h&&(Yv(s,a,u),u[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[a.anchorIdx];y&&Ar(s,a.create[h],u,y)}}function Yv(s,a,u){let d=qv(a,u);if(null!==d){const h=a.remove[d];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const E=yl(y,u);null!==E&&Pa(u[11],E)}else Yv(s,Uh(s,~y),u)}}}function kA(){const s=[];let u,d,a=-1;function g(E,T){a=0;const C=qv(E,T);d=null!==C?E.remove[C]:ze}function y(){if(a<d.length){const E=d[a++];return E>0?u[E]:(s.push(a,d),g(u[1].data[~E],u),y())}return 0===s.length?null:(d=s.pop(),a=s.pop(),y())}return function h(E,T){for(u=T;s.length;)s.pop();return g(E.value,T),y}}const tm=/\ufffd(\d+):?\d*\ufffd/gi,FA=/\ufffd(\d+)\ufffd/,yE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,LA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,vE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BA=/\uE500/g;function nm(s,a,u,d,h,g,y){const E=Sh(s,d,1,null);let T=E<<Kn.SHIFT,C=fa();a===C&&(C=null),null===C&&(T|=Kn.APPEND_EAGERLY),y&&(T|=Kn.COMMENT,function $l(s){void 0===Hs&&(Hs=s())}(kA)),h.push(T,null===g?"":g);const A=Cc(s,E,y?32:1,null===g?"":g,null);fE(u,A);const P=A.index;return ps(A,!1),null!==C&&a!==C&&function SA(s,a){let u=s.insertBeforeIndex;null===u?(cc(Gv,Hv),u=s.insertBeforeIndex=[null,a]):(function qe(s,a,u){s!=a&&Fe(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(C,P),A}function wE(s,a,u,d,h,g,y){const E=y.match(tm),T=nm(s,a,u,g,d,E?null:y,!1);E&&Hh(h,y,T.index,null,0,null)}function Hh(s,a,u,d,h,g){const y=s.length,E=y+1;s.push(null,null);const T=y+2,C=a.split(tm);let A=0;for(let P=0;P<C.length;P++){const H=C[P];if(1&P){const K=h+parseInt(H,10);s.push(-1-K),A|=DE(K)}else""!==H&&s.push(H)}return s.push(u<<2|(d?1:0)),d&&s.push(d,g),s[y]=A,s[E]=s.length-T,A}function DE(s){return 1<<Math.min(s,31)}function EE(s){let a,g,u="",d=0,h=!1;for(;null!==(a=LA.exec(s));)h?a[0]===`\ufffd/*${g}\ufffd`&&(d=a.index,h=!1):(u+=s.substring(d,a.index+a[0].length),g=a[1],h=!0);return u+=s.slice(d),u}function TE(s,a,u,d,h,g){let y=0;const E={type:h.type,currentCaseLViewIndex:Sh(s,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function n0(s,a,u){s.push(DE(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,h,g),function Wv(s,a,u){const d=s.data[a];null===d?s.data[a]=u:d.value=u}(s,g,E);const T=h.values;for(let C=0;C<T.length;C++){const A=T[C],P=[];for(let H=0;H<A.length;H++){const K=A[H];if("string"!=typeof K){const fe=P.push(K)-1;A[H]=`\x3c!--\ufffd${fe}\ufffd--\x3e`}}y=t0(s,E,a,u,d,h.cases[C],A.join(""),P)|y}y&&function GA(s,a,u){s.push(a,1,u<<2|3)}(u,y,g)}function Xv(s){const a=[],u=[];let d=1,h=0;const g=e0(s=s.replace(yE,function(y,E,T){return d="select"===T?0:1,h=parseInt(E.slice(1),10),""}));for(let y=0;y<g.length;){let E=g[y++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&a.push(E);const T=e0(g[y++]);a.length>u.length&&u.push(T)}return{type:d,mainBinding:h,cases:a,values:u}}function e0(s){if(!s)return[];let a=0;const u=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const E=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const T=s.substring(a,E);yE.test(T)?d.push(Xv(T)):d.push(T),a=E+1}}else{if(0==u.length){const T=s.substring(a,E);d.push(T),a=E+1}u.push("{")}}const y=s.substring(a);return d.push(y),d}function t0(s,a,u,d,h,g,y,E){const T=[],C=[],A=[];a.cases.push(g),a.create.push(T),a.remove.push(C),a.update.push(A);const H=Dy(u1()).getInertBodyElement(y),K=v1(H)||H;return K?IE(s,a,u,d,T,C,A,K,h,E,0):0}function IE(s,a,u,d,h,g,y,E,T,C,A){let P=0,H=E.firstChild;for(;H;){const K=Sh(s,u,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const fe=H,ye=fe.tagName.toLowerCase();if(Wp.hasOwnProperty(ye)){zh(h,Vh,ye,T,K),s.data[K]=ye;const Ee=fe.attributes;for(let se=0;se<Ee.length;se++){const Bt=Ee.item(se),dn=Bt.name.toLowerCase();Bt.value.match(tm)?pc.hasOwnProperty(dn)&&Hh(y,Bt.value,K,Bt.name,0,qp[dn]?vh:null):r0(h,K,Bt)}P=IE(s,a,u,d,h,g,y,H,K,C,A+1)|P,rm(g,K,A)}break;case Node.TEXT_NODE:const He=H.textContent||"",et=He.match(tm);zh(h,null,et?"":He,T,K),rm(g,K,A),et&&(P=Hh(y,He,K,null,0,null)|P);break;case Node.COMMENT_NODE:const Et=FA.exec(H.textContent||"");if(Et){const se=C[parseInt(Et[1],10)];zh(h,jc,"",T,K),TE(s,u,d,T,se,K),jA(g,K,A)}}H=H.nextSibling}return P}function rm(s,a,u){0===u&&s.push(a)}function jA(s,a,u){0===u&&(s.push(~a),s.push(a))}function zh(s,a,u,d,h){null!==a&&s.push(a),s.push(u,h,function Xg(s,a,u){return s|a<<17|u<<1}(0,d,h))}function r0(s,a,u){s.push(a<<1|1,u.name,u.value)}function l0(s,a,u=-1){const d=Kt(),h=de(),g=22+s,y=Bs(d.consts,a),E=fa();d.firstCreatePass&&function UA(s,a,u,d,h,g){const y=fa(),E=[],T=[],C=[[]];h=function Qv(s,a){if(function Jv(s){return-1===s}(a))return EE(s);{const u=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return EE(s.substring(u,d))}}(h,g);const A=function VA(s){return s.replace(BA," ")}(h).split(vE);for(let P=0;P<A.length;P++){let H=A[P];if(1&P){const K=47===H.charCodeAt(0),ye=(H.charCodeAt(K?1:0),22+Number.parseInt(H.substring(K?2:1)));if(K)C.shift(),ps(fa(),!1);else{const He=tk(s,C[0],ye);C.unshift([]),ps(He,!0)}}else{const K=e0(H);for(let fe=0;fe<K.length;fe++){let ye=K[fe];if(1&fe){const He=ye;if("object"!=typeof He)throw new Error(`Unable to parse ICU expression in "${h}" message.`);TE(s,u,T,a,He,nm(s,y,C[0],u,E,"",!0).index)}else""!==ye&&wE(s,y,C[0],E,T,u,ye)}}}s.data[d]={create:E,update:T}}(d,null===E?0:E.index,h,g,y,u);const T=d.data[g],A=lt(d,E===h[6]?null:E,h);(function Zv(s,a,u,d){const h=s[11];for(let g=0;g<a.length;g++){const y=a[g++],E=a[g],C=(y&Kn.APPEND_EAGERLY)===Kn.APPEND_EAGERLY,A=y>>>Kn.SHIFT;let P=s[A];null===P&&(P=s[A]=(y&Kn.COMMENT)===Kn.COMMENT?h.createComment(E):Hl(h,E)),C&&null!==u&&Ft(h,u,P,d,!1)}})(h,T.create,A,E&&8&E.type?h[E.index]:null),bl(!0)}function u0(s,a,u){l0(s,a,u),function Wh(){bl(!1)}()}function Is(s){return function OA(s){s&&($h|=1<<Math.min(jh,31)),jh++}(ui(de(),Oo(),s)),Is}function im(s){!function MA(s,a,u){if(jh>0){const d=s.data[u];mE(s,a,Array.isArray(d)?d:d.update,wi()-jh-1,$h)}$h=0,jh=0}(Kt(),de(),s+22)}function c0(s,a,u,d,h){if(s=q(s),Array.isArray(s))for(let g=0;g<s.length;g++)c0(s[g],a,u,d,h);else{const g=Kt(),y=de();let E=nu(s)?s:q(s.provide),T=C1(s);const C=Bn(),A=1048575&C.providerIndexes,P=C.directiveStart,H=C.providerIndexes>>20;if(nu(s)||!s.multi){const K=new Hu(T,h,Tc),fe=d0(E,a,h?A:A+H,P);-1===fe?(Zu(Al(C,y),g,E),NE(g,s,a.length),a.push(E),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),u.push(K),y.push(K)):(u[fe]=K,y[fe]=K)}else{const K=d0(E,a,A+H,P),fe=d0(E,a,A,A+H),He=fe>=0&&u[fe];if(h&&!He||!h&&!(K>=0&&u[K])){Zu(Al(C,y),g,E);const et=function f0(s,a,u,d,h){const g=new Hu(s,u,Tc);return g.multi=[],g.index=a,g.componentProviders=0,OE(g,h,d&&!u),g}(h?ok:h0,u.length,h,d,T);!h&&He&&(u[fe].providerFactory=et),NE(g,s,a.length,0),a.push(E),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),u.push(et),y.push(et)}else NE(g,s,K>-1?K:fe,OE(u[h?fe:K],T,!h&&d));!h&&d&&He&&u[fe].componentProviders++}}}function NE(s,a,u,d){const h=nu(a),g=function My(s){return!!s.useClass}(a);if(h||g){const T=(g?q(a.useClass):a).prototype.ngOnDestroy;if(T){const C=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const A=C.indexOf(u);-1===A?C.push(u,[d,T]):C[A+1].push(d,T)}else C.push(u,T)}}}function OE(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function d0(s,a,u,d){for(let h=u;h<d;h++)if(a[h]===s)return h;return-1}function h0(s,a,u,d){return ME(this.multi,[])}function ok(s,a,u,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Vs(u,u[1],this.providerFactory.index,d);g=E.slice(0,y),ME(h,g);for(let T=y;T<E.length;T++)g.push(E[T])}else g=[],ME(h,g);return g}function ME(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function ZA(s,a=[]){return u=>{u.providersResolver=(d,h)=>function qA(s,a,u){const d=Kt();if(d.firstCreatePass){const h=Ir(s);c0(u,d.data,d.blueprint,h,!0),c0(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class qh{}class YA{}function ak(s,a){return new KA(s,a??null)}class KA extends qh{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xy(this);const d=Gr(a);this._bootstrapComponents=$a(d.bootstrap),this._r3Injector=Q1(a,u,[{provide:qh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],Te(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sm extends YA{constructor(a){super(),this.moduleType=a}create(a){return new KA(this.moduleType,a)}}class xE extends qh{constructor(a,u,d){super(),this.componentFactoryResolver=new Xy(this),this.instance=null;const h=new I1([...a,{provide:qh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],u||Jp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function p0(s,a,u=null){return new xE(s,a,u).injector}let JA=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=mc(0,u.type),h=d.length>0?p0([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(Yt(ru))}),s})();function RE(s){s.getStandaloneInjector=a=>a.get(JA).getOrCreateStandaloneInjector(s)}function mu(s,a,u){const d=Wr()+s,h=de();return h[d]===Lt?yo(h,d,u?a.call(u):a()):function cu(s,a){return s[a]}(h,d)}function D0(s,a,u,d){return FE(de(),Wr(),s,a,u,d)}function PE(s,a,u,d,h){return E0(de(),Wr(),s,a,u,d,h)}function Yh(s,a,u,d,h,g){return lm(de(),Wr(),s,a,u,d,h,g)}function Kh(s,a){const u=s[a];return u===Lt?void 0:u}function FE(s,a,u,d,h,g){const y=a+u;return ui(s,y,h)?yo(s,y+1,g?d.call(g,h):d(h)):Kh(s,y+1)}function E0(s,a,u,d,h,g,y){const E=a+u;return Ho(s,E,h,g)?yo(s,E+2,y?d.call(y,h,g):d(h,g)):Kh(s,E+2)}function lm(s,a,u,d,h,g,y,E){const T=a+u;return function xc(s,a,u,d,h){const g=Ho(s,a,u,d);return ui(s,a+2,h)||g}(s,T,h,g,y)?yo(s,T+3,E?d.call(E,h,g,y):d(h,g,y)):Kh(s,T+3)}function Cs(s,a){const u=Kt();let d;const h=s+22;u.firstCreatePass?(d=function fk(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=fs(d.type)),y=Dn(Tc);try{const E=qu(!1),T=g();return qu(E),function JS(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,de(),h,T),T}finally{Dn(y)}}function BE(s,a,u){const d=s+22,h=de(),g=No(h,d);return Za(h,d)?FE(h,Wr(),a,g.transform,u,g):g.transform(u)}function Ss(s,a,u,d){const h=s+22,g=de(),y=No(g,h);return Za(g,h)?E0(g,Wr(),a,y.transform,u,d,y):y.transform(u,d)}function Ke(s,a,u,d,h){const g=s+22,y=de(),E=No(y,g);return Za(y,g)?lm(y,Wr(),a,E.transform,u,d,h,E):E.transform(u,d,h)}function Za(s,a){return s[1].data[a].pure}function I0(s){return a=>{setTimeout(s,void 0,a)}}const As=class Jh extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,g=u||(()=>null),y=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),g=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(g=I0(g),h&&(h=I0(h)),y&&(y=I0(y)));const E=super.subscribe({next:h,error:g,complete:y});return a instanceof V.w0&&a.add(E),E}};function eN(){return this._results[uu()]()}class C0{get changes(){return this._changes||(this._changes=new As)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=uu(),d=C0.prototype;d[u]||(d[u]=eN)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=function oi(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function i1(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=a[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vr,s})();const di=Qh,um=class extends di{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tViews,h=jy(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),og(d,h,a),new Mh(h)}};function Vr(){return Xs(Bn(),de())}function Xs(s,a){return 4&s.type?new um(a,s,Go(s,a)):null}let cm=(()=>{class s{}return s.__NG_ELEMENT_ID__=VE,s})();function VE(){return zc(Bn(),de())}const S0=cm,A0=class extends S0{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const a=kn(this._hostTNode,this._hostLView);if(Tl(a)){const u=Cl(a,this._hostLView),d=Il(a);return new ko(u[1].data[d+8],u)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Kr(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=a.createEmbeddedView(u||{},g);return this.insert(y,h),y}createComponent(a,u,d,h,g){const y=a&&!function tc(s){return"function"==typeof s}(a);let E;if(y)E=u;else{const P=u||{};E=P.index,d=P.injector,h=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const T=y?a:new xh(jt(a)),C=d||this.parentInjector;if(!g&&null==T.ngModule){const H=(y?C:this.parentInjector).get(ru,null);H&&(g=H)}const A=T.create(C,h,void 0,g);return this.insert(A.hostView,E),A}insert(a,u){const d=a._lView,h=d[1];if(function up(s){return Yi(s[3])}(d)){const A=this.indexOf(a);if(-1!==A)this.detach(A);else{const P=d[3],H=new A0(P,P[6],P[3]);H.detach(H.indexOf(a))}}const g=this._adjustIndex(u),y=this._lContainer;!function p(s,a,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=a),d<g-10?(a[4]=u[h],nh(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const y=a[17];null!==y&&u!==y&&function _(s,a){const u=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(y,a);const E=a[19];null!==E&&E.insertView(s),a[2]|=64}(h,d,y,g);const E=Kl(g,y),T=d[11],C=vs(T,y[7]);return null!==C&&function my(s,a,u,d,h,g){d[0]=h,d[6]=a,Jl(s,d,u,1,h,g)}(h,y[6],T,d,C,E),a.attachToViewContainerRef(),nh(N0(y),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Kr(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=S(this._lContainer,u);d&&(rh(N0(this._lContainer),u),M(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=S(this._lContainer,u);return d&&null!=rh(N0(this._lContainer),u)?new Mh(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function Kr(s){return s[8]}function N0(s){return s[8]||(s[8]=[])}function zc(s,a){let u;const d=a[s.index];if(Yi(d))u=d;else{let h;if(8&s.type)h=rr(d);else{const g=a[11];h=g.createComment("");const y=Cr(s,a);Ft(g,vs(g,y),h,function Uo(s,a){return s.nextSibling(a)}(g,y),!1)}a[s.index]=u=dg(d,a,h,s),hg(a,u)}return new A0(u,s,a)}class Wc{constructor(a){this.queryList=a,this.matches=null}clone(){return new Wc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ns{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const y=u.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ns(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==HE(a,u).matches&&this.queries[u].setDirty()}}class dm{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class O0{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new O0(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class M0{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new M0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,u,qc(u,g)),this.matchTNodeWithReadOption(a,u,Nl(u,a,g,!1,!1))}else d===Qh?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Nl(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ua||h===cm||h===Qh&&4&u.type)this.addMatch(u.index,-2);else{const g=Nl(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function qc(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function x0(s,a,u,d){return-1===u?function UE(s,a){return 11&s.type?Go(s,a):4&s.type?Xs(s,a):null}(a,s):-2===u?function $E(s,a,u){return u===Ua?Go(a,s):u===Qh?Xs(a,s):u===cm?zc(a,s):void 0}(s,a,d):Vs(s,s[1],u,a)}function jE(s,a,u,d){const h=a[19].queries[d];if(null===h.matches){const g=s.data,y=u.matches,E=[];for(let T=0;T<y.length;T+=2){const C=y[T];E.push(C<0?null:x0(a,g[C],y[T+1],u.metadata.read))}h.matches=E}return h.matches}function hm(s,a,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const y=jE(s,a,h,u);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(y[E/2]);else{const C=g[E+1],A=a[-T];for(let P=10;P<A.length;P++){const H=A[P];H[17]===H[3]&&hm(H[1],H,C,d)}if(null!==A[9]){const P=A[9];for(let H=0;H<P.length;H++){const K=P[H];hm(K[1],K,C,d)}}}}}return d}function fm(s){const a=de(),u=Kt(),d=$d();_p(d+1);const h=HE(u,d);if(s.dirty&&function Lu(s){return 4==(4&s[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?hm(u,a,d,[]):jE(u,a,h,d);s.reset(g,M1),s.notifyOnChanges()}return!0}return!1}function pm(s,a,u){const d=Kt();d.firstCreatePass&&(GE(d,new dm(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),k0(d,de(),a)}function gm(s,a,u,d){const h=Kt();if(h.firstCreatePass){const g=Bn();GE(h,new dm(a,u,d),g.index),function Xh(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}k0(h,de(),u)}function mm(){return function R0(s,a){return s[19].queries[a].queryList}(de(),$d())}function k0(s,a,u){const d=new C0(4==(4&u));ft(s,a,d,d.destroy),null===a[19]&&(a[19]=new Ns),a[19].queries.push(new Wc(d))}function GE(s,a,u){null===s.queries&&(s.queries=new O0),s.queries.track(new M0(a,u))}function HE(s,a){return s.queries.getByIndex(a)}function Zc(s,a){return Xs(s,a)}function rf(...s){}const K0=new mn("Application Initializer");let Ka=(()=>{class s{constructor(u){this.appInits=u,this.resolve=rf,this.reject=rf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(hv(g))u.push(g);else if(kD(g)){const y=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Yt(K0,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const sf=new mn("AppId",{providedIn:"root",factory:function J0(){return`${Am()}${Am()}${Am()}`}});function Am(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Q0=new mn("Platform Initializer"),af=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nm=new mn("appBootstrapListener");let Om=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const uf=new mn("LocaleId",{providedIn:"root",factory:()=>vi(uf,st.Optional|st.SkipSelf)||function lf(){return typeof $localize<"u"&&$localize.locale||$c}()}),cN=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class iT{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let sT=(()=>{class s{compileModuleSync(u){return new sm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=$a(Gr(u).declarations).reduce((y,E)=>{const T=jt(E);return T&&y.push(new xh(T)),y},[]);return new iT(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const tb=(()=>Promise.resolve(0))();function nb(s){typeof Zone>"u"?tb.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class rs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dN(){let s=pt.requestAnimationFrame,a=pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function xm(s){const a=()=>{!function Zo(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ed(s),s.isCheckStableRunning=!0,qo(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ed(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,y,E)=>{try{return rb(s),u.invokeTask(h,g,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),In(s)}},onInvoke:(u,d,h,g,y,E,T)=>{try{return rb(s),u.invoke(h,g,y,E,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),In(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,ed(s),qo(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new ne(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,fN,rf,rf);try{return g.runTask(y,u,d)}finally{g.cancelTask(y)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const fN={};function qo(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ed(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function In(s){s._nesting--,qo(s)}class Rm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const td=new mn(""),nd=new mn("");let sb,pN=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sb||(function gN(s){sb=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),nb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Yt(rs),Yt(ib),Yt(nd))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})(),ib=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return sb?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ja=null;const aT=new mn("AllowMultipleToken"),vu=new mn("PlatformDestroyListeners");class rd{constructor(a,u){this.name=a,this.token=u}}function ab(s,a,u=[]){const d=`Platform: ${a}`,h=new mn(d);return(g=[])=>{let y=Pm();if(!y||y.injector.get(aT,!1)){const E=[...u,...g,{provide:h,useValue:!0}];s?s(E):function _N(s){if(Ja&&!Ja.get(aT,!1))throw new ne(400,!1);Ja=s;const a=s.get(lb);(function ob(s){const a=s.get(Q0,null);a&&a.forEach(u=>u())})(s)}(function km(s=[],a){return ou.create({name:a,providers:[{provide:yc,useValue:"platform"},{provide:vu,useValue:new Set([()=>Ja=null])},...s]})}(E,d))}return function cT(s){const a=Pm();if(!a)throw new ne(401,!1);return a}()}}function Pm(){return Ja?.get(lb)??null}let lb=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function fT(s,a){let u;return u="noop"===s?new Rm:("zone.js"===s?void 0:s)||new rs(a),u}(d?.ngZone,function hT(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:rs,useValue:h}];return h.run(()=>{const y=ou.create({providers:g,parent:this.injector,name:u.moduleType.name}),E=u.create(y),T=E.injector.get(Eh,null);if(!T)throw new ne(402,!1);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:A=>{T.handleError(A)}});E.onDestroy(()=>{Qa(this._modules,E),C.unsubscribe()})}),function pT(s,a,u){try{const d=u();return hv(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const C=E.injector.get(Ka);return C.runInitializers(),C.donePromise.then(()=>(hE(E.injector.get(uf,$c)||$c),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,d=[]){const h=gT({},d);return function lT(s,a,u){const d=new sm(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(bu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ne(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(vu,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Yt(ou))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function gT(s,a){return Array.isArray(a)?a.reduce(gT,s):{...s,...a}}let bu=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new F.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),nb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),C.unsubscribe()}});this.isStable=(0,oe.T)(g,y.pipe((0,ve.B)()))}bootstrap(u,d){const h=u instanceof A1;if(!this._injector.get(Ka).done)throw!h&&cl(u),new ne(405,false);let y;y=h?u:this._injector.get(vc).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const E=function uT(s){return s.isBoundToModule}(y)?void 0:this._injector.get(qh),C=y.create(ou.NULL,[],d||y.selector,E),A=C.location.nativeElement,P=C.injector.get(td,null);return P?.registerApplication(A),C.onDestroy(()=>{this.detachView(C.hostView),Qa(this.components,C),P?.unregisterApplication(A)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Qa(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Nm,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Qa(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ne(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Yt(rs),Yt(ru),Yt(Eh))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Qa(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function mT(){return!1}let _T=(()=>{class s{}return s.__NG_ELEMENT_ID__=vN,s})();function vN(s){return function bN(s,a,u){if(pl(s)&&!u){const d=zr(s.index,a);return new Mh(d,d)}return 47&s.type?new Mh(a[16],a):null}(Bn(),de(),16==(16&s))}class Gm{constructor(){}supports(a){return wg(a)}create(a){return new bT(a)}}const hb=(s,a)=>a;class bT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||hb}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const y=!d||u&&u.currentIndex<Xa(d,h,g)?u:d,E=Xa(y,h,g),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{g||(g=[]);const C=E-h,A=T-h;if(C!=A){for(let H=0;H<C;H++){const K=H<g.length?g[H]:g[H]=0,fe=K+H;A<=fe&&fe<C&&(g[H]=K+1)}g[y.previousIndex]=A-C}}E!==T&&a(y,E,T)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!wg(a))throw new ne(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)g=a[E],y=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,g,y,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,E),d=!0),u=u._next}else h=0,function CD(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[uu()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,E,y,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new Hm(u,d),g,h),a}_verifyReinsertion(a,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new fb),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Hm{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class fb{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new wT,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xa(s,a,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class pb{constructor(){}supports(a){return a instanceof Map||Dg(a)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Dg(a)))throw new ne(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new ET(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class ET{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gb(){return new od([new Gm])}let od=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||gb()),deps:[[s,new Ei,new fo]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ne(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:gb}),s})();function mb(){return new zm([new pb])}let zm=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||mb()),deps:[[s,new Ei,new fo]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ne(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:mb}),s})();const _n=ab(null,"core",[]);let NN=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Yt(bu))},s.\u0275mod=It({type:s}),s.\u0275inj=Fn({}),s})();function _b(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Wm(s,a){const u=jt(s),d=a.elementInjector||Jp();return new xh(u).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(vt,Ce,L)=>{L.d(Ce,{Z:()=>nt});var l=L(2090),V=L(4859),F=L(6881),oe=L(1877);class ve{constructor(ne,Ne){this._delegate=ne,this.firebase=Ne,(0,F._addComponent)(ne,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ne,Ne=F._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ne);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ie=$e.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Ne})}_removeServiceInstance(ne,Ne=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance(Ne)}_addComponent(ne){(0,F._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,F._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function Re(){const rt=function Te(rt){const ne={},Ne={__esModule:!0,initializeApp:function we(ke,X={}){const it=F.initializeApp(ke,X);if((0,l.r3)(ne,it.name))return ne[it.name];const bt=new rt(it,Ne);return ne[it.name]=bt,bt},app:$e,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function De(ke){const X=ke.name,it=X.replace("-compat","");if(F._registerComponent(ke)&&"PUBLIC"===ke.type){const bt=(qe=$e())=>{if("function"!=typeof qe[it])throw Le.create("invalid-app-argument",{appName:X});return qe[it]()};void 0!==ke.serviceProps&&(0,l.ZB)(bt,ke.serviceProps),Ne[it]=bt,rt.prototype[it]=function(...qe){return this._getService.bind(this,X).apply(this,ke.multipleInstances?qe:[])}}return"PUBLIC"===ke.type?Ne[it]:null},removeApp:function Ie(ke){delete ne[ke]},useAsService:function Be(ke,X){return"serverAuth"===X?null:X},modularAPIs:F}};function $e(ke){if(!(0,l.r3)(ne,ke=ke||F._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:ke});return ne[ke]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function pe(){return Object.keys(ne).map(ke=>ne[ke])}}),$e.App=rt,Ne}(ve);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function ne(Ne){(0,l.ZB)(rt,Ne)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),rt}(),$=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=G;!function Ae(rt){(0,F.registerVersion)("@firebase/app-compat","0.2.13",rt)}()},6881:(vt,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ks,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>ht,_addOrOverwriteComponent:()=>xt,_apps:()=>si,_clearComponents:()=>br,_components:()=>pt,_getProvider:()=>nr,_registerComponent:()=>vr,_removeServiceInstance:()=>zn,deleteApp:()=>Yt,getApp:()=>yi,getApps:()=>Mn,initializeApp:()=>zt,onLog:()=>qn,registerVersion:()=>vi,setLogLevel:()=>Zi});var l=L(5861),V=L(4859),F=L(1877),oe=L(2090);let le,Le;const G=new WeakMap,$=new WeakMap,q=new WeakMap,Ue=new WeakMap,Ae=new WeakMap;let ne={get(ae,Q,Se){if(ae instanceof IDBTransaction){if("done"===Q)return $.get(ae);if("objectStoreNames"===Q)return ae.objectStoreNames||q.get(ae);if("store"===Q)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return we(ae[Q])},set:(ae,Q,Se)=>(ae[Q]=Se,!0),has:(ae,Q)=>ae instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in ae};function $e(ae){return"function"==typeof ae?function Ie(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...Q){return ae.apply(pe(this),Q),we(G.get(this))}:function(...Q){return we(ae.apply(pe(this),Q))}:function(Q,...Se){const ct=ae.call(pe(this),Q,...Se);return q.set(ct,Q.sort?Q.sort():[Q]),we(ct)}}(ae):(ae instanceof IDBTransaction&&function rt(ae){if($.has(ae))return;const Q=new Promise((Se,ct)=>{const It=()=>{ae.removeEventListener("complete",Wt),ae.removeEventListener("error",ln),ae.removeEventListener("abort",ln)},Wt=()=>{Se(),It()},ln=()=>{ct(ae.error||new DOMException("AbortError","AbortError")),It()};ae.addEventListener("complete",Wt),ae.addEventListener("error",ln),ae.addEventListener("abort",ln)});$.set(ae,Q)}(ae),((ae,Q)=>Q.some(Se=>ae instanceof Se))(ae,function Te(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,ne):ae)}function we(ae){if(ae instanceof IDBRequest)return function nt(ae){const Q=new Promise((Se,ct)=>{const It=()=>{ae.removeEventListener("success",Wt),ae.removeEventListener("error",ln)},Wt=()=>{Se(we(ae.result)),It()},ln=()=>{ct(ae.error),It()};ae.addEventListener("success",Wt),ae.addEventListener("error",ln)});return Q.then(Se=>{Se instanceof IDBCursor&&G.set(Se,ae)}).catch(()=>{}),Ae.set(Q,ae),Q}(ae);if(Ue.has(ae))return Ue.get(ae);const Q=$e(ae);return Q!==ae&&(Ue.set(ae,Q),Ae.set(Q,ae)),Q}const pe=ae=>Ae.get(ae),ke=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],it=new Map;function bt(ae,Q){if(!(ae instanceof IDBDatabase)||Q in ae||"string"!=typeof Q)return;if(it.get(Q))return it.get(Q);const Se=Q.replace(/FromIndex$/,""),ct=Q!==Se,It=X.includes(Se);if(!(Se in(ct?IDBIndex:IDBObjectStore).prototype)||!It&&!ke.includes(Se))return;const Wt=function(){var ln=(0,l.Z)(function*(Dr,...En){const jt=this.transaction(Dr,It?"readwrite":"readonly");let Ln=jt.store;return ct&&(Ln=Ln.index(En.shift())),(yield Promise.all([Ln[Se](...En),It&&jt.done]))[0]});return function(En){return ln.apply(this,arguments)}}();return it.set(Q,Wt),Wt}!function Ne(ae){ne=ae(ne)}(ae=>({...ae,get:(Q,Se,ct)=>bt(Q,Se)||ae.get(Q,Se,ct),has:(Q,Se)=>!!bt(Q,Se)||ae.has(Q,Se)}));class qe{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Zt(ae){return"VERSION"===ae.getComponent()?.type}(Se)){const ct=Se.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(Se=>Se).join(" ")}}const dt="@firebase/app",ue=new F.Yd("@firebase/app"),Dn="[DEFAULT]",yr={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},si=new Map,pt=new Map;function ht(ae,Q){try{ae.container.addComponent(Q)}catch(Se){ue.debug(`Component ${Q.name} failed to register with FirebaseApp ${ae.name}`,Se)}}function xt(ae,Q){ae.container.addOrOverwriteComponent(Q)}function vr(ae){const Q=ae.name;if(pt.has(Q))return ue.debug(`There were multiple attempts to register component ${Q}.`),!1;pt.set(Q,ae);for(const Se of si.values())ht(Se,ae);return!0}function nr(ae,Q){const Se=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),ae.container.getProvider(Q)}function zn(ae,Q,Se=Dn){nr(ae,Q).clearInstance(Se)}function br(){pt.clear()}const wr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ht{constructor(Q,Se,ct){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const ks="9.23.0";function zt(ae,Q={}){let Se=ae;"object"!=typeof Q&&(Q={name:Q});const ct=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},Q),It=ct.name;if("string"!=typeof It||!It)throw wr.create("bad-app-name",{appName:String(It)});if(Se||(Se=(0,oe.aH)()),!Se)throw wr.create("no-options");const Wt=si.get(It);if(Wt){if((0,oe.vZ)(Se,Wt.options)&&(0,oe.vZ)(ct,Wt.config))return Wt;throw wr.create("duplicate-app",{appName:It})}const ln=new V.H0(It);for(const En of pt.values())ln.addComponent(En);const Dr=new Ht(Se,ct,ln);return si.set(It,Dr),Dr}function yi(ae=Dn){const Q=si.get(ae);if(!Q&&ae===Dn&&(0,oe.aH)())return zt();if(!Q)throw wr.create("no-app",{appName:ae});return Q}function Mn(){return Array.from(si.values())}function Yt(ae){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(ae){const Q=ae.name;si.has(Q)&&(si.delete(Q),yield Promise.all(ae.container.getProviders().map(Se=>Se.delete())),ae.isDeleted=!0)})).apply(this,arguments)}function vi(ae,Q,Se){var ct;let It=null!==(ct=yr[ae])&&void 0!==ct?ct:ae;Se&&(It+=`-${Se}`);const Wt=It.match(/\s|\//),ln=Q.match(/\s|\//);if(Wt||ln){const Dr=[`Unable to register library "${It}" with version "${Q}":`];return Wt&&Dr.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Wt&&ln&&Dr.push("and"),ln&&Dr.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void ue.warn(Dr.join(" "))}vr(new V.wA(`${It}-version`,()=>({library:It,version:Q}),"VERSION"))}function qn(ae,Q){if(null!==ae&&"function"!=typeof ae)throw wr.create("invalid-log-argument");(0,F.Am)(ae,Q)}function Zi(ae){(0,F.Ub)(ae)}const U="firebase-heartbeat-store";let B=null;function R(){return B||(B=function De(ae,Q,{blocked:Se,upgrade:ct,blocking:It,terminated:Wt}={}){const ln=indexedDB.open(ae,Q),Dr=we(ln);return ct&&ln.addEventListener("upgradeneeded",En=>{ct(we(ln.result),En.oldVersion,En.newVersion,we(ln.transaction),En)}),Se&&ln.addEventListener("blocked",En=>Se(En.oldVersion,En.newVersion,En)),Dr.then(En=>{Wt&&En.addEventListener("close",()=>Wt()),It&&En.addEventListener("versionchange",jt=>It(jt.oldVersion,jt.newVersion,jt))}).catch(()=>{}),Dr}("firebase-heartbeat-database",1,{upgrade:(ae,Q)=>{0===Q&&ae.createObjectStore(U)}}).catch(ae=>{throw wr.create("idb-open",{originalErrorMessage:ae.message})})),B}function O(){return(O=(0,l.Z)(function*(ae){try{return yield(yield R()).transaction(U).objectStore(U).get(Ze(ae))}catch(Q){if(Q instanceof oe.ZR)ue.warn(Q.message);else{const Se=wr.create("idb-get",{originalErrorMessage:Q?.message});ue.warn(Se.message)}}})).apply(this,arguments)}function Z(ae,Q){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(ae,Q){try{const ct=(yield R()).transaction(U,"readwrite");yield ct.objectStore(U).put(Q,Ze(ae)),yield ct.done}catch(Se){if(Se instanceof oe.ZR)ue.warn(Se.message);else{const ct=wr.create("idb-set",{originalErrorMessage:Se?.message});ue.warn(ct.message)}}})).apply(this,arguments)}function Ze(ae){return`${ae.name}!${ae.options.appId}`}class Qt{constructor(Q){this.container=Q,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new Tt(Se),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var Q=this;return(0,l.Z)(function*(){const ct=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=St();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==It&&!Q._heartbeatsCache.heartbeats.some(Wt=>Wt.date===It))return Q._heartbeatsCache.heartbeats.push({date:It,agent:ct}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Wt=>{const ln=new Date(Wt.date).valueOf();return Date.now()-ln<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,l.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const Se=St(),{heartbeatsToSend:ct,unsentEntries:It}=function vn(ae,Q=1024){const Se=[];let ct=ae.slice();for(const It of ae){const Wt=Se.find(ln=>ln.agent===It.agent);if(Wt){if(Wt.dates.push(It.date),Zn(Se)>Q){Wt.dates.pop();break}}else if(Se.push({agent:It.agent,dates:[It.date]}),Zn(Se)>Q){Se.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:Se,unsentEntries:ct}}(Q._heartbeatsCache.heartbeats),Wt=(0,oe.L)(JSON.stringify({version:2,heartbeats:ct}));return Q._heartbeatsCache.lastSentHeartbeatDate=Se,It.length>0?(Q._heartbeatsCache.heartbeats=It,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Wt})()}}function St(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,l.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function k(ae){return O.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var Se=this;return(0,l.Z)(function*(){var ct;if(yield Se._canUseIndexedDBPromise){const Wt=yield Se.read();return Z(Se.app,{lastSentHeartbeatDate:null!==(ct=Q.lastSentHeartbeatDate)&&void 0!==ct?ct:Wt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var Se=this;return(0,l.Z)(function*(){var ct;if(yield Se._canUseIndexedDBPromise){const Wt=yield Se.read();return Z(Se.app,{lastSentHeartbeatDate:null!==(ct=Q.lastSentHeartbeatDate)&&void 0!==ct?ct:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Q.heartbeats]})}})()}}function Zn(ae){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ae})).length}!function Co(ae){vr(new V.wA("platform-logger",Q=>new qe(Q),"PRIVATE")),vr(new V.wA("heartbeat",Q=>new Qt(Q),"PRIVATE")),vi(dt,"0.9.13",ae),vi(dt,"0.9.13","esm2017"),vi("fire-js","")}("")},4859:(vt,Ce,L)=>{L.d(Ce,{H0:()=>Te,wA:()=>F});var l=L(5861),V=L(2090);class F{constructor(G,$,q){this.name=G,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class ve{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const q=new V.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&q.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const q=this.normalizeInstanceIdentifier(G?.identifier),Ue=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ae){if(Ue)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Le(Re){return"EAGER"===Re.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ue});q.resolve(Ae)}catch{}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...$.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:q,options:$});for(const[Ae,nt]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ae)&&nt.resolve(Ue);return Ue}onInit(G,$){var q;const Ue=this.normalizeInstanceIdentifier($),Ae=null!==(q=this.onInitCallbacks.get(Ue))&&void 0!==q?q:new Set;Ae.add(G),this.onInitCallbacks.set(Ue,Ae);const nt=this.instances.get(Ue);return nt&&G(nt,Ue),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,$){const q=this.onInitCallbacks.get($);if(q)for(const Ue of q)try{Ue(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let q=this.instances.get(G);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=G,Re===oe?void 0:Re),options:$}),this.instances.set(G,q),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,q)}catch{}var Re;return q||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ve(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ce,L)=>{L.d(Ce,{Am:()=>Re,Ub:()=>Te,Yd:()=>Le,in:()=>V});const l=[];var V=(()=>{return(G=V||(V={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",V;var G})();const F={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},oe=V.INFO,ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},le=(G,$,...q)=>{if($<G.logLevel)return;const Ue=(new Date).toISOString(),Ae=ve[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Ue}]  ${G.name}:`,...q)};class Le{constructor($){this.name=$,this._logLevel=oe,this._logHandler=le,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in V))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...$),this._logHandler(this,V.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...$),this._logHandler(this,V.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,V.INFO,...$),this._logHandler(this,V.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,V.WARN,...$),this._logHandler(this,V.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...$),this._logHandler(this,V.ERROR,...$)}}function Te(G){l.forEach($=>{$.setLogLevel(G)})}function Re(G,$){for(const q of l){let Ue=null;$&&$.level&&(Ue=F[$.level]),q.userLogHandler=null===G?null:(Ae,nt,...rt)=>{const ne=rt.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");nt>=(Ue??Ae.logLevel)&&G({level:V[nt].toLowerCase(),message:ne,args:rt,type:Ae.name})}}}},9260:(vt,Ce,L)=>{L.d(Ce,{Z:()=>l.Z});var l=L(3942);l.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(vt,Ce,L)=>{L.r(Ce);var l=L(5861),V=L(3942),F=L(1389),oe=L(2090),Le=(L(6881),L(1877),L(4859));function Te(){return window}function $(){return($=(0,l.Z)(function*(R,k,O){var Z;const{BuildInfo:he}=Te();(0,F.as)(k.sessionId,"AuthEvent did not contain a session ID");const Ze=yield Ne(k.sessionId),ze={};return(0,F.at)()?ze.ibi=he.packageName:(0,F.au)()?ze.apn=he.packageName:(0,F.av)(R,"operation-not-supported-in-this-environment"),he.displayName&&(ze.appDisplayName=he.displayName),ze.sessionId=Ze,(0,F.aw)(R,O,k.type,void 0,null!==(Z=k.eventId)&&void 0!==Z?Z:void 0,ze)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(R){const{BuildInfo:k}=Te(),O={};(0,F.at)()?O.iosBundleId=k.packageName:(0,F.au)()?O.androidPackageName=k.packageName:(0,F.av)(R,"operation-not-supported-in-this-environment"),yield(0,F.ax)(R,O)})).apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(R,k,O){const{cordova:Z}=Te();let he=()=>{};try{yield new Promise((Ze,ze)=>{let yt=null;function Qt(){var Tt;Ze();const Zn=null===(Tt=Z.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof Zn&&Zn(),"function"==typeof O?.close&&O.close()}function St(){yt||(yt=window.setTimeout(()=>{ze((0,F.az)(R,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===document?.visibilityState&&St()}k.addPassiveListener(Qt),document.addEventListener("resume",St,!1),(0,F.au)()&&document.addEventListener("visibilitychange",vn,!1),he=()=>{k.removePassiveListener(Qt),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",vn,!1),yt&&window.clearTimeout(yt)}})}finally{he()}})).apply(this,arguments)}function Ne(R){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(R){const k=$e(R),O=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(O)).map(he=>he.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(R){if((0,F.as)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const k=new ArrayBuffer(R.length),O=new Uint8Array(k);for(let Z=0;Z<R.length;Z++)O[Z]=R.charCodeAt(Z);return O}class pe extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(k)),super.onEvent(k)}initialized(){var k=this;return(0,l.Z)(function*(){yield k.initPromise})()}}function ke(R){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(R){const k=yield qe()._get(Zt(R));return k&&(yield qe()._remove(Zt(R))),k})).apply(this,arguments)}function bt(){const R=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<20;O++){const Z=Math.floor(Math.random()*k.length);R.push(k.charAt(Z))}return R.join("")}function qe(){return(0,F.aC)(F.b)}function Zt(R){return(0,F.aD)("authEvent",R.config.apiKey,R.name)}function ue(R){if(!R?.includes("?"))return{};const[k,...O]=R.split("?");return(0,oe.zd)(O.join("?"))}const Ve=class be{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(k){var O=this;return(0,l.Z)(function*(){const Z=k._key();let he=O.eventManagers.get(Z);return he||(he=new pe(k),O.eventManagers.set(Z,he),O.attachCallbackListeners(k,he)),he})()}_openPopup(k){(0,F.av)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,O,Z,he){var Ze=this;return(0,l.Z)(function*(){!function ne(R){var k,O,Z,he,Ze,ze,yt,Qt,St,vn;const Tt=Te();(0,F.aA)("function"==typeof(null===(k=Tt?.universalLinks)||void 0===k?void 0:k.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(O=Tt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(Ze=null===(he=null===(Z=Tt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===he?void 0:he.browsertab)||void 0===Ze?void 0:Ze.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Qt=null===(yt=null===(ze=Tt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(vn=null===(St=Tt?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===vn?void 0:vn.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const ze=yield Ze._initialize(k);yield ze.initialized(),ze.resetRedirect(),(0,F.aG)(),yield Ze._originValidation(k);const yt=function De(R,k,O=null){return{type:k,eventId:O,urlResponse:null,sessionId:bt(),postBody:null,tenantId:R.tenantId,error:(0,F.az)(R,"no-auth-event")}}(k,Z,he);yield function Be(R,k){return qe()._set(Zt(R),k)}(k,yt);const Qt=yield function G(R,k,O){return $.apply(this,arguments)}(k,yt,O),St=yield function Ae(R){const{cordova:k}=Te();return new Promise(O=>{k.plugins.browsertab.isAvailable(Z=>{let he=null;Z?k.plugins.browsertab.openUrl(R):he=k.InAppBrowser.open(R,(0,F.ay)()?"_blank":"_system","location=yes"),O(he)})})}(Qt);return function nt(R,k,O){return rt.apply(this,arguments)}(k,ze,St)})()}_isIframeWebStorageSupported(k,O){throw new Error("Method not implemented.")}_originValidation(k){const O=k._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function q(R){return Ue.apply(this,arguments)}(k)),this.originValidationPromises[O]}attachCallbackListeners(k,O){const{universalLinks:Z,handleOpenURL:he,BuildInfo:Ze}=Te(),ze=setTimeout((0,l.Z)(function*(){yield ke(k),O.onEvent(Pe())}),500),yt=function(){var vn=(0,l.Z)(function*(Tt){clearTimeout(ze);const Zn=yield ke(k);let Co=null;Zn&&Tt?.url&&(Co=function it(R,k){var O,Z;const he=function ce(R){const k=ue(R),O=k.link?decodeURIComponent(k.link):void 0,Z=ue(O).link,he=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return ue(he).link||he||Z||O||R}(k);if(he.includes("/__/auth/callback")){const Ze=ue(he),ze=Ze.firebaseError?function dt(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(Ze.firebaseError)):null,yt=null===(Z=null===(O=ze?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Z?void 0:Z[1],Qt=yt?(0,F.az)(yt):null;return Qt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:he,postBody:null}}return null}(Zn,Tt.url)),O.onEvent(Co||Pe())});return function(Zn){return vn.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,yt);const Qt=he,St=`${Ze.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var vn=(0,l.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(St)&&yt({url:Tt}),"function"==typeof Qt)try{Qt(Tt)}catch(Zn){console.error(Zn)}});return function(Tt){return vn.apply(this,arguments)}}()}};function Pe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}function Jt(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function Gt(R=(0,oe.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()&&"capacitor:"!==Jt()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const R=self.localStorage,k=F.aL();if(R)return R.setItem(k,"1"),R.removeItem(k),!function tr(R=(0,oe.z$)()){return function Nn(){return(0,oe.w1)()&&11===document?.documentMode}()||function ri(R=(0,oe.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,oe.hl)()}catch{return qi()&&(0,oe.hl)()}return!1}function qi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cs(){return(function wt(){return"http:"===Jt()||"https:"===Jt()}()||(0,oe.ru)()||Gt())&&!function Fn(){return(0,oe.b$)()||(0,oe.UG)()}()&&_i()&&!qi()}function ki(){return Gt()&&typeof document<"u"}function On(){return(On=(0,l.Z)(function*(){return!!ki()&&new Promise(R=>{const k=setTimeout(()=>{R(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),R(!0)})})})).apply(this,arguments)}const st={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=F.aA,ds="persistence";function yr(R){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(R){yield R._initializationPromise;const k=ht(),O=F.aD(ds,R.config.apiKey,R.name);k&&k.setItem(O,R._getPersistence())})).apply(this,arguments)}function ht(){var R;try{return(null===(R=function ii(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const xt=F.aA;class vr{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(Ve),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(k){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,O,Z,he){var Ze=this;return(0,l.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openPopup(k,O,Z,he)})()}_openRedirect(k,O,Z,he){var Ze=this;return(0,l.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openRedirect(k,O,Z,he)})()}_isIframeWebStorageSupported(k,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,O)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return ki()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,l.Z)(function*(){if(k.underlyingResolver)return;const O=yield function oo(){return On.apply(this,arguments)}();k.underlyingResolver=O?k.cordovaResolver:k.browserResolver})()}}function nr(R){return R.unwrap()}function br(R){return wr(R)}function wr(R){const{_tokenResponse:k}=R instanceof oe.ZR?R.customData:R;if(!k)return null;if(!(R instanceof oe.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return F.P.credentialFromResult(R);const O=k.providerId;if(!O||O===F.p.PASSWORD)return null;let Z;switch(O){case F.p.GOOGLE:Z=F.V;break;case F.p.FACEBOOK:Z=F.U;break;case F.p.GITHUB:Z=F.W;break;case F.p.TWITTER:Z=F.Z;break;default:const{oauthIdToken:he,oauthAccessToken:Ze,oauthTokenSecret:ze,pendingToken:yt,nonce:Qt}=k;return Ze||ze||he||yt?yt?O.startsWith("saml.")?F.aO._create(O,yt):F.L._fromParams({providerId:O,signInMethod:O,pendingToken:yt,idToken:he,accessToken:Ze}):new F.X(O).credential({idToken:he,accessToken:Ze,rawNonce:Qt}):null}return R instanceof oe.ZR?Z.credentialFromError(R):Z.credentialFromResult(R)}function Ht(R,k){return k.catch(O=>{throw O instanceof oe.ZR&&function kr(R,k){var O;const Z=null===(O=k.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new yi(R,F.aq(R,k));else if(Z){const he=wr(k),Ze=k;he&&(Ze.credential=he,Ze.tenantId=Z.tenantId||void 0,Ze.email=Z.email||void 0,Ze.phoneNumber=Z.phoneNumber||void 0)}}(R,O),O}).then(O=>{const he=O.user;return{operationType:O.operationType,credential:br(O),additionalUserInfo:F.ao(O),user:Mn.getOrCreate(he)}})}function ks(R,k){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(R,k){const O=yield k;return{verificationId:O.verificationId,confirm:Z=>Ht(R,O.confirm(Z))}})).apply(this,arguments)}class yi{constructor(k,O){this.resolver=O,this.auth=function zn(R){return R.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Ht(nr(this.auth),this.resolver.resolveSignIn(k))}}class Mn{constructor(k){this._delegate=k,this.multiFactor=F.ar(k)}static getOrCreate(k){return Mn.USER_MAP.has(k)||Mn.USER_MAP.set(k,new Mn(k)),Mn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var O=this;return(0,l.Z)(function*(){return Ht(O.auth,F.a0(O._delegate,k))})()}linkWithPhoneNumber(k,O){var Z=this;return(0,l.Z)(function*(){return ks(Z.auth,F.l(Z._delegate,k,O))})()}linkWithPopup(k){var O=this;return(0,l.Z)(function*(){return Ht(O.auth,F.d(O._delegate,k,vr))})()}linkWithRedirect(k){var O=this;return(0,l.Z)(function*(){return yield yr(F.aH(O.auth)),F.g(O._delegate,k,vr)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var O=this;return(0,l.Z)(function*(){return Ht(O.auth,F.a1(O._delegate,k))})()}reauthenticateWithPhoneNumber(k,O){return ks(this.auth,F.r(this._delegate,k,O))}reauthenticateWithPopup(k){return Ht(this.auth,F.e(this._delegate,k,vr))}reauthenticateWithRedirect(k){var O=this;return(0,l.Z)(function*(){return yield yr(F.aH(O.auth)),F.h(O._delegate,k,vr)})()}sendEmailVerification(k){return F.ae(this._delegate,k)}unlink(k){var O=this;return(0,l.Z)(function*(){return yield F.an(O._delegate,k),O})()}updateEmail(k){return F.aj(this._delegate,k)}updatePassword(k){return F.ak(this._delegate,k)}updatePhoneNumber(k){return F.u(this._delegate,k)}updateProfile(k){return F.ai(this._delegate,k)}verifyBeforeUpdateEmail(k,O){return F.af(this._delegate,k,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mn.USER_MAP=new WeakMap;const Yt=F.aA;let Wn=(()=>{class R{constructor(O,Z){if(this.app=O,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:he}=O.options;Yt(he,"invalid-api-key",{appName:O.name}),Yt(he,"invalid-api-key",{appName:O.name});const Ze=typeof window<"u"?vr:void 0;this._delegate=Z.initialize({options:{persistence:qn(he,O.name),popupRedirectResolver:Ze}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Z){F.I(this._delegate,O,Z)}applyActionCode(O){return F.a5(this._delegate,O)}checkActionCode(O){return F.a6(this._delegate,O)}confirmPasswordReset(O,Z){return F.a4(this._delegate,O,Z)}createUserWithEmailAndPassword(O,Z){var he=this;return(0,l.Z)(function*(){return Ht(he._delegate,F.a8(he._delegate,O,Z))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return F.ad(this._delegate,O)}isSignInWithEmailLink(O){return F.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){Yt(cs(),O._delegate,"operation-not-supported-in-this-environment");const Z=yield F.j(O._delegate,vr);return Z?Ht(O._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function at(R,k){(0,F.aH)(R)._logFramework(k)}(this._delegate,O)}onAuthStateChanged(O,Z,he){const{next:Ze,error:ze,complete:yt}=vi(O,Z,he);return this._delegate.onAuthStateChanged(Ze,ze,yt)}onIdTokenChanged(O,Z,he){const{next:Ze,error:ze,complete:yt}=vi(O,Z,he);return this._delegate.onIdTokenChanged(Ze,ze,yt)}sendSignInLinkToEmail(O,Z){return F.aa(this._delegate,O,Z)}sendPasswordResetEmail(O,Z){return F.a3(this._delegate,O,Z||void 0)}setPersistence(O){var Z=this;return(0,l.Z)(function*(){let he;switch(function Dn(R,k){Pi(Object.values(st).includes(k),R,"invalid-persistence-type"),(0,oe.b$)()?Pi(k!==st.SESSION,R,"unsupported-persistence-type"):(0,oe.UG)()?Pi(k===st.NONE,R,"unsupported-persistence-type"):qi()?Pi(k===st.NONE||k===st.LOCAL&&(0,oe.hl)(),R,"unsupported-persistence-type"):Pi(k===st.NONE||_i(),R,"unsupported-persistence-type")}(Z._delegate,O),O){case st.SESSION:he=F.a;break;case st.LOCAL:he=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case st.NONE:he=F.N;break;default:return F.av("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(he)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Ht(this._delegate,F._(this._delegate))}signInWithCredential(O){return Ht(this._delegate,F.$(this._delegate,O))}signInWithCustomToken(O){return Ht(this._delegate,F.a2(this._delegate,O))}signInWithEmailAndPassword(O,Z){return Ht(this._delegate,F.a9(this._delegate,O,Z))}signInWithEmailLink(O,Z){return Ht(this._delegate,F.ac(this._delegate,O,Z))}signInWithPhoneNumber(O,Z){return ks(this._delegate,F.s(this._delegate,O,Z))}signInWithPopup(O){var Z=this;return(0,l.Z)(function*(){return Yt(cs(),Z._delegate,"operation-not-supported-in-this-environment"),Ht(Z._delegate,F.c(Z._delegate,O,vr))})()}signInWithRedirect(O){var Z=this;return(0,l.Z)(function*(){return Yt(cs(),Z._delegate,"operation-not-supported-in-this-environment"),yield yr(Z._delegate),F.f(Z._delegate,O,vr)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return F.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=st,R})();function vi(R,k,O){let Z=R;"function"!=typeof R&&({next:Z,error:k,complete:O}=R);const he=Z;return{next:ze=>he(ze&&Mn.getOrCreate(ze)),error:k,complete:O}}function qn(R,k){const O=function pt(R,k){const O=ht();if(!O)return[];const Z=F.aD(ds,R,k);switch(O.getItem(Z)){case st.NONE:return[F.N];case st.LOCAL:return[F.i,F.a];case st.SESSION:return[F.a];default:return[]}}(R,k);if(typeof self<"u"&&!O.includes(F.i)&&O.push(F.i),typeof window<"u")for(const Z of[F.b,F.a])O.includes(Z)||O.push(Z);return O.includes(F.N)||O.push(F.N),O}class Zi{constructor(){this.providerId="phone",this._delegate=new F.P(nr(V.Z.auth()))}static credential(k,O){return F.P.credential(k,O)}verifyPhoneNumber(k,O){return this._delegate.verifyPhoneNumber(k,O)}unwrap(){return this._delegate}}Zi.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Zi.PROVIDER_ID=F.P.PROVIDER_ID;const Pr=F.aA;class bi{constructor(k,O,Z=V.Z.app()){var he;Pr(null===(he=Z.options)||void 0===he?void 0:he.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new F.R(k,O,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(R){R.INTERNAL.registerComponent(new Le.wA("auth-compat",k=>{const O=k.getProvider("app-compat").getImmediate(),Z=k.getProvider("auth");return new Wn(O,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:Zi,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:bi,TwitterAuthProvider:F.Z,Auth:Wn,AuthCredential:F.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},5861:(vt,Ce,L)=>{function l(F,oe,ve,le,Le,Te,Re){try{var G=F[Te](Re),$=G.value}catch(q){return void ve(q)}G.done?oe($):Promise.resolve($).then(le,Le)}function V(F){return function(){var oe=this,ve=arguments;return new Promise(function(le,Le){var Te=F.apply(oe,ve);function Re($){l(Te,le,Le,Re,G,"next",$)}function G($){l(Te,le,Le,Re,G,"throw",$)}Re(void 0)})}}L.d(Ce,{Z:()=>V})}},vt=>{vt(vt.s=1830)}]);